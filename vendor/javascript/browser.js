var Web5=(()=>{var gBe=Object.create;var S8=Object.defineProperty;var yBe=Object.getOwnPropertyDescriptor;var mBe=Object.getOwnPropertyNames;var IBe=Object.getPrototypeOf,wBe=Object.prototype.hasOwnProperty;var sY=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var ii=(t,e)=>()=>(t&&(e=t(t=0)),e);var X=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Tt=(t,e)=>{for(var r in e)S8(t,r,{get:e[r],enumerable:!0})},aY=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of mBe(e))!wBe.call(t,n)&&n!==r&&S8(t,n,{get:()=>e[n],enumerable:!(i=yBe(e,n))||i.enumerable});return t};var Rt=(t,e,r)=>(r=t!=null?gBe(IBe(t)):{},aY(e||!t||!t.__esModule?S8(r,"default",{value:t,enumerable:!0}):r,t)),_8=t=>aY(S8({},"__esModule",{value:!0}),t);var sT=X(Q8=>{"use strict";b();Q8.byteLength=bBe;Q8.toByteArray=BBe;Q8.fromByteArray=SBe;var Iu=[],Gc=[],vBe=typeof Uint8Array<"u"?Uint8Array:Array,oT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Kg=0,cY=oT.length;Kg<cY;++Kg)Iu[Kg]=oT[Kg],Gc[oT.charCodeAt(Kg)]=Kg;var Kg,cY;Gc[45]=62;Gc[95]=63;function fY(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var i=r===e?0:4-r%4;return[r,i]}function bBe(t){var e=fY(t),r=e[0],i=e[1];return(r+i)*3/4-i}function EBe(t,e,r){return(e+r)*3/4-r}function BBe(t){var e,r=fY(t),i=r[0],n=r[1],o=new vBe(EBe(t,i,n)),s=0,f=n>0?i-4:i,d;for(d=0;d<f;d+=4)e=Gc[t.charCodeAt(d)]<<18|Gc[t.charCodeAt(d+1)]<<12|Gc[t.charCodeAt(d+2)]<<6|Gc[t.charCodeAt(d+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return n===2&&(e=Gc[t.charCodeAt(d)]<<2|Gc[t.charCodeAt(d+1)]>>4,o[s++]=e&255),n===1&&(e=Gc[t.charCodeAt(d)]<<10|Gc[t.charCodeAt(d+1)]<<4|Gc[t.charCodeAt(d+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function CBe(t){return Iu[t>>18&63]+Iu[t>>12&63]+Iu[t>>6&63]+Iu[t&63]}function xBe(t,e,r){for(var i,n=[],o=e;o<r;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),n.push(CBe(i));return n.join("")}function SBe(t){for(var e,r=t.length,i=r%3,n=[],o=16383,s=0,f=r-i;s<f;s+=o)n.push(xBe(t,s,s+o>f?f:s+o));return i===1?(e=t[r-1],n.push(Iu[e>>2]+Iu[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],n.push(Iu[e>>10]+Iu[e>>4&63]+Iu[e<<2&63]+"=")),n.join("")}});var cT=X(aT=>{b();aT.read=function(t,e,r,i,n){var o,s,f=n*8-i-1,d=(1<<f)-1,p=d>>1,u=-7,y=r?n-1:0,B=r?-1:1,S=t[e+y];for(y+=B,o=S&(1<<-u)-1,S>>=-u,u+=f;u>0;o=o*256+t[e+y],y+=B,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=s*256+t[e+y],y+=B,u-=8);if(o===0)o=1-p;else{if(o===d)return s?NaN:(S?-1:1)*(1/0);s=s+Math.pow(2,i),o=o-p}return(S?-1:1)*s*Math.pow(2,o-i)};aT.write=function(t,e,r,i,n,o){var s,f,d,p=o*8-n-1,u=(1<<p)-1,y=u>>1,B=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=i?0:o-1,C=i?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-s))<1&&(s--,d*=2),s+y>=1?e+=B/d:e+=B*Math.pow(2,1-y),e*d>=2&&(s++,d/=2),s+y>=u?(f=0,s=u):s+y>=1?(f=(e*d-1)*Math.pow(2,n),s=s+y):(f=e*Math.pow(2,y-1)*Math.pow(2,n),s=0));n>=8;t[r+S]=f&255,S+=C,f/=256,n-=8);for(s=s<<n|f,p+=n;p>0;t[r+S]=s&255,S+=C,s/=256,p-=8);t[r+S-C]|=x*128}});var bY=X(ew=>{"use strict";b();var fT=sT(),XI=cT(),dY=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ew.Buffer=ze;ew.SlowBuffer=TBe;ew.INSPECT_MAX_BYTES=50;var D8=2147483647;ew.kMaxLength=D8;ze.TYPED_ARRAY_SUPPORT=_Be();!ze.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function _Be(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(ze.prototype,"parent",{enumerable:!0,get:function(){if(ze.isBuffer(this))return this.buffer}});Object.defineProperty(ze.prototype,"offset",{enumerable:!0,get:function(){if(ze.isBuffer(this))return this.byteOffset}});function rl(t){if(t>D8)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,ze.prototype),e}function ze(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return lT(t)}return lY(t,e,r)}ze.poolSize=8192;function lY(t,e,r){if(typeof t=="string")return DBe(t,e);if(ArrayBuffer.isView(t))return MBe(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(wu(t,ArrayBuffer)||t&&wu(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(wu(t,SharedArrayBuffer)||t&&wu(t.buffer,SharedArrayBuffer)))return uT(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return ze.from(i,e,r);var n=kBe(t);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return ze.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}ze.from=function(t,e,r){return lY(t,e,r)};Object.setPrototypeOf(ze.prototype,Uint8Array.prototype);Object.setPrototypeOf(ze,Uint8Array);function pY(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function QBe(t,e,r){return pY(t),t<=0?rl(t):e!==void 0?typeof r=="string"?rl(t).fill(e,r):rl(t).fill(e):rl(t)}ze.alloc=function(t,e,r){return QBe(t,e,r)};function lT(t){return pY(t),rl(t<0?0:pT(t)|0)}ze.allocUnsafe=function(t){return lT(t)};ze.allocUnsafeSlow=function(t){return lT(t)};function DBe(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ze.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=AY(t,e)|0,i=rl(r),n=i.write(t,e);return n!==r&&(i=i.slice(0,n)),i}function dT(t){for(var e=t.length<0?0:pT(t.length)|0,r=rl(e),i=0;i<e;i+=1)r[i]=t[i]&255;return r}function MBe(t){if(wu(t,Uint8Array)){var e=new Uint8Array(t);return uT(e.buffer,e.byteOffset,e.byteLength)}return dT(t)}function uT(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&r===void 0?i=new Uint8Array(t):r===void 0?i=new Uint8Array(t,e):i=new Uint8Array(t,e,r),Object.setPrototypeOf(i,ze.prototype),i}function kBe(t){if(ze.isBuffer(t)){var e=pT(t.length)|0,r=rl(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||AT(t.length)?rl(0):dT(t);if(t.type==="Buffer"&&Array.isArray(t.data))return dT(t.data)}function pT(t){if(t>=D8)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+D8.toString(16)+" bytes");return t|0}function TBe(t){return+t!=t&&(t=0),ze.alloc(+t)}ze.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ze.prototype};ze.compare=function(e,r){if(wu(e,Uint8Array)&&(e=ze.from(e,e.offset,e.byteLength)),wu(r,Uint8Array)&&(r=ze.from(r,r.offset,r.byteLength)),!ze.isBuffer(e)||!ze.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var i=e.length,n=r.length,o=0,s=Math.min(i,n);o<s;++o)if(e[o]!==r[o]){i=e[o],n=r[o];break}return i<n?-1:n<i?1:0};ze.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ze.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ze.alloc(0);var i;if(r===void 0)for(r=0,i=0;i<e.length;++i)r+=e[i].length;var n=ze.allocUnsafe(r),o=0;for(i=0;i<e.length;++i){var s=e[i];if(wu(s,Uint8Array))o+s.length>n.length?ze.from(s).copy(n,o):Uint8Array.prototype.set.call(n,s,o);else if(ze.isBuffer(s))s.copy(n,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return n};function AY(t,e){if(ze.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||wu(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return hT(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return vY(t).length;default:if(n)return i?-1:hT(t).length;e=(""+e).toLowerCase(),n=!0}}ze.byteLength=AY;function RBe(t,e,r){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return GBe(this,e,r);case"utf8":case"utf-8":return yY(this,e,r);case"ascii":return LBe(this,e,r);case"latin1":case"binary":return HBe(this,e,r);case"base64":return KBe(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jBe(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}ze.prototype._isBuffer=!0;function qg(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}ze.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)qg(this,r,r+1);return this};ze.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)qg(this,r,r+3),qg(this,r+1,r+2);return this};ze.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)qg(this,r,r+7),qg(this,r+1,r+6),qg(this,r+2,r+5),qg(this,r+3,r+4);return this};ze.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?yY(this,0,e):RBe.apply(this,arguments)};ze.prototype.toLocaleString=ze.prototype.toString;ze.prototype.equals=function(e){if(!ze.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ze.compare(this,e)===0};ze.prototype.inspect=function(){var e="",r=ew.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};dY&&(ze.prototype[dY]=ze.prototype.inspect);ze.prototype.compare=function(e,r,i,n,o){if(wu(e,Uint8Array)&&(e=ze.from(e,e.offset,e.byteLength)),!ze.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),o===void 0&&(o=this.length),r<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&r>=i)return 0;if(n>=o)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,n>>>=0,o>>>=0,this===e)return 0;for(var s=o-n,f=i-r,d=Math.min(s,f),p=this.slice(n,o),u=e.slice(r,i),y=0;y<d;++y)if(p[y]!==u[y]){s=p[y],f=u[y];break}return s<f?-1:f<s?1:0};function gY(t,e,r,i,n){if(t.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,AT(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0)if(n)r=0;else return-1;if(typeof e=="string"&&(e=ze.from(e,i)),ze.isBuffer(e))return e.length===0?-1:uY(t,e,r,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):uY(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function uY(t,e,r,i,n){var o=1,s=t.length,f=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,f/=2,r/=2}function d(S,C){return o===1?S[C]:S.readUInt16BE(C*o)}var p;if(n){var u=-1;for(p=r;p<s;p++)if(d(t,p)===d(e,u===-1?0:p-u)){if(u===-1&&(u=p),p-u+1===f)return u*o}else u!==-1&&(p-=p-u),u=-1}else for(r+f>s&&(r=s-f),p=r;p>=0;p--){for(var y=!0,B=0;B<f;B++)if(d(t,p+B)!==d(e,B)){y=!1;break}if(y)return p}return-1}ze.prototype.includes=function(e,r,i){return this.indexOf(e,r,i)!==-1};ze.prototype.indexOf=function(e,r,i){return gY(this,e,r,i,!0)};ze.prototype.lastIndexOf=function(e,r,i){return gY(this,e,r,i,!1)};function UBe(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;var o=e.length;i>o/2&&(i=o/2);for(var s=0;s<i;++s){var f=parseInt(e.substr(s*2,2),16);if(AT(f))return s;t[r+s]=f}return s}function FBe(t,e,r,i){return M8(hT(e,t.length-r),t,r,i)}function NBe(t,e,r,i){return M8(JBe(e),t,r,i)}function PBe(t,e,r,i){return M8(vY(e),t,r,i)}function OBe(t,e,r,i){return M8(VBe(e,t.length-r),t,r,i)}ze.prototype.write=function(e,r,i,n){if(r===void 0)n="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")n=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-r;if((i===void 0||i>o)&&(i=o),e.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return UBe(this,e,r,i);case"utf8":case"utf-8":return FBe(this,e,r,i);case"ascii":case"latin1":case"binary":return NBe(this,e,r,i);case"base64":return PBe(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return OBe(this,e,r,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}};ze.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function KBe(t,e,r){return e===0&&r===t.length?fT.fromByteArray(t):fT.fromByteArray(t.slice(e,r))}function yY(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o=t[n],s=null,f=o>239?4:o>223?3:o>191?2:1;if(n+f<=r){var d,p,u,y;switch(f){case 1:o<128&&(s=o);break;case 2:d=t[n+1],(d&192)===128&&(y=(o&31)<<6|d&63,y>127&&(s=y));break;case 3:d=t[n+1],p=t[n+2],(d&192)===128&&(p&192)===128&&(y=(o&15)<<12|(d&63)<<6|p&63,y>2047&&(y<55296||y>57343)&&(s=y));break;case 4:d=t[n+1],p=t[n+2],u=t[n+3],(d&192)===128&&(p&192)===128&&(u&192)===128&&(y=(o&15)<<18|(d&63)<<12|(p&63)<<6|u&63,y>65535&&y<1114112&&(s=y))}}s===null?(s=65533,f=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|s&1023),i.push(s),n+=f}return qBe(i)}var hY=4096;function qBe(t){var e=t.length;if(e<=hY)return String.fromCharCode.apply(String,t);for(var r="",i=0;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=hY));return r}function LBe(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]&127);return i}function HBe(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function GBe(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=e;o<r;++o)n+=WBe[t[o]];return n}function jBe(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length-1;o+=2)n+=String.fromCharCode(i[o]+i[o+1]*256);return n}ze.prototype.slice=function(e,r){var i=this.length;e=~~e,r=r===void 0?i:~~r,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<e&&(r=e);var n=this.subarray(e,r);return Object.setPrototypeOf(n,ze.prototype),n};function mo(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}ze.prototype.readUintLE=ze.prototype.readUIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||mo(e,r,this.length);for(var n=this[e],o=1,s=0;++s<r&&(o*=256);)n+=this[e+s]*o;return n};ze.prototype.readUintBE=ze.prototype.readUIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||mo(e,r,this.length);for(var n=this[e+--r],o=1;r>0&&(o*=256);)n+=this[e+--r]*o;return n};ze.prototype.readUint8=ze.prototype.readUInt8=function(e,r){return e=e>>>0,r||mo(e,1,this.length),this[e]};ze.prototype.readUint16LE=ze.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||mo(e,2,this.length),this[e]|this[e+1]<<8};ze.prototype.readUint16BE=ze.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||mo(e,2,this.length),this[e]<<8|this[e+1]};ze.prototype.readUint32LE=ze.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||mo(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ze.prototype.readUint32BE=ze.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||mo(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ze.prototype.readIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||mo(e,r,this.length);for(var n=this[e],o=1,s=0;++s<r&&(o*=256);)n+=this[e+s]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*r)),n};ze.prototype.readIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||mo(e,r,this.length);for(var n=r,o=1,s=this[e+--n];n>0&&(o*=256);)s+=this[e+--n]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};ze.prototype.readInt8=function(e,r){return e=e>>>0,r||mo(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ze.prototype.readInt16LE=function(e,r){e=e>>>0,r||mo(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};ze.prototype.readInt16BE=function(e,r){e=e>>>0,r||mo(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};ze.prototype.readInt32LE=function(e,r){return e=e>>>0,r||mo(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ze.prototype.readInt32BE=function(e,r){return e=e>>>0,r||mo(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ze.prototype.readFloatLE=function(e,r){return e=e>>>0,r||mo(e,4,this.length),XI.read(this,e,!0,23,4)};ze.prototype.readFloatBE=function(e,r){return e=e>>>0,r||mo(e,4,this.length),XI.read(this,e,!1,23,4)};ze.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||mo(e,8,this.length),XI.read(this,e,!0,52,8)};ze.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||mo(e,8,this.length),XI.read(this,e,!1,52,8)};function Ia(t,e,r,i,n,o){if(!ze.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}ze.prototype.writeUintLE=ze.prototype.writeUIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){var o=Math.pow(2,8*i)-1;Ia(this,e,r,i,o,0)}var s=1,f=0;for(this[r]=e&255;++f<i&&(s*=256);)this[r+f]=e/s&255;return r+i};ze.prototype.writeUintBE=ze.prototype.writeUIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){var o=Math.pow(2,8*i)-1;Ia(this,e,r,i,o,0)}var s=i-1,f=1;for(this[r+s]=e&255;--s>=0&&(f*=256);)this[r+s]=e/f&255;return r+i};ze.prototype.writeUint8=ze.prototype.writeUInt8=function(e,r,i){return e=+e,r=r>>>0,i||Ia(this,e,r,1,255,0),this[r]=e&255,r+1};ze.prototype.writeUint16LE=ze.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||Ia(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};ze.prototype.writeUint16BE=ze.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||Ia(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};ze.prototype.writeUint32LE=ze.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||Ia(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};ze.prototype.writeUint32BE=ze.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||Ia(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};ze.prototype.writeIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){var o=Math.pow(2,8*i-1);Ia(this,e,r,i,o-1,-o)}var s=0,f=1,d=0;for(this[r]=e&255;++s<i&&(f*=256);)e<0&&d===0&&this[r+s-1]!==0&&(d=1),this[r+s]=(e/f>>0)-d&255;return r+i};ze.prototype.writeIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){var o=Math.pow(2,8*i-1);Ia(this,e,r,i,o-1,-o)}var s=i-1,f=1,d=0;for(this[r+s]=e&255;--s>=0&&(f*=256);)e<0&&d===0&&this[r+s+1]!==0&&(d=1),this[r+s]=(e/f>>0)-d&255;return r+i};ze.prototype.writeInt8=function(e,r,i){return e=+e,r=r>>>0,i||Ia(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};ze.prototype.writeInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||Ia(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};ze.prototype.writeInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||Ia(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};ze.prototype.writeInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||Ia(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};ze.prototype.writeInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||Ia(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function mY(t,e,r,i,n,o){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function IY(t,e,r,i,n){return e=+e,r=r>>>0,n||mY(t,e,r,4,34028234663852886e22,-34028234663852886e22),XI.write(t,e,r,i,23,4),r+4}ze.prototype.writeFloatLE=function(e,r,i){return IY(this,e,r,!0,i)};ze.prototype.writeFloatBE=function(e,r,i){return IY(this,e,r,!1,i)};function wY(t,e,r,i,n){return e=+e,r=r>>>0,n||mY(t,e,r,8,17976931348623157e292,-17976931348623157e292),XI.write(t,e,r,i,52,8),r+8}ze.prototype.writeDoubleLE=function(e,r,i){return wY(this,e,r,!0,i)};ze.prototype.writeDoubleBE=function(e,r,i){return wY(this,e,r,!1,i)};ze.prototype.copy=function(e,r,i,n){if(!ze.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),r>=e.length&&(r=e.length),r||(r=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-r<n-i&&(n=e.length-r+i);var o=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),r),o};ze.prototype.fill=function(e,r,i,n){if(typeof e=="string"){if(typeof r=="string"?(n=r,r=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!ze.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var o=e.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var s;if(typeof e=="number")for(s=r;s<i;++s)this[s]=e;else{var f=ze.isBuffer(e)?e:ze.from(e,n),d=f.length;if(d===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-r;++s)this[s+r]=f[s%d]}return this};var zBe=/[^+/0-9A-Za-z-_]/g;function YBe(t){if(t=t.split("=")[0],t=t.trim().replace(zBe,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function hT(t,e){e=e||1/0;for(var r,i=t.length,n=null,o=[],s=0;s<i;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function JBe(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function VBe(t,e){for(var r,i,n,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),i=r>>8,n=r%256,o.push(n),o.push(i);return o}function vY(t){return fT.toByteArray(YBe(t))}function M8(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function wu(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function AT(t){return t!==t}var WBe=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var i=r*16,n=0;n<16;++n)e[i+n]=t[r]+t[n];return e}()});var ol=X((Qdt,xY)=>{b();var Nn=xY.exports={},vu,bu;function gT(){throw new Error("setTimeout has not been defined")}function yT(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?vu=setTimeout:vu=gT}catch{vu=gT}try{typeof clearTimeout=="function"?bu=clearTimeout:bu=yT}catch{bu=yT}})();function EY(t){if(vu===setTimeout)return setTimeout(t,0);if((vu===gT||!vu)&&setTimeout)return vu=setTimeout,setTimeout(t,0);try{return vu(t,0)}catch{try{return vu.call(null,t,0)}catch{return vu.call(this,t,0)}}}function ZBe(t){if(bu===clearTimeout)return clearTimeout(t);if((bu===yT||!bu)&&clearTimeout)return bu=clearTimeout,clearTimeout(t);try{return bu(t)}catch{try{return bu.call(null,t)}catch{return bu.call(this,t)}}}var il=[],tw=!1,Lg,k8=-1;function $Be(){!tw||!Lg||(tw=!1,Lg.length?il=Lg.concat(il):k8=-1,il.length&&BY())}function BY(){if(!tw){var t=EY($Be);tw=!0;for(var e=il.length;e;){for(Lg=il,il=[];++k8<e;)Lg&&Lg[k8].run();k8=-1,e=il.length}Lg=null,tw=!1,ZBe(t)}}Nn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];il.push(new CY(t,e)),il.length===1&&!tw&&EY(BY)};function CY(t,e){this.fun=t,this.array=e}CY.prototype.run=function(){this.fun.apply(null,this.array)};Nn.title="browser";Nn.browser=!0;Nn.env={};Nn.argv=[];Nn.version="";Nn.versions={};function nl(){}Nn.on=nl;Nn.addListener=nl;Nn.once=nl;Nn.off=nl;Nn.removeListener=nl;Nn.removeAllListeners=nl;Nn.emit=nl;Nn.prependListener=nl;Nn.prependOnceListener=nl;Nn.listeners=function(t){return[]};Nn.binding=function(t){throw new Error("process.binding is not supported")};Nn.cwd=function(){return"/"};Nn.chdir=function(t){throw new Error("process.chdir is not supported")};Nn.umask=function(){return 0}});var N,U,Mdt,b=ii(()=>{N=Rt(bY()),U=Rt(ol()),Mdt=function(t){function e(){var i=this||self;return delete t.prototype.__magic__,i}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object)});var qY=X(KY=>{"use strict";b();KY.supports=function(...e){let r=e.reduce((i,n)=>Object.assign(i,n),{});return Object.assign(r,{snapshots:r.snapshots||!1,permanence:r.permanence||!1,seek:r.seek||!1,clear:r.clear||!1,getMany:r.getMany||!1,keyIterator:r.keyIterator||!1,valueIterator:r.valueIterator||!1,iteratorNextv:r.iteratorNextv||!1,iteratorAll:r.iteratorAll||!1,status:r.status||!1,createIfMissing:r.createIfMissing||!1,errorIfExists:r.errorIfExists||!1,deferredOpen:r.deferredOpen||!1,promises:r.promises||!1,streams:r.streams||!1,encodings:Object.assign({},r.encodings),events:Object.assign({},r.events),additionalMethods:Object.assign({},r.additionalMethods)})}});var id=X((Wut,LY)=>{"use strict";b();LY.exports=class extends Error{constructor(e,r){super(e||""),typeof r=="object"&&r!==null&&(r.code&&(this.code=String(r.code)),r.expected&&(this.expected=!0),r.transient&&(this.transient=!0),r.cause&&(this.cause=r.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}});var ni=X(dw=>{"use strict";b();var _T=sT(),cw=cT(),HY=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;dw.Buffer=He;dw.SlowBuffer=TCe;dw.INSPECT_MAX_BYTES=50;var U8=2147483647;dw.kMaxLength=U8;He.TYPED_ARRAY_SUPPORT=_Ce();!He.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function _Ce(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(He.prototype,"parent",{enumerable:!0,get:function(){if(He.isBuffer(this))return this.buffer}});Object.defineProperty(He.prototype,"offset",{enumerable:!0,get:function(){if(He.isBuffer(this))return this.byteOffset}});function sl(t){if(t>U8)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,He.prototype),e}function He(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return kT(t)}return YY(t,e,r)}He.poolSize=8192;function YY(t,e,r){if(typeof t=="string")return DCe(t,e);if(ArrayBuffer.isView(t))return MCe(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Eu(t,ArrayBuffer)||t&&Eu(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Eu(t,SharedArrayBuffer)||t&&Eu(t.buffer,SharedArrayBuffer)))return DT(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return He.from(i,e,r);let n=kCe(t);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return He.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}He.from=function(t,e,r){return YY(t,e,r)};Object.setPrototypeOf(He.prototype,Uint8Array.prototype);Object.setPrototypeOf(He,Uint8Array);function JY(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function QCe(t,e,r){return JY(t),t<=0?sl(t):e!==void 0?typeof r=="string"?sl(t).fill(e,r):sl(t).fill(e):sl(t)}He.alloc=function(t,e,r){return QCe(t,e,r)};function kT(t){return JY(t),sl(t<0?0:TT(t)|0)}He.allocUnsafe=function(t){return kT(t)};He.allocUnsafeSlow=function(t){return kT(t)};function DCe(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!He.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=VY(t,e)|0,i=sl(r),n=i.write(t,e);return n!==r&&(i=i.slice(0,n)),i}function QT(t){let e=t.length<0?0:TT(t.length)|0,r=sl(e);for(let i=0;i<e;i+=1)r[i]=t[i]&255;return r}function MCe(t){if(Eu(t,Uint8Array)){let e=new Uint8Array(t);return DT(e.buffer,e.byteOffset,e.byteLength)}return QT(t)}function DT(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&r===void 0?i=new Uint8Array(t):r===void 0?i=new Uint8Array(t,e):i=new Uint8Array(t,e,r),Object.setPrototypeOf(i,He.prototype),i}function kCe(t){if(He.isBuffer(t)){let e=TT(t.length)|0,r=sl(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||UT(t.length)?sl(0):QT(t);if(t.type==="Buffer"&&Array.isArray(t.data))return QT(t.data)}function TT(t){if(t>=U8)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+U8.toString(16)+" bytes");return t|0}function TCe(t){return+t!=t&&(t=0),He.alloc(+t)}He.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==He.prototype};He.compare=function(e,r){if(Eu(e,Uint8Array)&&(e=He.from(e,e.offset,e.byteLength)),Eu(r,Uint8Array)&&(r=He.from(r,r.offset,r.byteLength)),!He.isBuffer(e)||!He.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let i=e.length,n=r.length;for(let o=0,s=Math.min(i,n);o<s;++o)if(e[o]!==r[o]){i=e[o],n=r[o];break}return i<n?-1:n<i?1:0};He.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};He.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return He.alloc(0);let i;if(r===void 0)for(r=0,i=0;i<e.length;++i)r+=e[i].length;let n=He.allocUnsafe(r),o=0;for(i=0;i<e.length;++i){let s=e[i];if(Eu(s,Uint8Array))o+s.length>n.length?(He.isBuffer(s)||(s=He.from(s)),s.copy(n,o)):Uint8Array.prototype.set.call(n,s,o);else if(He.isBuffer(s))s.copy(n,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return n};function VY(t,e){if(He.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Eu(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return MT(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return nJ(t).length;default:if(n)return i?-1:MT(t).length;e=(""+e).toLowerCase(),n=!0}}He.byteLength=VY;function RCe(t,e,r){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return GCe(this,e,r);case"utf8":case"utf-8":return ZY(this,e,r);case"ascii":return LCe(this,e,r);case"latin1":case"binary":return HCe(this,e,r);case"base64":return KCe(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jCe(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}He.prototype._isBuffer=!0;function zg(t,e,r){let i=t[e];t[e]=t[r],t[r]=i}He.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)zg(this,r,r+1);return this};He.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)zg(this,r,r+3),zg(this,r+1,r+2);return this};He.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)zg(this,r,r+7),zg(this,r+1,r+6),zg(this,r+2,r+5),zg(this,r+3,r+4);return this};He.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?ZY(this,0,e):RCe.apply(this,arguments)};He.prototype.toLocaleString=He.prototype.toString;He.prototype.equals=function(e){if(!He.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:He.compare(this,e)===0};He.prototype.inspect=function(){let e="",r=dw.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};HY&&(He.prototype[HY]=He.prototype.inspect);He.prototype.compare=function(e,r,i,n,o){if(Eu(e,Uint8Array)&&(e=He.from(e,e.offset,e.byteLength)),!He.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),o===void 0&&(o=this.length),r<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&r>=i)return 0;if(n>=o)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,n>>>=0,o>>>=0,this===e)return 0;let s=o-n,f=i-r,d=Math.min(s,f),p=this.slice(n,o),u=e.slice(r,i);for(let y=0;y<d;++y)if(p[y]!==u[y]){s=p[y],f=u[y];break}return s<f?-1:f<s?1:0};function WY(t,e,r,i,n){if(t.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,UT(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0)if(n)r=0;else return-1;if(typeof e=="string"&&(e=He.from(e,i)),He.isBuffer(e))return e.length===0?-1:GY(t,e,r,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):GY(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function GY(t,e,r,i,n){let o=1,s=t.length,f=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,f/=2,r/=2}function d(u,y){return o===1?u[y]:u.readUInt16BE(y*o)}let p;if(n){let u=-1;for(p=r;p<s;p++)if(d(t,p)===d(e,u===-1?0:p-u)){if(u===-1&&(u=p),p-u+1===f)return u*o}else u!==-1&&(p-=p-u),u=-1}else for(r+f>s&&(r=s-f),p=r;p>=0;p--){let u=!0;for(let y=0;y<f;y++)if(d(t,p+y)!==d(e,y)){u=!1;break}if(u)return p}return-1}He.prototype.includes=function(e,r,i){return this.indexOf(e,r,i)!==-1};He.prototype.indexOf=function(e,r,i){return WY(this,e,r,i,!0)};He.prototype.lastIndexOf=function(e,r,i){return WY(this,e,r,i,!1)};function UCe(t,e,r,i){r=Number(r)||0;let n=t.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;let o=e.length;i>o/2&&(i=o/2);let s;for(s=0;s<i;++s){let f=parseInt(e.substr(s*2,2),16);if(UT(f))return s;t[r+s]=f}return s}function FCe(t,e,r,i){return F8(MT(e,t.length-r),t,r,i)}function NCe(t,e,r,i){return F8(VCe(e),t,r,i)}function PCe(t,e,r,i){return F8(nJ(e),t,r,i)}function OCe(t,e,r,i){return F8(WCe(e,t.length-r),t,r,i)}He.prototype.write=function(e,r,i,n){if(r===void 0)n="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")n=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((i===void 0||i>o)&&(i=o),e.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return UCe(this,e,r,i);case"utf8":case"utf-8":return FCe(this,e,r,i);case"ascii":case"latin1":case"binary":return NCe(this,e,r,i);case"base64":return PCe(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return OCe(this,e,r,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}};He.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function KCe(t,e,r){return e===0&&r===t.length?_T.fromByteArray(t):_T.fromByteArray(t.slice(e,r))}function ZY(t,e,r){r=Math.min(t.length,r);let i=[],n=e;for(;n<r;){let o=t[n],s=null,f=o>239?4:o>223?3:o>191?2:1;if(n+f<=r){let d,p,u,y;switch(f){case 1:o<128&&(s=o);break;case 2:d=t[n+1],(d&192)===128&&(y=(o&31)<<6|d&63,y>127&&(s=y));break;case 3:d=t[n+1],p=t[n+2],(d&192)===128&&(p&192)===128&&(y=(o&15)<<12|(d&63)<<6|p&63,y>2047&&(y<55296||y>57343)&&(s=y));break;case 4:d=t[n+1],p=t[n+2],u=t[n+3],(d&192)===128&&(p&192)===128&&(u&192)===128&&(y=(o&15)<<18|(d&63)<<12|(p&63)<<6|u&63,y>65535&&y<1114112&&(s=y))}}s===null?(s=65533,f=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|s&1023),i.push(s),n+=f}return qCe(i)}var jY=4096;function qCe(t){let e=t.length;if(e<=jY)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=jY));return r}function LCe(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]&127);return i}function HCe(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function GCe(t,e,r){let i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);let n="";for(let o=e;o<r;++o)n+=ZCe[t[o]];return n}function jCe(t,e,r){let i=t.slice(e,r),n="";for(let o=0;o<i.length-1;o+=2)n+=String.fromCharCode(i[o]+i[o+1]*256);return n}He.prototype.slice=function(e,r){let i=this.length;e=~~e,r=r===void 0?i:~~r,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<e&&(r=e);let n=this.subarray(e,r);return Object.setPrototypeOf(n,He.prototype),n};function Io(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}He.prototype.readUintLE=He.prototype.readUIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||Io(e,r,this.length);let n=this[e],o=1,s=0;for(;++s<r&&(o*=256);)n+=this[e+s]*o;return n};He.prototype.readUintBE=He.prototype.readUIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||Io(e,r,this.length);let n=this[e+--r],o=1;for(;r>0&&(o*=256);)n+=this[e+--r]*o;return n};He.prototype.readUint8=He.prototype.readUInt8=function(e,r){return e=e>>>0,r||Io(e,1,this.length),this[e]};He.prototype.readUint16LE=He.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Io(e,2,this.length),this[e]|this[e+1]<<8};He.prototype.readUint16BE=He.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Io(e,2,this.length),this[e]<<8|this[e+1]};He.prototype.readUint32LE=He.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Io(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};He.prototype.readUint32BE=He.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Io(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};He.prototype.readBigUInt64LE=gp(function(e){e=e>>>0,fw(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&QE(e,this.length-8);let n=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))});He.prototype.readBigUInt64BE=gp(function(e){e=e>>>0,fw(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&QE(e,this.length-8);let n=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(o)});He.prototype.readIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||Io(e,r,this.length);let n=this[e],o=1,s=0;for(;++s<r&&(o*=256);)n+=this[e+s]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*r)),n};He.prototype.readIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||Io(e,r,this.length);let n=r,o=1,s=this[e+--n];for(;n>0&&(o*=256);)s+=this[e+--n]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};He.prototype.readInt8=function(e,r){return e=e>>>0,r||Io(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};He.prototype.readInt16LE=function(e,r){e=e>>>0,r||Io(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};He.prototype.readInt16BE=function(e,r){e=e>>>0,r||Io(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};He.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Io(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};He.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Io(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};He.prototype.readBigInt64LE=gp(function(e){e=e>>>0,fw(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&QE(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});He.prototype.readBigInt64BE=gp(function(e){e=e>>>0,fw(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&QE(e,this.length-8);let n=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});He.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Io(e,4,this.length),cw.read(this,e,!0,23,4)};He.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Io(e,4,this.length),cw.read(this,e,!1,23,4)};He.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Io(e,8,this.length),cw.read(this,e,!0,52,8)};He.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Io(e,8,this.length),cw.read(this,e,!1,52,8)};function wa(t,e,r,i,n,o){if(!He.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}He.prototype.writeUintLE=He.prototype.writeUIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){let f=Math.pow(2,8*i)-1;wa(this,e,r,i,f,0)}let o=1,s=0;for(this[r]=e&255;++s<i&&(o*=256);)this[r+s]=e/o&255;return r+i};He.prototype.writeUintBE=He.prototype.writeUIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){let f=Math.pow(2,8*i)-1;wa(this,e,r,i,f,0)}let o=i-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+i};He.prototype.writeUint8=He.prototype.writeUInt8=function(e,r,i){return e=+e,r=r>>>0,i||wa(this,e,r,1,255,0),this[r]=e&255,r+1};He.prototype.writeUint16LE=He.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||wa(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};He.prototype.writeUint16BE=He.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||wa(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};He.prototype.writeUint32LE=He.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||wa(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};He.prototype.writeUint32BE=He.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||wa(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function $Y(t,e,r,i,n){iJ(e,i,n,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function XY(t,e,r,i,n){iJ(e,i,n,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}He.prototype.writeBigUInt64LE=gp(function(e,r=0){return $Y(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});He.prototype.writeBigUInt64BE=gp(function(e,r=0){return XY(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});He.prototype.writeIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){let d=Math.pow(2,8*i-1);wa(this,e,r,i,d-1,-d)}let o=0,s=1,f=0;for(this[r]=e&255;++o<i&&(s*=256);)e<0&&f===0&&this[r+o-1]!==0&&(f=1),this[r+o]=(e/s>>0)-f&255;return r+i};He.prototype.writeIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){let d=Math.pow(2,8*i-1);wa(this,e,r,i,d-1,-d)}let o=i-1,s=1,f=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&f===0&&this[r+o+1]!==0&&(f=1),this[r+o]=(e/s>>0)-f&255;return r+i};He.prototype.writeInt8=function(e,r,i){return e=+e,r=r>>>0,i||wa(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};He.prototype.writeInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||wa(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};He.prototype.writeInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||wa(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};He.prototype.writeInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||wa(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};He.prototype.writeInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||wa(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};He.prototype.writeBigInt64LE=gp(function(e,r=0){return $Y(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});He.prototype.writeBigInt64BE=gp(function(e,r=0){return XY(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function eJ(t,e,r,i,n,o){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function tJ(t,e,r,i,n){return e=+e,r=r>>>0,n||eJ(t,e,r,4,34028234663852886e22,-34028234663852886e22),cw.write(t,e,r,i,23,4),r+4}He.prototype.writeFloatLE=function(e,r,i){return tJ(this,e,r,!0,i)};He.prototype.writeFloatBE=function(e,r,i){return tJ(this,e,r,!1,i)};function rJ(t,e,r,i,n){return e=+e,r=r>>>0,n||eJ(t,e,r,8,17976931348623157e292,-17976931348623157e292),cw.write(t,e,r,i,52,8),r+8}He.prototype.writeDoubleLE=function(e,r,i){return rJ(this,e,r,!0,i)};He.prototype.writeDoubleBE=function(e,r,i){return rJ(this,e,r,!1,i)};He.prototype.copy=function(e,r,i,n){if(!He.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),r>=e.length&&(r=e.length),r||(r=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-r<n-i&&(n=e.length-r+i);let o=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),r),o};He.prototype.fill=function(e,r,i,n){if(typeof e=="string"){if(typeof r=="string"?(n=r,r=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!He.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<i;++o)this[o]=e;else{let s=He.isBuffer(e)?e:He.from(e,n),f=s.length;if(f===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-r;++o)this[o+r]=s[o%f]}return this};var aw={};function RT(t,e,r){aw[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}RT("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);RT("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);RT("ERR_OUT_OF_RANGE",function(t,e,r){let i=`The value of "${t}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=zY(String(r)):typeof r=="bigint"&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=zY(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function zY(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function zCe(t,e,r){fw(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&QE(e,t.length-(r+1))}function iJ(t,e,r,i,n,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",f;throw o>3?e===0||e===BigInt(0)?f=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:f=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:f=`>= ${e}${s} and <= ${r}${s}`,new aw.ERR_OUT_OF_RANGE("value",f,t)}zCe(i,n,o)}function fw(t,e){if(typeof t!="number")throw new aw.ERR_INVALID_ARG_TYPE(e,"number",t)}function QE(t,e,r){throw Math.floor(t)!==t?(fw(t,r),new aw.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new aw.ERR_BUFFER_OUT_OF_BOUNDS:new aw.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var YCe=/[^+/0-9A-Za-z-_]/g;function JCe(t){if(t=t.split("=")[0],t=t.trim().replace(YCe,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function MT(t,e){e=e||1/0;let r,i=t.length,n=null,o=[];for(let s=0;s<i;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function VCe(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function WCe(t,e){let r,i,n,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),i=r>>8,n=r%256,o.push(n),o.push(i);return o}function nJ(t){return _T.toByteArray(JCe(t))}function F8(t,e,r,i){let n;for(n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function Eu(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function UT(t){return t!==t}var ZCe=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let i=r*16;for(let n=0;n<16;++n)e[i+n]=t[r]+t[n]}return e}();function gp(t){return typeof BigInt>"u"?$Ce:t}function $Ce(){throw new Error("BigInt not supported")}});var NT=X((tht,oJ)=>{"use strict";b();var FT=null;oJ.exports=function(){return FT===null&&(FT={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),FT}});var KT=X(sJ=>{"use strict";b();var PT=id(),XCe=new Set(["buffer","view","utf8"]),OT=class{constructor(e){if(this.encode=e.encode||this.encode,this.decode=e.decode||this.decode,this.name=e.name||this.name,this.format=e.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!XCe.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");e.createViewTranscoder&&(this.createViewTranscoder=e.createViewTranscoder),e.createBufferTranscoder&&(this.createBufferTranscoder=e.createBufferTranscoder),e.createUTF8Transcoder&&(this.createUTF8Transcoder=e.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new PT(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new PT(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new PT(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};sJ.Encoding=OT});var GT=X(N8=>{"use strict";b();var{Buffer:LT}=ni()||{},{Encoding:HT}=KT(),exe=NT(),DE=class extends HT{constructor(e){super({...e,format:"buffer"})}createViewTranscoder(){return new ME({encode:this.encode,decode:e=>this.decode(LT.from(e.buffer,e.byteOffset,e.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},ME=class extends HT{constructor(e){super({...e,format:"view"})}createBufferTranscoder(){return new DE({encode:e=>{let r=this.encode(e);return LT.from(r.buffer,r.byteOffset,r.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},qT=class extends HT{constructor(e){super({...e,format:"utf8"})}createBufferTranscoder(){return new DE({encode:e=>LT.from(this.encode(e),"utf8"),decode:e=>this.decode(e.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){let{textEncoder:e,textDecoder:r}=exe();return new ME({encode:i=>e.encode(this.encode(i)),decode:i=>this.decode(r.decode(i)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};N8.BufferFormat=DE;N8.ViewFormat=ME;N8.UTF8Format=qT});var dJ=X(Yg=>{"use strict";b();var{Buffer:ps}=ni()||{Buffer:{isBuffer:()=>!1}},{textEncoder:cJ,textDecoder:aJ}=NT()(),{BufferFormat:kE,ViewFormat:jT,UTF8Format:fJ}=GT(),P8=t=>t;Yg.utf8=new fJ({encode:function(t){return ps.isBuffer(t)?t.toString("utf8"):ArrayBuffer.isView(t)?aJ.decode(t):String(t)},decode:P8,name:"utf8",createViewTranscoder(){return new jT({encode:function(t){return ArrayBuffer.isView(t)?t:cJ.encode(t)},decode:function(t){return aJ.decode(t)},name:`${this.name}+view`})},createBufferTranscoder(){return new kE({encode:function(t){return ps.isBuffer(t)?t:ArrayBuffer.isView(t)?ps.from(t.buffer,t.byteOffset,t.byteLength):ps.from(String(t),"utf8")},decode:function(t){return t.toString("utf8")},name:`${this.name}+buffer`})}});Yg.json=new fJ({encode:JSON.stringify,decode:JSON.parse,name:"json"});Yg.buffer=new kE({encode:function(t){return ps.isBuffer(t)?t:ArrayBuffer.isView(t)?ps.from(t.buffer,t.byteOffset,t.byteLength):ps.from(String(t),"utf8")},decode:P8,name:"buffer",createViewTranscoder(){return new jT({encode:function(t){return ArrayBuffer.isView(t)?t:ps.from(String(t),"utf8")},decode:function(t){return ps.from(t.buffer,t.byteOffset,t.byteLength)},name:`${this.name}+view`})}});Yg.view=new jT({encode:function(t){return ArrayBuffer.isView(t)?t:cJ.encode(t)},decode:P8,name:"view",createBufferTranscoder(){return new kE({encode:function(t){return ps.isBuffer(t)?t:ArrayBuffer.isView(t)?ps.from(t.buffer,t.byteOffset,t.byteLength):ps.from(String(t),"utf8")},decode:P8,name:`${this.name}+buffer`})}});Yg.hex=new kE({encode:function(t){return ps.isBuffer(t)?t:ps.from(String(t),"hex")},decode:function(t){return t.toString("hex")},name:"hex"});Yg.base64=new kE({encode:function(t){return ps.isBuffer(t)?t:ps.from(String(t),"base64")},decode:function(t){return t.toString("base64")},name:"base64"})});var lJ=X(hJ=>{"use strict";b();var uJ=id(),K8=dJ(),{Encoding:txe}=KT(),{BufferFormat:rxe,ViewFormat:ixe,UTF8Format:nxe}=GT(),TE=Symbol("formats"),O8=Symbol("encodings"),oxe=new Set(["buffer","view","utf8"]),zT=class{constructor(e){if(Array.isArray(e)){if(!e.every(r=>oxe.has(r)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[O8]=new Map,this[TE]=new Set(e);for(let r in K8)try{this.encoding(r)}catch(i){if(i.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw i}}encodings(){return Array.from(new Set(this[O8].values()))}encoding(e){let r=this[O8].get(e);if(r===void 0){if(typeof e=="string"&&e!==""){if(r=fxe[e],!r)throw new uJ(`Encoding '${e}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof e!="object"||e===null)throw new TypeError("First argument 'encoding' must be a string or object");r=sxe(e)}let{name:i,format:n}=r;if(!this[TE].has(n))if(this[TE].has("view"))r=r.createViewTranscoder();else if(this[TE].has("buffer"))r=r.createBufferTranscoder();else if(this[TE].has("utf8"))r=r.createUTF8Transcoder();else throw new uJ(`Encoding '${i}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(let o of[e,i,r.name,r.commonName])this[O8].set(o,r)}return r}};hJ.Transcoder=zT;function sxe(t){if(t instanceof txe)return t;let e="type"in t&&typeof t.type=="string"?t.type:void 0,r=t.name||e||`anonymous-${dxe++}`;switch(axe(t)){case"view":return new ixe({...t,name:r});case"utf8":return new nxe({...t,name:r});case"buffer":return new rxe({...t,name:r});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function axe(t){return"format"in t&&t.format!==void 0?t.format:"buffer"in t&&typeof t.buffer=="boolean"?t.buffer?"buffer":"utf8":"code"in t&&Number.isInteger(t.code)?"view":"buffer"}var cxe={binary:K8.buffer,"utf-8":K8.utf8},fxe={...K8,...cxe},dxe=0});var va=X((uht,YT)=>{"use strict";b();var uw=typeof Reflect=="object"?Reflect:null,pJ=uw&&typeof uw.apply=="function"?uw.apply:function(e,r,i){return Function.prototype.apply.call(e,r,i)},q8;uw&&typeof uw.ownKeys=="function"?q8=uw.ownKeys:Object.getOwnPropertySymbols?q8=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:q8=function(e){return Object.getOwnPropertyNames(e)};function uxe(t){console&&console.warn&&console.warn(t)}var gJ=Number.isNaN||function(e){return e!==e};function pi(){pi.init.call(this)}YT.exports=pi;YT.exports.once=Axe;pi.EventEmitter=pi;pi.prototype._events=void 0;pi.prototype._eventsCount=0;pi.prototype._maxListeners=void 0;var AJ=10;function L8(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(pi,"defaultMaxListeners",{enumerable:!0,get:function(){return AJ},set:function(t){if(typeof t!="number"||t<0||gJ(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");AJ=t}});pi.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};pi.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||gJ(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function yJ(t){return t._maxListeners===void 0?pi.defaultMaxListeners:t._maxListeners}pi.prototype.getMaxListeners=function(){return yJ(this)};pi.prototype.emit=function(e){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var n=e==="error",o=this._events;if(o!==void 0)n=n&&o.error===void 0;else if(!n)return!1;if(n){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var f=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw f.context=s,f}var d=o[e];if(d===void 0)return!1;if(typeof d=="function")pJ(d,this,r);else for(var p=d.length,u=bJ(d,p),i=0;i<p;++i)pJ(u[i],this,r);return!0};function mJ(t,e,r,i){var n,o,s;if(L8(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),s===void 0)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),n=yJ(t),n>0&&s.length>n&&!s.warned){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=s.length,uxe(f)}return t}pi.prototype.addListener=function(e,r){return mJ(this,e,r,!1)};pi.prototype.on=pi.prototype.addListener;pi.prototype.prependListener=function(e,r){return mJ(this,e,r,!0)};function hxe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function IJ(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=hxe.bind(i);return n.listener=r,i.wrapFn=n,n}pi.prototype.once=function(e,r){return L8(r),this.on(e,IJ(this,e,r)),this};pi.prototype.prependOnceListener=function(e,r){return L8(r),this.prependListener(e,IJ(this,e,r)),this};pi.prototype.removeListener=function(e,r){var i,n,o,s,f;if(L8(r),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||r));else if(typeof i!="function"){for(o=-1,s=i.length-1;s>=0;s--)if(i[s]===r||i[s].listener===r){f=i[s].listener,o=s;break}if(o<0)return this;o===0?i.shift():lxe(i,o),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,f||r)}return this};pi.prototype.off=pi.prototype.removeListener;pi.prototype.removeAllListeners=function(e){var r,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var o=Object.keys(i),s;for(n=0;n<o.length;++n)s=o[n],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(n=r.length-1;n>=0;n--)this.removeListener(e,r[n]);return this};function wJ(t,e,r){var i=t._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?pxe(n):bJ(n,n.length)}pi.prototype.listeners=function(e){return wJ(this,e,!0)};pi.prototype.rawListeners=function(e){return wJ(this,e,!1)};pi.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):vJ.call(t,e)};pi.prototype.listenerCount=vJ;function vJ(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}pi.prototype.eventNames=function(){return this._eventsCount>0?q8(this._events):[]};function bJ(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function lxe(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function pxe(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Axe(t,e){return new Promise(function(r,i){function n(s){t.removeListener(e,o),i(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",n),r([].slice.call(arguments))}EJ(t,e,o,{once:!0}),e!=="error"&&gxe(t,n,{once:!0})})}function gxe(t,e,r){typeof t.on=="function"&&EJ(t,"error",e,r)}function EJ(t,e,r,i){if(typeof t.on=="function")i.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function n(o){i.once&&t.removeEventListener(e,n),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var CJ=X((lht,BJ)=>{b();BJ.exports=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t)});var RE=X(JT=>{"use strict";b();var xJ=CJ();JT.fromCallback=function(t,e){if(t===void 0){var r=new Promise(function(i,n){t=function(o,s){o?n(o):i(s)}});t[e!==void 0?e:"promise"]=r}else if(typeof t!="function")throw new TypeError("Callback must be a function");return t};JT.fromPromise=function(t,e){if(e===void 0)return t;t.then(function(r){xJ(()=>e(null,r))}).catch(function(r){xJ(()=>e(r))})}});var H8=X(VT=>{"use strict";b();VT.getCallback=function(t,e){return typeof t=="function"?t:e};VT.getOptions=function(t,e){return typeof t=="object"&&t!==null?t:e!==void 0?e:{}}});var bp=X(Y8=>{"use strict";b();var{fromCallback:WT}=RE(),ja=id(),{getOptions:ZT,getCallback:SJ}=H8(),Jg=Symbol("promise"),hw=Symbol("callback"),Bu=Symbol("working"),Vg=Symbol("handleOne"),al=Symbol("handleMany"),$T=Symbol("autoClose"),wp=Symbol("finishWork"),Cu=Symbol("returnMany"),yp=Symbol("closing"),UE=Symbol("handleClose"),G8=Symbol("closed"),FE=Symbol("closeCallbacks"),Ip=Symbol("keyEncoding"),Wg=Symbol("valueEncoding"),XT=Symbol("abortOnClose"),j8=Symbol("legacy"),eR=Symbol("keys"),tR=Symbol("values"),mp=Symbol("limit"),jc=Symbol("count"),z8=Object.freeze({}),yxe=()=>{},_J=!1,NE=class{constructor(e,r,i){if(typeof e!="object"||e===null){let n=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${n}`)}if(typeof r!="object"||r===null)throw new TypeError("The second argument must be an options object");this[G8]=!1,this[FE]=[],this[Bu]=!1,this[yp]=!1,this[$T]=!1,this[hw]=null,this[Vg]=this[Vg].bind(this),this[al]=this[al].bind(this),this[UE]=this[UE].bind(this),this[Ip]=r[Ip],this[Wg]=r[Wg],this[j8]=i,this[mp]=Number.isInteger(r.limit)&&r.limit>=0?r.limit:1/0,this[jc]=0,this[XT]=!!r.abortOnClose,this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get count(){return this[jc]}get limit(){return this[mp]}next(e){let r;if(e===void 0)r=new Promise((i,n)=>{e=(o,s,f)=>{o?n(o):this[j8]?s===void 0&&f===void 0?i():i([s,f]):i(s)}});else if(typeof e!="function")throw new TypeError("Callback must be a function");return this[yp]?this.nextTick(e,new ja("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Bu]?this.nextTick(e,new ja("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[Bu]=!0,this[hw]=e,this[jc]>=this[mp]?this.nextTick(this[Vg],null):this._next(this[Vg])),r}_next(e){this.nextTick(e)}nextv(e,r,i){return i=SJ(r,i),i=WT(i,Jg),r=ZT(r,z8),Number.isInteger(e)?(this[yp]?this.nextTick(i,new ja("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Bu]?this.nextTick(i,new ja("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(e<1&&(e=1),this[mp]<1/0&&(e=Math.min(e,this[mp]-this[jc])),this[Bu]=!0,this[hw]=i,e<=0?this.nextTick(this[al],null,[]):this._nextv(e,r,this[al])),i[Jg]):(this.nextTick(i,new TypeError("The first argument 'size' must be an integer")),i[Jg])}_nextv(e,r,i){let n=[],o=(s,f,d)=>{if(s)return i(s);if(this[j8]?f===void 0&&d===void 0:f===void 0)return i(null,n);n.push(this[j8]?[f,d]:f),n.length===e?i(null,n):this._next(o)};this._next(o)}all(e,r){return r=SJ(e,r),r=WT(r,Jg),e=ZT(e,z8),this[yp]?this.nextTick(r,new ja("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Bu]?this.nextTick(r,new ja("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[Bu]=!0,this[hw]=r,this[$T]=!0,this[jc]>=this[mp]?this.nextTick(this[al],null,[]):this._all(e,this[al])),r[Jg]}_all(e,r){let i=this[jc],n=[],o=()=>{let f=this[mp]<1/0?Math.min(1e3,this[mp]-i):1e3;f<=0?this.nextTick(r,null,n):this._nextv(f,z8,s)},s=(f,d)=>{f?r(f):d.length===0?r(null,n):(n.push.apply(n,d),i+=d.length,o())};o()}[wp](){let e=this[hw];return this[XT]&&e===null?yxe:(this[Bu]=!1,this[hw]=null,this[yp]&&this._close(this[UE]),e)}[Cu](e,r,i){this[$T]?this.close(e.bind(null,r,i)):e(r,i)}seek(e,r){if(r=ZT(r,z8),!this[yp]){if(this[Bu])throw new ja("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{let i=this.db.keyEncoding(r.keyEncoding||this[Ip]),n=i.format;r.keyEncoding!==n&&(r={...r,keyEncoding:n});let o=this.db.prefixKey(i.encode(e),n);this._seek(o,r)}}}_seek(e,r){throw new ja("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(e){return e=WT(e,Jg),this[G8]?this.nextTick(e):this[yp]?this[FE].push(e):(this[yp]=!0,this[FE].push(e),this[Bu]?this[XT]&&this[wp]()(new ja("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[UE])),e[Jg]}_close(e){this.nextTick(e)}[UE](){this[G8]=!0,this.db.detachResource(this);let e=this[FE];this[FE]=[];for(let r of e)r()}async*[Symbol.asyncIterator](){try{let e;for(;(e=await this.next())!==void 0;)yield e}finally{this[G8]||await this.close()}}},lw=class extends NE{constructor(e,r){super(e,r,!0),this[eR]=r.keys!==!1,this[tR]=r.values!==!1}[Vg](e,r,i){let n=this[wp]();if(e)return n(e);try{r=this[eR]&&r!==void 0?this[Ip].decode(r):void 0,i=this[tR]&&i!==void 0?this[Wg].decode(i):void 0}catch(o){return n(new vp("entry",o))}r===void 0&&i===void 0||this[jc]++,n(null,r,i)}[al](e,r){let i=this[wp]();if(e)return this[Cu](i,e);try{for(let n of r){let o=n[0],s=n[1];n[0]=this[eR]&&o!==void 0?this[Ip].decode(o):void 0,n[1]=this[tR]&&s!==void 0?this[Wg].decode(s):void 0}}catch(n){return this[Cu](i,new vp("entries",n))}this[jc]+=r.length,this[Cu](i,null,r)}end(e){return!_J&&typeof console<"u"&&(_J=!0,console.warn(new ja("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(e)}},rR=class extends NE{constructor(e,r){super(e,r,!1)}[Vg](e,r){let i=this[wp]();if(e)return i(e);try{r=r!==void 0?this[Ip].decode(r):void 0}catch(n){return i(new vp("key",n))}r!==void 0&&this[jc]++,i(null,r)}[al](e,r){let i=this[wp]();if(e)return this[Cu](i,e);try{for(let n=0;n<r.length;n++){let o=r[n];r[n]=o!==void 0?this[Ip].decode(o):void 0}}catch(n){return this[Cu](i,new vp("keys",n))}this[jc]+=r.length,this[Cu](i,null,r)}},iR=class extends NE{constructor(e,r){super(e,r,!1)}[Vg](e,r){let i=this[wp]();if(e)return i(e);try{r=r!==void 0?this[Wg].decode(r):void 0}catch(n){return i(new vp("value",n))}r!==void 0&&this[jc]++,i(null,r)}[al](e,r){let i=this[wp]();if(e)return this[Cu](i,e);try{for(let n=0;n<r.length;n++){let o=r[n];r[n]=o!==void 0?this[Wg].decode(o):void 0}}catch(n){return this[Cu](i,new vp("values",n))}this[jc]+=r.length,this[Cu](i,null,r)}},vp=class extends ja{constructor(e,r){super(`Iterator could not decode ${e}`,{code:"LEVEL_DECODE_ERROR",cause:r})}};for(let t of["_ended property","_nexting property","_end method"])Object.defineProperty(lw.prototype,t.split(" ")[0],{get(){throw new ja(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new ja(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})}});lw.keyEncoding=Ip;lw.valueEncoding=Wg;Y8.AbstractIterator=lw;Y8.AbstractKeyIterator=rR;Y8.AbstractValueIterator=iR});var QJ=X(nR=>{"use strict";b();var{AbstractKeyIterator:mxe,AbstractValueIterator:Ixe}=bp(),Zg=Symbol("iterator"),PE=Symbol("callback"),pw=Symbol("handleOne"),$g=Symbol("handleMany"),OE=class extends mxe{constructor(e,r){super(e,r),this[Zg]=e.iterator({...r,keys:!0,values:!1}),this[pw]=this[pw].bind(this),this[$g]=this[$g].bind(this)}},J8=class extends Ixe{constructor(e,r){super(e,r),this[Zg]=e.iterator({...r,keys:!1,values:!0}),this[pw]=this[pw].bind(this),this[$g]=this[$g].bind(this)}};for(let t of[OE,J8]){let e=t===OE,r=e?i=>i[0]:i=>i[1];t.prototype._next=function(i){this[PE]=i,this[Zg].next(this[pw])},t.prototype[pw]=function(i,n,o){let s=this[PE];i?s(i):s(null,e?n:o)},t.prototype._nextv=function(i,n,o){this[PE]=o,this[Zg].nextv(i,n,this[$g])},t.prototype._all=function(i,n){this[PE]=n,this[Zg].all(i,this[$g])},t.prototype[$g]=function(i,n){let o=this[PE];i?o(i):o(null,n.map(r))},t.prototype._seek=function(i,n){this[Zg].seek(i,n)},t.prototype._close=function(i){this[Zg].close(i)}}nR.DefaultKeyIterator=OE;nR.DefaultValueIterator=J8});var DJ=X(e6=>{"use strict";b();var{AbstractIterator:wxe,AbstractKeyIterator:vxe,AbstractValueIterator:bxe}=bp(),oR=id(),ba=Symbol("nut"),$8=Symbol("undefer"),X8=Symbol("factory"),V8=class extends wxe{constructor(e,r){super(e,r),this[ba]=null,this[X8]=()=>e.iterator(r),this.db.defer(()=>this[$8]())}},W8=class extends vxe{constructor(e,r){super(e,r),this[ba]=null,this[X8]=()=>e.keys(r),this.db.defer(()=>this[$8]())}},Z8=class extends bxe{constructor(e,r){super(e,r),this[ba]=null,this[X8]=()=>e.values(r),this.db.defer(()=>this[$8]())}};for(let t of[V8,W8,Z8])t.prototype[$8]=function(){this.db.status==="open"&&(this[ba]=this[X8]())},t.prototype._next=function(e){this[ba]!==null?this[ba].next(e):this.db.status==="opening"?this.db.defer(()=>this._next(e)):this.nextTick(e,new oR("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._nextv=function(e,r,i){this[ba]!==null?this[ba].nextv(e,r,i):this.db.status==="opening"?this.db.defer(()=>this._nextv(e,r,i)):this.nextTick(i,new oR("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._all=function(e,r){this[ba]!==null?this[ba].all(r):this.db.status==="opening"?this.db.defer(()=>this._all(e,r)):this.nextTick(r,new oR("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._seek=function(e,r){this[ba]!==null?this[ba]._seek(e,r):this.db.status==="opening"&&this.db.defer(()=>this._seek(e,r))},t.prototype._close=function(e){this[ba]!==null?this[ba].close(e):this.db.status==="opening"?this.db.defer(()=>this._close(e)):this.nextTick(e)};e6.DeferredIterator=V8;e6.DeferredKeyIterator=W8;e6.DeferredValueIterator=Z8});var aR=X(kJ=>{"use strict";b();var{fromCallback:MJ}=RE(),t6=id(),{getCallback:Exe,getOptions:Bxe}=H8(),r6=Symbol("promise"),zc=Symbol("status"),Aw=Symbol("operations"),KE=Symbol("finishClose"),gw=Symbol("closeCallbacks"),sR=class{constructor(e){if(typeof e!="object"||e===null){let r=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${r}`)}this[Aw]=[],this[gw]=[],this[zc]="open",this[KE]=this[KE].bind(this),this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get length(){return this[Aw].length}put(e,r,i){if(this[zc]!=="open")throw new t6("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let n=this.db._checkKey(e)||this.db._checkValue(r);if(n)throw n;let o=i&&i.sublevel!=null?i.sublevel:this.db,s=i,f=o.keyEncoding(i&&i.keyEncoding),d=o.valueEncoding(i&&i.valueEncoding),p=f.format;i={...i,keyEncoding:p,valueEncoding:d.format},o!==this.db&&(i.sublevel=null);let u=o.prefixKey(f.encode(e),p),y=d.encode(r);return this._put(u,y,i),this[Aw].push({...s,type:"put",key:e,value:r}),this}_put(e,r,i){}del(e,r){if(this[zc]!=="open")throw new t6("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let i=this.db._checkKey(e);if(i)throw i;let n=r&&r.sublevel!=null?r.sublevel:this.db,o=r,s=n.keyEncoding(r&&r.keyEncoding),f=s.format;return r={...r,keyEncoding:f},n!==this.db&&(r.sublevel=null),this._del(n.prefixKey(s.encode(e),f),r),this[Aw].push({...o,type:"del",key:e}),this}_del(e,r){}clear(){if(this[zc]!=="open")throw new t6("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[Aw]=[],this}_clear(){}write(e,r){return r=Exe(e,r),r=MJ(r,r6),e=Bxe(e),this[zc]!=="open"?this.nextTick(r,new t6("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(r):(this[zc]="writing",this._write(e,i=>{this[zc]="closing",this[gw].push(()=>r(i)),i||this.db.emit("batch",this[Aw]),this._close(this[KE])})),r[r6]}_write(e,r){}close(e){return e=MJ(e,r6),this[zc]==="closing"?this[gw].push(e):this[zc]==="closed"?this.nextTick(e):(this[gw].push(e),this[zc]!=="writing"&&(this[zc]="closing",this._close(this[KE]))),e[r6]}_close(e){this.nextTick(e)}[KE](){this[zc]="closed",this.db.detachResource(this);let e=this[gw];this[gw]=[];for(let r of e)r()}};kJ.AbstractChainedBatch=sR});var RJ=X(TJ=>{"use strict";b();var{AbstractChainedBatch:Cxe}=aR(),xxe=id(),yw=Symbol("encoded"),cR=class extends Cxe{constructor(e){super(e),this[yw]=[]}_put(e,r,i){this[yw].push({...i,type:"put",key:e,value:r})}_del(e,r){this[yw].push({...r,type:"del",key:e})}_clear(){this[yw]=[]}_write(e,r){this.db.status==="opening"?this.db.defer(()=>this._write(e,r)):this.db.status==="open"?this[yw].length===0?this.nextTick(r):this.db._batch(this[yw],e,r):this.nextTick(r,new xxe("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};TJ.DefaultChainedBatch=cR});var NJ=X((Qht,FJ)=>{"use strict";b();var UJ=id(),Sxe=Object.prototype.hasOwnProperty,_xe=new Set(["lt","lte","gt","gte"]);FJ.exports=function(t,e){let r={};for(let i in t)if(Sxe.call(t,i)&&!(i==="keyEncoding"||i==="valueEncoding")){if(i==="start"||i==="end")throw new UJ(`The legacy range option '${i}' has been removed`,{code:"LEVEL_LEGACY"});if(i==="encoding")throw new UJ("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});_xe.has(i)?r[i]=e.encode(t[i]):r[i]=t[i]}return r.reverse=!!r.reverse,r.limit=Number.isInteger(r.limit)&&r.limit>=0?r.limit:-1,r}});var fR=X((Mht,OJ)=>{b();var PJ;OJ.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:globalThis):t=>(PJ||(PJ=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var LJ=X((Tht,qJ)=>{"use strict";b();var KJ=fR();qJ.exports=function(t,...e){e.length===0?KJ(t):KJ(()=>t(...e))}});var HJ=X(i6=>{"use strict";b();var{AbstractIterator:Qxe,AbstractKeyIterator:Dxe,AbstractValueIterator:Mxe}=bp(),mw=Symbol("unfix"),nd=Symbol("iterator"),Xg=Symbol("handleOne"),Ep=Symbol("handleMany"),cl=Symbol("callback"),qE=class extends Qxe{constructor(e,r,i,n){super(e,r),this[nd]=i,this[mw]=n,this[Xg]=this[Xg].bind(this),this[Ep]=this[Ep].bind(this),this[cl]=null}[Xg](e,r,i){let n=this[cl];if(e)return n(e);r!==void 0&&(r=this[mw](r)),n(e,r,i)}[Ep](e,r){let i=this[cl];if(e)return i(e);for(let n of r){let o=n[0];o!==void 0&&(n[0]=this[mw](o))}i(e,r)}},LE=class extends Dxe{constructor(e,r,i,n){super(e,r),this[nd]=i,this[mw]=n,this[Xg]=this[Xg].bind(this),this[Ep]=this[Ep].bind(this),this[cl]=null}[Xg](e,r){let i=this[cl];if(e)return i(e);r!==void 0&&(r=this[mw](r)),i(e,r)}[Ep](e,r){let i=this[cl];if(e)return i(e);for(let n=0;n<r.length;n++){let o=r[n];o!==void 0&&(r[n]=this[mw](o))}i(e,r)}},HE=class extends Mxe{constructor(e,r,i){super(e,r),this[nd]=i}};for(let t of[qE,LE])t.prototype._next=function(e){this[cl]=e,this[nd].next(this[Xg])},t.prototype._nextv=function(e,r,i){this[cl]=i,this[nd].nextv(e,r,this[Ep])},t.prototype._all=function(e,r){this[cl]=r,this[nd].all(e,this[Ep])};for(let t of[HE])t.prototype._next=function(e){this[nd].next(e)},t.prototype._nextv=function(e,r,i){this[nd].nextv(e,r,i)},t.prototype._all=function(e,r){this[nd].all(e,r)};for(let t of[qE,LE,HE])t.prototype._seek=function(e,r){this[nd].seek(e,r)},t.prototype._close=function(e){this[nd].close(e)};i6.AbstractSublevelIterator=qE;i6.AbstractSublevelKeyIterator=LE;i6.AbstractSublevelValueIterator=HE});var YJ=X((Nht,zJ)=>{"use strict";b();var dR=id(),{Buffer:lR}=ni()||{},{AbstractSublevelIterator:kxe,AbstractSublevelKeyIterator:Txe,AbstractSublevelValueIterator:Rxe}=HJ(),fl=Symbol("prefix"),GJ=Symbol("upperBound"),GE=Symbol("prefixRange"),za=Symbol("parent"),uR=Symbol("unfix"),jJ=new TextEncoder,Uxe={separator:"!"};zJ.exports=function({AbstractLevel:t}){class e extends t{static defaults(i){if(typeof i=="string")throw new dR("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(i&&i.open)throw new dR("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return i==null?Uxe:i.separator?i:{...i,separator:"!"}}constructor(i,n,o){let{separator:s,manifest:f,...d}=e.defaults(o);n=Nxe(n,s);let p=s.charCodeAt(0)+1,u=i[za]||i;if(!jJ.encode(n).every(S=>S>p&&S<127))throw new dR(`Prefix must use bytes > ${p} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(Fxe(u,f),d);let y=(i.prefix||"")+s+n+s,B=y.slice(0,-1)+String.fromCharCode(p);this[za]=u,this[fl]=new n6(y),this[GJ]=new n6(B),this[uR]=new pR,this.nextTick=u.nextTick}prefixKey(i,n){if(n==="utf8")return this[fl].utf8+i;if(i.byteLength===0)return this[fl][n];if(n==="view"){let o=this[fl].view,s=new Uint8Array(o.byteLength+i.byteLength);return s.set(o,0),s.set(i,o.byteLength),s}else{let o=this[fl].buffer;return lR.concat([o,i],o.byteLength+i.byteLength)}}[GE](i,n){i.gte!==void 0?i.gte=this.prefixKey(i.gte,n):i.gt!==void 0?i.gt=this.prefixKey(i.gt,n):i.gte=this[fl][n],i.lte!==void 0?i.lte=this.prefixKey(i.lte,n):i.lt!==void 0?i.lt=this.prefixKey(i.lt,n):i.lte=this[GJ][n]}get prefix(){return this[fl].utf8}get db(){return this[za]}_open(i,n){this[za].open({passive:!0},n)}_put(i,n,o,s){this[za].put(i,n,o,s)}_get(i,n,o){this[za].get(i,n,o)}_getMany(i,n,o){this[za].getMany(i,n,o)}_del(i,n,o){this[za].del(i,n,o)}_batch(i,n,o){this[za].batch(i,n,o)}_clear(i,n){this[GE](i,i.keyEncoding),this[za].clear(i,n)}_iterator(i){this[GE](i,i.keyEncoding);let n=this[za].iterator(i),o=this[uR].get(this[fl].utf8.length,i.keyEncoding);return new kxe(this,i,n,o)}_keys(i){this[GE](i,i.keyEncoding);let n=this[za].keys(i),o=this[uR].get(this[fl].utf8.length,i.keyEncoding);return new Txe(this,i,n,o)}_values(i){this[GE](i,i.keyEncoding);let n=this[za].values(i);return new Rxe(this,i,n)}}return{AbstractSublevel:e}};var Fxe=function(t,e){return{...t.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...e,encodings:{utf8:hR(t,"utf8"),buffer:hR(t,"buffer"),view:hR(t,"view")}}},hR=function(t,e){return t.supports.encodings[e]?t.keyEncoding(e).name===e:!1},n6=class{constructor(e){this.utf8=e,this.view=jJ.encode(e),this.buffer=lR?lR.from(this.view.buffer,0,this.view.byteLength):{}}},pR=class{constructor(){this.cache=new Map}get(e,r){let i=this.cache.get(r);return i===void 0&&(r==="view"?i=(function(n,o){return o.subarray(n)}).bind(null,e):i=(function(n,o){return o.slice(n)}).bind(null,e),this.cache.set(r,i)),i}},Nxe=function(t,e){let r=0,i=t.length;for(;r<i&&t[r]===e;)r++;for(;i>r&&t[i-1]===e;)i--;return t.slice(r,i)}});var IR=X(mR=>{"use strict";b();var{supports:Pxe}=qY(),{Transcoder:Oxe}=lJ(),{EventEmitter:Kxe}=va(),{fromCallback:Bp}=RE(),od=id(),{AbstractIterator:ey}=bp(),{DefaultKeyIterator:qxe,DefaultValueIterator:Lxe}=QJ(),{DeferredIterator:Hxe,DeferredKeyIterator:Gxe,DeferredValueIterator:jxe}=DJ(),{DefaultChainedBatch:JJ}=RJ(),{getCallback:ty,getOptions:Cp}=H8(),o6=NJ(),vr=Symbol("promise"),dl=Symbol("landed"),ry=Symbol("resources"),AR=Symbol("closeResources"),jE=Symbol("operations"),zE=Symbol("undefer"),s6=Symbol("deferOpen"),VJ=Symbol("options"),Or=Symbol("status"),iy=Symbol("defaultOptions"),Iw=Symbol("transcoder"),a6=Symbol("keyEncoding"),gR=Symbol("valueEncoding"),zxe=()=>{},YE=class extends Kxe{constructor(e,r){if(super(),typeof e!="object"||e===null)throw new TypeError("The first argument 'manifest' must be an object");r=Cp(r);let{keyEncoding:i,valueEncoding:n,passive:o,...s}=r;this[ry]=new Set,this[jE]=[],this[s6]=!0,this[VJ]=s,this[Or]="opening",this.supports=Pxe(e,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:e.snapshots!==!1,permanence:e.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:e.encodings||{},events:Object.assign({},e.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[Iw]=new Oxe(Yxe(this)),this[a6]=this[Iw].encoding(i||"utf8"),this[gR]=this[Iw].encoding(n||"utf8");for(let f of this[Iw].encodings())this.supports.encodings[f.commonName]||(this.supports.encodings[f.commonName]=!0);this[iy]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[a6].commonName,valueEncoding:this[gR].commonName}),key:Object.freeze({keyEncoding:this[a6].commonName})},this.nextTick(()=>{this[s6]&&this.open({passive:!1},zxe)})}get status(){return this[Or]}keyEncoding(e){return this[Iw].encoding(e??this[a6])}valueEncoding(e){return this[Iw].encoding(e??this[gR])}open(e,r){r=ty(e,r),r=Bp(r,vr),e={...this[VJ],...Cp(e)},e.createIfMissing=e.createIfMissing!==!1,e.errorIfExists=!!e.errorIfExists;let i=n=>{this[Or]==="closing"||this[Or]==="opening"?this.once(dl,n?()=>i(n):i):this[Or]!=="open"?r(new od("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:n})):r()};return e.passive?this[Or]==="opening"?this.once(dl,i):this.nextTick(i):this[Or]==="closed"||this[s6]?(this[s6]=!1,this[Or]="opening",this.emit("opening"),this._open(e,n=>{if(n){this[Or]="closed",this[AR](()=>{this.emit(dl),i(n)}),this[zE]();return}this[Or]="open",this[zE](),this.emit(dl),this[Or]==="open"&&this.emit("open"),this[Or]==="open"&&this.emit("ready"),i()})):this[Or]==="open"?this.nextTick(i):this.once(dl,()=>this.open(e,r)),r[vr]}_open(e,r){this.nextTick(r)}close(e){e=Bp(e,vr);let r=i=>{this[Or]==="opening"||this[Or]==="closing"?this.once(dl,i?r(i):r):this[Or]!=="closed"?e(new od("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:i})):e()};if(this[Or]==="open"){this[Or]="closing",this.emit("closing");let i=n=>{this[Or]="open",this[zE](),this.emit(dl),r(n)};this[AR](()=>{this._close(n=>{if(n)return i(n);this[Or]="closed",this[zE](),this.emit(dl),this[Or]==="closed"&&this.emit("closed"),r()})})}else this[Or]==="closed"?this.nextTick(r):this.once(dl,()=>this.close(e));return e[vr]}[AR](e){if(this[ry].size===0)return this.nextTick(e);let r=this[ry].size,i=!0,n=()=>{--r===0&&(i?this.nextTick(e):e())};for(let o of this[ry])o.close(n);i=!1,this[ry].clear()}_close(e){this.nextTick(e)}get(e,r,i){if(i=ty(r,i),i=Bp(i,vr),r=Cp(r,this[iy].entry),this[Or]==="opening")return this.defer(()=>this.get(e,r,i)),i[vr];if(ww(this,i))return i[vr];let n=this._checkKey(e);if(n)return this.nextTick(i,n),i[vr];let o=this.keyEncoding(r.keyEncoding),s=this.valueEncoding(r.valueEncoding),f=o.format,d=s.format;return(r.keyEncoding!==f||r.valueEncoding!==d)&&(r=Object.assign({},r,{keyEncoding:f,valueEncoding:d})),this._get(this.prefixKey(o.encode(e),f),r,(p,u)=>{if(p)return(p.code==="LEVEL_NOT_FOUND"||p.notFound||/NotFound/i.test(p))&&(p.code||(p.code="LEVEL_NOT_FOUND"),p.notFound||(p.notFound=!0),p.status||(p.status=404)),i(p);try{u=s.decode(u)}catch(y){return i(new od("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:y}))}i(null,u)}),i[vr]}_get(e,r,i){this.nextTick(i,new Error("NotFound"))}getMany(e,r,i){if(i=ty(r,i),i=Bp(i,vr),r=Cp(r,this[iy].entry),this[Or]==="opening")return this.defer(()=>this.getMany(e,r,i)),i[vr];if(ww(this,i))return i[vr];if(!Array.isArray(e))return this.nextTick(i,new TypeError("The first argument 'keys' must be an array")),i[vr];if(e.length===0)return this.nextTick(i,null,[]),i[vr];let n=this.keyEncoding(r.keyEncoding),o=this.valueEncoding(r.valueEncoding),s=n.format,f=o.format;(r.keyEncoding!==s||r.valueEncoding!==f)&&(r=Object.assign({},r,{keyEncoding:s,valueEncoding:f}));let d=new Array(e.length);for(let p=0;p<e.length;p++){let u=e[p],y=this._checkKey(u);if(y)return this.nextTick(i,y),i[vr];d[p]=this.prefixKey(n.encode(u),s)}return this._getMany(d,r,(p,u)=>{if(p)return i(p);try{for(let y=0;y<u.length;y++)u[y]!==void 0&&(u[y]=o.decode(u[y]))}catch(y){return i(new od(`Could not decode one or more of ${u.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:y}))}i(null,u)}),i[vr]}_getMany(e,r,i){this.nextTick(i,null,new Array(e.length).fill(void 0))}put(e,r,i,n){if(n=ty(i,n),n=Bp(n,vr),i=Cp(i,this[iy].entry),this[Or]==="opening")return this.defer(()=>this.put(e,r,i,n)),n[vr];if(ww(this,n))return n[vr];let o=this._checkKey(e)||this._checkValue(r);if(o)return this.nextTick(n,o),n[vr];let s=this.keyEncoding(i.keyEncoding),f=this.valueEncoding(i.valueEncoding),d=s.format,p=f.format;(i.keyEncoding!==d||i.valueEncoding!==p)&&(i=Object.assign({},i,{keyEncoding:d,valueEncoding:p}));let u=this.prefixKey(s.encode(e),d),y=f.encode(r);return this._put(u,y,i,B=>{if(B)return n(B);this.emit("put",e,r),n()}),n[vr]}_put(e,r,i,n){this.nextTick(n)}del(e,r,i){if(i=ty(r,i),i=Bp(i,vr),r=Cp(r,this[iy].key),this[Or]==="opening")return this.defer(()=>this.del(e,r,i)),i[vr];if(ww(this,i))return i[vr];let n=this._checkKey(e);if(n)return this.nextTick(i,n),i[vr];let o=this.keyEncoding(r.keyEncoding),s=o.format;return r.keyEncoding!==s&&(r=Object.assign({},r,{keyEncoding:s})),this._del(this.prefixKey(o.encode(e),s),r,f=>{if(f)return i(f);this.emit("del",e),i()}),i[vr]}_del(e,r,i){this.nextTick(i)}batch(e,r,i){if(!arguments.length){if(this[Or]==="opening")return new JJ(this);if(this[Or]!=="open")throw new od("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof e=="function"?i=e:i=ty(r,i),i=Bp(i,vr),r=Cp(r,this[iy].empty),this[Or]==="opening")return this.defer(()=>this.batch(e,r,i)),i[vr];if(ww(this,i))return i[vr];if(!Array.isArray(e))return this.nextTick(i,new TypeError("The first argument 'operations' must be an array")),i[vr];if(e.length===0)return this.nextTick(i),i[vr];let n=new Array(e.length),{keyEncoding:o,valueEncoding:s,...f}=r;for(let d=0;d<e.length;d++){if(typeof e[d]!="object"||e[d]===null)return this.nextTick(i,new TypeError("A batch operation must be an object")),i[vr];let p=Object.assign({},e[d]);if(p.type!=="put"&&p.type!=="del")return this.nextTick(i,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),i[vr];let u=this._checkKey(p.key);if(u)return this.nextTick(i,u),i[vr];let y=p.sublevel!=null?p.sublevel:this,B=y.keyEncoding(p.keyEncoding||o),S=B.format;if(p.key=y.prefixKey(B.encode(p.key),S),p.keyEncoding=S,p.type==="put"){let C=this._checkValue(p.value);if(C)return this.nextTick(i,C),i[vr];let x=y.valueEncoding(p.valueEncoding||s);p.value=x.encode(p.value),p.valueEncoding=x.format}y!==this&&(p.sublevel=null),n[d]=p}return this._batch(n,f,d=>{if(d)return i(d);this.emit("batch",e),i()}),i[vr]}_batch(e,r,i){this.nextTick(i)}sublevel(e,r){return this._sublevel(e,yR.defaults(r))}_sublevel(e,r){return new yR(this,e,r)}prefixKey(e,r){return e}clear(e,r){if(r=ty(e,r),r=Bp(r,vr),e=Cp(e,this[iy].empty),this[Or]==="opening")return this.defer(()=>this.clear(e,r)),r[vr];if(ww(this,r))return r[vr];let i=e,n=this.keyEncoding(e.keyEncoding);return e=o6(e,n),e.keyEncoding=n.format,e.limit===0?this.nextTick(r):this._clear(e,o=>{if(o)return r(o);this.emit("clear",i),r()}),r[vr]}_clear(e,r){this.nextTick(r)}iterator(e){let r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=o6(e,r),e.keys=e.keys!==!1,e.values=e.values!==!1,e[ey.keyEncoding]=r,e[ey.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[Or]==="opening")return new Hxe(this,e);if(this[Or]!=="open")throw new od("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(e)}_iterator(e){return new ey(this,e)}keys(e){let r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=o6(e,r),e[ey.keyEncoding]=r,e[ey.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[Or]==="opening")return new Gxe(this,e);if(this[Or]!=="open")throw new od("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(e)}_keys(e){return new qxe(this,e)}values(e){let r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=o6(e,r),e[ey.keyEncoding]=r,e[ey.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[Or]==="opening")return new jxe(this,e);if(this[Or]!=="open")throw new od("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(e)}_values(e){return new Lxe(this,e)}defer(e){if(typeof e!="function")throw new TypeError("The first argument must be a function");this[jE].push(e)}[zE](){if(this[jE].length===0)return;let e=this[jE];this[jE]=[];for(let r of e)r()}attachResource(e){if(typeof e!="object"||e===null||typeof e.close!="function")throw new TypeError("The first argument must be a resource object");this[ry].add(e)}detachResource(e){this[ry].delete(e)}_chainedBatch(){return new JJ(this)}_checkKey(e){if(e==null)return new od("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(e){if(e==null)return new od("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};YE.prototype.nextTick=LJ();var{AbstractSublevel:yR}=YJ()({AbstractLevel:YE});mR.AbstractLevel=YE;mR.AbstractSublevel=yR;var ww=function(t,e){return t[Or]!=="open"?(t.nextTick(e,new od("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},Yxe=function(t){return Object.keys(t.supports.encodings).filter(e=>!!t.supports.encodings[e])}});var wR=X(ny=>{"use strict";b();ny.AbstractLevel=IR().AbstractLevel;ny.AbstractSublevel=IR().AbstractSublevel;ny.AbstractIterator=bp().AbstractIterator;ny.AbstractKeyIterator=bp().AbstractKeyIterator;ny.AbstractValueIterator=bp().AbstractValueIterator;ny.AbstractChainedBatch=aR().AbstractChainedBatch});var ZJ=X((Hht,WJ)=>{b();WJ.exports=Vxe;var Jxe=fR();function Vxe(t,e,r){if(typeof e!="number")throw new Error("second argument must be a Number");let i,n,o,s,f,d=!0,p;Array.isArray(t)?(i=[],o=n=t.length):(s=Object.keys(t),i={},o=n=s.length);function u(B){function S(){r&&r(B,i),r=null}d?Jxe(S):S()}function y(B,S,C){if(i[B]=C,S&&(f=!0),--o===0||S)u(S);else if(!f&&p<n){let x;s?(x=s[p],p+=1,t[x](function(_,Q){y(x,_,Q)})):(x=p,p+=1,t[x](function(_,Q){y(x,_,Q)}))}}p=e,o?s?s.some(function(B,S){return t[B](function(C,x){y(B,C,x)}),S===e-1}):t.some(function(B,S){return B(function(C,x){y(S,C,x)}),S===e-1}):u(null),d=!1}});var vR=X((jht,$J)=>{"use strict";b();$J.exports=function(e){let r=e.gte!==void 0?e.gte:e.gt!==void 0?e.gt:void 0,i=e.lte!==void 0?e.lte:e.lt!==void 0?e.lt:void 0,n=e.gte===void 0,o=e.lte===void 0;return r!==void 0&&i!==void 0?IDBKeyRange.bound(r,i,n,o):r!==void 0?IDBKeyRange.lowerBound(r,n):i!==void 0?IDBKeyRange.upperBound(i,o):null}});var bR=X((Yht,XJ)=>{"use strict";b();var Wxe=new TextEncoder;XJ.exports=function(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):Wxe.encode(t)}});var nV=X(iV=>{"use strict";b();var{AbstractIterator:Zxe}=wR(),eV=vR(),c6=bR(),xu=Symbol("cache"),ul=Symbol("finished"),Ya=Symbol("options"),hl=Symbol("currentOptions"),oy=Symbol("position"),ER=Symbol("location"),vw=Symbol("first"),tV={},BR=class extends Zxe{constructor(e,r,i){super(e,i),this[xu]=[],this[ul]=this.limit===0,this[Ya]=i,this[hl]={...i},this[oy]=void 0,this[ER]=r,this[vw]=!0}_nextv(e,r,i){if(this[vw]=!1,this[ul])return this.nextTick(i,null,[]);if(this[xu].length>0)return e=Math.min(e,this[xu].length),this.nextTick(i,null,this[xu].splice(0,e));this[oy]!==void 0&&(this[Ya].reverse?(this[hl].lt=this[oy],this[hl].lte=void 0):(this[hl].gt=this[oy],this[hl].gte=void 0));let n;try{n=eV(this[hl])}catch{return this[ul]=!0,this.nextTick(i,null,[])}let o=this.db.db.transaction([this[ER]],"readonly"),s=o.objectStore(this[ER]),f=[];if(this[Ya].reverse){let d=!this[Ya].values&&s.openKeyCursor?"openKeyCursor":"openCursor";s[d](n,"prev").onsuccess=p=>{let u=p.target.result;if(u){let{key:y,value:B}=u;this[oy]=y,f.push([this[Ya].keys&&y!==void 0?c6(y):void 0,this[Ya].values&&B!==void 0?c6(B):void 0]),f.length<e?u.continue():rV(o)}else this[ul]=!0}}else{let d,p,u=()=>{if(d===void 0||p===void 0)return;let y=Math.max(d.length,p.length);y===0||e===1/0?this[ul]=!0:this[oy]=d[y-1],f.length=y;for(let B=0;B<y;B++){let S=d[B],C=p[B];f[B]=[this[Ya].keys&&S!==void 0?c6(S):void 0,this[Ya].values&&C!==void 0?c6(C):void 0]}rV(o)};this[Ya].keys||e<1/0?s.getAllKeys(n,e<1/0?e:void 0).onsuccess=y=>{d=y.target.result,u()}:(d=[],this.nextTick(u)),this[Ya].values?s.getAll(n,e<1/0?e:void 0).onsuccess=y=>{p=y.target.result,u()}:(p=[],this.nextTick(u))}o.onabort=()=>{i(o.error||new Error("aborted by user")),i=null},o.oncomplete=()=>{i(null,f),i=null}}_next(e){if(this[xu].length>0){let[r,i]=this[xu].shift();this.nextTick(e,null,r,i)}else if(this[ul])this.nextTick(e);else{let r=Math.min(100,this.limit-this.count);this[vw]&&(this[vw]=!1,r=1),this._nextv(r,tV,(i,n)=>{if(i)return e(i);this[xu]=n,this._next(e)})}}_all(e,r){this[vw]=!1;let i=this[xu].splice(0,this[xu].length),n=this.limit-this.count-i.length;if(n<=0)return this.nextTick(r,null,i);this._nextv(n,tV,(o,s)=>{if(o)return r(o);i.length>0&&(s=i.concat(s)),r(null,s)})}_seek(e,r){this[vw]=!0,this[xu]=[],this[ul]=!1,this[oy]=void 0,this[hl]={...this[Ya]};let i;try{i=eV(this[Ya])}catch{this[ul]=!0;return}i!==null&&!i.includes(e)?this[ul]=!0:this[Ya].reverse?this[hl].lte=e:this[hl].gte=e}};iV.Iterator=BR;function rV(t){typeof t.commit=="function"&&t.commit()}});var sV=X((Zht,oV)=>{"use strict";b();oV.exports=function(e,r,i,n,o){if(n.limit===0)return e.nextTick(o);let s=e.db.transaction([r],"readwrite"),f=s.objectStore(r),d=0;s.oncomplete=function(){o()},s.onabort=function(){o(s.error||new Error("aborted by user"))};let p=f.openKeyCursor?"openKeyCursor":"openCursor",u=n.reverse?"prev":"next";f[p](i,u).onsuccess=function(y){let B=y.target.result;B&&(f.delete(B.key).onsuccess=function(){(n.limit<=0||++d<n.limit)&&B.continue()})}}});var hV=X(uV=>{"use strict";b();var{AbstractLevel:$xe}=wR(),aV=id(),Xxe=ZJ(),{fromCallback:e3e}=RE(),{Iterator:t3e}=nV(),cV=bR(),r3e=sV(),i3e=vR(),dV="level-js-",JE=Symbol("idb"),CR=Symbol("namePrefix"),ll=Symbol("location"),xR=Symbol("version"),sy=Symbol("store"),VE=Symbol("onComplete"),fV=Symbol("promise"),f6=class extends $xe{constructor(e,r,i){if(typeof r=="function"||typeof i=="function")throw new aV("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{prefix:n,version:o,...s}=r||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},s),typeof e!="string")throw new Error("constructor requires a location string argument");this[ll]=e,this[CR]=n??dV,this[xR]=parseInt(o||1,10),this[JE]=null}get location(){return this[ll]}get namePrefix(){return this[CR]}get version(){return this[xR]}get db(){return this[JE]}get type(){return"browser-level"}_open(e,r){let i=indexedDB.open(this[CR]+this[ll],this[xR]);i.onerror=function(){r(i.error||new Error("unknown error"))},i.onsuccess=()=>{this[JE]=i.result,r()},i.onupgradeneeded=n=>{let o=n.target.result;o.objectStoreNames.contains(this[ll])||o.createObjectStore(this[ll])}}[sy](e){return this[JE].transaction([this[ll]],e).objectStore(this[ll])}[VE](e,r){let i=e.transaction;i.onabort=function(){r(i.error||new Error("aborted by user"))},i.oncomplete=function(){r(null,e.result)}}_get(e,r,i){let n=this[sy]("readonly"),o;try{o=n.get(e)}catch(s){return this.nextTick(i,s)}this[VE](o,function(s,f){if(s)return i(s);if(f===void 0)return i(new aV("Entry not found",{code:"LEVEL_NOT_FOUND"}));i(null,cV(f))})}_getMany(e,r,i){let n=this[sy]("readonly"),o=e.map(s=>f=>{let d;try{d=n.get(s)}catch(p){return f(p)}d.onsuccess=()=>{let p=d.result;f(null,p===void 0?p:cV(p))},d.onerror=p=>{p.stopPropagation(),f(d.error)}});Xxe(o,16,i)}_del(e,r,i){let n=this[sy]("readwrite"),o;try{o=n.delete(e)}catch(s){return this.nextTick(i,s)}this[VE](o,i)}_put(e,r,i,n){let o=this[sy]("readwrite"),s;try{s=o.put(r,e)}catch(f){return this.nextTick(n,f)}this[VE](s,n)}_iterator(e){return new t3e(this,this[ll],e)}_batch(e,r,i){let n=this[sy]("readwrite"),o=n.transaction,s=0,f;o.onabort=function(){i(f||o.error||new Error("aborted by user"))},o.oncomplete=function(){i()};function d(){let p=e[s++],u=p.key,y;try{y=p.type==="del"?n.delete(u):n.put(p.value,u)}catch(B){f=B,o.abort();return}s<e.length?y.onsuccess=d:typeof o.commit=="function"&&o.commit()}d()}_clear(e,r){let i,n;try{i=i3e(e)}catch{return this.nextTick(r)}if(e.limit>=0)return r3e(this,this[ll],i,e,r);try{let o=this[sy]("readwrite");n=i?o.delete(i):o.clear()}catch(o){return this.nextTick(r,o)}this[VE](n,r)}_close(e){this[JE].close(),this.nextTick(e)}};f6.destroy=function(t,e,r){typeof e=="function"&&(r=e,e=dV),r=e3e(r,fV);let i=indexedDB.deleteDatabase(e+t);return i.onsuccess=function(){r()},i.onerror=function(n){r(n)},r[fV]};uV.BrowserLevel=f6});var pl=X(lV=>{b();lV.Level=hV().BrowserLevel});var jn=X((Nyt,oW)=>{"use strict";b();oW.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array}});var Du=X((Oyt,r9)=>{"use strict";b();var Z8e=ni(),$8e=Object.getPrototypeOf(async function(){}).constructor,sW=globalThis.Blob||Z8e.Blob,X8e=typeof sW<"u"?function(e){return e instanceof sW}:function(e){return!1},t9=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let i=0;i<e.length;i++)r+=`    ${e[i].stack}
`;super(r),this.name="AggregateError",this.errors=e}};r9.exports={AggregateError:t9,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((i,n)=>{t=i,e=n}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((i,...n)=>i?r(i):e(...n))})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,i]){let n=e.shift();return i==="f"?n.toFixed(6):i==="j"?JSON.stringify(n):i==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction(t){return t instanceof $8e},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:X8e};r9.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var T6=X((qyt,k6)=>{"use strict";b();var{AbortController:aW,AbortSignal:e6e}=typeof self<"u"?self:typeof window<"u"?window:void 0;k6.exports=aW;k6.exports.AbortSignal=e6e;k6.exports.default=aW});var Ks=X((Hyt,dW)=>{"use strict";b();var{format:t6e,inspect:R6,AggregateError:r6e}=Du(),i6e=globalThis.AggregateError||r6e,n6e=Symbol("kIsNodeError"),o6e=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s6e=/^([A-Z][a-z0-9]*)+$/,a6e="__node_internal_",U6={};function gy(t,e){if(!t)throw new U6.ERR_INTERNAL_ASSERTION(e)}function cW(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function c6e(t,e,r){if(typeof e=="function")return gy(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let i=(e.match(/%[dfijoOs]/g)||[]).length;return gy(i===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),r.length===0?e:t6e(e,...r)}function Ko(t,e,r){r||(r=Error);class i extends r{constructor(...o){super(c6e(t,e,o))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=t,i.prototype[n6e]=!0,U6[t]=i}function fW(t){let e=a6e+t.name;return Object.defineProperty(t,"name",{value:e}),t}function f6e(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new i6e([e,t],e.message);return r.code=e.code,r}return t||e}var i9=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new U6.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};Ko("ERR_ASSERTION","%s",Error);Ko("ERR_INVALID_ARG_TYPE",(t,e,r)=>{gy(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let i="The ";t.endsWith(" argument")?i+=`${t} `:i+=`"${t}" ${t.includes(".")?"property":"argument"} `,i+="must be ";let n=[],o=[],s=[];for(let d of e)gy(typeof d=="string","All expected entries have to be of type string"),o6e.includes(d)?n.push(d.toLowerCase()):s6e.test(d)?o.push(d):(gy(d!=="object",'The value "object" should be written as "Object"'),s.push(d));if(o.length>0){let d=n.indexOf("object");d!==-1&&(n.splice(n,d,1),o.push("Object"))}if(n.length>0){switch(n.length){case 1:i+=`of type ${n[0]}`;break;case 2:i+=`one of type ${n[0]} or ${n[1]}`;break;default:{let d=n.pop();i+=`one of type ${n.join(", ")}, or ${d}`}}(o.length>0||s.length>0)&&(i+=" or ")}if(o.length>0){switch(o.length){case 1:i+=`an instance of ${o[0]}`;break;case 2:i+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let d=o.pop();i+=`an instance of ${o.join(", ")}, or ${d}`}}s.length>0&&(i+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(i+="an "),i+=`${s[0]}`;break;case 2:i+=`one of ${s[0]} or ${s[1]}`;break;default:{let d=s.pop();i+=`one of ${s.join(", ")}, or ${d}`}}if(r==null)i+=`. Received ${r}`;else if(typeof r=="function"&&r.name)i+=`. Received function ${r.name}`;else if(typeof r=="object"){var f;if((f=r.constructor)!==null&&f!==void 0&&f.name)i+=`. Received an instance of ${r.constructor.name}`;else{let d=R6(r,{depth:-1});i+=`. Received ${d}`}}else{let d=R6(r,{colors:!1});d.length>25&&(d=`${d.slice(0,25)}...`),i+=`. Received type ${typeof r} (${d})`}return i},TypeError);Ko("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let i=R6(e);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${i}`},TypeError);Ko("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var i;let n=r!=null&&(i=r.constructor)!==null&&i!==void 0&&i.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${n}.`},TypeError);Ko("ERR_MISSING_ARGS",(...t)=>{gy(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(i=>`"${i}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let i=t.pop();e+=`The ${t.join(", ")}, and ${i} arguments`}break}return`${e} must be specified`},TypeError);Ko("ERR_OUT_OF_RANGE",(t,e,r)=>{gy(e,'Missing "range" argument');let i;return Number.isInteger(r)&&Math.abs(r)>2**32?i=cW(String(r)):typeof r=="bigint"?(i=String(r),(r>2n**32n||r<-(2n**32n))&&(i=cW(i)),i+="n"):i=R6(r),`The value of "${t}" is out of range. It must be ${e}. Received ${i}`},RangeError);Ko("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Ko("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Ko("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Ko("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Ko("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Ko("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ko("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Ko("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Ko("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Ko("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Ko("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);dW.exports={AbortError:i9,aggregateTwoErrors:fW(f6e),hideStackFrames:fW,codes:U6}});var h2=X((jyt,IW)=>{"use strict";b();var{ArrayIsArray:o9,ArrayPrototypeIncludes:pW,ArrayPrototypeJoin:AW,ArrayPrototypeMap:d6e,NumberIsInteger:s9,NumberIsNaN:u6e,NumberMAX_SAFE_INTEGER:h6e,NumberMIN_SAFE_INTEGER:l6e,NumberParseInt:p6e,ObjectPrototypeHasOwnProperty:A6e,RegExpPrototypeExec:gW,String:g6e,StringPrototypeToUpperCase:y6e,StringPrototypeTrim:m6e}=jn(),{hideStackFrames:ef,codes:{ERR_SOCKET_BAD_PORT:I6e,ERR_INVALID_ARG_TYPE:qs,ERR_INVALID_ARG_VALUE:Qw,ERR_OUT_OF_RANGE:yy,ERR_UNKNOWN_SIGNAL:uW}}=Ks(),{normalizeEncoding:w6e}=Du(),{isAsyncFunction:v6e,isArrayBufferView:b6e}=Du().types,hW={};function E6e(t){return t===(t|0)}function B6e(t){return t===t>>>0}var C6e=/^[0-7]+$/,x6e="must be a 32-bit unsigned integer or an octal string";function S6e(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(gW(C6e,t)===null)throw new Qw(e,t,x6e);t=p6e(t,8)}return yW(t,e),t}var _6e=ef((t,e,r=l6e,i=h6e)=>{if(typeof t!="number")throw new qs(e,"number",t);if(!s9(t))throw new yy(e,"an integer",t);if(t<r||t>i)throw new yy(e,`>= ${r} && <= ${i}`,t)}),Q6e=ef((t,e,r=-2147483648,i=2147483647)=>{if(typeof t!="number")throw new qs(e,"number",t);if(!s9(t))throw new yy(e,"an integer",t);if(t<r||t>i)throw new yy(e,`>= ${r} && <= ${i}`,t)}),yW=ef((t,e,r=!1)=>{if(typeof t!="number")throw new qs(e,"number",t);if(!s9(t))throw new yy(e,"an integer",t);let i=r?1:0,n=4294967295;if(t<i||t>n)throw new yy(e,`>= ${i} && <= ${n}`,t)});function a9(t,e){if(typeof t!="string")throw new qs(e,"string",t)}function D6e(t,e,r=void 0,i){if(typeof t!="number")throw new qs(e,"number",t);if(r!=null&&t<r||i!=null&&t>i||(r!=null||i!=null)&&u6e(t))throw new yy(e,`${r!=null?`>= ${r}`:""}${r!=null&&i!=null?" && ":""}${i!=null?`<= ${i}`:""}`,t)}var M6e=ef((t,e,r)=>{if(!pW(r,t)){let n="must be one of: "+AW(d6e(r,o=>typeof o=="string"?`'${o}'`:g6e(o)),", ");throw new Qw(e,t,n)}});function mW(t,e){if(typeof t!="boolean")throw new qs(e,"boolean",t)}function n9(t,e,r){return t==null||!A6e(t,e)?r:t[e]}var k6e=ef((t,e,r=null)=>{let i=n9(r,"allowArray",!1),n=n9(r,"allowFunction",!1);if(!n9(r,"nullable",!1)&&t===null||!i&&o9(t)||typeof t!="object"&&(!n||typeof t!="function"))throw new qs(e,"Object",t)}),T6e=ef((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new qs(e,"a dictionary",t)}),c9=ef((t,e,r=0)=>{if(!o9(t))throw new qs(e,"Array",t);if(t.length<r){let i=`must be longer than ${r}`;throw new Qw(e,t,i)}});function R6e(t,e){c9(t,e);for(let r=0;r<t.length;r++)a9(t[r],`${e}[${r}]`)}function U6e(t,e){c9(t,e);for(let r=0;r<t.length;r++)mW(t[r],`${e}[${r}]`)}function F6e(t,e="signal"){if(a9(t,e),hW[t]===void 0)throw hW[y6e(t)]!==void 0?new uW(t+" (signals must use all capital letters)"):new uW(t)}var N6e=ef((t,e="buffer")=>{if(!b6e(t))throw new qs(e,["Buffer","TypedArray","DataView"],t)});function P6e(t,e){let r=w6e(e),i=t.length;if(r==="hex"&&i%2!==0)throw new Qw("encoding",e,`is invalid for data of length ${i}`)}function O6e(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&m6e(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new I6e(e,t,r);return t|0}var K6e=ef((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new qs(e,"AbortSignal",t)}),q6e=ef((t,e)=>{if(typeof t!="function")throw new qs(e,"Function",t)}),L6e=ef((t,e)=>{if(typeof t!="function"||v6e(t))throw new qs(e,"Function",t)}),H6e=ef((t,e)=>{if(t!==void 0)throw new qs(e,"undefined",t)});function G6e(t,e,r){if(!pW(r,t))throw new qs(e,`('${AW(r,"|")}')`,t)}var j6e=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function lW(t,e){if(typeof t>"u"||!gW(j6e,t))throw new Qw(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function z6e(t){if(typeof t=="string")return lW(t,"hints"),t;if(o9(t)){let e=t.length,r="";if(e===0)return r;for(let i=0;i<e;i++){let n=t[i];lW(n,"hints"),r+=n,i!==e-1&&(r+=", ")}return r}throw new Qw("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}IW.exports={isInt32:E6e,isUint32:B6e,parseFileMode:S6e,validateArray:c9,validateStringArray:R6e,validateBooleanArray:U6e,validateBoolean:mW,validateBuffer:N6e,validateDictionary:T6e,validateEncoding:P6e,validateFunction:q6e,validateInt32:Q6e,validateInteger:_6e,validateNumber:D6e,validateObject:k6e,validateOneOf:M6e,validatePlainFunction:L6e,validatePort:O6e,validateSignalName:F6e,validateString:a9,validateUint32:yW,validateUndefined:H6e,validateUnion:G6e,validateAbortSignal:K6e,validateLinkHeaderValue:z6e}});var ku=X((Yyt,UW)=>{"use strict";b();var{Symbol:F6,SymbolAsyncIterator:wW,SymbolIterator:vW,SymbolFor:bW}=jn(),EW=F6("kDestroyed"),BW=F6("kIsErrored"),f9=F6("kIsReadable"),CW=F6("kIsDisturbed"),Y6e=bW("nodejs.webstream.isClosedPromise"),J6e=bW("nodejs.webstream.controllerErrorFunction");function N6(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function P6(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function V6e(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Mu(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function xW(t){return!!(t&&!Mu(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function SW(t){return!!(t&&!Mu(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function _W(t){return!!(t&&!Mu(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function W6e(t){return xW(t)||SW(t)||_W(t)}function Z6e(t,e){return t==null?!1:e===!0?typeof t[wW]=="function":e===!1?typeof t[vW]=="function":typeof t[wW]=="function"||typeof t[vW]=="function"}function O6(t){if(!Mu(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return!!(t.destroyed||t[EW]||i!=null&&i.destroyed)}function QW(t){if(!P6(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function $6e(t,e){if(!P6(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function X6e(t){if(!N6(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function DW(t,e){if(!N6(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function MW(t){return t&&t[f9]!=null?t[f9]:typeof t?.readable!="boolean"?null:O6(t)?!1:N6(t)&&t.readable&&!DW(t)}function kW(t){return typeof t?.writable!="boolean"?null:O6(t)?!1:P6(t)&&t.writable&&!QW(t)}function eSe(t,e){return Mu(t)?O6(t)?!0:!(e?.readable!==!1&&MW(t)||e?.writable!==!1&&kW(t)):null}function tSe(t){var e,r;return Mu(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function rSe(t){var e,r;return Mu(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function iSe(t){if(!Mu(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&TW(t)?t._closed:null}function TW(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function RW(t){return typeof t._sent100=="boolean"&&TW(t)}function nSe(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function oSe(t){if(!Mu(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return!i&&RW(t)||!!(i&&i.autoDestroy&&i.emitClose&&i.closed===!1)}function sSe(t){var e;return!!(t&&((e=t[CW])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function aSe(t){var e,r,i,n,o,s,f,d,p,u;return!!(t&&((e=(r=(i=(n=(o=(s=t[BW])!==null&&s!==void 0?s:t.readableErrored)!==null&&o!==void 0?o:t.writableErrored)!==null&&n!==void 0?n:(f=t._readableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&i!==void 0?i:(d=t._writableState)===null||d===void 0?void 0:d.errorEmitted)!==null&&r!==void 0?r:(p=t._readableState)===null||p===void 0?void 0:p.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}UW.exports={kDestroyed:EW,isDisturbed:sSe,kIsDisturbed:CW,isErrored:aSe,kIsErrored:BW,isReadable:MW,kIsReadable:f9,kIsClosedPromise:Y6e,kControllerErrorFunction:J6e,isClosed:iSe,isDestroyed:O6,isDuplexNodeStream:V6e,isFinished:eSe,isIterable:Z6e,isReadableNodeStream:N6,isReadableStream:xW,isReadableEnded:X6e,isReadableFinished:DW,isReadableErrored:rSe,isNodeStream:Mu,isWebStream:W6e,isWritable:kW,isWritableNodeStream:P6,isWritableStream:SW,isWritableEnded:QW,isWritableFinished:$6e,isWritableErrored:tSe,isServerRequest:nSe,isServerResponse:RW,willEmitClose:oSe,isTransformStream:_W}});var vl=X((Vyt,p9)=>{b();var Up=ol(),{AbortError:GW,codes:cSe}=Ks(),{ERR_INVALID_ARG_TYPE:fSe,ERR_STREAM_PREMATURE_CLOSE:FW}=cSe,{kEmptyObject:u9,once:h9}=Du(),{validateAbortSignal:dSe,validateFunction:uSe,validateObject:hSe,validateBoolean:lSe}=h2(),{Promise:pSe,PromisePrototypeThen:ASe}=jn(),{isClosed:gSe,isReadable:NW,isReadableNodeStream:d9,isReadableStream:ySe,isReadableFinished:PW,isReadableErrored:OW,isWritable:KW,isWritableNodeStream:qW,isWritableStream:mSe,isWritableFinished:LW,isWritableErrored:HW,isNodeStream:ISe,willEmitClose:wSe,kIsClosedPromise:vSe}=ku();function bSe(t){return t.setHeader&&typeof t.abort=="function"}var l9=()=>{};function jW(t,e,r){var i,n;if(arguments.length===2?(r=e,e=u9):e==null?e=u9:hSe(e,"options"),uSe(r,"callback"),dSe(e.signal,"options.signal"),r=h9(r),ySe(t)||mSe(t))return ESe(t,e,r);if(!ISe(t))throw new fSe("stream",["ReadableStream","WritableStream","Stream"],t);let o=(i=e.readable)!==null&&i!==void 0?i:d9(t),s=(n=e.writable)!==null&&n!==void 0?n:qW(t),f=t._writableState,d=t._readableState,p=()=>{t.writable||B()},u=wSe(t)&&d9(t)===o&&qW(t)===s,y=LW(t,!1),B=()=>{y=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||o))&&(!o||S)&&r.call(t)},S=PW(t,!1),C=()=>{S=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||s))&&(!s||y)&&r.call(t)},x=T=>{r.call(t,T)},_=gSe(t),Q=()=>{_=!0;let T=HW(t)||OW(t);if(T&&typeof T!="boolean")return r.call(t,T);if(o&&!S&&d9(t,!0)&&!PW(t,!1))return r.call(t,new FW);if(s&&!y&&!LW(t,!1))return r.call(t,new FW);r.call(t)},R=()=>{_=!0;let T=HW(t)||OW(t);if(T&&typeof T!="boolean")return r.call(t,T);r.call(t)},k=()=>{t.req.on("finish",B)};bSe(t)?(t.on("complete",B),u||t.on("abort",Q),t.req?k():t.on("request",k)):s&&!f&&(t.on("end",p),t.on("close",p)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",Q),t.on("end",C),t.on("finish",B),e.error!==!1&&t.on("error",x),t.on("close",Q),_?Up.nextTick(Q):f!=null&&f.errorEmitted||d!=null&&d.errorEmitted?u||Up.nextTick(R):(!o&&(!u||NW(t))&&(y||KW(t)===!1)||!s&&(!u||KW(t))&&(S||NW(t)===!1)||d&&t.req&&t.aborted)&&Up.nextTick(R);let K=()=>{r=l9,t.removeListener("aborted",Q),t.removeListener("complete",B),t.removeListener("abort",Q),t.removeListener("request",k),t.req&&t.req.removeListener("finish",B),t.removeListener("end",p),t.removeListener("close",p),t.removeListener("finish",B),t.removeListener("end",C),t.removeListener("error",x),t.removeListener("close",Q)};if(e.signal&&!_){let T=()=>{let L=r;K(),L.call(t,new GW(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Up.nextTick(T);else{let L=r;r=h9((...H)=>{e.signal.removeEventListener("abort",T),L.apply(t,H)}),e.signal.addEventListener("abort",T)}}return K}function ESe(t,e,r){let i=!1,n=l9;if(e.signal)if(n=()=>{i=!0,r.call(t,new GW(void 0,{cause:e.signal.reason}))},e.signal.aborted)Up.nextTick(n);else{let s=r;r=h9((...f)=>{e.signal.removeEventListener("abort",n),s.apply(t,f)}),e.signal.addEventListener("abort",n)}let o=(...s)=>{i||Up.nextTick(()=>r.apply(t,s))};return ASe(t[vSe].promise,o,o),l9}function BSe(t,e){var r;let i=!1;return e===null&&(e=u9),(r=e)!==null&&r!==void 0&&r.cleanup&&(lSe(e.cleanup,"cleanup"),i=e.cleanup),new pSe((n,o)=>{let s=jW(t,e,f=>{i&&s(),f?o(f):n()})})}p9.exports=jW;p9.exports.finished=BSe});var my=X((Zyt,XW)=>{"use strict";b();var Tu=ol(),{aggregateTwoErrors:CSe,codes:{ERR_MULTIPLE_CALLBACK:xSe},AbortError:SSe}=Ks(),{Symbol:JW}=jn(),{kDestroyed:_Se,isDestroyed:QSe,isFinished:DSe,isServerRequest:MSe}=ku(),VW=JW("kDestroy"),A9=JW("kConstruct");function WW(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function kSe(t,e){let r=this._readableState,i=this._writableState,n=i||r;return i!=null&&i.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(WW(t,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),n.constructed?zW(this,t,e):this.once(VW,function(o){zW(this,CSe(o,t),e)}),this)}function zW(t,e,r){let i=!1;function n(o){if(i)return;i=!0;let s=t._readableState,f=t._writableState;WW(o,f,s),f&&(f.closed=!0),s&&(s.closed=!0),typeof r=="function"&&r(o),o?Tu.nextTick(TSe,t,o):Tu.nextTick(ZW,t)}try{t._destroy(e||null,n)}catch(o){n(o)}}function TSe(t,e){g9(t,e),ZW(t)}function ZW(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function g9(t,e){let r=t._readableState,i=t._writableState;i!=null&&i.errorEmitted||r!=null&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function RSe(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function y9(t,e,r){let i=t._readableState,n=t._writableState;if(n!=null&&n.destroyed||i!=null&&i.destroyed)return this;i!=null&&i.autoDestroy||n!=null&&n.autoDestroy?t.destroy(e):e&&(e.stack,n&&!n.errored&&(n.errored=e),i&&!i.errored&&(i.errored=e),r?Tu.nextTick(g9,t,e):g9(t,e))}function USe(t,e){if(typeof t._construct!="function")return;let r=t._readableState,i=t._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),t.once(A9,e),!(t.listenerCount(A9)>1)&&Tu.nextTick(FSe,t)}function FSe(t){let e=!1;function r(i){if(e){y9(t,i??new xSe);return}e=!0;let n=t._readableState,o=t._writableState,s=o||n;n&&(n.constructed=!0),o&&(o.constructed=!0),s.destroyed?t.emit(VW,i):i?y9(t,i,!0):Tu.nextTick(NSe,t)}try{t._construct(i=>{Tu.nextTick(r,i)})}catch(i){Tu.nextTick(r,i)}}function NSe(t){t.emit(A9)}function YW(t){return t?.setHeader&&typeof t.abort=="function"}function $W(t){t.emit("close")}function PSe(t,e){t.emit("error",e),Tu.nextTick($W,t)}function OSe(t,e){!t||QSe(t)||(!e&&!DSe(t)&&(e=new SSe),MSe(t)?(t.socket=null,t.destroy(e)):YW(t)?t.abort():YW(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Tu.nextTick(PSe,t,e):Tu.nextTick($W,t),t.destroyed||(t[_Se]=!0))}XW.exports={construct:USe,destroyer:OSe,destroy:kSe,undestroy:RSe,errorOrDestroy:y9}});var L6=X((Xyt,tZ)=>{"use strict";b();var{ArrayIsArray:KSe,ObjectSetPrototypeOf:eZ}=jn(),{EventEmitter:K6}=va();function q6(t){K6.call(this,t)}eZ(q6.prototype,K6.prototype);eZ(q6,K6);q6.prototype.pipe=function(t,e){let r=this;function i(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",i);function n(){r.readable&&r.resume&&r.resume()}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",f));let o=!1;function s(){o||(o=!0,t.end())}function f(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function d(u){p(),K6.listenerCount(this,"error")===0&&this.emit("error",u)}m9(r,"error",d),m9(t,"error",d);function p(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",s),r.removeListener("close",f),r.removeListener("error",d),t.removeListener("error",d),r.removeListener("end",p),r.removeListener("close",p),t.removeListener("close",p)}return r.on("end",p),r.on("close",p),t.on("close",p),t.emit("pipe",r),t};function m9(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):KSe(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}tZ.exports={Stream:q6,prependListener:m9}});var l2=X((tmt,H6)=>{"use strict";b();var{AbortError:rZ,codes:qSe}=Ks(),{isNodeStream:iZ,isWebStream:LSe,kControllerErrorFunction:HSe}=ku(),GSe=vl(),{ERR_INVALID_ARG_TYPE:nZ}=qSe,jSe=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new nZ(e,"AbortSignal",t)};H6.exports.addAbortSignal=function(e,r){if(jSe(e,"signal"),!iZ(r)&&!LSe(r))throw new nZ("stream",["ReadableStream","WritableStream","Stream"],r);return H6.exports.addAbortSignalNoValidate(e,r)};H6.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=iZ(e)?()=>{e.destroy(new rZ(void 0,{cause:t.reason}))}:()=>{e[HSe](new rZ(void 0,{cause:t.reason}))};return t.aborted?r():(t.addEventListener("abort",r),GSe(e,()=>t.removeEventListener("abort",r))),e}});var aZ=X((nmt,sZ)=>{"use strict";b();var{StringPrototypeSlice:oZ,SymbolIterator:zSe,TypedArrayPrototypeSet:G6,Uint8Array:YSe}=jn(),{Buffer:I9}=ni(),{inspect:JSe}=Du();sZ.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,i=""+r.data;for(;(r=r.next)!==null;)i+=e+r.data;return i}concat(e){if(this.length===0)return I9.alloc(0);let r=I9.allocUnsafe(e>>>0),i=this.head,n=0;for(;i;)G6(r,i.data,n),n+=i.data.length,i=i.next;return r}consume(e,r){let i=this.head.data;if(e<i.length){let n=i.slice(0,e);return this.head.data=i.slice(e),n}return e===i.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[zSe](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",i=this.head,n=0;do{let o=i.data;if(e>o.length)r+=o,e-=o.length;else{e===o.length?(r+=o,++n,i.next?this.head=i.next:this.head=this.tail=null):(r+=oZ(o,0,e),this.head=i,i.data=oZ(o,e));break}++n}while((i=i.next)!==null);return this.length-=n,r}_getBuffer(e){let r=I9.allocUnsafe(e),i=e,n=this.head,o=0;do{let s=n.data;if(e>s.length)G6(r,s,i-e),e-=s.length;else{e===s.length?(G6(r,s,i-e),++o,n.next?this.head=n.next:this.head=this.tail=null):(G6(r,new YSe(s.buffer,s.byteOffset,e),i-e),this.head=n,n.data=s.slice(e));break}++o}while((n=n.next)!==null);return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return JSe(this,{...r,depth:0,customInspect:!1})}}});var j6=X((smt,fZ)=>{"use strict";b();var{MathFloor:VSe,NumberIsInteger:WSe}=jn(),{ERR_INVALID_ARG_VALUE:ZSe}=Ks().codes;function $Se(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function cZ(t){return t?16:16*1024}function XSe(t,e,r,i){let n=$Se(e,i,r);if(n!=null){if(!WSe(n)||n<0){let o=i?`options.${r}`:"options.highWaterMark";throw new ZSe(o,n)}return VSe(n)}return cZ(t.objectMode)}fZ.exports={getHighWaterMark:XSe,getDefaultHighWaterMark:cZ}});var hZ=X((w9,uZ)=>{b();var z6=ni(),Ru=z6.Buffer;function dZ(t,e){for(var r in t)e[r]=t[r]}Ru.from&&Ru.alloc&&Ru.allocUnsafe&&Ru.allocUnsafeSlow?uZ.exports=z6:(dZ(z6,w9),w9.Buffer=Iy);function Iy(t,e,r){return Ru(t,e,r)}Iy.prototype=Object.create(Ru.prototype);dZ(Ru,Iy);Iy.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Ru(t,e,r)};Iy.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Ru(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Iy.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ru(t)};Iy.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return z6.SlowBuffer(t)}});var ud=X(pZ=>{"use strict";b();var b9=hZ().Buffer,lZ=b9.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function e_e(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function t_e(t){var e=e_e(t);if(typeof e!="string"&&(b9.isEncoding===lZ||!lZ(t)))throw new Error("Unknown encoding: "+t);return e||t}pZ.StringDecoder=p2;function p2(t){this.encoding=t_e(t);var e;switch(this.encoding){case"utf16le":this.text=a_e,this.end=c_e,e=4;break;case"utf8":this.fillLast=n_e,e=4;break;case"base64":this.text=f_e,this.end=d_e,e=3;break;default:this.write=u_e,this.end=h_e;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=b9.allocUnsafe(e)}p2.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};p2.prototype.end=s_e;p2.prototype.text=o_e;p2.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function v9(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function r_e(t,e,r){var i=e.length-1;if(i<r)return 0;var n=v9(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=v9(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=v9(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function i_e(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function n_e(t){var e=this.lastTotal-this.lastNeed,r=i_e(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function o_e(t,e){var r=r_e(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function s_e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function a_e(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c_e(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function f_e(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function d_e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function u_e(t){return t.toString(this.encoding)}function h_e(t){return t&&t.length?this.write(t):""}});var E9=X((umt,mZ)=>{"use strict";b();var AZ=ol(),{PromisePrototypeThen:l_e,SymbolAsyncIterator:gZ,SymbolIterator:yZ}=jn(),{Buffer:p_e}=ni(),{ERR_INVALID_ARG_TYPE:A_e,ERR_STREAM_NULL_VALUES:g_e}=Ks().codes;function y_e(t,e,r){let i;if(typeof e=="string"||e instanceof p_e)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let n;if(e&&e[gZ])n=!0,i=e[gZ]();else if(e&&e[yZ])n=!1,i=e[yZ]();else throw new A_e("iterable",["Iterable"],e);let o=new t({objectMode:!0,highWaterMark:1,...r}),s=!1;o._read=function(){s||(s=!0,d())},o._destroy=function(p,u){l_e(f(p),()=>AZ.nextTick(u,p),y=>AZ.nextTick(u,y||p))};async function f(p){let u=p!=null,y=typeof i.throw=="function";if(u&&y){let{value:B,done:S}=await i.throw(p);if(await B,S)return}if(typeof i.return=="function"){let{value:B}=await i.return();await B}}async function d(){for(;;){try{let{value:p,done:u}=n?await i.next():i.next();if(u)o.push(null);else{let y=p&&typeof p.then=="function"?await p:p;if(y===null)throw s=!1,new g_e;if(o.push(y))continue;s=!1}}catch(p){o.destroy(p)}break}}return o}mZ.exports=y_e});var A2=X((lmt,MZ)=>{b();var hd=ol(),{ArrayPrototypeIndexOf:m_e,NumberIsInteger:I_e,NumberIsNaN:w_e,NumberParseInt:v_e,ObjectDefineProperties:vZ,ObjectKeys:b_e,ObjectSetPrototypeOf:bZ,Promise:E_e,SafeSet:B_e,SymbolAsyncIterator:C_e,Symbol:x_e}=jn();MZ.exports=xr;xr.ReadableState=Q9;var{EventEmitter:S_e}=va(),{Stream:Fp,prependListener:__e}=L6(),{Buffer:B9}=ni(),{addAbortSignal:Q_e}=l2(),D_e=vl(),Lr=Du().debuglog("stream",t=>{Lr=t}),M_e=aZ(),Mw=my(),{getHighWaterMark:k_e,getDefaultHighWaterMark:T_e}=j6(),{aggregateTwoErrors:IZ,codes:{ERR_INVALID_ARG_TYPE:R_e,ERR_METHOD_NOT_IMPLEMENTED:U_e,ERR_OUT_OF_RANGE:F_e,ERR_STREAM_PUSH_AFTER_EOF:N_e,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:P_e}}=Ks(),{validateObject:O_e}=h2(),wy=x_e("kPaused"),{StringDecoder:EZ}=ud(),K_e=E9();bZ(xr.prototype,Fp.prototype);bZ(xr,Fp);var C9=()=>{},{errorOrDestroy:Dw}=Mw;function Q9(t,e,r){typeof r!="boolean"&&(r=e instanceof Uu()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.readableObjectMode)),this.highWaterMark=t?k_e(this,t,"readableHighWaterMark",r):T_e(!1),this.buffer=new M_e,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[wy]=null,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new EZ(t.encoding),this.encoding=t.encoding)}function xr(t){if(!(this instanceof xr))return new xr(t);let e=this instanceof Uu();this._readableState=new Q9(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&Q_e(t.signal,this)),Fp.call(this,t),Mw.construct(this,()=>{this._readableState.needReadable&&Y6(this,this._readableState)})}xr.prototype.destroy=Mw.destroy;xr.prototype._undestroy=Mw.undestroy;xr.prototype._destroy=function(t,e){e(t)};xr.prototype[S_e.captureRejectionSymbol]=function(t){this.destroy(t)};xr.prototype.push=function(t,e){return BZ(this,t,e,!1)};xr.prototype.unshift=function(t,e){return BZ(this,t,e,!0)};function BZ(t,e,r,i){Lr("readableAddChunk",e);let n=t._readableState,o;if(n.objectMode||(typeof e=="string"?(r=r||n.defaultEncoding,n.encoding!==r&&(i&&n.encoding?e=B9.from(e,r).toString(n.encoding):(e=B9.from(e,r),r=""))):e instanceof B9?r="":Fp._isUint8Array(e)?(e=Fp._uint8ArrayToBuffer(e),r=""):e!=null&&(o=new R_e("chunk",["string","Buffer","Uint8Array"],e))),o)Dw(t,o);else if(e===null)n.reading=!1,H_e(t,n);else if(n.objectMode||e&&e.length>0)if(i)if(n.endEmitted)Dw(t,new P_e);else{if(n.destroyed||n.errored)return!1;x9(t,n,e,!0)}else if(n.ended)Dw(t,new N_e);else{if(n.destroyed||n.errored)return!1;n.reading=!1,n.decoder&&!r?(e=n.decoder.write(e),n.objectMode||e.length!==0?x9(t,n,e,!1):Y6(t,n)):x9(t,n,e,!1)}else i||(n.reading=!1,Y6(t,n));return!n.ended&&(n.length<n.highWaterMark||n.length===0)}function x9(t,e,r,i){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&J6(t)),Y6(t,e)}xr.prototype.isPaused=function(){let t=this._readableState;return t[wy]===!0||t.flowing===!1};xr.prototype.setEncoding=function(t){let e=new EZ(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,i="";for(let n of r)i+=e.write(n);return r.clear(),i!==""&&r.push(i),this._readableState.length=i.length,this};var q_e=1073741824;function L_e(t){if(t>q_e)throw new F_e("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function wZ(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:w_e(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}xr.prototype.read=function(t){Lr("read",t),t===void 0?t=NaN:I_e(t)||(t=v_e(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=L_e(t)),t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Lr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?S9(this):J6(this),null;if(t=wZ(t,e),t===0&&e.ended)return e.length===0&&S9(this),null;let i=e.needReadable;if(Lr("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Lr("length less than watermark",i)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)i=!1,Lr("reading, ended or constructing",i);else if(i){Lr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0);try{this._read(e.highWaterMark)}catch(o){Dw(this,o)}e.sync=!1,e.reading||(t=wZ(r,e))}let n;return t>0?n=QZ(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&S9(this)),n!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",n)),n};function H_e(t,e){if(Lr("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?J6(t):(e.needReadable=!1,e.emittedReadable=!0,CZ(t))}}function J6(t){let e=t._readableState;Lr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Lr("emitReadable",e.flowing),e.emittedReadable=!0,hd.nextTick(CZ,t))}function CZ(t){let e=t._readableState;Lr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,SZ(t)}function Y6(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,hd.nextTick(G_e,t,e))}function G_e(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Lr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}xr.prototype._read=function(t){throw new U_e("_read()")};xr.prototype.pipe=function(t,e){let r=this,i=this._readableState;i.pipes.length===1&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new B_e(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(t),Lr("pipe count=%d opts=%j",i.pipes.length,e);let o=(!e||e.end!==!1)&&t!==hd.stdout&&t!==hd.stderr?f:_;i.endEmitted?hd.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(Q,R){Lr("onunpipe"),Q===r&&R&&R.hasUnpiped===!1&&(R.hasUnpiped=!0,u())}function f(){Lr("onend"),t.end()}let d,p=!1;function u(){Lr("cleanup"),t.removeListener("close",C),t.removeListener("finish",x),d&&t.removeListener("drain",d),t.removeListener("error",S),t.removeListener("unpipe",s),r.removeListener("end",f),r.removeListener("end",_),r.removeListener("data",B),p=!0,d&&i.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&d()}function y(){p||(i.pipes.length===1&&i.pipes[0]===t?(Lr("false write response, pause",0),i.awaitDrainWriters=t,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(t)&&(Lr("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(t)),r.pause()),d||(d=j_e(r,t),t.on("drain",d))}r.on("data",B);function B(Q){Lr("ondata");let R=t.write(Q);Lr("dest.write",R),R===!1&&y()}function S(Q){if(Lr("onerror",Q),_(),t.removeListener("error",S),t.listenerCount("error")===0){let R=t._writableState||t._readableState;R&&!R.errorEmitted?Dw(t,Q):t.emit("error",Q)}}__e(t,"error",S);function C(){t.removeListener("finish",x),_()}t.once("close",C);function x(){Lr("onfinish"),t.removeListener("close",C),_()}t.once("finish",x);function _(){Lr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?i.flowing&&y():i.flowing||(Lr("pipe resume"),r.resume()),t};function j_e(t,e){return function(){let i=t._readableState;i.awaitDrainWriters===e?(Lr("pipeOnDrain",1),i.awaitDrainWriters=null):i.multiAwaitDrain&&(Lr("pipeOnDrain",i.awaitDrainWriters.size),i.awaitDrainWriters.delete(e)),(!i.awaitDrainWriters||i.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}xr.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let n=e.pipes;e.pipes=[],this.pause();for(let o=0;o<n.length;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}let i=m_e(e.pipes,t);return i===-1?this:(e.pipes.splice(i,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};xr.prototype.on=function(t,e){let r=Fp.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Lr("on readable",i.length,i.reading),i.length?J6(this):i.reading||hd.nextTick(z_e,this)),r};xr.prototype.addListener=xr.prototype.on;xr.prototype.removeListener=function(t,e){let r=Fp.prototype.removeListener.call(this,t,e);return t==="readable"&&hd.nextTick(xZ,this),r};xr.prototype.off=xr.prototype.removeListener;xr.prototype.removeAllListeners=function(t){let e=Fp.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&hd.nextTick(xZ,this),e};function xZ(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[wy]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function z_e(t){Lr("readable nexttick read 0"),t.read(0)}xr.prototype.resume=function(){let t=this._readableState;return t.flowing||(Lr("resume"),t.flowing=!t.readableListening,Y_e(this,t)),t[wy]=!1,this};function Y_e(t,e){e.resumeScheduled||(e.resumeScheduled=!0,hd.nextTick(J_e,t,e))}function J_e(t,e){Lr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),SZ(t),e.flowing&&!e.reading&&t.read(0)}xr.prototype.pause=function(){return Lr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Lr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[wy]=!0,this};function SZ(t){let e=t._readableState;for(Lr("flow",e.flowing);e.flowing&&t.read()!==null;);}xr.prototype.wrap=function(t){let e=!1;t.on("data",i=>{!this.push(i)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",i=>{Dw(this,i)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=b_e(t);for(let i=1;i<r.length;i++){let n=r[i];this[n]===void 0&&typeof t[n]=="function"&&(this[n]=t[n].bind(t))}return this};xr.prototype[C_e]=function(){return _Z(this)};xr.prototype.iterator=function(t){return t!==void 0&&O_e(t,"options"),_Z(this,t)};function _Z(t,e){typeof t.read!="function"&&(t=xr.wrap(t,{objectMode:!0}));let r=V_e(t,e);return r.stream=t,r}async function*V_e(t,e){let r=C9;function i(s){this===t?(r(),r=C9):r=s}t.on("readable",i);let n,o=D_e(t,{writable:!1},s=>{n=s?IZ(n,s):null,r(),r=C9});try{for(;;){let s=t.destroyed?null:t.read();if(s!==null)yield s;else{if(n)throw n;if(n===null)return;await new E_e(i)}}}catch(s){throw n=IZ(n,s),n}finally{(n||e?.destroyOnReturn!==!1)&&(n===void 0||t._readableState.autoDestroy)?Mw.destroyer(t,null):(t.off("readable",i),o())}}vZ(xr.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});vZ(Q9.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[wy]!==!1},set(t){this[wy]=!!t}}});xr._fromList=QZ;function QZ(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function S9(t){let e=t._readableState;Lr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,hd.nextTick(W_e,e,t))}function W_e(t,e){if(Lr("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)hd.nextTick(Z_e,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function Z_e(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}xr.from=function(t,e){return K_e(xr,t,e)};var _9;function DZ(){return _9===void 0&&(_9={}),_9}xr.fromWeb=function(t,e){return DZ().newStreamReadableFromReadableStream(t,e)};xr.toWeb=function(t,e){return DZ().newReadableStreamFromStreamReadable(t,e)};xr.wrap=function(t,e){var r,i;return new xr({objectMode:(r=(i=t.readableObjectMode)!==null&&i!==void 0?i:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(n,o){Mw.destroyer(t,n),o(n)}}).wrap(t)}});var F9=X((Amt,HZ)=>{b();var vy=ol(),{ArrayPrototypeSlice:RZ,Error:$_e,FunctionPrototypeSymbolHasInstance:UZ,ObjectDefineProperty:FZ,ObjectDefineProperties:X_e,ObjectSetPrototypeOf:NZ,StringPrototypeToLowerCase:eQe,Symbol:tQe,SymbolHasInstance:rQe}=jn();HZ.exports=An;An.WritableState=m2;var{EventEmitter:iQe}=va(),g2=L6().Stream,{Buffer:V6}=ni(),$6=my(),{addAbortSignal:nQe}=l2(),{getHighWaterMark:oQe,getDefaultHighWaterMark:sQe}=j6(),{ERR_INVALID_ARG_TYPE:aQe,ERR_METHOD_NOT_IMPLEMENTED:cQe,ERR_MULTIPLE_CALLBACK:PZ,ERR_STREAM_CANNOT_PIPE:fQe,ERR_STREAM_DESTROYED:y2,ERR_STREAM_ALREADY_FINISHED:dQe,ERR_STREAM_NULL_VALUES:uQe,ERR_STREAM_WRITE_AFTER_END:hQe,ERR_UNKNOWN_ENCODING:OZ}=Ks().codes,{errorOrDestroy:kw}=$6;NZ(An.prototype,g2.prototype);NZ(An,g2);function k9(){}var Tw=tQe("kOnFinished");function m2(t,e,r){typeof r!="boolean"&&(r=e instanceof Uu()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?oQe(this,t,"writableHighWaterMark",r):sQe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(t&&t.decodeStrings===!1);this.decodeStrings=!i,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=pQe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Z6(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Tw]=[]}function Z6(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}m2.prototype.getBuffer=function(){return RZ(this.buffered,this.bufferedIndex)};FZ(m2.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function An(t){let e=this instanceof Uu();if(!e&&!UZ(An,this))return new An(t);this._writableState=new m2(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&nQe(t.signal,this)),g2.call(this,t),$6.construct(this,()=>{let r=this._writableState;r.writing||R9(this,r),U9(this,r)})}FZ(An,rQe,{__proto__:null,value:function(t){return UZ(this,t)?!0:this!==An?!1:t&&t._writableState instanceof m2}});An.prototype.pipe=function(){kw(this,new fQe)};function KZ(t,e,r,i){let n=t._writableState;if(typeof r=="function")i=r,r=n.defaultEncoding;else{if(!r)r=n.defaultEncoding;else if(r!=="buffer"&&!V6.isEncoding(r))throw new OZ(r);typeof i!="function"&&(i=k9)}if(e===null)throw new uQe;if(!n.objectMode)if(typeof e=="string")n.decodeStrings!==!1&&(e=V6.from(e,r),r="buffer");else if(e instanceof V6)r="buffer";else if(g2._isUint8Array(e))e=g2._uint8ArrayToBuffer(e),r="buffer";else throw new aQe("chunk",["string","Buffer","Uint8Array"],e);let o;return n.ending?o=new hQe:n.destroyed&&(o=new y2("write")),o?(vy.nextTick(i,o),kw(t,o,!0),o):(n.pendingcb++,lQe(t,n,e,r,i))}An.prototype.write=function(t,e,r){return KZ(this,t,e,r)===!0};An.prototype.cork=function(){this._writableState.corked++};An.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||R9(this,t))};An.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=eQe(e)),!V6.isEncoding(e))throw new OZ(e);return this._writableState.defaultEncoding=e,this};function lQe(t,e,r,i,n){let o=e.objectMode?1:r.length;e.length+=o;let s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:i,callback:n}),e.allBuffers&&i!=="buffer"&&(e.allBuffers=!1),e.allNoop&&n!==k9&&(e.allNoop=!1)):(e.writelen=o,e.writecb=n,e.writing=!0,e.sync=!0,t._write(r,i,e.onwrite),e.sync=!1),s&&!e.errored&&!e.destroyed}function kZ(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new y2("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function TZ(t,e,r,i){--e.pendingcb,i(r),T9(e),kw(t,r)}function pQe(t,e){let r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function"){kw(t,new PZ);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),i?vy.nextTick(TZ,t,r,e,n):TZ(t,r,e,n)):(r.buffered.length>r.bufferedIndex&&R9(t,r),i?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===n?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:n,stream:t,state:r},vy.nextTick(AQe,r.afterWriteTickInfo)):qZ(t,r,1,n))}function AQe({stream:t,state:e,count:r,cb:i}){return e.afterWriteTickInfo=null,qZ(t,e,r,i)}function qZ(t,e,r,i){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,i();e.destroyed&&T9(e),U9(t,e)}function T9(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;let{chunk:o,callback:s}=t.buffered[n],f=t.objectMode?1:o.length;t.length-=f,s((e=t.errored)!==null&&e!==void 0?e:new y2("write"))}let r=t[Tw].splice(0);for(let n=0;n<r.length;n++){var i;r[n]((i=t.errored)!==null&&i!==void 0?i:new y2("end"))}Z6(t)}function R9(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:i,objectMode:n}=e,o=r.length-i;if(!o)return;let s=i;if(e.bufferProcessing=!0,o>1&&t._writev){e.pendingcb-=o-1;let f=e.allNoop?k9:p=>{for(let u=s;u<r.length;++u)r[u].callback(p)},d=e.allNoop&&s===0?r:RZ(r,s);d.allBuffers=e.allBuffers,kZ(t,e,!0,e.length,d,"",f),Z6(e)}else{do{let{chunk:f,encoding:d,callback:p}=r[s];r[s++]=null;let u=n?1:f.length;kZ(t,e,!1,u,f,d,p)}while(s<r.length&&!e.writing);s===r.length?Z6(e):s>256?(r.splice(0,s),e.bufferedIndex=0):e.bufferedIndex=s}e.bufferProcessing=!1}An.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new cQe("_write()")};An.prototype._writev=null;An.prototype.end=function(t,e,r){let i=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let n;if(t!=null){let o=KZ(this,t,e);o instanceof $_e&&(n=o)}return i.corked&&(i.corked=1,this.uncork()),n||(!i.errored&&!i.ending?(i.ending=!0,U9(this,i,!0),i.ended=!0):i.finished?n=new dQe("end"):i.destroyed&&(n=new y2("end"))),typeof r=="function"&&(n||i.finished?vy.nextTick(r,n):i[Tw].push(r)),this};function W6(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function gQe(t,e){let r=!1;function i(n){if(r){kw(t,n??PZ());return}if(r=!0,e.pendingcb--,n){let o=e[Tw].splice(0);for(let s=0;s<o.length;s++)o[s](n);kw(t,n,e.sync)}else W6(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,vy.nextTick(M9,t,e))}e.sync=!0,e.pendingcb++;try{t._final(i)}catch(n){i(n)}e.sync=!1}function yQe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,gQe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function U9(t,e,r){W6(e)&&(yQe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,vy.nextTick((i,n)=>{W6(n)?M9(i,n):n.pendingcb--},t,e)):W6(e)&&(e.pendingcb++,M9(t,e))))}function M9(t,e){e.pendingcb--,e.finished=!0;let r=e[Tw].splice(0);for(let i=0;i<r.length;i++)r[i]();if(t.emit("finish"),e.autoDestroy){let i=t._readableState;(!i||i.autoDestroy&&(i.endEmitted||i.readable===!1))&&t.destroy()}}X_e(An.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var mQe=$6.destroy;An.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Tw].length)&&vy.nextTick(T9,r),mQe.call(this,t,e),this};An.prototype._undestroy=$6.undestroy;An.prototype._destroy=function(t,e){e(t)};An.prototype[iQe.captureRejectionSymbol]=function(t){this.destroy(t)};var D9;function LZ(){return D9===void 0&&(D9={}),D9}An.fromWeb=function(t,e){return LZ().newStreamWritableFromWritableStream(t,e)};An.toWeb=function(t){return LZ().newWritableStreamFromStreamWritable(t)}});var t$=X((ymt,e$)=>{b();var N9=ol(),IQe=ni(),{isReadable:wQe,isWritable:vQe,isIterable:GZ,isNodeStream:bQe,isReadableNodeStream:jZ,isWritableNodeStream:zZ,isDuplexNodeStream:EQe}=ku(),YZ=vl(),{AbortError:XZ,codes:{ERR_INVALID_ARG_TYPE:BQe,ERR_INVALID_RETURN_VALUE:JZ}}=Ks(),{destroyer:Rw}=my(),CQe=Uu(),xQe=A2(),{createDeferredPromise:VZ}=Du(),WZ=E9(),ZZ=globalThis.Blob||IQe.Blob,SQe=typeof ZZ<"u"?function(e){return e instanceof ZZ}:function(e){return!1},_Qe=globalThis.AbortController||T6().AbortController,{FunctionPrototypeCall:$Z}=jn(),by=class extends CQe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};e$.exports=function t(e,r){if(EQe(e))return e;if(jZ(e))return X6({readable:e});if(zZ(e))return X6({writable:e});if(bQe(e))return X6({writable:!1,readable:!1});if(typeof e=="function"){let{value:n,write:o,final:s,destroy:f}=QQe(e);if(GZ(n))return WZ(by,n,{objectMode:!0,write:o,final:s,destroy:f});let d=n?.then;if(typeof d=="function"){let p,u=$Z(d,n,y=>{if(y!=null)throw new JZ("nully","body",y)},y=>{Rw(p,y)});return p=new by({objectMode:!0,readable:!1,write:o,final(y){s(async()=>{try{await u,N9.nextTick(y,null)}catch(B){N9.nextTick(y,B)}})},destroy:f})}throw new JZ("Iterable, AsyncIterable or AsyncFunction",r,n)}if(SQe(e))return t(e.arrayBuffer());if(GZ(e))return WZ(by,e,{objectMode:!0,writable:!1});if(typeof e?.writable=="object"||typeof e?.readable=="object"){let n=e!=null&&e.readable?jZ(e?.readable)?e?.readable:t(e.readable):void 0,o=e!=null&&e.writable?zZ(e?.writable)?e?.writable:t(e.writable):void 0;return X6({readable:n,writable:o})}let i=e?.then;if(typeof i=="function"){let n;return $Z(i,e,o=>{o!=null&&n.push(o),n.push(null)},o=>{Rw(n,o)}),n=new by({objectMode:!0,writable:!1,read(){}})}throw new BQe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function QQe(t){let{promise:e,resolve:r}=VZ(),i=new _Qe,n=i.signal;return{value:t(async function*(){for(;;){let s=e;e=null;let{chunk:f,done:d,cb:p}=await s;if(N9.nextTick(p),d)return;if(n.aborted)throw new XZ(void 0,{cause:n.reason});({promise:e,resolve:r}=VZ()),yield f}}(),{signal:n}),write(s,f,d){let p=r;r=null,p({chunk:s,done:!1,cb:d})},final(s){let f=r;r=null,f({done:!0,cb:s})},destroy(s,f){i.abort(),f(s)}}}function X6(t){let e=t.readable&&typeof t.readable.read!="function"?xQe.wrap(t.readable):t.readable,r=t.writable,i=!!wQe(e),n=!!vQe(r),o,s,f,d,p;function u(y){let B=d;d=null,B?B(y):y&&p.destroy(y)}return p=new by({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:i,writable:n}),n&&(YZ(r,y=>{n=!1,y&&Rw(e,y),u(y)}),p._write=function(y,B,S){r.write(y,B)?S():o=S},p._final=function(y){r.end(),s=y},r.on("drain",function(){if(o){let y=o;o=null,y()}}),r.on("finish",function(){if(s){let y=s;s=null,y()}})),i&&(YZ(e,y=>{i=!1,y&&Rw(e,y),u(y)}),e.on("readable",function(){if(f){let y=f;f=null,y()}}),e.on("end",function(){p.push(null)}),p._read=function(){for(;;){let y=e.read();if(y===null){f=p._read;return}if(!p.push(y))return}}),p._destroy=function(y,B){!y&&d!==null&&(y=new XZ),f=null,o=null,s=null,d===null?B(y):(d=B,Rw(r,y),Rw(e,y))},p}});var Uu=X((Imt,n$)=>{"use strict";b();var{ObjectDefineProperties:DQe,ObjectGetOwnPropertyDescriptor:bl,ObjectKeys:MQe,ObjectSetPrototypeOf:r$}=jn();n$.exports=ld;var K9=A2(),tf=F9();r$(ld.prototype,K9.prototype);r$(ld,K9);{let t=MQe(tf.prototype);for(let e=0;e<t.length;e++){let r=t[e];ld.prototype[r]||(ld.prototype[r]=tf.prototype[r])}}function ld(t){if(!(this instanceof ld))return new ld(t);K9.call(this,t),tf.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}DQe(ld.prototype,{writable:{__proto__:null,...bl(tf.prototype,"writable")},writableHighWaterMark:{__proto__:null,...bl(tf.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...bl(tf.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...bl(tf.prototype,"writableBuffer")},writableLength:{__proto__:null,...bl(tf.prototype,"writableLength")},writableFinished:{__proto__:null,...bl(tf.prototype,"writableFinished")},writableCorked:{__proto__:null,...bl(tf.prototype,"writableCorked")},writableEnded:{__proto__:null,...bl(tf.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...bl(tf.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var P9;function i$(){return P9===void 0&&(P9={}),P9}ld.fromWeb=function(t,e){return i$().newStreamDuplexFromReadableWritablePair(t,e)};ld.toWeb=function(t){return i$().newReadableWritablePairFromDuplex(t)};var O9;ld.from=function(t){return O9||(O9=t$()),O9(t,"body")}});var H9=X((vmt,s$)=>{"use strict";b();var{ObjectSetPrototypeOf:o$,Symbol:kQe}=jn();s$.exports=El;var{ERR_METHOD_NOT_IMPLEMENTED:TQe}=Ks().codes,L9=Uu(),{getHighWaterMark:RQe}=j6();o$(El.prototype,L9.prototype);o$(El,L9);var I2=kQe("kCallback");function El(t){if(!(this instanceof El))return new El(t);let e=t?RQe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),L9.call(this,t),this._readableState.sync=!1,this[I2]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",UQe)}function q9(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function UQe(){this._final!==q9&&q9.call(this)}El.prototype._final=q9;El.prototype._transform=function(t,e,r){throw new TQe("_transform()")};El.prototype._write=function(t,e,r){let i=this._readableState,n=this._writableState,o=i.length;this._transform(t,e,(s,f)=>{if(s){r(s);return}f!=null&&this.push(f),n.ended||o===i.length||i.length<i.highWaterMark?r():this[I2]=r})};El.prototype._read=function(){if(this[I2]){let t=this[I2];this[I2]=null,t()}}});var j9=X((Emt,c$)=>{"use strict";b();var{ObjectSetPrototypeOf:a$}=jn();c$.exports=Uw;var G9=H9();a$(Uw.prototype,G9.prototype);a$(Uw,G9);function Uw(t){if(!(this instanceof Uw))return new Uw(t);G9.call(this,t)}Uw.prototype._transform=function(t,e,r){r(null,t)}});var iS=X((Cmt,l$)=>{b();var w2=ol(),{ArrayIsArray:FQe,Promise:NQe,SymbolAsyncIterator:PQe}=jn(),rS=vl(),{once:OQe}=Du(),KQe=my(),f$=Uu(),{aggregateTwoErrors:qQe,codes:{ERR_INVALID_ARG_TYPE:X9,ERR_INVALID_RETURN_VALUE:z9,ERR_MISSING_ARGS:LQe,ERR_STREAM_DESTROYED:HQe,ERR_STREAM_PREMATURE_CLOSE:GQe},AbortError:jQe}=Ks(),{validateFunction:zQe,validateAbortSignal:YQe}=h2(),{isIterable:Ey,isReadable:Y9,isReadableNodeStream:tS,isNodeStream:d$,isTransformStream:Fw,isWebStream:JQe,isReadableStream:J9,isReadableEnded:VQe}=ku(),WQe=globalThis.AbortController||T6().AbortController,V9,W9;function u$(t,e,r){let i=!1;t.on("close",()=>{i=!0});let n=rS(t,{readable:e,writable:r},o=>{i=!o});return{destroy:o=>{i||(i=!0,KQe.destroyer(t,o||new HQe("pipe")))},cleanup:n}}function ZQe(t){return zQe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function Z9(t){if(Ey(t))return t;if(tS(t))return $Qe(t);throw new X9("val",["Readable","Iterable","AsyncIterable"],t)}async function*$Qe(t){W9||(W9=A2()),yield*W9.prototype[PQe].call(t)}async function eS(t,e,r,{end:i}){let n,o=null,s=p=>{if(p&&(n=p),o){let u=o;o=null,u()}},f=()=>new NQe((p,u)=>{n?u(n):o=()=>{n?u(n):p()}});e.on("drain",s);let d=rS(e,{readable:!1},s);try{e.writableNeedDrain&&await f();for await(let p of t)e.write(p)||await f();i&&e.end(),await f(),r()}catch(p){r(n!==p?qQe(n,p):p)}finally{d(),e.off("drain",s)}}async function $9(t,e,r,{end:i}){Fw(e)&&(e=e.writable);let n=e.getWriter();try{for await(let o of t)await n.ready,n.write(o).catch(()=>{});await n.ready,i&&await n.close(),r()}catch(o){try{await n.abort(o),r(o)}catch(s){r(s)}}}function XQe(...t){return h$(t,OQe(ZQe(t)))}function h$(t,e,r){if(t.length===1&&FQe(t[0])&&(t=t[0]),t.length<2)throw new LQe("streams");let i=new WQe,n=i.signal,o=r?.signal,s=[];YQe(o,"options.signal");function f(){S(new jQe)}o?.addEventListener("abort",f);let d,p,u=[],y=0;function B(R){S(R,--y===0)}function S(R,k){if(R&&(!d||d.code==="ERR_STREAM_PREMATURE_CLOSE")&&(d=R),!(!d&&!k)){for(;u.length;)u.shift()(d);o?.removeEventListener("abort",f),i.abort(),k&&(d||s.forEach(K=>K()),w2.nextTick(e,d,p))}}let C;for(let R=0;R<t.length;R++){let k=t[R],K=R<t.length-1,T=R>0,L=K||r?.end!==!1,H=R===t.length-1;if(d$(k)){let O=function(G){G&&G.name!=="AbortError"&&G.code!=="ERR_STREAM_PREMATURE_CLOSE"&&B(G)};var Q=O;if(L){let{destroy:G,cleanup:v}=u$(k,K,T);u.push(G),Y9(k)&&H&&s.push(v)}k.on("error",O),Y9(k)&&H&&s.push(()=>{k.removeListener("error",O)})}if(R===0)if(typeof k=="function"){if(C=k({signal:n}),!Ey(C))throw new z9("Iterable, AsyncIterable or Stream","source",C)}else Ey(k)||tS(k)||Fw(k)?C=k:C=f$.from(k);else if(typeof k=="function"){if(Fw(C)){var x;C=Z9((x=C)===null||x===void 0?void 0:x.readable)}else C=Z9(C);if(C=k(C,{signal:n}),K){if(!Ey(C,!0))throw new z9("AsyncIterable",`transform[${R-1}]`,C)}else{var _;V9||(V9=j9());let O=new V9({objectMode:!0}),G=(_=C)===null||_===void 0?void 0:_.then;if(typeof G=="function")y++,G.call(C,h=>{p=h,h!=null&&O.write(h),L&&O.end(),w2.nextTick(B)},h=>{O.destroy(h),w2.nextTick(B,h)});else if(Ey(C,!0))y++,eS(C,O,B,{end:L});else if(J9(C)||Fw(C)){let h=C.readable||C;y++,eS(h,O,B,{end:L})}else throw new z9("AsyncIterable or Promise","destination",C);C=O;let{destroy:v,cleanup:a}=u$(C,!1,!0);u.push(v),H&&s.push(a)}}else if(d$(k)){if(tS(C)){y+=2;let O=e4e(C,k,B,{end:L});Y9(k)&&H&&s.push(O)}else if(Fw(C)||J9(C)){let O=C.readable||C;y++,eS(O,k,B,{end:L})}else if(Ey(C))y++,eS(C,k,B,{end:L});else throw new X9("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],C);C=k}else if(JQe(k)){if(tS(C))y++,$9(Z9(C),k,B,{end:L});else if(J9(C)||Ey(C))y++,$9(C,k,B,{end:L});else if(Fw(C))y++,$9(C.readable,k,B,{end:L});else throw new X9("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],C);C=k}else C=f$.from(k)}return(n!=null&&n.aborted||o!=null&&o.aborted)&&w2.nextTick(f),C}function e4e(t,e,r,{end:i}){let n=!1;if(e.on("close",()=>{n||r(new GQe)}),t.pipe(e,{end:!1}),i){let s=function(){n=!0,e.end()};var o=s;VQe(t)?w2.nextTick(s):t.once("end",s)}else r();return rS(t,{readable:!0,writable:!1},s=>{let f=t._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&f&&f.ended&&!f.errored&&!f.errorEmitted?t.once("end",r).once("error",r):r(s)}),rS(e,{readable:!1,writable:!0},r)}l$.exports={pipelineImpl:h$,pipeline:XQe}});var tU=X((Smt,I$)=>{"use strict";b();var{pipeline:t4e}=iS(),nS=Uu(),{destroyer:r4e}=my(),{isNodeStream:oS,isReadable:p$,isWritable:A$,isWebStream:eU,isTransformStream:By,isWritableStream:g$,isReadableStream:y$}=ku(),{AbortError:i4e,codes:{ERR_INVALID_ARG_VALUE:m$,ERR_MISSING_ARGS:n4e}}=Ks(),o4e=vl();I$.exports=function(...e){if(e.length===0)throw new n4e("streams");if(e.length===1)return nS.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=nS.from(e[0])),typeof e[e.length-1]=="function"){let S=e.length-1;e[S]=nS.from(e[S])}for(let S=0;S<e.length;++S)if(!(!oS(e[S])&&!eU(e[S]))){if(S<e.length-1&&!(p$(e[S])||y$(e[S])||By(e[S])))throw new m$(`streams[${S}]`,r[S],"must be readable");if(S>0&&!(A$(e[S])||g$(e[S])||By(e[S])))throw new m$(`streams[${S}]`,r[S],"must be writable")}let i,n,o,s,f;function d(S){let C=s;s=null,C?C(S):S?f.destroy(S):!B&&!y&&f.destroy()}let p=e[0],u=t4e(e,d),y=!!(A$(p)||g$(p)||By(p)),B=!!(p$(u)||y$(u)||By(u));if(f=new nS({writableObjectMode:!!(p!=null&&p.writableObjectMode),readableObjectMode:!!(u!=null&&u.writableObjectMode),writable:y,readable:B}),y){if(oS(p))f._write=function(C,x,_){p.write(C,x)?_():i=_},f._final=function(C){p.end(),n=C},p.on("drain",function(){if(i){let C=i;i=null,C()}});else if(eU(p)){let x=(By(p)?p.writable:p).getWriter();f._write=async function(_,Q,R){try{await x.ready,x.write(_).catch(()=>{}),R()}catch(k){R(k)}},f._final=async function(_){try{await x.ready,x.close().catch(()=>{}),n=_}catch(Q){_(Q)}}}let S=By(u)?u.readable:u;o4e(S,()=>{if(n){let C=n;n=null,C()}})}if(B){if(oS(u))u.on("readable",function(){if(o){let S=o;o=null,S()}}),u.on("end",function(){f.push(null)}),f._read=function(){for(;;){let S=u.read();if(S===null){o=f._read;return}if(!f.push(S))return}};else if(eU(u)){let C=(By(u)?u.readable:u).getReader();f._read=async function(){for(;;)try{let{value:x,done:_}=await C.read();if(!f.push(x))return;if(_){f.push(null);return}}catch{return}}}}return f._destroy=function(S,C){!S&&s!==null&&(S=new i4e),o=null,i=null,n=null,s===null?C(S):(s=C,oS(u)&&r4e(u,S))},f}});var S$=X((Qmt,nU)=>{"use strict";b();var E$=globalThis.AbortController||T6().AbortController,{codes:{ERR_INVALID_ARG_VALUE:s4e,ERR_INVALID_ARG_TYPE:v2,ERR_MISSING_ARGS:a4e,ERR_OUT_OF_RANGE:c4e},AbortError:Fu}=Ks(),{validateAbortSignal:Cy,validateInteger:f4e,validateObject:xy}=h2(),d4e=jn().Symbol("kWeak"),{finished:u4e}=vl(),h4e=tU(),{addAbortSignalNoValidate:l4e}=l2(),{isWritable:p4e,isNodeStream:A4e}=ku(),{ArrayPrototypePush:g4e,MathFloor:y4e,Number:m4e,NumberIsNaN:I4e,Promise:w$,PromiseReject:v$,PromisePrototypeThen:w4e,Symbol:B$}=jn(),sS=B$("kEmpty"),b$=B$("kEof");function v4e(t,e){if(e!=null&&xy(e,"options"),e?.signal!=null&&Cy(e.signal,"options.signal"),A4e(t)&&!p4e(t))throw new s4e("stream",t,"must be writable");let r=h4e(this,t);return e!=null&&e.signal&&l4e(e.signal,r),r}function aS(t,e){if(typeof t!="function")throw new v2("fn",["Function","AsyncFunction"],t);e!=null&&xy(e,"options"),e?.signal!=null&&Cy(e.signal,"options.signal");let r=1;return e?.concurrency!=null&&(r=y4e(e.concurrency)),f4e(r,"concurrency",1),(async function*(){var n,o;let s=new E$,f=this,d=[],p=s.signal,u={signal:p},y=()=>s.abort();e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted&&y(),e==null||(o=e.signal)===null||o===void 0||o.addEventListener("abort",y);let B,S,C=!1;function x(){C=!0}async function _(){try{for await(let k of f){var Q;if(C)return;if(p.aborted)throw new Fu;try{k=t(k,u)}catch(K){k=v$(K)}k!==sS&&(typeof((Q=k)===null||Q===void 0?void 0:Q.catch)=="function"&&k.catch(x),d.push(k),B&&(B(),B=null),!C&&d.length&&d.length>=r&&await new w$(K=>{S=K}))}d.push(b$)}catch(k){let K=v$(k);w4e(K,void 0,x),d.push(K)}finally{var R;C=!0,B&&(B(),B=null),e==null||(R=e.signal)===null||R===void 0||R.removeEventListener("abort",y)}}_();try{for(;;){for(;d.length>0;){let Q=await d[0];if(Q===b$)return;if(p.aborted)throw new Fu;Q!==sS&&(yield Q),d.shift(),S&&(S(),S=null)}await new w$(Q=>{B=Q})}}finally{s.abort(),C=!0,S&&(S(),S=null)}}).call(this)}function b4e(t=void 0){return t!=null&&xy(t,"options"),t?.signal!=null&&Cy(t.signal,"options.signal"),(async function*(){let r=0;for await(let n of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new Fu({cause:t.signal.reason});yield[r++,n]}}).call(this)}async function C$(t,e=void 0){for await(let r of iU.call(this,t,e))return!0;return!1}async function E4e(t,e=void 0){if(typeof t!="function")throw new v2("fn",["Function","AsyncFunction"],t);return!await C$.call(this,async(...r)=>!await t(...r),e)}async function B4e(t,e){for await(let r of iU.call(this,t,e))return r}async function C4e(t,e){if(typeof t!="function")throw new v2("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n),sS}for await(let i of aS.call(this,r,e));}function iU(t,e){if(typeof t!="function")throw new v2("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n)?i:sS}return aS.call(this,r,e)}var rU=class extends a4e{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function x4e(t,e,r){var i;if(typeof t!="function")throw new v2("reducer",["Function","AsyncFunction"],t);r!=null&&xy(r,"options"),r?.signal!=null&&Cy(r.signal,"options.signal");let n=arguments.length>1;if(r!=null&&(i=r.signal)!==null&&i!==void 0&&i.aborted){let p=new Fu(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await u4e(this.destroy(p)),p}let o=new E$,s=o.signal;if(r!=null&&r.signal){let p={once:!0,[d4e]:this};r.signal.addEventListener("abort",()=>o.abort(),p)}let f=!1;try{for await(let p of this){var d;if(f=!0,r!=null&&(d=r.signal)!==null&&d!==void 0&&d.aborted)throw new Fu;n?e=await t(e,p,{signal:s}):(e=p,n=!0)}if(!f&&!n)throw new rU}finally{o.abort()}return e}async function S4e(t){t!=null&&xy(t,"options"),t?.signal!=null&&Cy(t.signal,"options.signal");let e=[];for await(let i of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Fu(void 0,{cause:t.signal.reason});g4e(e,i)}return e}function _4e(t,e){let r=aS.call(this,t,e);return(async function*(){for await(let n of r)yield*n}).call(this)}function x$(t){if(t=m4e(t),I4e(t))return 0;if(t<0)throw new c4e("number",">= 0",t);return t}function Q4e(t,e=void 0){return e!=null&&xy(e,"options"),e?.signal!=null&&Cy(e.signal,"options.signal"),t=x$(t),(async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Fu;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Fu;t--<=0&&(yield o)}}).call(this)}function D4e(t,e=void 0){return e!=null&&xy(e,"options"),e?.signal!=null&&Cy(e.signal,"options.signal"),t=x$(t),(async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Fu;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Fu;if(t-- >0)yield o;else return}}).call(this)}nU.exports.streamReturningOperators={asIndexedPairs:b4e,drop:Q4e,filter:iU,flatMap:_4e,map:aS,take:D4e,compose:v4e};nU.exports.promiseReturningOperators={every:E4e,forEach:C4e,reduce:x4e,toArray:S4e,some:C$,find:B4e}});var oU=X((Mmt,_$)=>{"use strict";b();var{ArrayPrototypePop:M4e,Promise:k4e}=jn(),{isIterable:T4e,isNodeStream:R4e,isWebStream:U4e}=ku(),{pipelineImpl:F4e}=iS(),{finished:N4e}=vl();sU();function P4e(...t){return new k4e((e,r)=>{let i,n,o=t[t.length-1];if(o&&typeof o=="object"&&!R4e(o)&&!T4e(o)&&!U4e(o)){let s=M4e(t);i=s.signal,n=s.end}F4e(t,(s,f)=>{s?r(s):e(f)},{signal:i,end:n})})}_$.exports={finished:N4e,pipeline:P4e}});var sU=X((Tmt,N$)=>{b();var{Buffer:O4e}=ni(),{ObjectDefineProperty:Bl,ObjectKeys:M$,ReflectApply:k$}=jn(),{promisify:{custom:T$}}=Du(),{streamReturningOperators:Q$,promiseReturningOperators:D$}=S$(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:R$}}=Ks(),K4e=tU(),{pipeline:U$}=iS(),{destroyer:q4e}=my(),F$=vl(),aU=oU(),cU=ku(),Pn=N$.exports=L6().Stream;Pn.isDisturbed=cU.isDisturbed;Pn.isErrored=cU.isErrored;Pn.isReadable=cU.isReadable;Pn.Readable=A2();for(let t of M$(Q$)){let r=function(...i){if(new.target)throw R$();return Pn.Readable.from(k$(e,this,i))};fU=r;let e=Q$[t];Bl(r,"name",{__proto__:null,value:e.name}),Bl(r,"length",{__proto__:null,value:e.length}),Bl(Pn.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var fU;for(let t of M$(D$)){let r=function(...n){if(new.target)throw R$();return k$(e,this,n)};fU=r;let e=D$[t];Bl(r,"name",{__proto__:null,value:e.name}),Bl(r,"length",{__proto__:null,value:e.length}),Bl(Pn.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var fU;Pn.Writable=F9();Pn.Duplex=Uu();Pn.Transform=H9();Pn.PassThrough=j9();Pn.pipeline=U$;var{addAbortSignal:L4e}=l2();Pn.addAbortSignal=L4e;Pn.finished=F$;Pn.destroy=q4e;Pn.compose=K4e;Bl(Pn,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return aU}});Bl(U$,T$,{__proto__:null,enumerable:!0,get(){return aU.pipeline}});Bl(F$,T$,{__proto__:null,enumerable:!0,get(){return aU.finished}});Pn.Stream=Pn;Pn._isUint8Array=function(e){return e instanceof Uint8Array};Pn._uint8ArrayToBuffer=function(e){return O4e.from(e.buffer,e.byteOffset,e.byteLength)}});var Nw=X((Umt,On)=>{"use strict";b();var to=sU(),H4e=oU(),G4e=to.Readable.destroy;On.exports=to.Readable;On.exports._uint8ArrayToBuffer=to._uint8ArrayToBuffer;On.exports._isUint8Array=to._isUint8Array;On.exports.isDisturbed=to.isDisturbed;On.exports.isErrored=to.isErrored;On.exports.isReadable=to.isReadable;On.exports.Readable=to.Readable;On.exports.Writable=to.Writable;On.exports.Duplex=to.Duplex;On.exports.Transform=to.Transform;On.exports.PassThrough=to.PassThrough;On.exports.addAbortSignal=to.addAbortSignal;On.exports.finished=to.finished;On.exports.destroy=to.destroy;On.exports.destroy=G4e;On.exports.pipeline=to.pipeline;On.exports.compose=to.compose;Object.defineProperty(to,"promises",{configurable:!0,enumerable:!0,get(){return H4e}});On.exports.Stream=to.Stream;On.exports.default=On.exports});var q$=X(($mt,K$)=>{b();function O$(t){return t.length}function z4e(t){let e=t.byteLength,r="";for(let i=0;i<e;i++)r+=String.fromCharCode(t[i]);return r}function Y4e(t,e,r=0,i=O$(e)){let n=Math.min(i,t.byteLength-r);for(let o=0;o<n;o++)t[r+o]=e.charCodeAt(o);return n}K$.exports={byteLength:O$,toString:z4e,write:Y4e}});var G$=X((eIt,H$)=>{b();var Pw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sy=new Uint8Array(256);for(let t=0;t<Pw.length;t++)Sy[Pw.charCodeAt(t)]=t;Sy[45]=62;Sy[95]=63;function L$(t){let e=t.length;return t.charCodeAt(e-1)===61&&e--,e>1&&t.charCodeAt(e-1)===61&&e--,e*3>>>2}function J4e(t){let e=t.byteLength,r="";for(let i=0;i<e;i+=3)r+=Pw[t[i]>>2]+Pw[(t[i]&3)<<4|t[i+1]>>4]+Pw[(t[i+1]&15)<<2|t[i+2]>>6]+Pw[t[i+2]&63];return e%3===2?r=r.substring(0,r.length-1)+"=":e%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function V4e(t,e,r=0,i=L$(e)){let n=Math.min(i,t.byteLength-r);for(let o=0,s=0;s<n;o+=4){let f=Sy[e.charCodeAt(o)],d=Sy[e.charCodeAt(o+1)],p=Sy[e.charCodeAt(o+2)],u=Sy[e.charCodeAt(o+3)];t[s++]=f<<2|d>>4,t[s++]=(d&15)<<4|p>>2,t[s++]=(p&3)<<6|u&63}return n}H$.exports={byteLength:L$,toString:J4e,write:V4e}});var J$=X((rIt,Y$)=>{b();function z$(t){return t.length>>>1}function W4e(t){let e=t.byteLength;t=new DataView(t.buffer,t.byteOffset,e);let r="",i=0;for(let n=e-e%4;i<n;i+=4)r+=t.getUint32(i).toString(16).padStart(8,"0");for(;i<e;i++)r+=t.getUint8(i).toString(16).padStart(2,"0");return r}function Z4e(t,e,r=0,i=z$(e)){let n=Math.min(i,t.byteLength-r);for(let o=0;o<n;o++){let s=j$(e.charCodeAt(o*2)),f=j$(e.charCodeAt(o*2+1));if(s===void 0||f===void 0)return t.subarray(0,o);t[r+o]=s<<4|f}return n}Y$.exports={byteLength:z$,toString:W4e,write:Z4e};function j$(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-65+10;if(t>=97&&t<=102)return t-97+10}});var W$=X((nIt,V$)=>{b();function hU(t){let e=0;for(let r=0,i=t.length;r<i;r++){let n=t.charCodeAt(r);if(n>=55296&&n<=56319&&r+1<i){let o=t.charCodeAt(r+1);if(o>=56320&&o<=57343){e+=4,r++;continue}}n<=127?e+=1:n<=2047?e+=2:e+=3}return e}var lU;if(typeof TextDecoder<"u"){let t=new TextDecoder;lU=function(r){return t.decode(r)}}else lU=function(e){let r=e.byteLength,i="",n=0;for(;n<r;){let o=e[n];if(o<=127){i+=String.fromCharCode(o),n++;continue}let s=0,f=0;if(o<=223?(s=1,f=o&31):o<=239?(s=2,f=o&15):o<=244&&(s=3,f=o&7),r-n-s>0){let d=0;for(;d<s;)o=e[n+d+1],f=f<<6|o&63,d+=1}else f=65533,s=r-n;i+=String.fromCodePoint(f),n+=s+1}return i};var pU;if(typeof TextEncoder<"u"){let t=new TextEncoder;pU=function(r,i,n=0,o=hU(i)){let s=Math.min(o,r.byteLength-n);return t.encodeInto(i,r.subarray(n,n+s)),s}}else pU=function(e,r,i=0,n=hU(r)){let o=Math.min(n,e.byteLength-i);e=e.subarray(i,i+o);let s=0,f=0;for(;s<r.length;){let d=r.codePointAt(s);if(d<=127){e[f++]=d,s++;continue}let p=0,u=0;for(d<=2047?(p=6,u=192):d<=65535?(p=12,u=224):d<=2097151&&(p=18,u=240),e[f++]=u|d>>p,p-=6;p>=0;)e[f++]=128|d>>p&63,p-=6;s+=d>=65536?2:1}return o};V$.exports={byteLength:hU,toString:lU,write:pU}});var X$=X((sIt,$$)=>{b();function Z$(t){return t.length*2}function $4e(t){let e=t.byteLength,r="";for(let i=0;i<e-1;i+=2)r+=String.fromCharCode(t[i]+t[i+1]*256);return r}function X4e(t,e,r=0,i=Z$(e)){let n=Math.min(i,t.byteLength-r),o=n;for(let s=0;s<e.length&&!((o-=2)<0);++s){let f=e.charCodeAt(s),d=f>>8,p=f%256;t[r+s*2]=p,t[r+s*2+1]=d}return n}$$.exports={byteLength:Z$,toString:$4e,write:X4e}});var Qy=X((gU,iX)=>{b();var e5e=q$(),t5e=G$(),r5e=J$(),i5e=W$(),n5e=X$(),cS=new Uint8Array(Uint16Array.of(255).buffer)[0]===255;function E2(t){switch(t){case"ascii":return e5e;case"base64":return t5e;case"hex":return r5e;case"utf8":case"utf-8":case void 0:return i5e;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n5e;default:throw new Error(`Unknown encoding: ${t}`)}}function eX(t){return t instanceof Uint8Array}function o5e(t){try{return E2(t),!0}catch{return!1}}function s5e(t,e,r){let i=new Uint8Array(t);return e!==void 0&&gU.fill(i,e,0,i.byteLength,r),i}function a5e(t){return new Uint8Array(t)}function c5e(t){return new Uint8Array(t)}function f5e(t,e){return E2(e).byteLength(t)}function d5e(t,e){if(t===e)return 0;let r=Math.min(t.byteLength,e.byteLength);t=new DataView(t.buffer,t.byteOffset,t.byteLength),e=new DataView(e.buffer,e.byteOffset,e.byteLength);let i=0;for(let n=r-r%4;i<n;i+=4){let o=t.getUint32(i,cS),s=e.getUint32(i,cS);if(o!==s)break}for(;i<r;i++){let n=t.getUint8(i),o=e.getUint8(i);if(n<o)return-1;if(n>o)return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0}function u5e(t,e){e===void 0&&(e=t.reduce((n,o)=>n+o.byteLength,0));let r=new Uint8Array(e),i=0;for(let n of t){if(i+n.byteLength>r.byteLength){let o=n.subarray(0,r.byteLength-i);return r.set(o,i),r}r.set(n,i),i+=n.byteLength}return r}function h5e(t,e,r=0,i=0,n=t.byteLength){if(n>0&&n<i||n===i||t.byteLength===0||e.byteLength===0)return 0;if(r<0)throw new RangeError("targetStart is out of range");if(i<0||i>=t.byteLength)throw new RangeError("sourceStart is out of range");if(n<0)throw new RangeError("sourceEnd is out of range");r>=e.byteLength&&(r=e.byteLength),n>t.byteLength&&(n=t.byteLength),e.byteLength-r<n-i&&(n=e.length-r+i);let o=n-i;return t===e?e.copyWithin(r,i,n):e.set(t.subarray(i,n),r),o}function l5e(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;let r=t.byteLength;t=new DataView(t.buffer,t.byteOffset,t.byteLength),e=new DataView(e.buffer,e.byteOffset,e.byteLength);let i=0;for(let n=r-r%4;i<n;i+=4)if(t.getUint32(i,cS)!==e.getUint32(i,cS))return!1;for(;i<r;i++)if(t.getUint8(i)!==e.getUint8(i))return!1;return!0}function p5e(t,e,r,i,n){if(typeof e=="string"?typeof r=="string"?(n=r,r=0,i=t.byteLength):typeof i=="string"&&(n=i,i=t.byteLength):typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=+e),r<0||t.byteLength<r||t.byteLength<i)throw new RangeError("Out of range index");if(r===void 0&&(r=0),i===void 0&&(i=t.byteLength),i<=r)return t;if(e||(e=0),typeof e=="number")for(let o=r;o<i;++o)t[o]=e;else{e=eX(e)?e:AU(e,n);let o=e.byteLength;for(let s=0;s<i-r;++s)t[s+r]=e[s%o]}return t}function AU(t,e,r){return typeof t=="string"?A5e(t,e):Array.isArray(t)?g5e(t):ArrayBuffer.isView(t)?y5e(t):m5e(t,e,r)}function A5e(t,e){let r=E2(e),i=new Uint8Array(r.byteLength(t));return r.write(i,t,0,i.byteLength),i}function g5e(t){let e=new Uint8Array(t.length);return e.set(t),e}function y5e(t){let e=new Uint8Array(t.byteLength);return e.set(t),e}function m5e(t,e,r){return new Uint8Array(t,e,r)}function I5e(t,e,r,i){return rX(t,e,r,i)!==-1}function tX(t,e,r,i,n){if(t.byteLength===0)return-1;if(typeof r=="string"?(i=r,r=0):r===void 0?r=n?0:t.length-1:r<0&&(r+=t.byteLength),r>=t.byteLength){if(n)return-1;r=t.byteLength-1}else if(r<0)if(n)r=0;else return-1;if(typeof e=="string")e=AU(e,i);else if(typeof e=="number")return e=e&255,n?t.indexOf(e,r):t.lastIndexOf(e,r);if(e.byteLength===0)return-1;if(n){let o=-1;for(let s=r;s<t.byteLength;s++)if(t[s]===e[o===-1?0:s-o]){if(o===-1&&(o=s),s-o+1===e.byteLength)return o}else o!==-1&&(s-=s-o),o=-1}else{r+e.byteLength>t.byteLength&&(r=t.byteLength-e.byteLength);for(let o=r;o>=0;o--){let s=!0;for(let f=0;f<e.byteLength;f++)if(t[o+f]!==e[f]){s=!1;break}if(s)return o}}return-1}function rX(t,e,r,i){return tX(t,e,r,i,!0)}function w5e(t,e,r,i){return tX(t,e,r,i,!1)}function _y(t,e,r){let i=t[e];t[e]=t[r],t[r]=i}function v5e(t){let e=t.byteLength;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)_y(t,r,r+1);return t}function b5e(t){let e=t.byteLength;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)_y(t,r,r+3),_y(t,r+1,r+2);return t}function E5e(t){let e=t.byteLength;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)_y(t,r,r+7),_y(t,r+1,r+6),_y(t,r+2,r+5),_y(t,r+3,r+4);return t}function B5e(t){return t}function C5e(t,e,r=0,i=t.byteLength){let n=t.byteLength;return r>=n||i<=r?"":(r<0&&(r=0),i>n&&(i=n),(r!==0||i<n)&&(t=t.subarray(r,i)),E2(e).toString(t))}function x5e(t,e,r,i,n){return r===void 0?n="utf8":i===void 0&&typeof r=="string"?(n=r,r=void 0):n===void 0&&typeof i=="string"&&(n=i,i=void 0),E2(n).write(t,e,r,i)}function S5e(t,e,r){return r===void 0&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),r+8}function _5e(t,e,r){return r===void 0&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),r+4}function Q5e(t,e,r){return r===void 0&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setUint32(r,e,!0),r+4}function D5e(t,e,r){return r===void 0&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setInt32(r,e,!0),r+4}function M5e(t,e){return e===void 0&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e,!0)}function k5e(t,e){return e===void 0&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e,!0)}function T5e(t,e){return e===void 0&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getUint32(e,!0)}function R5e(t,e){return e===void 0&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getInt32(e,!0)}iX.exports=gU={isBuffer:eX,isEncoding:o5e,alloc:s5e,allocUnsafe:a5e,allocUnsafeSlow:c5e,byteLength:f5e,compare:d5e,concat:u5e,copy:h5e,equals:l5e,fill:p5e,from:AU,includes:I5e,indexOf:rX,lastIndexOf:w5e,swap16:v5e,swap32:b5e,swap64:E5e,toBuffer:B5e,toString:C5e,write:x5e,writeDoubleLE:S5e,writeFloatLE:_5e,writeUInt32LE:Q5e,writeInt32LE:D5e,readDoubleLE:M5e,readFloatLE:k5e,readUInt32LE:T5e,readInt32LE:R5e}});var B2=X(mU=>{b();var nX=Qy(),fS="ybndrfg8ejkmcpqxot1uwisza345h769",dS=49,oX=122,yU=new Int8Array(1+oX-dS);yU.fill(-1);for(let t=0;t<fS.length;t++){let e=fS.charCodeAt(t)-dS;yU[e]=t}mU.encode=F5e;mU.decode=U5e;function U5e(t,e){let r=0,i=0,n=t.length&7,o=(t.length-n)/8;e||(e=nX.allocUnsafe(Math.ceil(t.length*5/8)));for(let C=0;C<o;C++){let x=As(t,i++),_=As(t,i++),Q=As(t,i++),R=As(t,i++),k=As(t,i++),K=As(t,i++),T=As(t,i++),L=As(t,i++);e[r++]=x<<3|_>>>2,e[r++]=(_&3)<<6|Q<<1|R>>>4,e[r++]=(R&15)<<4|k>>>1,e[r++]=(k&1)<<7|K<<2|T>>>3,e[r++]=(T&7)<<5|L}if(n===0)return e.subarray(0,r);let s=As(t,i++),f=As(t,i++);if(e[r++]=s<<3|f>>>2,n<=2)return e.subarray(0,r);let d=As(t,i++),p=As(t,i++);if(e[r++]=(f&3)<<6|d<<1|p>>>4,n<=4)return e.subarray(0,r);let u=As(t,i++);if(e[r++]=(p&15)<<4|u>>>1,n<=5)return e.subarray(0,r);let y=As(t,i++),B=As(t,i++);if(e[r++]=(u&1)<<7|y<<2|B>>>3,n<=7)return e.subarray(0,r);let S=As(t,i++);return e[r++]=(B&7)<<5|S,e.subarray(0,r)}function F5e(t){typeof t=="string"&&(t=nX.from(t));let e=t.byteLength*8,r="";for(let i=0;i<e;i+=5){let n=i>>>3,o=i&7;if(o<=3){r+=fS[t[n]>>>3-o&31];continue}let s=o-3,f=t[n]<<s&31,d=(n>=t.byteLength?0:t[n+1])>>>8-s;r+=fS[f|d]}return r}function As(t,e){if(e>t.length)return 0;let r=t.charCodeAt(e);if(r<dS||r>oX)throw Error('Invalid character in base32 input: "'+t[e]+'" at position '+e);let i=yU[r-dS];if(i===-1)throw Error('Invalid character in base32 input: "'+t[e]+'" at position '+e);return i}});var sX=X(IU=>{"use strict";b();IU.toString=function(t){switch(t){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+t};IU.toType=function(t){switch(t.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":return 255;case"*":return 255}return t.toUpperCase().startsWith("UNKNOWN_")?parseInt(t.slice(8)):0}});var aX=X(wU=>{"use strict";b();wU.toString=function(t){switch(t){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+t};wU.toRcode=function(t){switch(t.toUpperCase()){case"NOERROR":return 0;case"FORMERR":return 1;case"SERVFAIL":return 2;case"NXDOMAIN":return 3;case"NOTIMP":return 4;case"REFUSED":return 5;case"YXDOMAIN":return 6;case"YXRRSET":return 7;case"NXRRSET":return 8;case"NOTAUTH":return 9;case"NOTZONE":return 10;case"RCODE_11":return 11;case"RCODE_12":return 12;case"RCODE_13":return 13;case"RCODE_14":return 14;case"RCODE_15":return 15}return 0}});var cX=X(vU=>{"use strict";b();vU.toString=function(t){switch(t){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+t};vU.toOpcode=function(t){switch(t.toUpperCase()){case"QUERY":return 0;case"IQUERY":return 1;case"STATUS":return 2;case"OPCODE_3":return 3;case"NOTIFY":return 4;case"UPDATE":return 5;case"OPCODE_6":return 6;case"OPCODE_7":return 7;case"OPCODE_8":return 8;case"OPCODE_9":return 9;case"OPCODE_10":return 10;case"OPCODE_11":return 11;case"OPCODE_12":return 12;case"OPCODE_13":return 13;case"OPCODE_14":return 14;case"OPCODE_15":return 15}return 0}});var fX=X(bU=>{"use strict";b();bU.toString=function(t){switch(t){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+t};bU.toClass=function(t){switch(t.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}});var dX=X(EU=>{"use strict";b();EU.toString=function(t){switch(t){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return t<0?null:`OPTION_${t}`};EU.toCode=function(t){if(typeof t=="number")return t;if(!t)return-1;switch(t.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}let e=t.match(/_(\d+)$/);return e?parseInt(e[1],10):-1}});var lX=X((hX,BU)=>{b();var uX=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=y,t.encode=u,t.familyOf=p,t.name=void 0,t.sizeOf=d,t.v6=t.v4=void 0;let e=/^(\d{1,3}\.){3,3}\d{1,3}$/,r=4,i=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,n=16,o={name:"v4",size:r,isFormat:B=>e.test(B),encode(B,S,C){C=~~C,S=S||new Uint8Array(C+r);let x=B.length,_=0;for(let Q=0;Q<x;){let R=B.charCodeAt(Q++);R===46?(S[C++]=_,_=0):_=_*10+(R-48)}return S[C]=_,S},decode(B,S){return S=~~S,`${B[S++]}.${B[S++]}.${B[S++]}.${B[S]}`}};t.v4=o;let s={name:"v6",size:n,isFormat:B=>B.length>0&&i.test(B),encode(B,S,C){C=~~C;let x=C+n,_=-1,Q=0,R=0,k=!0,K=!1;S=S||new Uint8Array(C+n);for(let T=0;T<B.length;T++){let L=B.charCodeAt(T);L===58?(k?_!==-1?(C<x&&(S[C]=0),C<x-1&&(S[C+1]=0),C+=2):C<x&&(_=C):(K===!0?(C<x&&(S[C]=R),C++):(C<x&&(S[C]=Q>>8),C<x-1&&(S[C+1]=Q&255),C+=2),Q=0,R=0),k=!0,K=!1):L===46?(C<x&&(S[C]=R),C++,R=0,Q=0,k=!1,K=!0):(k=!1,L>=97?L-=87:L>=65?L-=55:(L-=48,R=R*10+L),Q=(Q<<4)+L)}if(k===!1)K===!0?(C<x&&(S[C]=R),C++):(C<x&&(S[C]=Q>>8),C<x-1&&(S[C+1]=Q&255),C+=2);else if(_===0)C<x&&(S[C]=0),C<x-1&&(S[C+1]=0),C+=2;else if(_!==-1){C+=2;for(let T=Math.min(C-1,x-1);T>=_+2;T--)S[T]=S[T-2];S[_]=0,S[_+1]=0,_=C}if(_!==C&&_!==-1)for(C>x-2&&(C=x-2);x>_;)S[--x]=C<x&&C>_?S[--C]:0;else for(;C<x;)S[C++]=0;return S},decode(B,S){S=~~S;let C="";for(let x=0;x<n;x+=2)x!==0&&(C+=":"),C+=(B[S+x]<<8|B[S+x+1]).toString(16);return C.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};t.v6=s;let f="ip";t.name=f;function d(B){if(o.isFormat(B))return o.size;if(s.isFormat(B))return s.size;throw Error(`Invalid ip address: ${B}`)}function p(B){return d(B)===o.size?1:2}function u(B,S,C){C=~~C;let x=d(B);return typeof S=="function"&&(S=S(C+x)),x===o.size?o.encode(B,S,C):s.encode(B,S,C)}function y(B,S,C){if(S=~~S,C=C||B.length-S,C===o.size)return o.decode(B,S,C);if(C===s.size)return s.decode(B,S,C);throw Error(`Invalid buffer size needs to be ${o.size} for v4 or ${s.size} for v6.`)}return"default"in t?t.default:t}({});typeof define=="function"&&define.amd?define([],function(){return uX}):typeof BU=="object"&&typeof hX=="object"&&(BU.exports=uX)});var lS=X(St=>{"use strict";b();var _t=ni().Buffer,Rl=sX(),N5e=aX(),P5e=cX(),hS=fX(),CU=dX(),Dy=lX(),O5e=0,pX=32768,xU=32768,K5e=~xU,AX=32768,q5e=~AX,ot=St.name={};ot.encode=function(t,e,r,{mail:i=!1}={}){e||(e=_t.alloc(ot.encodingLength(t))),r||(r=0);let n=r,o=t.replace(/^\.|\.$/gm,"");if(o.length){let s=[];if(i){let f="";o.split(".").forEach(d=>{d.endsWith("\\")?f+=(f.length?".":"")+d.slice(0,-1):s.length===0&&f.length?s.push(f+"."+d):s.push(d)})}else s=o.split(".");for(let f=0;f<s.length;f++){let d=e.write(s[f],r+1);e[r]=d,r+=d+1}}return e[r++]=0,ot.encode.bytes=r-n,e};ot.encode.bytes=0;ot.decode=function(t,e,{mail:r=!1}={}){e||(e=0);let i=[],n=e,o=0,s=0,f=!1;for(;;){if(e>=t.length)throw new Error("Cannot decode name (buffer overflow)");let d=t[e++];if(s+=f?0:1,d===0)break;if(d&192)if((d&192)===192){if(e+1>t.length)throw new Error("Cannot decode name (buffer overflow)");let p=t.readUInt16BE(e-1)-49152;if(p>=n)throw new Error("Cannot decode name (bad pointer)");e=p,n=p,s+=f?0:1,f=!0}else throw new Error("Cannot decode name (bad label)");else{if(e+d>t.length)throw new Error("Cannot decode name (buffer overflow)");if(o+=d+1,o>254)throw new Error("Cannot decode name (name too long)");let p=t.toString("utf-8",e,e+d);r&&(p=p.replace(/\./g,"\\.")),i.push(p),e+=d,s+=f?0:d}}return ot.decode.bytes=s,i.length===0?".":i.join(".")};ot.decode.bytes=0;ot.encodingLength=function(t){return t==="."||t===".."?1:_t.byteLength(t.replace(/^\.|\.$/gm,""))+2};var Sr={};Sr.encode=function(t,e,r){e||(e=_t.alloc(Sr.encodingLength(t))),r||(r=0);let i=e.write(t,r+1);return e[r]=i,Sr.encode.bytes=i+1,e};Sr.encode.bytes=0;Sr.decode=function(t,e){e||(e=0);let r=t[e],i=t.toString("utf-8",e+1,e+1+r);return Sr.decode.bytes=r+1,i};Sr.decode.bytes=0;Sr.encodingLength=function(t){return _t.byteLength(t)+1};var yd={};yd.encode=function(t,e,r){e||(e=yd.encodingLength(t)),r||(r=0);let i=(t.flags||0)&32767,n=t.type==="response"?pX:O5e;return e.writeUInt16BE(t.id||0,r),e.writeUInt16BE(i|n,r+2),e.writeUInt16BE(t.questions.length,r+4),e.writeUInt16BE(t.answers.length,r+6),e.writeUInt16BE(t.authorities.length,r+8),e.writeUInt16BE(t.additionals.length,r+10),e};yd.encode.bytes=12;yd.decode=function(t,e){if(e||(e=0),t.length<12)throw new Error("Header must be 12 bytes");let r=t.readUInt16BE(e+2);return{id:t.readUInt16BE(e),type:r&pX?"response":"query",flags:r&32767,flag_qr:(r>>15&1)===1,opcode:P5e.toString(r>>11&15),flag_aa:(r>>10&1)===1,flag_tc:(r>>9&1)===1,flag_rd:(r>>8&1)===1,flag_ra:(r>>7&1)===1,flag_z:(r>>6&1)===1,flag_ad:(r>>5&1)===1,flag_cd:(r>>4&1)===1,rcode:N5e.toString(r&15),questions:new Array(t.readUInt16BE(e+4)),answers:new Array(t.readUInt16BE(e+6)),authorities:new Array(t.readUInt16BE(e+8)),additionals:new Array(t.readUInt16BE(e+10))}};yd.decode.bytes=12;yd.encodingLength=function(){return 12};var Cl=St.unknown={};Cl.encode=function(t,e,r){return e||(e=_t.alloc(Cl.encodingLength(t))),r||(r=0),e.writeUInt16BE(t.length,r),t.copy(e,r+2),Cl.encode.bytes=t.length+2,e};Cl.encode.bytes=0;Cl.decode=function(t,e){e||(e=0);let r=t.readUInt16BE(e),i=t.slice(e+2,e+2+r);return Cl.decode.bytes=r+2,i};Cl.decode.bytes=0;Cl.encodingLength=function(t){return t.length+2};var xl=St.ns={};xl.encode=function(t,e,r){return e||(e=_t.alloc(xl.encodingLength(t))),r||(r=0),ot.encode(t,e,r+2),e.writeUInt16BE(ot.encode.bytes,r),xl.encode.bytes=ot.encode.bytes+2,e};xl.encode.bytes=0;xl.decode=function(t,e){e||(e=0);let r=t.readUInt16BE(e),i=ot.decode(t,e+2);return xl.decode.bytes=r+2,i};xl.decode.bytes=0;xl.encodingLength=function(t){return ot.encodingLength(t)+2};var Sl=St.soa={};Sl.encode=function(t,e,r){e||(e=_t.alloc(Sl.encodingLength(t))),r||(r=0);let i=r;return r+=2,ot.encode(t.mname,e,r),r+=ot.encode.bytes,ot.encode(t.rname,e,r,{mail:!0}),r+=ot.encode.bytes,e.writeUInt32BE(t.serial||0,r),r+=4,e.writeUInt32BE(t.refresh||0,r),r+=4,e.writeUInt32BE(t.retry||0,r),r+=4,e.writeUInt32BE(t.expire||0,r),r+=4,e.writeUInt32BE(t.minimum||0,r),r+=4,e.writeUInt16BE(r-i-2,i),Sl.encode.bytes=r-i,e};Sl.encode.bytes=0;Sl.decode=function(t,e){e||(e=0);let r=e,i={};return e+=2,i.mname=ot.decode(t,e),e+=ot.decode.bytes,i.rname=ot.decode(t,e,{mail:!0}),e+=ot.decode.bytes,i.serial=t.readUInt32BE(e),e+=4,i.refresh=t.readUInt32BE(e),e+=4,i.retry=t.readUInt32BE(e),e+=4,i.expire=t.readUInt32BE(e),e+=4,i.minimum=t.readUInt32BE(e),e+=4,Sl.decode.bytes=e-r,i};Sl.decode.bytes=0;Sl.encodingLength=function(t){return 22+ot.encodingLength(t.mname)+ot.encodingLength(t.rname)};var _l=St.txt={};_l.encode=function(t,e,r){Array.isArray(t)||(t=[t]);for(let n=0;n<t.length;n++)if(typeof t[n]=="string"&&(t[n]=_t.from(t[n])),!_t.isBuffer(t[n]))throw new Error("Must be a Buffer");e||(e=_t.alloc(_l.encodingLength(t))),r||(r=0);let i=r;return r+=2,t.forEach(function(n){e[r++]=n.length,n.copy(e,r,0,n.length),r+=n.length}),e.writeUInt16BE(r-i-2,i),_l.encode.bytes=r-i,e};_l.encode.bytes=0;_l.decode=function(t,e){e||(e=0);let r=e,i=t.readUInt16BE(e);e+=2;let n=[];for(;i>0;){let o=t[e++];if(--i,i<o)throw new Error("Buffer overflow");n.push(t.slice(e,e+o)),e+=o,i-=o}return _l.decode.bytes=e-r,n};_l.decode.bytes=0;_l.encodingLength=function(t){Array.isArray(t)||(t=[t]);let e=2;return t.forEach(function(r){typeof r=="string"?e+=_t.byteLength(r)+1:e+=r.length+1}),e};var Ql=St.null={};Ql.encode=function(t,e,r){e||(e=_t.alloc(Ql.encodingLength(t))),r||(r=0),typeof t=="string"&&(t=_t.from(t)),t||(t=_t.alloc(0));let i=r;r+=2;let n=t.length;return t.copy(e,r,0,n),r+=n,e.writeUInt16BE(r-i-2,i),Ql.encode.bytes=r-i,e};Ql.encode.bytes=0;Ql.decode=function(t,e){e||(e=0);let r=e,i=t.readUInt16BE(e);e+=2;let n=t.slice(e,e+i);return e+=i,Ql.decode.bytes=e-r,n};Ql.decode.bytes=0;Ql.encodingLength=function(t){return t?(_t.isBuffer(t)?t.length:_t.byteLength(t))+2:2};var Dl=St.hinfo={};Dl.encode=function(t,e,r){e||(e=_t.alloc(Dl.encodingLength(t))),r||(r=0);let i=r;return r+=2,Sr.encode(t.cpu,e,r),r+=Sr.encode.bytes,Sr.encode(t.os,e,r),r+=Sr.encode.bytes,e.writeUInt16BE(r-i-2,i),Dl.encode.bytes=r-i,e};Dl.encode.bytes=0;Dl.decode=function(t,e){e||(e=0);let r=e,i={};return e+=2,i.cpu=Sr.decode(t,e),e+=Sr.decode.bytes,i.os=Sr.decode(t,e),e+=Sr.decode.bytes,Dl.decode.bytes=e-r,i};Dl.decode.bytes=0;Dl.encodingLength=function(t){return Sr.encodingLength(t.cpu)+Sr.encodingLength(t.os)+2};var Ad=St.ptr={},L5e=St.cname=Ad,H5e=St.dname=Ad;Ad.encode=function(t,e,r){return e||(e=_t.alloc(Ad.encodingLength(t))),r||(r=0),ot.encode(t,e,r+2),e.writeUInt16BE(ot.encode.bytes,r),Ad.encode.bytes=ot.encode.bytes+2,e};Ad.encode.bytes=0;Ad.decode=function(t,e){e||(e=0);let r=ot.decode(t,e+2);return Ad.decode.bytes=ot.decode.bytes+2,r};Ad.decode.bytes=0;Ad.encodingLength=function(t){return ot.encodingLength(t)+2};var Ml=St.srv={};Ml.encode=function(t,e,r){e||(e=_t.alloc(Ml.encodingLength(t))),r||(r=0),e.writeUInt16BE(t.priority||0,r+2),e.writeUInt16BE(t.weight||0,r+4),e.writeUInt16BE(t.port||0,r+6),ot.encode(t.target,e,r+8);let i=ot.encode.bytes+6;return e.writeUInt16BE(i,r),Ml.encode.bytes=i+2,e};Ml.encode.bytes=0;Ml.decode=function(t,e){e||(e=0);let r=t.readUInt16BE(e),i={};return i.priority=t.readUInt16BE(e+2),i.weight=t.readUInt16BE(e+4),i.port=t.readUInt16BE(e+6),i.target=ot.decode(t,e+8),Ml.decode.bytes=r+2,i};Ml.decode.bytes=0;Ml.encodingLength=function(t){return 8+ot.encodingLength(t.target)};var Za=St.caa={};Za.ISSUER_CRITICAL=128;Za.encode=function(t,e,r){let i=Za.encodingLength(t);return e||(e=_t.alloc(Za.encodingLength(t))),r||(r=0),t.issuerCritical&&(t.flags=Za.ISSUER_CRITICAL),e.writeUInt16BE(i-2,r),r+=2,e.writeUInt8(t.flags||0,r),r+=1,Sr.encode(t.tag,e,r),r+=Sr.encode.bytes,e.write(t.value,r),r+=_t.byteLength(t.value),Za.encode.bytes=i,e};Za.encode.bytes=0;Za.decode=function(t,e){e||(e=0);let r=t.readUInt16BE(e);e+=2;let i=e,n={};return n.flags=t.readUInt8(e),e+=1,n.tag=Sr.decode(t,e),e+=Sr.decode.bytes,n.value=t.toString("utf-8",e,i+r),n.issuerCritical=!!(n.flags&Za.ISSUER_CRITICAL),Za.decode.bytes=r+2,n};Za.decode.bytes=0;Za.encodingLength=function(t){return Sr.encodingLength(t.tag)+Sr.encodingLength(t.value)+2};var Np=St.mx={};Np.encode=function(t,e,r){e||(e=_t.alloc(Np.encodingLength(t))),r||(r=0);let i=r;return r+=2,e.writeUInt16BE(t.preference||0,r),r+=2,ot.encode(t.exchange,e,r),r+=ot.encode.bytes,e.writeUInt16BE(r-i-2,i),Np.encode.bytes=r-i,e};Np.encode.bytes=0;Np.decode=function(t,e){e||(e=0);let r=e,i={};return e+=2,i.preference=t.readUInt16BE(e),e+=2,i.exchange=ot.decode(t,e),e+=ot.decode.bytes,Np.decode.bytes=e-r,i};Np.encodingLength=function(t){return 4+ot.encodingLength(t.exchange)};var kl=St.a={};kl.encode=function(t,e,r){return e||(e=_t.alloc(kl.encodingLength(t))),r||(r=0),e.writeUInt16BE(4,r),r+=2,Dy.v4.encode(t,e,r),kl.encode.bytes=6,e};kl.encode.bytes=0;kl.decode=function(t,e){e||(e=0),e+=2;let r=Dy.v4.decode(t,e);return kl.decode.bytes=6,r};kl.decode.bytes=0;kl.encodingLength=function(){return 6};var Tl=St.aaaa={};Tl.encode=function(t,e,r){return e||(e=_t.alloc(Tl.encodingLength(t))),r||(r=0),e.writeUInt16BE(16,r),r+=2,Dy.v6.encode(t,e,r),Tl.encode.bytes=18,e};Tl.encode.bytes=0;Tl.decode=function(t,e){e||(e=0),e+=2;let r=Dy.v6.decode(t,e);return Tl.decode.bytes=18,r};Tl.decode.bytes=0;Tl.encodingLength=function(){return 18};var Ba=St.option={};Ba.encode=function(t,e,r){e||(e=_t.alloc(Ba.encodingLength(t))),r||(r=0);let i=r,n=CU.toCode(t.code);if(e.writeUInt16BE(n,r),r+=2,t.data)e.writeUInt16BE(t.data.length,r),r+=2,t.data.copy(e,r),r+=t.data.length;else switch(n){case 8:let o=t.sourcePrefixLength||0,s=t.family||Dy.familyOf(t.ip),f=Dy.encode(t.ip,_t.alloc),d=Math.ceil(o/8);e.writeUInt16BE(d+4,r),r+=2,e.writeUInt16BE(s,r),r+=2,e.writeUInt8(o,r++),e.writeUInt8(t.scopePrefixLength||0,r++),f.copy(e,r,0,d),r+=d;break;case 11:t.timeout?(e.writeUInt16BE(2,r),r+=2,e.writeUInt16BE(t.timeout,r),r+=2):(e.writeUInt16BE(0,r),r+=2);break;case 12:let p=t.length||0;e.writeUInt16BE(p,r),r+=2,e.fill(0,r,r+p),r+=p;break;case 14:let u=t.tags.length*2;e.writeUInt16BE(u,r),r+=2;for(let y of t.tags)e.writeUInt16BE(y,r),r+=2;break;default:throw new Error(`Unknown roption code: ${t.code}`)}return Ba.encode.bytes=r-i,e};Ba.encode.bytes=0;Ba.decode=function(t,e){e||(e=0);let r={};r.code=t.readUInt16BE(e),r.type=CU.toString(r.code),e+=2;let i=t.readUInt16BE(e);switch(e+=2,r.data=t.slice(e,e+i),r.code){case 8:r.family=t.readUInt16BE(e),e+=2,r.sourcePrefixLength=t.readUInt8(e++),r.scopePrefixLength=t.readUInt8(e++);let n=_t.alloc(r.family===1?4:16);t.copy(n,0,e,e+i-4),r.ip=Dy.decode(n);break;case 11:i>0&&(r.timeout=t.readUInt16BE(e),e+=2);break;case 14:r.tags=[];for(let o=0;o<i;o+=2)r.tags.push(t.readUInt16BE(e)),e+=2}return Ba.decode.bytes=i+4,r};Ba.decode.bytes=0;Ba.encodingLength=function(t){if(t.data)return t.data.length+4;switch(CU.toCode(t.code)){case 8:let r=t.sourcePrefixLength||0;return Math.ceil(r/8)+8;case 11:return typeof t.timeout=="number"?6:4;case 12:return t.length+4;case 14:return 4+t.tags.length*2}throw new Error(`Unknown roption code: ${t.code}`)};var Xa=St.opt={};Xa.encode=function(t,e,r){e||(e=_t.alloc(Xa.encodingLength(t))),r||(r=0);let i=r,n=Ow(t,Ba);return e.writeUInt16BE(n,r),r=C2(t,Ba,e,r+2),Xa.encode.bytes=r-i,e};Xa.encode.bytes=0;Xa.decode=function(t,e){e||(e=0);let r=e,i=[],n=t.readUInt16BE(e);e+=2;let o=0;for(;n>0;)i[o++]=Ba.decode(t,e),e+=Ba.decode.bytes,n-=Ba.decode.bytes;return Xa.decode.bytes=e-r,i};Xa.decode.bytes=0;Xa.encodingLength=function(t){return 2+Ow(t||[],Ba)};var Ls=St.dnskey={};Ls.PROTOCOL_DNSSEC=3;Ls.ZONE_KEY=128;Ls.SECURE_ENTRYPOINT=32768;Ls.encode=function(t,e,r){e||(e=_t.alloc(Ls.encodingLength(t))),r||(r=0);let i=r,n=t.key;if(!_t.isBuffer(n))throw new Error("Key must be a Buffer");return r+=2,e.writeUInt16BE(t.flags,r),r+=2,e.writeUInt8(Ls.PROTOCOL_DNSSEC,r),r+=1,e.writeUInt8(t.algorithm,r),r+=1,n.copy(e,r,0,n.length),r+=n.length,Ls.encode.bytes=r-i,e.writeUInt16BE(Ls.encode.bytes-2,i),e};Ls.encode.bytes=0;Ls.decode=function(t,e){e||(e=0);let r=e;var i={},n=t.readUInt16BE(e);if(e+=2,i.flags=t.readUInt16BE(e),e+=2,t.readUInt8(e)!==Ls.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return e+=1,i.algorithm=t.readUInt8(e),e+=1,i.key=t.slice(e,r+n+2),e+=i.key.length,Ls.decode.bytes=e-r,i};Ls.decode.bytes=0;Ls.encodingLength=function(t){return 6+_t.byteLength(t.key)};var Nu=St.rrsig={};Nu.encode=function(t,e,r){e||(e=_t.alloc(Nu.encodingLength(t))),r||(r=0);let i=r,n=t.signature;if(!_t.isBuffer(n))throw new Error("Signature must be a Buffer");return r+=2,e.writeUInt16BE(Rl.toType(t.typeCovered),r),r+=2,e.writeUInt8(t.algorithm,r),r+=1,e.writeUInt8(t.labels,r),r+=1,e.writeUInt32BE(t.originalTTL,r),r+=4,e.writeUInt32BE(t.expiration,r),r+=4,e.writeUInt32BE(t.inception,r),r+=4,e.writeUInt16BE(t.keyTag,r),r+=2,ot.encode(t.signersName,e,r),r+=ot.encode.bytes,n.copy(e,r,0,n.length),r+=n.length,Nu.encode.bytes=r-i,e.writeUInt16BE(Nu.encode.bytes-2,i),e};Nu.encode.bytes=0;Nu.decode=function(t,e){e||(e=0);let r=e;var i={},n=t.readUInt16BE(e);return e+=2,i.typeCovered=Rl.toString(t.readUInt16BE(e)),e+=2,i.algorithm=t.readUInt8(e),e+=1,i.labels=t.readUInt8(e),e+=1,i.originalTTL=t.readUInt32BE(e),e+=4,i.expiration=t.readUInt32BE(e),e+=4,i.inception=t.readUInt32BE(e),e+=4,i.keyTag=t.readUInt16BE(e),e+=2,i.signersName=ot.decode(t,e),e+=ot.decode.bytes,i.signature=t.slice(e,r+n+2),e+=i.signature.length,Nu.decode.bytes=e-r,i};Nu.decode.bytes=0;Nu.encodingLength=function(t){return 20+ot.encodingLength(t.signersName)+_t.byteLength(t.signature)};var Pu=St.rp={};Pu.encode=function(t,e,r){e||(e=_t.alloc(Pu.encodingLength(t))),r||(r=0);let i=r;return r+=2,ot.encode(t.mbox||".",e,r,{mail:!0}),r+=ot.encode.bytes,ot.encode(t.txt||".",e,r),r+=ot.encode.bytes,Pu.encode.bytes=r-i,e.writeUInt16BE(Pu.encode.bytes-2,i),e};Pu.encode.bytes=0;Pu.decode=function(t,e){e||(e=0);let r=e,i={};return e+=2,i.mbox=ot.decode(t,e,{mail:!0})||".",e+=ot.decode.bytes,i.txt=ot.decode(t,e)||".",e+=ot.decode.bytes,Pu.decode.bytes=e-r,i};Pu.decode.bytes=0;Pu.encodingLength=function(t){return 2+ot.encodingLength(t.mbox||".")+ot.encodingLength(t.txt||".")};var wo={};wo.encode=function(t,e,r){e||(e=_t.alloc(wo.encodingLength(t))),r||(r=0);let i=r;for(var n=[],o=0;o<t.length;o++){var s=Rl.toType(t[o]);n[s>>8]===void 0&&(n[s>>8]=[]),n[s>>8][s>>3&31]|=1<<7-(s&7)}for(o=0;o<n.length;o++)if(n[o]!==void 0){var f=_t.from(n[o]);e.writeUInt8(o,r),r+=1,e.writeUInt8(f.length,r),r+=1,f.copy(e,r),r+=f.length}return wo.encode.bytes=r-i,e};wo.encode.bytes=0;wo.decode=function(t,e,r){e||(e=0);let i=e;for(var n=[];e-i<r;){var o=t.readUInt8(e);e+=1;var s=t.readUInt8(e);e+=1;for(var f=0;f<s;f++)for(var d=t.readUInt8(e+f),p=0;p<8;p++)if(d&1<<7-p){var u=Rl.toString(o<<8|f<<3|p);n.push(u)}e+=s}return wo.decode.bytes=e-i,n};wo.decode.bytes=0;wo.encodingLength=function(t){for(var e=[],r=0;r<t.length;r++){var i=Rl.toType(t[r]);e[i>>8]=Math.max(e[i>>8]||0,i&255)}var n=0;for(r=0;r<e.length;r++)e[r]!==void 0&&(n+=2+Math.ceil((e[r]+1)/8));return n};var Ou=St.nsec={};Ou.encode=function(t,e,r){e||(e=_t.alloc(Ou.encodingLength(t))),r||(r=0);let i=r;return r+=2,ot.encode(t.nextDomain,e,r),r+=ot.encode.bytes,wo.encode(t.rrtypes,e,r),r+=wo.encode.bytes,Ou.encode.bytes=r-i,e.writeUInt16BE(Ou.encode.bytes-2,i),e};Ou.encode.bytes=0;Ou.decode=function(t,e){e||(e=0);let r=e;var i={},n=t.readUInt16BE(e);return e+=2,i.nextDomain=ot.decode(t,e),e+=ot.decode.bytes,i.rrtypes=wo.decode(t,e,n-(e-r)),e+=wo.decode.bytes,Ou.decode.bytes=e-r,i};Ou.decode.bytes=0;Ou.encodingLength=function(t){return 2+ot.encodingLength(t.nextDomain)+wo.encodingLength(t.rrtypes)};var Ku=St.nsec3={};Ku.encode=function(t,e,r){e||(e=_t.alloc(Ku.encodingLength(t))),r||(r=0);let i=r,n=t.salt;if(!_t.isBuffer(n))throw new Error("salt must be a Buffer");let o=t.nextDomain;if(!_t.isBuffer(o))throw new Error("nextDomain must be a Buffer");return r+=2,e.writeUInt8(t.algorithm,r),r+=1,e.writeUInt8(t.flags,r),r+=1,e.writeUInt16BE(t.iterations,r),r+=2,e.writeUInt8(n.length,r),r+=1,n.copy(e,r,0,n.length),r+=n.length,e.writeUInt8(o.length,r),r+=1,o.copy(e,r,0,o.length),r+=o.length,wo.encode(t.rrtypes,e,r),r+=wo.encode.bytes,Ku.encode.bytes=r-i,e.writeUInt16BE(Ku.encode.bytes-2,i),e};Ku.encode.bytes=0;Ku.decode=function(t,e){e||(e=0);let r=e;var i={},n=t.readUInt16BE(e);e+=2,i.algorithm=t.readUInt8(e),e+=1,i.flags=t.readUInt8(e),e+=1,i.iterations=t.readUInt16BE(e),e+=2;let o=t.readUInt8(e);e+=1,i.salt=t.slice(e,e+o),e+=o;let s=t.readUInt8(e);return e+=1,i.nextDomain=t.slice(e,e+s),e+=s,i.rrtypes=wo.decode(t,e,n-(e-r)),e+=wo.decode.bytes,Ku.decode.bytes=e-r,i};Ku.decode.bytes=0;Ku.encodingLength=function(t){return 8+t.salt.length+t.nextDomain.length+wo.encodingLength(t.rrtypes)};var qu=St.ds={};qu.encode=function(t,e,r){e||(e=_t.alloc(qu.encodingLength(t))),r||(r=0);let i=r,n=t.digest;if(!_t.isBuffer(n))throw new Error("Digest must be a Buffer");return r+=2,e.writeUInt16BE(t.keyTag,r),r+=2,e.writeUInt8(t.algorithm,r),r+=1,e.writeUInt8(t.digestType,r),r+=1,n.copy(e,r,0,n.length),r+=n.length,qu.encode.bytes=r-i,e.writeUInt16BE(qu.encode.bytes-2,i),e};qu.encode.bytes=0;qu.decode=function(t,e){e||(e=0);let r=e;var i={},n=t.readUInt16BE(e);return e+=2,i.keyTag=t.readUInt16BE(e),e+=2,i.algorithm=t.readUInt8(e),e+=1,i.digestType=t.readUInt8(e),e+=1,i.digest=t.slice(e,r+n+2),e+=i.digest.length,qu.decode.bytes=e-r,i};qu.decode.bytes=0;qu.encodingLength=function(t){return 6+_t.byteLength(t.digest)};var $a=St.sshfp={};$a.getFingerprintLengthForHashType=function(e){switch(e){case 1:return 20;case 2:return 32}};$a.encode=function(e,r,i){r||(r=_t.alloc($a.encodingLength(e))),i||(i=0);let n=i;i+=2,r[i]=e.algorithm,i+=1,r[i]=e.hash,i+=1;let o=_t.from(e.fingerprint.toUpperCase(),"hex");if(o.length!==$a.getFingerprintLengthForHashType(e.hash))throw new Error("Invalid fingerprint length");return o.copy(r,i),i+=o.byteLength,$a.encode.bytes=i-n,r.writeUInt16BE($a.encode.bytes-2,n),r};$a.encode.bytes=0;$a.decode=function(e,r){r||(r=0);let i=r,n={};r+=2,n.algorithm=e[r],r+=1,n.hash=e[r],r+=1;let o=$a.getFingerprintLengthForHashType(n.hash);return n.fingerprint=e.slice(r,r+o).toString("hex").toUpperCase(),r+=o,$a.decode.bytes=r-i,n};$a.decode.bytes=0;$a.encodingLength=function(t){return 4+_t.from(t.fingerprint,"hex").byteLength};var Lu=St.naptr={};Lu.encode=function(t,e,r){e||(e=_t.alloc(Lu.encodingLength(t))),r||(r=0);let i=r;return r+=2,e.writeUInt16BE(t.order||0,r),r+=2,e.writeUInt16BE(t.preference||0,r),r+=2,Sr.encode(t.flags,e,r),r+=Sr.encode.bytes,Sr.encode(t.services,e,r),r+=Sr.encode.bytes,Sr.encode(t.regexp,e,r),r+=Sr.encode.bytes,ot.encode(t.replacement,e,r),r+=ot.encode.bytes,Lu.encode.bytes=r-i,e.writeUInt16BE(Lu.encode.bytes-2,i),e};Lu.encode.bytes=0;Lu.decode=function(t,e){e||(e=0);let r=e,i={};return e+=2,i.order=t.readUInt16BE(e),e+=2,i.preference=t.readUInt16BE(e),e+=2,i.flags=Sr.decode(t,e),e+=Sr.decode.bytes,i.services=Sr.decode(t,e),e+=Sr.decode.bytes,i.regexp=Sr.decode(t,e),e+=Sr.decode.bytes,i.replacement=ot.decode(t,e),e+=ot.decode.bytes,Lu.decode.bytes=e-r,i};Lu.decode.bytes=0;Lu.encodingLength=function(t){return Sr.encodingLength(t.flags)+Sr.encodingLength(t.services)+Sr.encodingLength(t.regexp)+ot.encodingLength(t.replacement)+6};var Hu=St.tlsa={};Hu.encode=function(t,e,r){e||(e=_t.alloc(Hu.encodingLength(t))),r||(r=0);let i=r,n=t.certificate;if(!_t.isBuffer(n))throw new Error("Certificate must be a Buffer");return r+=2,e.writeUInt8(t.usage,r),r+=1,e.writeUInt8(t.selector,r),r+=1,e.writeUInt8(t.matchingType,r),r+=1,n.copy(e,r,0,n.length),r+=n.length,Hu.encode.bytes=r-i,e.writeUInt16BE(Hu.encode.bytes-2,i),e};Hu.encode.bytes=0;Hu.decode=function(t,e){e||(e=0);let r=e,i={},n=t.readUInt16BE(e);return e+=2,i.usage=t.readUInt8(e),e+=1,i.selector=t.readUInt8(e),e+=1,i.matchingType=t.readUInt8(e),e+=1,i.certificate=t.slice(e,r+n+2),e+=i.certificate.length,Hu.decode.bytes=e-r,i};Hu.decode.bytes=0;Hu.encodingLength=function(t){return 5+_t.byteLength(t.certificate)};var SU=St.record=function(t){switch(t.toUpperCase()){case"A":return kl;case"PTR":return Ad;case"CNAME":return L5e;case"DNAME":return H5e;case"TXT":return _l;case"NULL":return Ql;case"AAAA":return Tl;case"SRV":return Ml;case"HINFO":return Dl;case"CAA":return Za;case"NS":return xl;case"SOA":return Sl;case"MX":return Np;case"OPT":return Xa;case"DNSKEY":return Ls;case"RRSIG":return Nu;case"RP":return Pu;case"NSEC":return Ou;case"NSEC3":return Ku;case"SSHFP":return $a;case"DS":return qu;case"NAPTR":return Lu;case"TLSA":return Hu}return Cl},qo=St.answer={};qo.encode=function(t,e,r){e||(e=_t.alloc(qo.encodingLength(t))),r||(r=0);let i=r;if(ot.encode(t.name,e,r),r+=ot.encode.bytes,e.writeUInt16BE(Rl.toType(t.type),r),t.type.toUpperCase()==="OPT"){if(t.name!==".")throw new Error("OPT name must be root.");e.writeUInt16BE(t.udpPayloadSize||4096,r+2),e.writeUInt8(t.extendedRcode||0,r+4),e.writeUInt8(t.ednsVersion||0,r+5),e.writeUInt16BE(t.flags||0,r+6),r+=8,Xa.encode(t.options||[],e,r),r+=Xa.encode.bytes}else{let n=hS.toClass(t.class===void 0?"IN":t.class);t.flush&&(n|=xU),e.writeUInt16BE(n,r+2),e.writeUInt32BE(t.ttl||0,r+4),r+=8;let o=SU(t.type);o.encode(t.data,e,r),r+=o.encode.bytes}return qo.encode.bytes=r-i,e};qo.encode.bytes=0;qo.decode=function(t,e){e||(e=0);let r={},i=e;if(r.name=ot.decode(t,e),e+=ot.decode.bytes,r.type=Rl.toString(t.readUInt16BE(e)),r.type==="OPT")r.udpPayloadSize=t.readUInt16BE(e+2),r.extendedRcode=t.readUInt8(e+4),r.ednsVersion=t.readUInt8(e+5),r.flags=t.readUInt16BE(e+6),r.flag_do=(r.flags>>15&1)===1,r.options=Xa.decode(t,e+8),e+=8+Xa.decode.bytes;else{let n=t.readUInt16BE(e+2);r.ttl=t.readUInt32BE(e+4),r.class=hS.toString(n&K5e),r.flush=!!(n&xU);let o=SU(r.type);r.data=o.decode(t,e+8),e+=8+o.decode.bytes}return qo.decode.bytes=e-i,r};qo.decode.bytes=0;qo.encodingLength=function(t){let e=t.data!==null&&t.data!==void 0?t.data:t.options;return ot.encodingLength(t.name)+8+SU(t.type).encodingLength(e)};var gd=St.question={};gd.encode=function(t,e,r){e||(e=_t.alloc(gd.encodingLength(t))),r||(r=0);let i=r;return ot.encode(t.name,e,r),r+=ot.encode.bytes,e.writeUInt16BE(Rl.toType(t.type),r),r+=2,e.writeUInt16BE(hS.toClass(t.class===void 0?"IN":t.class),r),r+=2,gd.encode.bytes=r-i,t};gd.encode.bytes=0;gd.decode=function(t,e){e||(e=0);let r=e,i={};return i.name=ot.decode(t,e),e+=ot.decode.bytes,i.type=Rl.toString(t.readUInt16BE(e)),e+=2,i.class=hS.toString(t.readUInt16BE(e)),e+=2,!!(i.class&AX)&&(i.class&=q5e),gd.decode.bytes=e-r,i};gd.decode.bytes=0;gd.encodingLength=function(t){return ot.encodingLength(t.name)+4};St.AUTHORITATIVE_ANSWER=1024;St.TRUNCATED_RESPONSE=512;St.RECURSION_DESIRED=256;St.RECURSION_AVAILABLE=128;St.AUTHENTIC_DATA=32;St.CHECKING_DISABLED=16;St.DNSSEC_OK=32768;St.encode=function(t,e,r){let i=!e;i&&(e=_t.alloc(St.encodingLength(t))),r||(r=0);let n=r;return t.questions||(t.questions=[]),t.answers||(t.answers=[]),t.authorities||(t.authorities=[]),t.additionals||(t.additionals=[]),yd.encode(t,e,r),r+=yd.encode.bytes,r=C2(t.questions,gd,e,r),r=C2(t.answers,qo,e,r),r=C2(t.authorities,qo,e,r),r=C2(t.additionals,qo,e,r),St.encode.bytes=r-n,i&&St.encode.bytes!==e.length?e.slice(0,St.encode.bytes):e};St.encode.bytes=0;St.decode=function(t,e){e||(e=0);let r=e,i=yd.decode(t,e);return e+=yd.decode.bytes,e=uS(i.questions,gd,t,e),e=uS(i.answers,qo,t,e),e=uS(i.authorities,qo,t,e),e=uS(i.additionals,qo,t,e),St.decode.bytes=e-r,i};St.decode.bytes=0;St.encodingLength=function(t){return yd.encodingLength(t)+Ow(t.questions||[],gd)+Ow(t.answers||[],qo)+Ow(t.authorities||[],qo)+Ow(t.additionals||[],qo)};St.streamEncode=function(t){let e=St.encode(t),r=_t.alloc(2);r.writeUInt16BE(e.byteLength);let i=_t.concat([r,e]);return St.streamEncode.bytes=i.byteLength,i};St.streamEncode.bytes=0;St.streamDecode=function(t){let e=t.readUInt16BE(0);if(t.byteLength<e+2)return null;let r=St.decode(t.slice(2));return St.streamDecode.bytes=St.decode.bytes,r};St.streamDecode.bytes=0;function Ow(t,e){let r=0;for(let i=0;i<t.length;i++)r+=e.encodingLength(t[i]);return r}function C2(t,e,r,i){for(let n=0;n<t.length;n++)e.encode(t[n],r,i),i+=e.encode.bytes;return i}function uS(t,e,r,i){for(let n=0;n<t.length;n++)t[n]=e.decode(r,i),i+=e.decode.bytes;return i}});var on=X((BIt,yX)=>{b();yX.exports=gX;var pS=class extends Error{};pS.prototype.name="AssertionError";function gX(t,e){if(!t){var r=new pS(e);throw Error.captureStackTrace&&Error.captureStackTrace(r,gX),r}}});var jr=X((_U,IX)=>{b();var AS=ni(),Ul=AS.Buffer;function mX(t,e){for(var r in t)e[r]=t[r]}Ul.from&&Ul.alloc&&Ul.allocUnsafe&&Ul.allocUnsafeSlow?IX.exports=AS:(mX(AS,_U),_U.Buffer=Kw);function Kw(t,e,r){return Ul(t,e,r)}mX(Ul,Kw);Kw.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Ul(t,e,r)};Kw.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Ul(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Kw.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ul(t)};Kw.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return AS.SlowBuffer(t)}});var My=X((SIt,DU)=>{"use strict";b();var QU=65536,G5e=4294967295;function j5e(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var z5e=jr().Buffer,gS=globalThis.crypto||globalThis.msCrypto;gS&&gS.getRandomValues?DU.exports=Y5e:DU.exports=j5e;function Y5e(t,e){if(t>G5e)throw new RangeError("requested too many random bytes");var r=z5e.allocUnsafe(t);if(t>0)if(t>QU)for(var i=0;i<t;i+=QU)gS.getRandomValues(r.slice(i,i+QU));else gS.getRandomValues(r);return typeof e=="function"?U.default.nextTick(function(){e(null,r)}):r}});var Qt=X((QIt,MU)=>{b();typeof Object.create=="function"?MU.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:MU.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var bX=X((kU,vX)=>{b();var yS=ni(),Gu=yS.Buffer;function wX(t,e){for(var r in t)e[r]=t[r]}Gu.from&&Gu.alloc&&Gu.allocUnsafe&&Gu.allocUnsafeSlow?vX.exports=yS:(wX(yS,kU),kU.Buffer=ky);function ky(t,e,r){return Gu(t,e,r)}ky.prototype=Object.create(Gu.prototype);wX(Gu,ky);ky.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Gu(t,e,r)};ky.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Gu(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};ky.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Gu(t)};ky.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return yS.SlowBuffer(t)}});var TU=X((kIt,EX)=>{b();EX.exports=va().EventEmitter});var Fl=X(()=>{b()});var QX=X((NIt,_X)=>{"use strict";b();function BX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function CX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BX(Object(r),!0).forEach(function(i){J5e(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BX(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function J5e(t,e,r){return e=SX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xX(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,SX(i.key),i)}}function W5e(t,e,r){return e&&xX(t.prototype,e),r&&xX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SX(t){var e=Z5e(t,"string");return typeof e=="symbol"?e:String(e)}function Z5e(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $5e=ni(),mS=$5e.Buffer,X5e=Fl(),RU=X5e.inspect,eDe=RU&&RU.custom||"inspect";function tDe(t,e,r){mS.prototype.copy.call(t,e,r)}_X.exports=function(){function t(){V5e(this,t),this.head=null,this.tail=null,this.length=0}return W5e(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return mS.alloc(0);for(var i=mS.allocUnsafe(r>>>0),n=this.head,o=0;n;)tDe(n.data,i,o),o+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,o=i.data;for(r-=o.length;i=i.next;){var s=i.data,f=r>s.length?s.length:r;if(f===s.length?o+=s:o+=s.slice(0,r),r-=f,r===0){f===s.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(f));break}++n}return this.length-=n,o}},{key:"_getBuffer",value:function(r){var i=mS.allocUnsafe(r),n=this.head,o=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var s=n.data,f=r>s.length?s.length:r;if(s.copy(i,i.length-r,0,f),r-=f,r===0){f===s.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(f));break}++o}return this.length-=o,i}},{key:eDe,value:function(r,i){return RU(this,CX(CX({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var FU=X((OIt,MX)=>{"use strict";b();function rDe(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,U.default.nextTick(UU,this,t)):U.default.nextTick(UU,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?U.default.nextTick(IS,r):(r._writableState.errorEmitted=!0,U.default.nextTick(DX,r,o)):U.default.nextTick(DX,r,o):e?(U.default.nextTick(IS,r),e(o)):U.default.nextTick(IS,r)}),this)}function DX(t,e){UU(t,e),IS(t)}function IS(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function iDe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function UU(t,e){t.emit("error",e)}function nDe(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}MX.exports={destroy:rDe,undestroy:iDe,errorOrDestroy:nDe}});var Ty=X((qIt,RX)=>{"use strict";b();function oDe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var TX={};function rf(t,e,r){r||(r=Error);function i(o,s,f){return typeof e=="string"?e:e(o,s,f)}var n=function(o){oDe(s,o);function s(f,d,p){return o.call(this,i(f,d,p))||this}return s}(r);n.prototype.name=r.name,n.prototype.code=t,TX[t]=n}function kX(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function sDe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function aDe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function cDe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}rf("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);rf("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&sDe(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(aDe(t," argument"))n="The ".concat(t," ").concat(i," ").concat(kX(e,"type"));else{var o=cDe(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(o," ").concat(i," ").concat(kX(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);rf("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");rf("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});rf("ERR_STREAM_PREMATURE_CLOSE","Premature close");rf("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});rf("ERR_MULTIPLE_CALLBACK","Callback called multiple times");rf("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");rf("ERR_STREAM_WRITE_AFTER_END","write after end");rf("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);rf("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);rf("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");RX.exports.codes=TX});var NU=X((HIt,UX)=>{"use strict";b();var fDe=Ty().codes.ERR_INVALID_OPT_VALUE;function dDe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function uDe(t,e,r,i){var n=dDe(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var o=i?r:"highWaterMark";throw new fDe(o,n)}return Math.floor(n)}return t.objectMode?16:16*1024}UX.exports={getHighWaterMark:uDe}});var x2=X((jIt,FX)=>{b();FX.exports=hDe;function hDe(t,e){if(PU("noDeprecation"))return t;var r=!1;function i(){if(!r){if(PU("throwDeprecation"))throw new Error(e);PU("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return i}function PU(t){try{if(!globalThis.localStorage)return!1}catch{return!1}var e=globalThis.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var qU=X((YIt,LX)=>{"use strict";b();LX.exports=vn;function PX(t){var e=this;this.next=null,this.entry=null,this.finish=function(){ODe(e,t)}}var qw;vn.WritableState=_2;var lDe={deprecate:x2()},OX=TU(),vS=ni().Buffer,pDe=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ADe(t){return vS.from(t)}function gDe(t){return vS.isBuffer(t)||t instanceof pDe}var KU=FU(),yDe=NU(),mDe=yDe.getHighWaterMark,Pp=Ty().codes,IDe=Pp.ERR_INVALID_ARG_TYPE,wDe=Pp.ERR_METHOD_NOT_IMPLEMENTED,vDe=Pp.ERR_MULTIPLE_CALLBACK,bDe=Pp.ERR_STREAM_CANNOT_PIPE,EDe=Pp.ERR_STREAM_DESTROYED,BDe=Pp.ERR_STREAM_NULL_VALUES,CDe=Pp.ERR_STREAM_WRITE_AFTER_END,xDe=Pp.ERR_UNKNOWN_ENCODING,Lw=KU.errorOrDestroy;Qt()(vn,OX);function SDe(){}function _2(t,e,r){qw=qw||Ry(),t=t||{},typeof r!="boolean"&&(r=e instanceof qw),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=mDe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){RDe(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new PX(this)}_2.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(_2.prototype,"buffer",{get:lDe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var wS;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(wS=Function.prototype[Symbol.hasInstance],Object.defineProperty(vn,Symbol.hasInstance,{value:function(e){return wS.call(this,e)?!0:this!==vn?!1:e&&e._writableState instanceof _2}})):wS=function(e){return e instanceof this};function vn(t){qw=qw||Ry();var e=this instanceof qw;if(!e&&!wS.call(vn,this))return new vn(t);this._writableState=new _2(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),OX.call(this)}vn.prototype.pipe=function(){Lw(this,new bDe)};function _De(t,e){var r=new CDe;Lw(t,r),U.default.nextTick(e,r)}function QDe(t,e,r,i){var n;return r===null?n=new BDe:typeof r!="string"&&!e.objectMode&&(n=new IDe("chunk",["string","Buffer"],r)),n?(Lw(t,n),U.default.nextTick(i,n),!1):!0}vn.prototype.write=function(t,e,r){var i=this._writableState,n=!1,o=!i.objectMode&&gDe(t);return o&&!vS.isBuffer(t)&&(t=ADe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=SDe),i.ending?_De(this,r):(o||QDe(this,i,t,r))&&(i.pendingcb++,n=MDe(this,i,o,t,e,r)),n};vn.prototype.cork=function(){this._writableState.corked++};vn.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&KX(this,t))};vn.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new xDe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(vn.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function DDe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=vS.from(e,r)),e}Object.defineProperty(vn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function MDe(t,e,r,i,n,o){if(!r){var s=DDe(e,i,n);i!==s&&(r=!0,n="buffer",i=s)}var f=e.objectMode?1:i.length;e.length+=f;var d=e.length<e.highWaterMark;if(d||(e.needDrain=!0),e.writing||e.corked){var p=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},p?p.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else OU(t,e,!1,f,i,n,o);return d}function OU(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new EDe("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function kDe(t,e,r,i,n){--e.pendingcb,r?(U.default.nextTick(n,i),U.default.nextTick(S2,t,e),t._writableState.errorEmitted=!0,Lw(t,i)):(n(i),t._writableState.errorEmitted=!0,Lw(t,i),S2(t,e))}function TDe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function RDe(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new vDe;if(TDe(r),e)kDe(t,r,i,e,n);else{var o=qX(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&KX(t,r),i?U.default.nextTick(NX,t,r,o,n):NX(t,r,o,n)}}function NX(t,e,r,i){r||UDe(t,e),e.pendingcb--,i(),S2(t,e)}function UDe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function KX(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var s=0,f=!0;r;)n[s]=r,r.isBuf||(f=!1),r=r.next,s+=1;n.allBuffers=f,OU(t,e,!0,e.length,n,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new PX(e),e.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,p=r.encoding,u=r.callback,y=e.objectMode?1:d.length;if(OU(t,e,!1,y,d,p,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}vn.prototype._write=function(t,e,r){r(new wDe("_write()"))};vn.prototype._writev=null;vn.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||PDe(this,i,r),this};Object.defineProperty(vn.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function qX(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function FDe(t,e){t._final(function(r){e.pendingcb--,r&&Lw(t,r),e.prefinished=!0,t.emit("prefinish"),S2(t,e)})}function NDe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,U.default.nextTick(FDe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function S2(t,e){var r=qX(e);if(r&&(NDe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function PDe(t,e,r){e.ending=!0,S2(t,e),r&&(e.finished?U.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function ODe(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(vn.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});vn.prototype.destroy=KU.destroy;vn.prototype._undestroy=KU.undestroy;vn.prototype._destroy=function(t,e){e(t)}});var Ry=X((VIt,GX)=>{"use strict";b();var KDe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};GX.exports=ju;var HX=GU(),HU=qU();Qt()(ju,HX);for(LU=KDe(HU.prototype),bS=0;bS<LU.length;bS++)ES=LU[bS],ju.prototype[ES]||(ju.prototype[ES]=HU.prototype[ES]);var LU,ES,bS;function ju(t){if(!(this instanceof ju))return new ju(t);HX.call(this,t),HU.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",qDe)))}Object.defineProperty(ju.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(ju.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(ju.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function qDe(){this._writableState.ended||U.default.nextTick(LDe,this)}function LDe(t){t.end()}Object.defineProperty(ju.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var BS=X((ZIt,YX)=>{"use strict";b();var jX=Ty().codes.ERR_STREAM_PREMATURE_CLOSE;function HDe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function GDe(){}function jDe(t){return t.setHeader&&typeof t.abort=="function"}function zX(t,e,r){if(typeof e=="function")return zX(t,null,e);e||(e={}),r=HDe(r||GDe);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||f()},s=t._writableState&&t._writableState.finished,f=function(){n=!1,s=!0,i||r.call(t)},d=t._readableState&&t._readableState.endEmitted,p=function(){i=!1,d=!0,n||r.call(t)},u=function(C){r.call(t,C)},y=function(){var C;if(i&&!d)return(!t._readableState||!t._readableState.ended)&&(C=new jX),r.call(t,C);if(n&&!s)return(!t._writableState||!t._writableState.ended)&&(C=new jX),r.call(t,C)},B=function(){t.req.on("finish",f)};return jDe(t)?(t.on("complete",f),t.on("abort",y),t.req?B():t.on("request",B)):n&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",p),t.on("finish",f),e.error!==!1&&t.on("error",u),t.on("close",y),function(){t.removeListener("complete",f),t.removeListener("abort",y),t.removeListener("request",B),t.req&&t.req.removeListener("finish",f),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",f),t.removeListener("end",p),t.removeListener("error",u),t.removeListener("close",y)}}YX.exports=zX});var VX=X((XIt,JX)=>{"use strict";b();var CS;function Op(t,e,r){return e=zDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zDe(t){var e=YDe(t,"string");return typeof e=="symbol"?e:String(e)}function YDe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JDe=BS(),Kp=Symbol("lastResolve"),Uy=Symbol("lastReject"),Q2=Symbol("error"),xS=Symbol("ended"),Fy=Symbol("lastPromise"),jU=Symbol("handlePromise"),Ny=Symbol("stream");function qp(t,e){return{value:t,done:e}}function VDe(t){var e=t[Kp];if(e!==null){var r=t[Ny].read();r!==null&&(t[Fy]=null,t[Kp]=null,t[Uy]=null,e(qp(r,!1)))}}function WDe(t){U.default.nextTick(VDe,t)}function ZDe(t,e){return function(r,i){t.then(function(){if(e[xS]){r(qp(void 0,!0));return}e[jU](r,i)},i)}}var $De=Object.getPrototypeOf(function(){}),XDe=Object.setPrototypeOf((CS={get stream(){return this[Ny]},next:function(){var e=this,r=this[Q2];if(r!==null)return Promise.reject(r);if(this[xS])return Promise.resolve(qp(void 0,!0));if(this[Ny].destroyed)return new Promise(function(s,f){U.default.nextTick(function(){e[Q2]?f(e[Q2]):s(qp(void 0,!0))})});var i=this[Fy],n;if(i)n=new Promise(ZDe(i,this));else{var o=this[Ny].read();if(o!==null)return Promise.resolve(qp(o,!1));n=new Promise(this[jU])}return this[Fy]=n,n}},Op(CS,Symbol.asyncIterator,function(){return this}),Op(CS,"return",function(){var e=this;return new Promise(function(r,i){e[Ny].destroy(null,function(n){if(n){i(n);return}r(qp(void 0,!0))})})}),CS),$De),eMe=function(e){var r,i=Object.create(XDe,(r={},Op(r,Ny,{value:e,writable:!0}),Op(r,Kp,{value:null,writable:!0}),Op(r,Uy,{value:null,writable:!0}),Op(r,Q2,{value:null,writable:!0}),Op(r,xS,{value:e._readableState.endEmitted,writable:!0}),Op(r,jU,{value:function(o,s){var f=i[Ny].read();f?(i[Fy]=null,i[Kp]=null,i[Uy]=null,o(qp(f,!1))):(i[Kp]=o,i[Uy]=s)},writable:!0}),r));return i[Fy]=null,JDe(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=i[Uy];o!==null&&(i[Fy]=null,i[Kp]=null,i[Uy]=null,o(n)),i[Q2]=n;return}var s=i[Kp];s!==null&&(i[Fy]=null,i[Kp]=null,i[Uy]=null,s(qp(void 0,!0))),i[xS]=!0}),e.on("readable",WDe.bind(null,i)),i};JX.exports=eMe});var ZX=X((twt,WX)=>{b();WX.exports=function(){throw new Error("Readable.from is not available in the browser")}});var GU=X((nwt,aee)=>{"use strict";b();aee.exports=Jr;var Hw;Jr.ReadableState=tee;var iwt=va().EventEmitter,eee=function(e,r){return e.listeners(r).length},M2=TU(),SS=ni().Buffer,tMe=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function rMe(t){return SS.from(t)}function iMe(t){return SS.isBuffer(t)||t instanceof tMe}var zU=Fl(),Dr;zU&&zU.debuglog?Dr=zU.debuglog("stream"):Dr=function(){};var nMe=QX(),XU=FU(),oMe=NU(),sMe=oMe.getHighWaterMark,_S=Ty().codes,aMe=_S.ERR_INVALID_ARG_TYPE,cMe=_S.ERR_STREAM_PUSH_AFTER_EOF,fMe=_S.ERR_METHOD_NOT_IMPLEMENTED,dMe=_S.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Gw,YU,JU;Qt()(Jr,M2);var D2=XU.errorOrDestroy,VU=["error","close","destroy","pause","resume"];function uMe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function tee(t,e,r){Hw=Hw||Ry(),t=t||{},typeof r!="boolean"&&(r=e instanceof Hw),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=sMe(this,t,"readableHighWaterMark",r),this.buffer=new nMe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Gw||(Gw=ud().StringDecoder),this.decoder=new Gw(t.encoding),this.encoding=t.encoding)}function Jr(t){if(Hw=Hw||Ry(),!(this instanceof Jr))return new Jr(t);var e=this instanceof Hw;this._readableState=new tee(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),M2.call(this)}Object.defineProperty(Jr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Jr.prototype.destroy=XU.destroy;Jr.prototype._undestroy=XU.undestroy;Jr.prototype._destroy=function(t,e){e(t)};Jr.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=SS.from(t,e),e=""),i=!0),ree(this,t,e,!1,i)};Jr.prototype.unshift=function(t){return ree(this,t,null,!0,!1)};function ree(t,e,r,i,n){Dr("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,pMe(t,o);else{var s;if(n||(s=hMe(o,e)),s)D2(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==SS.prototype&&(e=rMe(e)),i)o.endEmitted?D2(t,new dMe):WU(t,o,e,!0);else if(o.ended)D2(t,new cMe);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?WU(t,o,e,!1):$U(t,o)):WU(t,o,e,!1)}else i||(o.reading=!1,$U(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function WU(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&QS(t)),$U(t,e)}function hMe(t,e){var r;return!iMe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new aMe("chunk",["string","Buffer","Uint8Array"],e)),r}Jr.prototype.isPaused=function(){return this._readableState.flowing===!1};Jr.prototype.setEncoding=function(t){Gw||(Gw=ud().StringDecoder);var e=new Gw(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var $X=1073741824;function lMe(t){return t>=$X?t=$X:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function XX(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=lMe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Jr.prototype.read=function(t){Dr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Dr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?ZU(this):QS(this),null;if(t=XX(t,e),t===0&&e.ended)return e.length===0&&ZU(this),null;var i=e.needReadable;Dr("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Dr("length less than watermark",i)),e.ended||e.reading?(i=!1,Dr("reading or ended",i)):i&&(Dr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=XX(r,e)));var n;return t>0?n=oee(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&ZU(this)),n!==null&&this.emit("data",n),n};function pMe(t,e){if(Dr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?QS(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,iee(t)))}}function QS(t){var e=t._readableState;Dr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Dr("emitReadable",e.flowing),e.emittedReadable=!0,U.default.nextTick(iee,t))}function iee(t){var e=t._readableState;Dr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,e7(t)}function $U(t,e){e.readingMore||(e.readingMore=!0,U.default.nextTick(AMe,t,e))}function AMe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Dr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Jr.prototype._read=function(t){D2(this,new fMe("_read()"))};Jr.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,Dr("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==U.default.stdout&&t!==U.default.stderr,o=n?f:x;i.endEmitted?U.default.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(_,Q){Dr("onunpipe"),_===r&&Q&&Q.hasUnpiped===!1&&(Q.hasUnpiped=!0,u())}function f(){Dr("onend"),t.end()}var d=gMe(r);t.on("drain",d);var p=!1;function u(){Dr("cleanup"),t.removeListener("close",S),t.removeListener("finish",C),t.removeListener("drain",d),t.removeListener("error",B),t.removeListener("unpipe",s),r.removeListener("end",f),r.removeListener("end",x),r.removeListener("data",y),p=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&d()}r.on("data",y);function y(_){Dr("ondata");var Q=t.write(_);Dr("dest.write",Q),Q===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&see(i.pipes,t)!==-1)&&!p&&(Dr("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function B(_){Dr("onerror",_),x(),t.removeListener("error",B),eee(t,"error")===0&&D2(t,_)}uMe(t,"error",B);function S(){t.removeListener("finish",C),x()}t.once("close",S);function C(){Dr("onfinish"),t.removeListener("close",S),x()}t.once("finish",C);function x(){Dr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(Dr("pipe resume"),r.resume()),t};function gMe(t){return function(){var r=t._readableState;Dr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&eee(t,"data")&&(r.flowing=!0,e7(t))}}Jr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=see(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Jr.prototype.on=function(t,e){var r=M2.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Dr("on readable",i.length,i.reading),i.length?QS(this):i.reading||U.default.nextTick(yMe,this)),r};Jr.prototype.addListener=Jr.prototype.on;Jr.prototype.removeListener=function(t,e){var r=M2.prototype.removeListener.call(this,t,e);return t==="readable"&&U.default.nextTick(nee,this),r};Jr.prototype.removeAllListeners=function(t){var e=M2.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&U.default.nextTick(nee,this),e};function nee(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function yMe(t){Dr("readable nexttick read 0"),t.read(0)}Jr.prototype.resume=function(){var t=this._readableState;return t.flowing||(Dr("resume"),t.flowing=!t.readableListening,mMe(this,t)),t.paused=!1,this};function mMe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,U.default.nextTick(IMe,t,e))}function IMe(t,e){Dr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),e7(t),e.flowing&&!e.reading&&t.read(0)}Jr.prototype.pause=function(){return Dr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Dr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function e7(t){var e=t._readableState;for(Dr("flow",e.flowing);e.flowing&&t.read()!==null;);}Jr.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(Dr("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Dr("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var f=e.push(s);f||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(f){return function(){return t[f].apply(t,arguments)}}(n));for(var o=0;o<VU.length;o++)t.on(VU[o],this.emit.bind(this,VU[o]));return this._read=function(s){Dr("wrapped _read",s),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(Jr.prototype[Symbol.asyncIterator]=function(){return YU===void 0&&(YU=VX()),YU(this)});Object.defineProperty(Jr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Jr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Jr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Jr._fromList=oee;Object.defineProperty(Jr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function oee(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function ZU(t){var e=t._readableState;Dr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,U.default.nextTick(wMe,e,t))}function wMe(t,e){if(Dr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Jr.from=function(t,e){return JU===void 0&&(JU=ZX()),JU(Jr,t,e)});function see(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var t7=X((swt,fee)=>{"use strict";b();fee.exports=Nl;var DS=Ty().codes,vMe=DS.ERR_METHOD_NOT_IMPLEMENTED,bMe=DS.ERR_MULTIPLE_CALLBACK,EMe=DS.ERR_TRANSFORM_ALREADY_TRANSFORMING,BMe=DS.ERR_TRANSFORM_WITH_LENGTH_0,MS=Ry();Qt()(Nl,MS);function CMe(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new bMe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Nl(t){if(!(this instanceof Nl))return new Nl(t);MS.call(this,t),this._transformState={afterTransform:CMe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",xMe)}function xMe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){cee(t,e,r)}):cee(this,null,null)}Nl.prototype.push=function(t,e){return this._transformState.needTransform=!1,MS.prototype.push.call(this,t,e)};Nl.prototype._transform=function(t,e,r){r(new vMe("_transform()"))};Nl.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};Nl.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Nl.prototype._destroy=function(t,e){MS.prototype._destroy.call(this,t,function(r){e(r)})};function cee(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new BMe;if(t._transformState.transforming)throw new EMe;return t.push(null)}});var hee=X((cwt,uee)=>{"use strict";b();uee.exports=k2;var dee=t7();Qt()(k2,dee);function k2(t){if(!(this instanceof k2))return new k2(t);dee.call(this,t)}k2.prototype._transform=function(t,e,r){r(null,t)}});var yee=X((dwt,gee)=>{"use strict";b();var r7;function SMe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Aee=Ty().codes,_Me=Aee.ERR_MISSING_ARGS,QMe=Aee.ERR_STREAM_DESTROYED;function lee(t){if(t)throw t}function DMe(t){return t.setHeader&&typeof t.abort=="function"}function MMe(t,e,r,i){i=SMe(i);var n=!1;t.on("close",function(){n=!0}),r7===void 0&&(r7=BS()),r7(t,{readable:e,writable:r},function(s){if(s)return i(s);n=!0,i()});var o=!1;return function(s){if(!n&&!o){if(o=!0,DMe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(s||new QMe("pipe"))}}}function pee(t){t()}function kMe(t,e){return t.pipe(e)}function TMe(t){return!t.length||typeof t[t.length-1]!="function"?lee:t.pop()}function RMe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=TMe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new _Me("streams");var n,o=e.map(function(s,f){var d=f<e.length-1,p=f>0;return MMe(s,d,p,function(u){n||(n=u),u&&o.forEach(pee),!d&&(o.forEach(pee),i(n))})});return e.reduce(kMe)}gee.exports=RMe});var Iee=X((nf,mee)=>{b();nf=mee.exports=GU();nf.Stream=nf;nf.Readable=nf;nf.Writable=qU();nf.Duplex=Ry();nf.Transform=t7();nf.PassThrough=hee();nf.finished=BS();nf.pipeline=yee()});var i7=X((lwt,vee)=>{"use strict";b();var kS=bX().Buffer,wee=Iee().Transform,UMe=Qt();function FMe(t,e){if(!kS.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Lp(t){wee.call(this),this._block=kS.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}UMe(Lp,wee);Lp.prototype._transform=function(t,e,r){var i=null;try{this.update(t,e)}catch(n){i=n}r(i)};Lp.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Lp.prototype.update=function(t,e){if(FMe(t,"Data"),this._finalized)throw new Error("Digest already called");kS.isBuffer(t)||(t=kS.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var n=this._blockOffset;n<this._blockSize;)r[n++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var o=0,s=t.length*8;s>0;++o)this._length[o]+=s,s=this._length[o]/4294967296|0,s>0&&(this._length[o]-=4294967296*s);return this};Lp.prototype._update=function(){throw new Error("_update is not implemented")};Lp.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Lp.prototype._digest=function(){throw new Error("_digest is not implemented")};vee.exports=Lp});var US=X((Awt,Eee)=>{"use strict";b();var NMe=Qt(),bee=i7(),PMe=jr().Buffer,OMe=new Array(16);function TS(){bee.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}NMe(TS,bee);TS.prototype._update=function(){for(var t=OMe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,i=this._b,n=this._c,o=this._d;r=gs(r,i,n,o,t[0],3614090360,7),o=gs(o,r,i,n,t[1],3905402710,12),n=gs(n,o,r,i,t[2],606105819,17),i=gs(i,n,o,r,t[3],3250441966,22),r=gs(r,i,n,o,t[4],4118548399,7),o=gs(o,r,i,n,t[5],1200080426,12),n=gs(n,o,r,i,t[6],2821735955,17),i=gs(i,n,o,r,t[7],4249261313,22),r=gs(r,i,n,o,t[8],1770035416,7),o=gs(o,r,i,n,t[9],2336552879,12),n=gs(n,o,r,i,t[10],4294925233,17),i=gs(i,n,o,r,t[11],2304563134,22),r=gs(r,i,n,o,t[12],1804603682,7),o=gs(o,r,i,n,t[13],4254626195,12),n=gs(n,o,r,i,t[14],2792965006,17),i=gs(i,n,o,r,t[15],1236535329,22),r=ys(r,i,n,o,t[1],4129170786,5),o=ys(o,r,i,n,t[6],3225465664,9),n=ys(n,o,r,i,t[11],643717713,14),i=ys(i,n,o,r,t[0],3921069994,20),r=ys(r,i,n,o,t[5],3593408605,5),o=ys(o,r,i,n,t[10],38016083,9),n=ys(n,o,r,i,t[15],3634488961,14),i=ys(i,n,o,r,t[4],3889429448,20),r=ys(r,i,n,o,t[9],568446438,5),o=ys(o,r,i,n,t[14],3275163606,9),n=ys(n,o,r,i,t[3],4107603335,14),i=ys(i,n,o,r,t[8],1163531501,20),r=ys(r,i,n,o,t[13],2850285829,5),o=ys(o,r,i,n,t[2],4243563512,9),n=ys(n,o,r,i,t[7],1735328473,14),i=ys(i,n,o,r,t[12],2368359562,20),r=ms(r,i,n,o,t[5],4294588738,4),o=ms(o,r,i,n,t[8],2272392833,11),n=ms(n,o,r,i,t[11],1839030562,16),i=ms(i,n,o,r,t[14],4259657740,23),r=ms(r,i,n,o,t[1],2763975236,4),o=ms(o,r,i,n,t[4],1272893353,11),n=ms(n,o,r,i,t[7],4139469664,16),i=ms(i,n,o,r,t[10],3200236656,23),r=ms(r,i,n,o,t[13],681279174,4),o=ms(o,r,i,n,t[0],3936430074,11),n=ms(n,o,r,i,t[3],3572445317,16),i=ms(i,n,o,r,t[6],76029189,23),r=ms(r,i,n,o,t[9],3654602809,4),o=ms(o,r,i,n,t[12],3873151461,11),n=ms(n,o,r,i,t[15],530742520,16),i=ms(i,n,o,r,t[2],3299628645,23),r=Is(r,i,n,o,t[0],4096336452,6),o=Is(o,r,i,n,t[7],1126891415,10),n=Is(n,o,r,i,t[14],2878612391,15),i=Is(i,n,o,r,t[5],4237533241,21),r=Is(r,i,n,o,t[12],1700485571,6),o=Is(o,r,i,n,t[3],2399980690,10),n=Is(n,o,r,i,t[10],4293915773,15),i=Is(i,n,o,r,t[1],2240044497,21),r=Is(r,i,n,o,t[8],1873313359,6),o=Is(o,r,i,n,t[15],4264355552,10),n=Is(n,o,r,i,t[6],2734768916,15),i=Is(i,n,o,r,t[13],1309151649,21),r=Is(r,i,n,o,t[4],4149444226,6),o=Is(o,r,i,n,t[11],3174756917,10),n=Is(n,o,r,i,t[2],718787259,15),i=Is(i,n,o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+o|0};TS.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=PMe.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function RS(t,e){return t<<e|t>>>32-e}function gs(t,e,r,i,n,o,s){return RS(t+(e&r|~e&i)+n+o|0,s)+e|0}function ys(t,e,r,i,n,o,s){return RS(t+(e&i|r&~i)+n+o|0,s)+e|0}function ms(t,e,r,i,n,o,s){return RS(t+(e^r^i)+n+o|0,s)+e|0}function Is(t,e,r,i,n,o,s){return RS(t+(r^(e|~i))+n+o|0,s)+e|0}Eee.exports=TS});var NS=X((ywt,Dee)=>{"use strict";b();var n7=ni().Buffer,KMe=Qt(),Qee=i7(),qMe=new Array(16),T2=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],R2=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],U2=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],F2=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],N2=[0,1518500249,1859775393,2400959708,2840853838],P2=[1352829926,1548603684,1836072691,2053994217,0];function FS(){Qee.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}KMe(FS,Qee);FS.prototype._update=function(){for(var t=qMe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,i=this._b|0,n=this._c|0,o=this._d|0,s=this._e|0,f=this._a|0,d=this._b|0,p=this._c|0,u=this._d|0,y=this._e|0,B=0;B<80;B+=1){var S,C;B<16?(S=Bee(r,i,n,o,s,t[T2[B]],N2[0],U2[B]),C=_ee(f,d,p,u,y,t[R2[B]],P2[0],F2[B])):B<32?(S=Cee(r,i,n,o,s,t[T2[B]],N2[1],U2[B]),C=See(f,d,p,u,y,t[R2[B]],P2[1],F2[B])):B<48?(S=xee(r,i,n,o,s,t[T2[B]],N2[2],U2[B]),C=xee(f,d,p,u,y,t[R2[B]],P2[2],F2[B])):B<64?(S=See(r,i,n,o,s,t[T2[B]],N2[3],U2[B]),C=Cee(f,d,p,u,y,t[R2[B]],P2[3],F2[B])):(S=_ee(r,i,n,o,s,t[T2[B]],N2[4],U2[B]),C=Bee(f,d,p,u,y,t[R2[B]],P2[4],F2[B])),r=s,s=o,o=Py(n,10),n=i,i=S,f=y,y=u,u=Py(p,10),p=d,d=C}var x=this._b+n+u|0;this._b=this._c+o+y|0,this._c=this._d+s+f|0,this._d=this._e+r+d|0,this._e=this._a+i+p|0,this._a=x};FS.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=n7.alloc?n7.alloc(20):new n7(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Py(t,e){return t<<e|t>>>32-e}function Bee(t,e,r,i,n,o,s,f){return Py(t+(e^r^i)+o+s|0,f)+n|0}function Cee(t,e,r,i,n,o,s,f){return Py(t+(e&r|~e&i)+o+s|0,f)+n|0}function xee(t,e,r,i,n,o,s,f){return Py(t+((e|~r)^i)+o+s|0,f)+n|0}function See(t,e,r,i,n,o,s,f){return Py(t+(e&i|r&~i)+o+s|0,f)+n|0}function _ee(t,e,r,i,n,o,s,f){return Py(t+(e^(r|~i))+o+s|0,f)+n|0}Dee.exports=FS});var Oy=X((Iwt,kee)=>{b();var Mee=jr().Buffer;function PS(t,e){this._block=Mee.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}PS.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Mee.from(t,e));for(var r=this._block,i=this._blockSize,n=t.length,o=this._len,s=0;s<n;){for(var f=o%i,d=Math.min(n-s,i-f),p=0;p<d;p++)r[f+p]=t[s+p];o+=d,s+=d,o%i===0&&this._update(r)}return this._len+=n,this};PS.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(r&4294967295)>>>0,n=(r-i)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o};PS.prototype._update=function(){throw new Error("_update must be implemented by subclass")};kee.exports=PS});var Uee=X((vwt,Ree)=>{b();var LMe=Qt(),Tee=Oy(),HMe=jr().Buffer,GMe=[1518500249,1859775393,-1894007588,-899497514],jMe=new Array(80);function O2(){this.init(),this._w=jMe,Tee.call(this,64,56)}LMe(O2,Tee);O2.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function zMe(t){return t<<5|t>>>27}function YMe(t){return t<<30|t>>>2}function JMe(t,e,r,i){return t===0?e&r|~e&i:t===2?e&r|e&i|r&i:e^r^i}O2.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,o=this._d|0,s=this._e|0,f=0;f<16;++f)e[f]=t.readInt32BE(f*4);for(;f<80;++f)e[f]=e[f-3]^e[f-8]^e[f-14]^e[f-16];for(var d=0;d<80;++d){var p=~~(d/20),u=zMe(r)+JMe(p,i,n,o)+s+e[d]+GMe[p]|0;s=o,o=n,n=YMe(i),i=r,r=u}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};O2.prototype._hash=function(){var t=HMe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};Ree.exports=O2});var Pee=X((Ewt,Nee)=>{b();var VMe=Qt(),Fee=Oy(),WMe=jr().Buffer,ZMe=[1518500249,1859775393,-1894007588,-899497514],$Me=new Array(80);function K2(){this.init(),this._w=$Me,Fee.call(this,64,56)}VMe(K2,Fee);K2.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function XMe(t){return t<<1|t>>>31}function eke(t){return t<<5|t>>>27}function tke(t){return t<<30|t>>>2}function rke(t,e,r,i){return t===0?e&r|~e&i:t===2?e&r|e&i|r&i:e^r^i}K2.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,o=this._d|0,s=this._e|0,f=0;f<16;++f)e[f]=t.readInt32BE(f*4);for(;f<80;++f)e[f]=XMe(e[f-3]^e[f-8]^e[f-14]^e[f-16]);for(var d=0;d<80;++d){var p=~~(d/20),u=eke(r)+rke(p,i,n,o)+s+e[d]+ZMe[p]|0;s=o,o=n,n=tke(i),i=r,r=u}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};K2.prototype._hash=function(){var t=WMe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};Nee.exports=K2});var o7=X((Cwt,Kee)=>{b();var ike=Qt(),Oee=Oy(),nke=jr().Buffer,oke=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ske=new Array(64);function q2(){this.init(),this._w=ske,Oee.call(this,64,56)}ike(q2,Oee);q2.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ake(t,e,r){return r^t&(e^r)}function cke(t,e,r){return t&e|r&(t|e)}function fke(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function dke(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function uke(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function hke(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}q2.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,o=this._d|0,s=this._e|0,f=this._f|0,d=this._g|0,p=this._h|0,u=0;u<16;++u)e[u]=t.readInt32BE(u*4);for(;u<64;++u)e[u]=hke(e[u-2])+e[u-7]+uke(e[u-15])+e[u-16]|0;for(var y=0;y<64;++y){var B=p+dke(s)+ake(s,f,d)+oke[y]+e[y]|0,S=fke(r)+cke(r,i,n)|0;p=d,d=f,f=s,s=o+B|0,o=n,n=i,i=r,r=B+S|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=f+this._f|0,this._g=d+this._g|0,this._h=p+this._h|0};q2.prototype._hash=function(){var t=nke.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};Kee.exports=q2});var Lee=X((Swt,qee)=>{b();var lke=Qt(),pke=o7(),Ake=Oy(),gke=jr().Buffer,yke=new Array(64);function OS(){this.init(),this._w=yke,Ake.call(this,64,56)}lke(OS,pke);OS.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};OS.prototype._hash=function(){var t=gke.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};qee.exports=OS});var s7=X((Qwt,Vee)=>{b();var mke=Qt(),Jee=Oy(),Ike=jr().Buffer,Hee=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],wke=new Array(160);function L2(){this.init(),this._w=wke,Jee.call(this,128,112)}mke(L2,Jee);L2.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Gee(t,e,r){return r^t&(e^r)}function jee(t,e,r){return t&e|r&(t|e)}function zee(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Yee(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function vke(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function bke(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Eke(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Bke(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function vo(t,e){return t>>>0<e>>>0?1:0}L2.prototype._update=function(t){for(var e=this._w,r=this._ah|0,i=this._bh|0,n=this._ch|0,o=this._dh|0,s=this._eh|0,f=this._fh|0,d=this._gh|0,p=this._hh|0,u=this._al|0,y=this._bl|0,B=this._cl|0,S=this._dl|0,C=this._el|0,x=this._fl|0,_=this._gl|0,Q=this._hl|0,R=0;R<32;R+=2)e[R]=t.readInt32BE(R*4),e[R+1]=t.readInt32BE(R*4+4);for(;R<160;R+=2){var k=e[R-30],K=e[R-15*2+1],T=vke(k,K),L=bke(K,k);k=e[R-2*2],K=e[R-2*2+1];var H=Eke(k,K),O=Bke(K,k),G=e[R-7*2],v=e[R-7*2+1],a=e[R-16*2],h=e[R-16*2+1],g=L+v|0,l=T+G+vo(g,L)|0;g=g+O|0,l=l+H+vo(g,O)|0,g=g+h|0,l=l+a+vo(g,h)|0,e[R]=l,e[R+1]=g}for(var A=0;A<160;A+=2){l=e[A],g=e[A+1];var w=jee(r,i,n),E=jee(u,y,B),m=zee(r,u),c=zee(u,r),I=Yee(s,C),M=Yee(C,s),D=Hee[A],P=Hee[A+1],j=Gee(s,f,d),Y=Gee(C,x,_),z=Q+M|0,$=p+I+vo(z,Q)|0;z=z+Y|0,$=$+j+vo(z,Y)|0,z=z+P|0,$=$+D+vo(z,P)|0,z=z+g|0,$=$+l+vo(z,g)|0;var W=c+E|0,ee=m+w+vo(W,c)|0;p=d,Q=_,d=f,_=x,f=s,x=C,C=S+z|0,s=o+$+vo(C,S)|0,o=n,S=B,n=i,B=y,i=r,y=u,u=z+W|0,r=$+ee+vo(u,z)|0}this._al=this._al+u|0,this._bl=this._bl+y|0,this._cl=this._cl+B|0,this._dl=this._dl+S|0,this._el=this._el+C|0,this._fl=this._fl+x|0,this._gl=this._gl+_|0,this._hl=this._hl+Q|0,this._ah=this._ah+r+vo(this._al,u)|0,this._bh=this._bh+i+vo(this._bl,y)|0,this._ch=this._ch+n+vo(this._cl,B)|0,this._dh=this._dh+o+vo(this._dl,S)|0,this._eh=this._eh+s+vo(this._el,C)|0,this._fh=this._fh+f+vo(this._fl,x)|0,this._gh=this._gh+d+vo(this._gl,_)|0,this._hh=this._hh+p+vo(this._hl,Q)|0};L2.prototype._hash=function(){var t=Ike.allocUnsafe(64);function e(r,i,n){t.writeInt32BE(r,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};Vee.exports=L2});var Zee=X((Mwt,Wee)=>{b();var Cke=Qt(),xke=s7(),Ske=Oy(),_ke=jr().Buffer,Qke=new Array(160);function KS(){this.init(),this._w=Qke,Ske.call(this,128,112)}Cke(KS,xke);KS.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};KS.prototype._hash=function(){var t=_ke.allocUnsafe(48);function e(r,i,n){t.writeInt32BE(r,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};Wee.exports=KS});var qS=X((Pl,$ee)=>{b();var Pl=$ee.exports=function(e){e=e.toLowerCase();var r=Pl[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Pl.sha=Uee();Pl.sha1=Pee();Pl.sha224=Lee();Pl.sha256=o7();Pl.sha384=Zee();Pl.sha512=s7()});var a7=X((Rwt,Xee)=>{b();Xee.exports=va().EventEmitter});var ote=X((Fwt,nte)=>{"use strict";b();function ete(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function tte(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ete(Object(r),!0).forEach(function(i){Dke(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ete(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function Dke(t,e,r){return e=ite(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rte(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,ite(i.key),i)}}function kke(t,e,r){return e&&rte(t.prototype,e),r&&rte(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ite(t){var e=Tke(t,"string");return typeof e=="symbol"?e:String(e)}function Tke(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rke=ni(),LS=Rke.Buffer,Uke=Fl(),c7=Uke.inspect,Fke=c7&&c7.custom||"inspect";function Nke(t,e,r){LS.prototype.copy.call(t,e,r)}nte.exports=function(){function t(){Mke(this,t),this.head=null,this.tail=null,this.length=0}return kke(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return LS.alloc(0);for(var i=LS.allocUnsafe(r>>>0),n=this.head,o=0;n;)Nke(n.data,i,o),o+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,o=i.data;for(r-=o.length;i=i.next;){var s=i.data,f=r>s.length?s.length:r;if(f===s.length?o+=s:o+=s.slice(0,r),r-=f,r===0){f===s.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(f));break}++n}return this.length-=n,o}},{key:"_getBuffer",value:function(r){var i=LS.allocUnsafe(r),n=this.head,o=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var s=n.data,f=r>s.length?s.length:r;if(s.copy(i,i.length-r,0,f),r-=f,r===0){f===s.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(f));break}++o}return this.length-=o,i}},{key:Fke,value:function(r,i){return c7(this,tte(tte({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var d7=X((Pwt,ate)=>{"use strict";b();function Pke(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,U.default.nextTick(f7,this,t)):U.default.nextTick(f7,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?U.default.nextTick(HS,r):(r._writableState.errorEmitted=!0,U.default.nextTick(ste,r,o)):U.default.nextTick(ste,r,o):e?(U.default.nextTick(HS,r),e(o)):U.default.nextTick(HS,r)}),this)}function ste(t,e){f7(t,e),HS(t)}function HS(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Oke(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function f7(t,e){t.emit("error",e)}function Kke(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}ate.exports={destroy:Pke,undestroy:Oke,errorOrDestroy:Kke}});var Ky=X((Kwt,dte)=>{"use strict";b();function qke(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var fte={};function of(t,e,r){r||(r=Error);function i(o,s,f){return typeof e=="string"?e:e(o,s,f)}var n=function(o){qke(s,o);function s(f,d,p){return o.call(this,i(f,d,p))||this}return s}(r);n.prototype.name=r.name,n.prototype.code=t,fte[t]=n}function cte(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Lke(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Hke(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Gke(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}of("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);of("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&Lke(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(Hke(t," argument"))n="The ".concat(t," ").concat(i," ").concat(cte(e,"type"));else{var o=Gke(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(o," ").concat(i," ").concat(cte(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);of("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");of("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});of("ERR_STREAM_PREMATURE_CLOSE","Premature close");of("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});of("ERR_MULTIPLE_CALLBACK","Callback called multiple times");of("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");of("ERR_STREAM_WRITE_AFTER_END","write after end");of("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);of("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);of("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");dte.exports.codes=fte});var u7=X((Lwt,ute)=>{"use strict";b();var jke=Ky().codes.ERR_INVALID_OPT_VALUE;function zke(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Yke(t,e,r,i){var n=zke(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var o=i?r:"highWaterMark";throw new jke(o,n)}return Math.floor(n)}return t.objectMode?16:16*1024}ute.exports={getHighWaterMark:Yke}});var p7=X((Gwt,yte)=>{"use strict";b();yte.exports=bn;function lte(t){var e=this;this.next=null,this.entry=null,this.finish=function(){wTe(e,t)}}var jw;bn.WritableState=G2;var Jke={deprecate:x2()},pte=a7(),jS=ni().Buffer,Vke=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Wke(t){return jS.from(t)}function Zke(t){return jS.isBuffer(t)||t instanceof Vke}var l7=d7(),$ke=u7(),Xke=$ke.getHighWaterMark,Hp=Ky().codes,eTe=Hp.ERR_INVALID_ARG_TYPE,tTe=Hp.ERR_METHOD_NOT_IMPLEMENTED,rTe=Hp.ERR_MULTIPLE_CALLBACK,iTe=Hp.ERR_STREAM_CANNOT_PIPE,nTe=Hp.ERR_STREAM_DESTROYED,oTe=Hp.ERR_STREAM_NULL_VALUES,sTe=Hp.ERR_STREAM_WRITE_AFTER_END,aTe=Hp.ERR_UNKNOWN_ENCODING,zw=l7.errorOrDestroy;Qt()(bn,pte);function cTe(){}function G2(t,e,r){jw=jw||qy(),t=t||{},typeof r!="boolean"&&(r=e instanceof jw),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Xke(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){ATe(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new lte(this)}G2.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(G2.prototype,"buffer",{get:Jke.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var GS;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(GS=Function.prototype[Symbol.hasInstance],Object.defineProperty(bn,Symbol.hasInstance,{value:function(e){return GS.call(this,e)?!0:this!==bn?!1:e&&e._writableState instanceof G2}})):GS=function(e){return e instanceof this};function bn(t){jw=jw||qy();var e=this instanceof jw;if(!e&&!GS.call(bn,this))return new bn(t);this._writableState=new G2(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),pte.call(this)}bn.prototype.pipe=function(){zw(this,new iTe)};function fTe(t,e){var r=new sTe;zw(t,r),U.default.nextTick(e,r)}function dTe(t,e,r,i){var n;return r===null?n=new oTe:typeof r!="string"&&!e.objectMode&&(n=new eTe("chunk",["string","Buffer"],r)),n?(zw(t,n),U.default.nextTick(i,n),!1):!0}bn.prototype.write=function(t,e,r){var i=this._writableState,n=!1,o=!i.objectMode&&Zke(t);return o&&!jS.isBuffer(t)&&(t=Wke(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=cTe),i.ending?fTe(this,r):(o||dTe(this,i,t,r))&&(i.pendingcb++,n=hTe(this,i,o,t,e,r)),n};bn.prototype.cork=function(){this._writableState.corked++};bn.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Ate(this,t))};bn.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new aTe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(bn.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function uTe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=jS.from(e,r)),e}Object.defineProperty(bn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function hTe(t,e,r,i,n,o){if(!r){var s=uTe(e,i,n);i!==s&&(r=!0,n="buffer",i=s)}var f=e.objectMode?1:i.length;e.length+=f;var d=e.length<e.highWaterMark;if(d||(e.needDrain=!0),e.writing||e.corked){var p=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},p?p.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else h7(t,e,!1,f,i,n,o);return d}function h7(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new nTe("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function lTe(t,e,r,i,n){--e.pendingcb,r?(U.default.nextTick(n,i),U.default.nextTick(H2,t,e),t._writableState.errorEmitted=!0,zw(t,i)):(n(i),t._writableState.errorEmitted=!0,zw(t,i),H2(t,e))}function pTe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function ATe(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new rTe;if(pTe(r),e)lTe(t,r,i,e,n);else{var o=gte(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Ate(t,r),i?U.default.nextTick(hte,t,r,o,n):hte(t,r,o,n)}}function hte(t,e,r,i){r||gTe(t,e),e.pendingcb--,i(),H2(t,e)}function gTe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Ate(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var s=0,f=!0;r;)n[s]=r,r.isBuf||(f=!1),r=r.next,s+=1;n.allBuffers=f,h7(t,e,!0,e.length,n,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new lte(e),e.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,p=r.encoding,u=r.callback,y=e.objectMode?1:d.length;if(h7(t,e,!1,y,d,p,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}bn.prototype._write=function(t,e,r){r(new tTe("_write()"))};bn.prototype._writev=null;bn.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||ITe(this,i,r),this};Object.defineProperty(bn.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function gte(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function yTe(t,e){t._final(function(r){e.pendingcb--,r&&zw(t,r),e.prefinished=!0,t.emit("prefinish"),H2(t,e)})}function mTe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,U.default.nextTick(yTe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function H2(t,e){var r=gte(e);if(r&&(mTe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function ITe(t,e,r){e.ending=!0,H2(t,e),r&&(e.finished?U.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function wTe(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(bn.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});bn.prototype.destroy=l7.destroy;bn.prototype._undestroy=l7.undestroy;bn.prototype._destroy=function(t,e){e(t)}});var qy=X((zwt,Ite)=>{"use strict";b();var vTe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Ite.exports=zu;var mte=y7(),g7=p7();Qt()(zu,mte);for(A7=vTe(g7.prototype),zS=0;zS<A7.length;zS++)YS=A7[zS],zu.prototype[YS]||(zu.prototype[YS]=g7.prototype[YS]);var A7,YS,zS;function zu(t){if(!(this instanceof zu))return new zu(t);mte.call(this,t),g7.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",bTe)))}Object.defineProperty(zu.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(zu.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(zu.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function bTe(){this._writableState.ended||U.default.nextTick(ETe,this)}function ETe(t){t.end()}Object.defineProperty(zu.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var JS=X((Jwt,bte)=>{"use strict";b();var wte=Ky().codes.ERR_STREAM_PREMATURE_CLOSE;function BTe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function CTe(){}function xTe(t){return t.setHeader&&typeof t.abort=="function"}function vte(t,e,r){if(typeof e=="function")return vte(t,null,e);e||(e={}),r=BTe(r||CTe);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||f()},s=t._writableState&&t._writableState.finished,f=function(){n=!1,s=!0,i||r.call(t)},d=t._readableState&&t._readableState.endEmitted,p=function(){i=!1,d=!0,n||r.call(t)},u=function(C){r.call(t,C)},y=function(){var C;if(i&&!d)return(!t._readableState||!t._readableState.ended)&&(C=new wte),r.call(t,C);if(n&&!s)return(!t._writableState||!t._writableState.ended)&&(C=new wte),r.call(t,C)},B=function(){t.req.on("finish",f)};return xTe(t)?(t.on("complete",f),t.on("abort",y),t.req?B():t.on("request",B)):n&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",p),t.on("finish",f),e.error!==!1&&t.on("error",u),t.on("close",y),function(){t.removeListener("complete",f),t.removeListener("abort",y),t.removeListener("request",B),t.req&&t.req.removeListener("finish",f),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",f),t.removeListener("end",p),t.removeListener("error",u),t.removeListener("close",y)}}bte.exports=vte});var Bte=X((Wwt,Ete)=>{"use strict";b();var VS;function Gp(t,e,r){return e=STe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function STe(t){var e=_Te(t,"string");return typeof e=="symbol"?e:String(e)}function _Te(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QTe=JS(),jp=Symbol("lastResolve"),Ly=Symbol("lastReject"),j2=Symbol("error"),WS=Symbol("ended"),Hy=Symbol("lastPromise"),m7=Symbol("handlePromise"),Gy=Symbol("stream");function zp(t,e){return{value:t,done:e}}function DTe(t){var e=t[jp];if(e!==null){var r=t[Gy].read();r!==null&&(t[Hy]=null,t[jp]=null,t[Ly]=null,e(zp(r,!1)))}}function MTe(t){U.default.nextTick(DTe,t)}function kTe(t,e){return function(r,i){t.then(function(){if(e[WS]){r(zp(void 0,!0));return}e[m7](r,i)},i)}}var TTe=Object.getPrototypeOf(function(){}),RTe=Object.setPrototypeOf((VS={get stream(){return this[Gy]},next:function(){var e=this,r=this[j2];if(r!==null)return Promise.reject(r);if(this[WS])return Promise.resolve(zp(void 0,!0));if(this[Gy].destroyed)return new Promise(function(s,f){U.default.nextTick(function(){e[j2]?f(e[j2]):s(zp(void 0,!0))})});var i=this[Hy],n;if(i)n=new Promise(kTe(i,this));else{var o=this[Gy].read();if(o!==null)return Promise.resolve(zp(o,!1));n=new Promise(this[m7])}return this[Hy]=n,n}},Gp(VS,Symbol.asyncIterator,function(){return this}),Gp(VS,"return",function(){var e=this;return new Promise(function(r,i){e[Gy].destroy(null,function(n){if(n){i(n);return}r(zp(void 0,!0))})})}),VS),TTe),UTe=function(e){var r,i=Object.create(RTe,(r={},Gp(r,Gy,{value:e,writable:!0}),Gp(r,jp,{value:null,writable:!0}),Gp(r,Ly,{value:null,writable:!0}),Gp(r,j2,{value:null,writable:!0}),Gp(r,WS,{value:e._readableState.endEmitted,writable:!0}),Gp(r,m7,{value:function(o,s){var f=i[Gy].read();f?(i[Hy]=null,i[jp]=null,i[Ly]=null,o(zp(f,!1))):(i[jp]=o,i[Ly]=s)},writable:!0}),r));return i[Hy]=null,QTe(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=i[Ly];o!==null&&(i[Hy]=null,i[jp]=null,i[Ly]=null,o(n)),i[j2]=n;return}var s=i[jp];s!==null&&(i[Hy]=null,i[jp]=null,i[Ly]=null,s(zp(void 0,!0))),i[WS]=!0}),e.on("readable",MTe.bind(null,i)),i};Ete.exports=UTe});var xte=X(($wt,Cte)=>{b();Cte.exports=function(){throw new Error("Readable.from is not available in the browser")}});var y7=X((tvt,Fte)=>{"use strict";b();Fte.exports=Vr;var Yw;Vr.ReadableState=Dte;var evt=va().EventEmitter,Qte=function(e,r){return e.listeners(r).length},Y2=a7(),ZS=ni().Buffer,FTe=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function NTe(t){return ZS.from(t)}function PTe(t){return ZS.isBuffer(t)||t instanceof FTe}var I7=Fl(),Mr;I7&&I7.debuglog?Mr=I7.debuglog("stream"):Mr=function(){};var OTe=ote(),x7=d7(),KTe=u7(),qTe=KTe.getHighWaterMark,$S=Ky().codes,LTe=$S.ERR_INVALID_ARG_TYPE,HTe=$S.ERR_STREAM_PUSH_AFTER_EOF,GTe=$S.ERR_METHOD_NOT_IMPLEMENTED,jTe=$S.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Jw,w7,v7;Qt()(Vr,Y2);var z2=x7.errorOrDestroy,b7=["error","close","destroy","pause","resume"];function zTe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function Dte(t,e,r){Yw=Yw||qy(),t=t||{},typeof r!="boolean"&&(r=e instanceof Yw),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=qTe(this,t,"readableHighWaterMark",r),this.buffer=new OTe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Jw||(Jw=ud().StringDecoder),this.decoder=new Jw(t.encoding),this.encoding=t.encoding)}function Vr(t){if(Yw=Yw||qy(),!(this instanceof Vr))return new Vr(t);var e=this instanceof Yw;this._readableState=new Dte(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Y2.call(this)}Object.defineProperty(Vr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Vr.prototype.destroy=x7.destroy;Vr.prototype._undestroy=x7.undestroy;Vr.prototype._destroy=function(t,e){e(t)};Vr.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=ZS.from(t,e),e=""),i=!0),Mte(this,t,e,!1,i)};Vr.prototype.unshift=function(t){return Mte(this,t,null,!0,!1)};function Mte(t,e,r,i,n){Mr("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,VTe(t,o);else{var s;if(n||(s=YTe(o,e)),s)z2(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==ZS.prototype&&(e=NTe(e)),i)o.endEmitted?z2(t,new jTe):E7(t,o,e,!0);else if(o.ended)z2(t,new HTe);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?E7(t,o,e,!1):C7(t,o)):E7(t,o,e,!1)}else i||(o.reading=!1,C7(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function E7(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&XS(t)),C7(t,e)}function YTe(t,e){var r;return!PTe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new LTe("chunk",["string","Buffer","Uint8Array"],e)),r}Vr.prototype.isPaused=function(){return this._readableState.flowing===!1};Vr.prototype.setEncoding=function(t){Jw||(Jw=ud().StringDecoder);var e=new Jw(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var Ste=1073741824;function JTe(t){return t>=Ste?t=Ste:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function _te(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=JTe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Vr.prototype.read=function(t){Mr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Mr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?B7(this):XS(this),null;if(t=_te(t,e),t===0&&e.ended)return e.length===0&&B7(this),null;var i=e.needReadable;Mr("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Mr("length less than watermark",i)),e.ended||e.reading?(i=!1,Mr("reading or ended",i)):i&&(Mr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=_te(r,e)));var n;return t>0?n=Rte(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&B7(this)),n!==null&&this.emit("data",n),n};function VTe(t,e){if(Mr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?XS(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,kte(t)))}}function XS(t){var e=t._readableState;Mr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Mr("emitReadable",e.flowing),e.emittedReadable=!0,U.default.nextTick(kte,t))}function kte(t){var e=t._readableState;Mr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,S7(t)}function C7(t,e){e.readingMore||(e.readingMore=!0,U.default.nextTick(WTe,t,e))}function WTe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Mr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Vr.prototype._read=function(t){z2(this,new GTe("_read()"))};Vr.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,Mr("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==U.default.stdout&&t!==U.default.stderr,o=n?f:x;i.endEmitted?U.default.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(_,Q){Mr("onunpipe"),_===r&&Q&&Q.hasUnpiped===!1&&(Q.hasUnpiped=!0,u())}function f(){Mr("onend"),t.end()}var d=ZTe(r);t.on("drain",d);var p=!1;function u(){Mr("cleanup"),t.removeListener("close",S),t.removeListener("finish",C),t.removeListener("drain",d),t.removeListener("error",B),t.removeListener("unpipe",s),r.removeListener("end",f),r.removeListener("end",x),r.removeListener("data",y),p=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&d()}r.on("data",y);function y(_){Mr("ondata");var Q=t.write(_);Mr("dest.write",Q),Q===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&Ute(i.pipes,t)!==-1)&&!p&&(Mr("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function B(_){Mr("onerror",_),x(),t.removeListener("error",B),Qte(t,"error")===0&&z2(t,_)}zTe(t,"error",B);function S(){t.removeListener("finish",C),x()}t.once("close",S);function C(){Mr("onfinish"),t.removeListener("close",S),x()}t.once("finish",C);function x(){Mr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(Mr("pipe resume"),r.resume()),t};function ZTe(t){return function(){var r=t._readableState;Mr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Qte(t,"data")&&(r.flowing=!0,S7(t))}}Vr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=Ute(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Vr.prototype.on=function(t,e){var r=Y2.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Mr("on readable",i.length,i.reading),i.length?XS(this):i.reading||U.default.nextTick($Te,this)),r};Vr.prototype.addListener=Vr.prototype.on;Vr.prototype.removeListener=function(t,e){var r=Y2.prototype.removeListener.call(this,t,e);return t==="readable"&&U.default.nextTick(Tte,this),r};Vr.prototype.removeAllListeners=function(t){var e=Y2.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&U.default.nextTick(Tte,this),e};function Tte(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function $Te(t){Mr("readable nexttick read 0"),t.read(0)}Vr.prototype.resume=function(){var t=this._readableState;return t.flowing||(Mr("resume"),t.flowing=!t.readableListening,XTe(this,t)),t.paused=!1,this};function XTe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,U.default.nextTick(eRe,t,e))}function eRe(t,e){Mr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),S7(t),e.flowing&&!e.reading&&t.read(0)}Vr.prototype.pause=function(){return Mr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Mr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function S7(t){var e=t._readableState;for(Mr("flow",e.flowing);e.flowing&&t.read()!==null;);}Vr.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(Mr("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Mr("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var f=e.push(s);f||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(f){return function(){return t[f].apply(t,arguments)}}(n));for(var o=0;o<b7.length;o++)t.on(b7[o],this.emit.bind(this,b7[o]));return this._read=function(s){Mr("wrapped _read",s),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(Vr.prototype[Symbol.asyncIterator]=function(){return w7===void 0&&(w7=Bte()),w7(this)});Object.defineProperty(Vr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Vr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Vr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Vr._fromList=Rte;Object.defineProperty(Vr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Rte(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function B7(t){var e=t._readableState;Mr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,U.default.nextTick(tRe,e,t))}function tRe(t,e){if(Mr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Vr.from=function(t,e){return v7===void 0&&(v7=xte()),v7(Vr,t,e)});function Ute(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var _7=X((ivt,Pte)=>{"use strict";b();Pte.exports=Ol;var e_=Ky().codes,rRe=e_.ERR_METHOD_NOT_IMPLEMENTED,iRe=e_.ERR_MULTIPLE_CALLBACK,nRe=e_.ERR_TRANSFORM_ALREADY_TRANSFORMING,oRe=e_.ERR_TRANSFORM_WITH_LENGTH_0,t_=qy();Qt()(Ol,t_);function sRe(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new iRe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Ol(t){if(!(this instanceof Ol))return new Ol(t);t_.call(this,t),this._transformState={afterTransform:sRe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",aRe)}function aRe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Nte(t,e,r)}):Nte(this,null,null)}Ol.prototype.push=function(t,e){return this._transformState.needTransform=!1,t_.prototype.push.call(this,t,e)};Ol.prototype._transform=function(t,e,r){r(new rRe("_transform()"))};Ol.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};Ol.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ol.prototype._destroy=function(t,e){t_.prototype._destroy.call(this,t,function(r){e(r)})};function Nte(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new oRe;if(t._transformState.transforming)throw new nRe;return t.push(null)}});var qte=X((ovt,Kte)=>{"use strict";b();Kte.exports=J2;var Ote=_7();Qt()(J2,Ote);function J2(t){if(!(this instanceof J2))return new J2(t);Ote.call(this,t)}J2.prototype._transform=function(t,e,r){r(null,t)}});var zte=X((avt,jte)=>{"use strict";b();var Q7;function cRe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Gte=Ky().codes,fRe=Gte.ERR_MISSING_ARGS,dRe=Gte.ERR_STREAM_DESTROYED;function Lte(t){if(t)throw t}function uRe(t){return t.setHeader&&typeof t.abort=="function"}function hRe(t,e,r,i){i=cRe(i);var n=!1;t.on("close",function(){n=!0}),Q7===void 0&&(Q7=JS()),Q7(t,{readable:e,writable:r},function(s){if(s)return i(s);n=!0,i()});var o=!1;return function(s){if(!n&&!o){if(o=!0,uRe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(s||new dRe("pipe"))}}}function Hte(t){t()}function lRe(t,e){return t.pipe(e)}function pRe(t){return!t.length||typeof t[t.length-1]!="function"?Lte:t.pop()}function ARe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=pRe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new fRe("streams");var n,o=e.map(function(s,f){var d=f<e.length-1,p=f>0;return hRe(s,d,p,function(u){n||(n=u),u&&o.forEach(Hte),!d&&(o.forEach(Hte),i(n))})});return e.reduce(lRe)}jte.exports=ARe});var Jte=X((fvt,Yte)=>{b();Yte.exports=sf;var D7=va().EventEmitter,gRe=Qt();gRe(sf,D7);sf.Readable=y7();sf.Writable=p7();sf.Duplex=qy();sf.Transform=_7();sf.PassThrough=qte();sf.finished=JS();sf.pipeline=zte();sf.Stream=sf;function sf(){D7.call(this)}sf.prototype.pipe=function(t,e){var r=this;function i(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",i);function n(){r.readable&&r.resume&&r.resume()}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",f));var o=!1;function s(){o||(o=!0,t.end())}function f(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function d(u){if(p(),D7.listenerCount(this,"error")===0)throw u}r.on("error",d),t.on("error",d);function p(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",s),r.removeListener("close",f),r.removeListener("error",d),t.removeListener("error",d),r.removeListener("end",p),r.removeListener("close",p),t.removeListener("close",p)}return r.on("end",p),r.on("close",p),t.on("close",p),t.emit("pipe",r),t}});var Kl=X((uvt,Zte)=>{b();var Vte=jr().Buffer,Wte=Jte().Transform,yRe=ud().StringDecoder,mRe=Qt();function md(t){Wte.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}mRe(md,Wte);md.prototype.update=function(t,e,r){typeof t=="string"&&(t=Vte.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};md.prototype.setAutoPadding=function(){};md.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};md.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};md.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};md.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(n){i=n}finally{r(i)}};md.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};md.prototype._finalOrDigest=function(t){var e=this.__final()||Vte.alloc(0);return t&&(e=this._toString(e,t,!0)),e};md.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new yRe(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i};Zte.exports=md});var Vw=X((lvt,Xte)=>{"use strict";b();var IRe=Qt(),wRe=US(),vRe=NS(),bRe=qS(),$te=Kl();function r_(t){$te.call(this,"digest"),this._hash=t}IRe(r_,$te);r_.prototype._update=function(t){this._hash.update(t)};r_.prototype._final=function(){return this._hash.digest()};Xte.exports=function(e){return e=e.toLowerCase(),e==="md5"?new wRe:e==="rmd160"||e==="ripemd160"?new vRe:new r_(bRe(e))}});var rre=X((Avt,tre)=>{"use strict";b();var ERe=Qt(),jy=jr().Buffer,ere=Kl(),BRe=jy.alloc(128),Ww=64;function i_(t,e){ere.call(this,"digest"),typeof e=="string"&&(e=jy.from(e)),this._alg=t,this._key=e,e.length>Ww?e=t(e):e.length<Ww&&(e=jy.concat([e,BRe],Ww));for(var r=this._ipad=jy.allocUnsafe(Ww),i=this._opad=jy.allocUnsafe(Ww),n=0;n<Ww;n++)r[n]=e[n]^54,i[n]=e[n]^92;this._hash=[r]}ERe(i_,ere);i_.prototype._update=function(t){this._hash.push(t)};i_.prototype._final=function(){var t=this._alg(jy.concat(this._hash));return this._alg(jy.concat([this._opad,t]))};tre.exports=i_});var M7=X((yvt,ire)=>{b();var CRe=US();ire.exports=function(t){return new CRe().update(t).digest()}});var R7=X((Ivt,ore)=>{"use strict";b();var xRe=Qt(),SRe=rre(),nre=Kl(),V2=jr().Buffer,_Re=M7(),k7=NS(),T7=qS(),QRe=V2.alloc(128);function W2(t,e){nre.call(this,"digest"),typeof e=="string"&&(e=V2.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var i=t==="rmd160"?new k7:T7(t);e=i.update(e).digest()}else e.length<r&&(e=V2.concat([e,QRe],r));for(var n=this._ipad=V2.allocUnsafe(r),o=this._opad=V2.allocUnsafe(r),s=0;s<r;s++)n[s]=e[s]^54,o[s]=e[s]^92;this._hash=t==="rmd160"?new k7:T7(t),this._hash.update(n)}xRe(W2,nre);W2.prototype._update=function(t){this._hash.update(t)};W2.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new k7:T7(this._alg);return e.update(this._opad).update(t).digest()};ore.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new W2("rmd160",r):e==="md5"?new SRe(_Re,r):new W2(e,r)}});var U7=X((vvt,DRe)=>{DRe.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var are=X((bvt,sre)=>{"use strict";b();sre.exports=U7()});var F7=X((Bvt,cre)=>{b();var MRe=Math.pow(2,30)-1;cre.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>MRe||e!==e)throw new TypeError("Bad key length")}});var N7=X((xvt,dre)=>{b();var n_;globalThis.process&&globalThis.process.browser?n_="utf-8":globalThis.process&&globalThis.process.version?(fre=parseInt(U.default.version.split(".")[0].slice(1),10),n_=fre>=6?"utf-8":"binary"):n_="utf-8";var fre;dre.exports=n_});var O7=X((_vt,ure)=>{b();var P7=jr().Buffer;ure.exports=function(t,e,r){if(P7.isBuffer(t))return t;if(typeof t=="string")return P7.from(t,e);if(ArrayBuffer.isView(t))return P7.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var K7=X((Dvt,Are)=>{b();var kRe=M7(),TRe=NS(),RRe=qS(),zy=jr().Buffer,URe=F7(),hre=N7(),lre=O7(),FRe=zy.alloc(128),o_={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function pre(t,e,r){var i=NRe(t),n=t==="sha512"||t==="sha384"?128:64;e.length>n?e=i(e):e.length<n&&(e=zy.concat([e,FRe],n));for(var o=zy.allocUnsafe(n+o_[t]),s=zy.allocUnsafe(n+o_[t]),f=0;f<n;f++)o[f]=e[f]^54,s[f]=e[f]^92;var d=zy.allocUnsafe(n+r+4);o.copy(d,0,0,n),this.ipad1=d,this.ipad2=o,this.opad=s,this.alg=t,this.blocksize=n,this.hash=i,this.size=o_[t]}pre.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function NRe(t){function e(i){return RRe(t).update(i).digest()}function r(i){return new TRe().update(i).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?kRe:e}function PRe(t,e,r,i,n){URe(r,i),t=lre(t,hre,"Password"),e=lre(e,hre,"Salt"),n=n||"sha1";var o=new pre(n,t,e.length),s=zy.allocUnsafe(i),f=zy.allocUnsafe(e.length+4);e.copy(f,0,0,e.length);for(var d=0,p=o_[n],u=Math.ceil(i/p),y=1;y<=u;y++){f.writeUInt32BE(y,e.length);for(var B=o.run(f,o.ipad1),S=B,C=1;C<r;C++){S=o.run(S,o.ipad2);for(var x=0;x<p;x++)B[x]^=S[x]}B.copy(s,d),d+=p}return s}Are.exports=PRe});var bre=X((kvt,vre)=>{b();var Ire=jr().Buffer,ORe=F7(),gre=N7(),yre=K7(),mre=O7(),s_,Z2=globalThis.crypto&&globalThis.crypto.subtle,KRe={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},q7=[];function qRe(t){if(globalThis.process&&!globalThis.process.browser||!Z2||!Z2.importKey||!Z2.deriveBits)return Promise.resolve(!1);if(q7[t]!==void 0)return q7[t];s_=s_||Ire.alloc(8);var e=wre(s_,s_,10,128,t).then(function(){return!0}).catch(function(){return!1});return q7[t]=e,e}var Yy;function L7(){return Yy||(globalThis.process&&globalThis.process.nextTick?Yy=globalThis.process.nextTick:globalThis.queueMicrotask?Yy=globalThis.queueMicrotask:globalThis.setImmediate?Yy=globalThis.setImmediate:Yy=globalThis.setTimeout,Yy)}function wre(t,e,r,i,n){return Z2.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(o){return Z2.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:n}},o,i<<3)}).then(function(o){return Ire.from(o)})}function LRe(t,e){t.then(function(r){L7()(function(){e(null,r)})},function(r){L7()(function(){e(r)})})}vre.exports=function(t,e,r,i,n,o){typeof n=="function"&&(o=n,n=void 0),n=n||"sha1";var s=KRe[n.toLowerCase()];if(!s||typeof globalThis.Promise!="function"){L7()(function(){var f;try{f=yre(t,e,r,i,n)}catch(d){return o(d)}o(null,f)});return}if(ORe(r,i),t=mre(t,gre,"Password"),e=mre(e,gre,"Salt"),typeof o!="function")throw new Error("No callback provided to pbkdf2");LRe(qRe(s).then(function(f){return f?wre(t,e,r,i,s):yre(t,e,r,i,n)}),o)}});var G7=X(H7=>{b();H7.pbkdf2=bre();H7.pbkdf2Sync=K7()});var j7=X(af=>{"use strict";b();af.readUInt32BE=function(e,r){var i=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return i>>>0};af.writeUInt32BE=function(e,r,i){e[0+i]=r>>>24,e[1+i]=r>>>16&255,e[2+i]=r>>>8&255,e[3+i]=r&255};af.ip=function(e,r,i,n){for(var o=0,s=0,f=6;f>=0;f-=2){for(var d=0;d<=24;d+=8)o<<=1,o|=r>>>d+f&1;for(var d=0;d<=24;d+=8)o<<=1,o|=e>>>d+f&1}for(var f=6;f>=0;f-=2){for(var d=1;d<=25;d+=8)s<<=1,s|=r>>>d+f&1;for(var d=1;d<=25;d+=8)s<<=1,s|=e>>>d+f&1}i[n+0]=o>>>0,i[n+1]=s>>>0};af.rip=function(e,r,i,n){for(var o=0,s=0,f=0;f<4;f++)for(var d=24;d>=0;d-=8)o<<=1,o|=r>>>d+f&1,o<<=1,o|=e>>>d+f&1;for(var f=4;f<8;f++)for(var d=24;d>=0;d-=8)s<<=1,s|=r>>>d+f&1,s<<=1,s|=e>>>d+f&1;i[n+0]=o>>>0,i[n+1]=s>>>0};af.pc1=function(e,r,i,n){for(var o=0,s=0,f=7;f>=5;f--){for(var d=0;d<=24;d+=8)o<<=1,o|=r>>d+f&1;for(var d=0;d<=24;d+=8)o<<=1,o|=e>>d+f&1}for(var d=0;d<=24;d+=8)o<<=1,o|=r>>d+f&1;for(var f=1;f<=3;f++){for(var d=0;d<=24;d+=8)s<<=1,s|=r>>d+f&1;for(var d=0;d<=24;d+=8)s<<=1,s|=e>>d+f&1}for(var d=0;d<=24;d+=8)s<<=1,s|=e>>d+f&1;i[n+0]=o>>>0,i[n+1]=s>>>0};af.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var a_=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];af.pc2=function(e,r,i,n){for(var o=0,s=0,f=a_.length>>>1,d=0;d<f;d++)o<<=1,o|=e>>>a_[d]&1;for(var d=f;d<a_.length;d++)s<<=1,s|=r>>>a_[d]&1;i[n+0]=o>>>0,i[n+1]=s>>>0};af.expand=function(e,r,i){var n=0,o=0;n=(e&1)<<5|e>>>27;for(var s=23;s>=15;s-=4)n<<=6,n|=e>>>s&63;for(var s=11;s>=3;s-=4)o|=e>>>s&63,o<<=6;o|=(e&31)<<1|e>>>31,r[i+0]=n>>>0,r[i+1]=o>>>0};var Ere=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];af.substitute=function(e,r){for(var i=0,n=0;n<4;n++){var o=e>>>18-n*6&63,s=Ere[n*64+o];i<<=4,i|=s}for(var n=0;n<4;n++){var o=r>>>18-n*6&63,s=Ere[4*64+n*64+o];i<<=4,i|=s}return i>>>0};var Bre=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];af.permute=function(e){for(var r=0,i=0;i<Bre.length;i++)r<<=1,r|=e>>>Bre[i]&1;return r>>>0};af.padSplit=function(e,r,i){for(var n=e.toString(2);n.length<r;)n="0"+n;for(var o=[],s=0;s<r;s+=i)o.push(n.slice(s,s+i));return o.join(" ")}});var ec=X((Pvt,xre)=>{b();xre.exports=Cre;function Cre(t,e){if(!t)throw new Error(e||"Assertion failed")}Cre.equal=function(e,r,i){if(e!=r)throw new Error(i||"Assertion failed: "+e+" != "+r)}});var c_=X((Kvt,Sre)=>{"use strict";b();var HRe=ec();function cf(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=t.padding!==!1}Sre.exports=cf;cf.prototype._init=function(){};cf.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};cf.prototype._buffer=function(e,r){for(var i=Math.min(this.buffer.length-this.bufferOff,e.length-r),n=0;n<i;n++)this.buffer[this.bufferOff+n]=e[r+n];return this.bufferOff+=i,i};cf.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};cf.prototype._updateEncrypt=function(e){var r=0,i=0,n=(this.bufferOff+e.length)/this.blockSize|0,o=new Array(n*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(o,i)));for(var s=e.length-(e.length-r)%this.blockSize;r<s;r+=this.blockSize)this._update(e,r,o,i),i+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return o};cf.prototype._updateDecrypt=function(e){for(var r=0,i=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,o=new Array(n*this.blockSize);n>0;n--)r+=this._buffer(e,r),i+=this._flushBuffer(o,i);return r+=this._buffer(e,r),o};cf.prototype.final=function(e){var r;e&&(r=this.update(e));var i;return this.type==="encrypt"?i=this._finalEncrypt():i=this._finalDecrypt(),r?r.concat(i):i};cf.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};cf.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};cf.prototype._unpad=function(e){return e};cf.prototype._finalDecrypt=function(){HRe.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var z7=X((Lvt,Dre)=>{"use strict";b();var _re=ec(),GRe=Qt(),ro=j7(),Qre=c_();function jRe(){this.tmp=new Array(2),this.keys=null}function Yu(t){Qre.call(this,t);var e=new jRe;this._desState=e,this.deriveKeys(e,t.key)}GRe(Yu,Qre);Dre.exports=Yu;Yu.create=function(e){return new Yu(e)};var zRe=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];Yu.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),_re.equal(r.length,this.blockSize,"Invalid key length");var i=ro.readUInt32BE(r,0),n=ro.readUInt32BE(r,4);ro.pc1(i,n,e.tmp,0),i=e.tmp[0],n=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=zRe[o>>>1];i=ro.r28shl(i,s),n=ro.r28shl(n,s),ro.pc2(i,n,e.keys,o)}};Yu.prototype._update=function(e,r,i,n){var o=this._desState,s=ro.readUInt32BE(e,r),f=ro.readUInt32BE(e,r+4);ro.ip(s,f,o.tmp,0),s=o.tmp[0],f=o.tmp[1],this.type==="encrypt"?this._encrypt(o,s,f,o.tmp,0):this._decrypt(o,s,f,o.tmp,0),s=o.tmp[0],f=o.tmp[1],ro.writeUInt32BE(i,s,n),ro.writeUInt32BE(i,f,n+4)};Yu.prototype._pad=function(e,r){if(this.padding===!1)return!1;for(var i=e.length-r,n=r;n<e.length;n++)e[n]=i;return!0};Yu.prototype._unpad=function(e){if(this.padding===!1)return e;for(var r=e[e.length-1],i=e.length-r;i<e.length;i++)_re.equal(e[i],r);return e.slice(0,e.length-r)};Yu.prototype._encrypt=function(e,r,i,n,o){for(var s=r,f=i,d=0;d<e.keys.length;d+=2){var p=e.keys[d],u=e.keys[d+1];ro.expand(f,e.tmp,0),p^=e.tmp[0],u^=e.tmp[1];var y=ro.substitute(p,u),B=ro.permute(y),S=f;f=(s^B)>>>0,s=S}ro.rip(f,s,n,o)};Yu.prototype._decrypt=function(e,r,i,n,o){for(var s=i,f=r,d=e.keys.length-2;d>=0;d-=2){var p=e.keys[d],u=e.keys[d+1];ro.expand(s,e.tmp,0),p^=e.tmp[0],u^=e.tmp[1];var y=ro.substitute(p,u),B=ro.permute(y),S=s;s=(f^B)>>>0,f=S}ro.rip(s,f,n,o)}});var kre=X(Mre=>{"use strict";b();var YRe=ec(),JRe=Qt(),f_={};function VRe(t){YRe.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function WRe(t){function e(o){t.call(this,o),this._cbcInit()}JRe(e,t);for(var r=Object.keys(f_),i=0;i<r.length;i++){var n=r[i];e.prototype[n]=f_[n]}return e.create=function(s){return new e(s)},e}Mre.instantiate=WRe;f_._cbcInit=function(){var e=new VRe(this.options.iv);this._cbcState=e};f_._update=function(e,r,i,n){var o=this._cbcState,s=this.constructor.super_.prototype,f=o.iv;if(this.type==="encrypt"){for(var d=0;d<this.blockSize;d++)f[d]^=e[r+d];s._update.call(this,f,0,i,n);for(var d=0;d<this.blockSize;d++)f[d]=i[n+d]}else{s._update.call(this,e,r,i,n);for(var d=0;d<this.blockSize;d++)i[n+d]^=f[d];for(var d=0;d<this.blockSize;d++)f[d]=e[r+d]}}});var Ure=X((zvt,Rre)=>{"use strict";b();var ZRe=ec(),$Re=Qt(),Tre=c_(),Yp=z7();function XRe(t,e){ZRe.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),i=e.slice(8,16),n=e.slice(16,24);t==="encrypt"?this.ciphers=[Yp.create({type:"encrypt",key:r}),Yp.create({type:"decrypt",key:i}),Yp.create({type:"encrypt",key:n})]:this.ciphers=[Yp.create({type:"decrypt",key:n}),Yp.create({type:"encrypt",key:i}),Yp.create({type:"decrypt",key:r})]}function Jy(t){Tre.call(this,t);var e=new XRe(this.type,this.options.key);this._edeState=e}$Re(Jy,Tre);Rre.exports=Jy;Jy.create=function(e){return new Jy(e)};Jy.prototype._update=function(e,r,i,n){var o=this._edeState;o.ciphers[0]._update(e,r,i,n),o.ciphers[1]._update(i,n,i,n),o.ciphers[2]._update(i,n,i,n)};Jy.prototype._pad=Yp.prototype._pad;Jy.prototype._unpad=Yp.prototype._unpad});var Fre=X(Zw=>{"use strict";b();Zw.utils=j7();Zw.Cipher=c_();Zw.DES=z7();Zw.CBC=kre();Zw.EDE=Ure()});var Ore=X((Wvt,Pre)=>{b();var Nre=Kl(),ql=Fre(),e9e=Qt(),Vy=jr().Buffer,$2={"des-ede3-cbc":ql.CBC.instantiate(ql.EDE),"des-ede3":ql.EDE,"des-ede-cbc":ql.CBC.instantiate(ql.EDE),"des-ede":ql.EDE,"des-cbc":ql.CBC.instantiate(ql.DES),"des-ecb":ql.DES};$2.des=$2["des-cbc"];$2.des3=$2["des-ede3-cbc"];Pre.exports=d_;e9e(d_,Nre);function d_(t){Nre.call(this);var e=t.mode.toLowerCase(),r=$2[e],i;t.decrypt?i="decrypt":i="encrypt";var n=t.key;Vy.isBuffer(n)||(n=Vy.from(n)),(e==="des-ede"||e==="des-ede-cbc")&&(n=Vy.concat([n,n.slice(0,8)]));var o=t.iv;Vy.isBuffer(o)||(o=Vy.from(o)),this._des=r.create({key:n,iv:o,type:i})}d_.prototype._update=function(t){return Vy.from(this._des.update(t))};d_.prototype._final=function(){return Vy.from(this._des.final())}});var Kre=X(Y7=>{b();Y7.encrypt=function(t,e){return t._cipher.encryptBlock(e)};Y7.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var $w=X((ebt,qre)=>{b();qre.exports=function(e,r){for(var i=Math.min(e.length,r.length),n=new N.Buffer(i),o=0;o<i;++o)n[o]=e[o]^r[o];return n}});var Hre=X(J7=>{b();var Lre=$w();J7.encrypt=function(t,e){var r=Lre(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};J7.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return Lre(i,r)}});var zre=X(jre=>{b();var X2=jr().Buffer,t9e=$w();function Gre(t,e,r){var i=e.length,n=t9e(e,t._cache);return t._cache=t._cache.slice(i),t._prev=X2.concat([t._prev,r?e:n]),n}jre.encrypt=function(t,e,r){for(var i=X2.allocUnsafe(0),n;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=X2.allocUnsafe(0)),t._cache.length<=e.length)n=t._cache.length,i=X2.concat([i,Gre(t,e.slice(0,n),r)]),e=e.slice(n);else{i=X2.concat([i,Gre(t,e,r)]);break}return i}});var Jre=X(Yre=>{b();var V7=jr().Buffer;function r9e(t,e,r){var i=t._cipher.encryptBlock(t._prev),n=i[0]^e;return t._prev=V7.concat([t._prev.slice(1),V7.from([r?e:n])]),n}Yre.encrypt=function(t,e,r){for(var i=e.length,n=V7.allocUnsafe(i),o=-1;++o<i;)n[o]=r9e(t,e[o],r);return n}});var Wre=X(Vre=>{b();var u_=jr().Buffer;function i9e(t,e,r){for(var i,n=-1,o=8,s=0,f,d;++n<o;)i=t._cipher.encryptBlock(t._prev),f=e&1<<7-n?128:0,d=i[0]^f,s+=(d&128)>>n%8,t._prev=n9e(t._prev,r?f:d);return s}function n9e(t,e){var r=t.length,i=-1,n=u_.allocUnsafe(t.length);for(t=u_.concat([t,u_.from([e])]);++i<r;)n[i]=t[i]<<1|t[i+1]>>7;return n}Vre.encrypt=function(t,e,r){for(var i=e.length,n=u_.allocUnsafe(i),o=-1;++o<i;)n[o]=i9e(t,e[o],r);return n}});var $re=X(Zre=>{b();var o9e=$w();function s9e(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}Zre.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=N.Buffer.concat([t._cache,s9e(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),o9e(e,r)}});var W7=X((hbt,Xre)=>{b();function a9e(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}Xre.exports=a9e});var $7=X(tie=>{b();var c9e=$w(),eie=jr().Buffer,f9e=W7();function d9e(t){var e=t._cipher.encryptBlockRaw(t._prev);return f9e(t._prev),e}var Z7=16;tie.encrypt=function(t,e){var r=Math.ceil(e.length/Z7),i=t._cache.length;t._cache=eie.concat([t._cache,eie.allocUnsafe(r*Z7)]);for(var n=0;n<r;n++){var o=d9e(t),s=i+n*Z7;t._cache.writeUInt32BE(o[0],s+0),t._cache.writeUInt32BE(o[1],s+4),t._cache.writeUInt32BE(o[2],s+8),t._cache.writeUInt32BE(o[3],s+12)}var f=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),c9e(e,f)}});var X7=X((gbt,u9e)=>{u9e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var l_=X((ybt,rie)=>{b();var h9e={ECB:Kre(),CBC:Hre(),CFB:zre(),CFB8:Jre(),CFB1:Wre(),OFB:$re(),CTR:$7(),GCM:$7()},h_=X7();for(eF in h_)h_[eF].module=h9e[h_[eF].mode];var eF;rie.exports=h_});var eB=X((Ibt,nie)=>{b();var p_=jr().Buffer;function rF(t){p_.isBuffer(t)||(t=p_.from(t));for(var e=t.length/4|0,r=new Array(e),i=0;i<e;i++)r[i]=t.readUInt32BE(i*4);return r}function tF(t){for(var e=0;e<t.length;t++)t[e]=0}function iie(t,e,r,i,n){for(var o=r[0],s=r[1],f=r[2],d=r[3],p=t[0]^e[0],u=t[1]^e[1],y=t[2]^e[2],B=t[3]^e[3],S,C,x,_,Q=4,R=1;R<n;R++)S=o[p>>>24]^s[u>>>16&255]^f[y>>>8&255]^d[B&255]^e[Q++],C=o[u>>>24]^s[y>>>16&255]^f[B>>>8&255]^d[p&255]^e[Q++],x=o[y>>>24]^s[B>>>16&255]^f[p>>>8&255]^d[u&255]^e[Q++],_=o[B>>>24]^s[p>>>16&255]^f[u>>>8&255]^d[y&255]^e[Q++],p=S,u=C,y=x,B=_;return S=(i[p>>>24]<<24|i[u>>>16&255]<<16|i[y>>>8&255]<<8|i[B&255])^e[Q++],C=(i[u>>>24]<<24|i[y>>>16&255]<<16|i[B>>>8&255]<<8|i[p&255])^e[Q++],x=(i[y>>>24]<<24|i[B>>>16&255]<<16|i[p>>>8&255]<<8|i[u&255])^e[Q++],_=(i[B>>>24]<<24|i[p>>>16&255]<<16|i[u>>>8&255]<<8|i[y&255])^e[Q++],S=S>>>0,C=C>>>0,x=x>>>0,_=_>>>0,[S,C,x,_]}var l9e=[0,1,2,4,8,16,32,64,128,27,54],zn=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],i=[],n=[[],[],[],[]],o=[[],[],[],[]],s=0,f=0,d=0;d<256;++d){var p=f^f<<1^f<<2^f<<3^f<<4;p=p>>>8^p&255^99,r[s]=p,i[p]=s;var u=t[s],y=t[u],B=t[y],S=t[p]*257^p*16843008;n[0][s]=S<<24|S>>>8,n[1][s]=S<<16|S>>>16,n[2][s]=S<<8|S>>>24,n[3][s]=S,S=B*16843009^y*65537^u*257^s*16843008,o[0][p]=S<<24|S>>>8,o[1][p]=S<<16|S>>>16,o[2][p]=S<<8|S>>>24,o[3][p]=S,s===0?s=f=1:(s=u^t[t[t[B^u]]],f^=t[t[f]])}return{SBOX:r,INV_SBOX:i,SUB_MIX:n,INV_SUB_MIX:o}}();function ff(t){this._key=rF(t),this._reset()}ff.blockSize=4*4;ff.keySize=256/8;ff.prototype.blockSize=ff.blockSize;ff.prototype.keySize=ff.keySize;ff.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,i=(r+1)*4,n=[],o=0;o<e;o++)n[o]=t[o];for(o=e;o<i;o++){var s=n[o-1];o%e===0?(s=s<<8|s>>>24,s=zn.SBOX[s>>>24]<<24|zn.SBOX[s>>>16&255]<<16|zn.SBOX[s>>>8&255]<<8|zn.SBOX[s&255],s^=l9e[o/e|0]<<24):e>6&&o%e===4&&(s=zn.SBOX[s>>>24]<<24|zn.SBOX[s>>>16&255]<<16|zn.SBOX[s>>>8&255]<<8|zn.SBOX[s&255]),n[o]=n[o-e]^s}for(var f=[],d=0;d<i;d++){var p=i-d,u=n[p-(d%4?0:4)];d<4||p<=4?f[d]=u:f[d]=zn.INV_SUB_MIX[0][zn.SBOX[u>>>24]]^zn.INV_SUB_MIX[1][zn.SBOX[u>>>16&255]]^zn.INV_SUB_MIX[2][zn.SBOX[u>>>8&255]]^zn.INV_SUB_MIX[3][zn.SBOX[u&255]]}this._nRounds=r,this._keySchedule=n,this._invKeySchedule=f};ff.prototype.encryptBlockRaw=function(t){return t=rF(t),iie(t,this._keySchedule,zn.SUB_MIX,zn.SBOX,this._nRounds)};ff.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=p_.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};ff.prototype.decryptBlock=function(t){t=rF(t);var e=t[1];t[1]=t[3],t[3]=e;var r=iie(t,this._invKeySchedule,zn.INV_SUB_MIX,zn.INV_SBOX,this._nRounds),i=p_.allocUnsafe(16);return i.writeUInt32BE(r[0],0),i.writeUInt32BE(r[3],4),i.writeUInt32BE(r[2],8),i.writeUInt32BE(r[1],12),i};ff.prototype.scrub=function(){tF(this._keySchedule),tF(this._invKeySchedule),tF(this._key)};nie.exports.AES=ff});var aie=X((vbt,sie)=>{b();var Xw=jr().Buffer,p9e=Xw.alloc(16,0);function A9e(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function oie(t){var e=Xw.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function tB(t){this.h=t,this.state=Xw.alloc(16,0),this.cache=Xw.allocUnsafe(0)}tB.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};tB.prototype._multiply=function(){for(var t=A9e(this.h),e=[0,0,0,0],r,i,n,o=-1;++o<128;){for(i=(this.state[~~(o/8)]&1<<7-o%8)!==0,i&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),n=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,n&&(t[0]=t[0]^225<<24)}this.state=oie(e)};tB.prototype.update=function(t){this.cache=Xw.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};tB.prototype.final=function(t,e){return this.cache.length&&this.ghash(Xw.concat([this.cache,p9e],16)),this.ghash(oie([0,t,0,e])),this.state};sie.exports=tB});var iF=X((Ebt,die)=>{b();var g9e=eB(),Ca=jr().Buffer,cie=Kl(),y9e=Qt(),fie=aie(),m9e=$w(),I9e=W7();function w9e(t,e){var r=0;t.length!==e.length&&r++;for(var i=Math.min(t.length,e.length),n=0;n<i;++n)r+=t[n]^e[n];return r}function v9e(t,e,r){if(e.length===12)return t._finID=Ca.concat([e,Ca.from([0,0,0,1])]),Ca.concat([e,Ca.from([0,0,0,2])]);var i=new fie(r),n=e.length,o=n%16;i.update(e),o&&(o=16-o,i.update(Ca.alloc(o,0))),i.update(Ca.alloc(8,0));var s=n*8,f=Ca.alloc(8);f.writeUIntBE(s,0,8),i.update(f),t._finID=i.state;var d=Ca.from(t._finID);return I9e(d),d}function Wy(t,e,r,i){cie.call(this);var n=Ca.alloc(4,0);this._cipher=new g9e.AES(e);var o=this._cipher.encryptBlock(n);this._ghash=new fie(o),r=v9e(this,r,o),this._prev=Ca.from(r),this._cache=Ca.allocUnsafe(0),this._secCache=Ca.allocUnsafe(0),this._decrypt=i,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}y9e(Wy,cie);Wy.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=Ca.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};Wy.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=m9e(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&w9e(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};Wy.prototype.getAuthTag=function(){if(this._decrypt||!Ca.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};Wy.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};Wy.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};die.exports=Wy});var oF=X((Cbt,hie)=>{b();var b9e=eB(),nF=jr().Buffer,uie=Kl(),E9e=Qt();function A_(t,e,r,i){uie.call(this),this._cipher=new b9e.AES(e),this._prev=nF.from(r),this._cache=nF.allocUnsafe(0),this._secCache=nF.allocUnsafe(0),this._decrypt=i,this._mode=t}E9e(A_,uie);A_.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};A_.prototype._final=function(){this._cipher.scrub()};hie.exports=A_});var rB=X((Sbt,lie)=>{b();var Zy=jr().Buffer,B9e=US();function C9e(t,e,r,i){if(Zy.isBuffer(t)||(t=Zy.from(t,"binary")),e&&(Zy.isBuffer(e)||(e=Zy.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var n=r/8,o=Zy.alloc(n),s=Zy.alloc(i||0),f=Zy.alloc(0);n>0||i>0;){var d=new B9e;d.update(f),d.update(t),e&&d.update(e),f=d.digest();var p=0;if(n>0){var u=o.length-n;p=Math.min(n,f.length),f.copy(o,u,0,p),n-=p}if(p<f.length&&i>0){var y=s.length-i,B=Math.min(i,f.length-p);f.copy(s,y,p,p+B),i-=B}}return f.fill(0),{key:o,iv:s}}lie.exports=C9e});var yie=X(sF=>{b();var pie=l_(),x9e=iF(),Ll=jr().Buffer,S9e=oF(),Aie=Kl(),_9e=eB(),Q9e=rB(),D9e=Qt();function iB(t,e,r){Aie.call(this),this._cache=new g_,this._cipher=new _9e.AES(e),this._prev=Ll.from(r),this._mode=t,this._autopadding=!0}D9e(iB,Aie);iB.prototype._update=function(t){this._cache.add(t);for(var e,r,i=[];e=this._cache.get();)r=this._mode.encrypt(this,e),i.push(r);return Ll.concat(i)};var M9e=Ll.alloc(16,16);iB.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(M9e))throw this._cipher.scrub(),new Error("data not multiple of block length")};iB.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function g_(){this.cache=Ll.allocUnsafe(0)}g_.prototype.add=function(t){this.cache=Ll.concat([this.cache,t])};g_.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};g_.prototype.flush=function(){for(var t=16-this.cache.length,e=Ll.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return Ll.concat([this.cache,e])};function gie(t,e,r){var i=pie[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=Ll.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=Ll.from(r)),i.mode!=="GCM"&&r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);return i.type==="stream"?new S9e(i.module,e,r):i.type==="auth"?new x9e(i.module,e,r):new iB(i.module,e,r)}function k9e(t,e){var r=pie[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=Q9e(e,!1,r.key,r.iv);return gie(t,i.key,i.iv)}sF.createCipheriv=gie;sF.createCipher=k9e});var vie=X(aF=>{b();var T9e=iF(),ev=jr().Buffer,mie=l_(),R9e=oF(),Iie=Kl(),U9e=eB(),F9e=rB(),N9e=Qt();function nB(t,e,r){Iie.call(this),this._cache=new y_,this._last=void 0,this._cipher=new U9e.AES(e),this._prev=ev.from(r),this._mode=t,this._autopadding=!0}N9e(nB,Iie);nB.prototype._update=function(t){this._cache.add(t);for(var e,r,i=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),i.push(r);return ev.concat(i)};nB.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return P9e(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};nB.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function y_(){this.cache=ev.allocUnsafe(0)}y_.prototype.add=function(t){this.cache=ev.concat([this.cache,t])};y_.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};y_.prototype.flush=function(){if(this.cache.length)return this.cache};function P9e(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function wie(t,e,r){var i=mie[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=ev.from(r)),i.mode!=="GCM"&&r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=ev.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);return i.type==="stream"?new R9e(i.module,e,r,!0):i.type==="auth"?new T9e(i.module,e,r,!0):new nB(i.module,e,r)}function O9e(t,e){var r=mie[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=F9e(e,!1,r.key,r.iv);return wie(t,i.key,i.iv)}aF.createDecipher=O9e;aF.createDecipheriv=wie});var m_=X(Id=>{b();var bie=yie(),Eie=vie(),K9e=X7();function q9e(){return Object.keys(K9e)}Id.createCipher=Id.Cipher=bie.createCipher;Id.createCipheriv=Id.Cipheriv=bie.createCipheriv;Id.createDecipher=Id.Decipher=Eie.createDecipher;Id.createDecipheriv=Id.Decipheriv=Eie.createDecipheriv;Id.listCiphers=Id.getCiphers=q9e});var Bie=X(Hl=>{b();Hl["des-ecb"]={key:8,iv:0};Hl["des-cbc"]=Hl.des={key:8,iv:8};Hl["des-ede3-cbc"]=Hl.des3={key:24,iv:8};Hl["des-ede3"]={key:24,iv:0};Hl["des-ede-cbc"]={key:16,iv:8};Hl["des-ede"]={key:16,iv:0}});var Qie=X(wd=>{b();var Cie=Ore(),cF=m_(),Jp=l_(),Gl=Bie(),xie=rB();function L9e(t,e){t=t.toLowerCase();var r,i;if(Jp[t])r=Jp[t].key,i=Jp[t].iv;else if(Gl[t])r=Gl[t].key*8,i=Gl[t].iv;else throw new TypeError("invalid suite type");var n=xie(e,!1,r,i);return Sie(t,n.key,n.iv)}function H9e(t,e){t=t.toLowerCase();var r,i;if(Jp[t])r=Jp[t].key,i=Jp[t].iv;else if(Gl[t])r=Gl[t].key*8,i=Gl[t].iv;else throw new TypeError("invalid suite type");var n=xie(e,!1,r,i);return _ie(t,n.key,n.iv)}function Sie(t,e,r){if(t=t.toLowerCase(),Jp[t])return cF.createCipheriv(t,e,r);if(Gl[t])return new Cie({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function _ie(t,e,r){if(t=t.toLowerCase(),Jp[t])return cF.createDecipheriv(t,e,r);if(Gl[t])return new Cie({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function G9e(){return Object.keys(Gl).concat(cF.getCiphers())}wd.createCipher=wd.Cipher=L9e;wd.createCipheriv=wd.Cipheriv=Sie;wd.createDecipher=wd.Decipher=H9e;wd.createDecipheriv=wd.Decipheriv=_ie;wd.listCiphers=wd.getCiphers=G9e});var Vp=X(()=>{b()});var dF=X((Die,fF)=>{b();(function(t,e){"use strict";function r(v,a){if(!v)throw new Error(a||"Assertion failed")}function i(v,a){v.super_=a;var h=function(){};h.prototype=a.prototype,v.prototype=new h,v.prototype.constructor=v}function n(v,a,h){if(n.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((a==="le"||a==="be")&&(h=a,a=10),this._init(v||0,a||10,h||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Vp().Buffer}catch{}n.isBN=function(a){return a instanceof n?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===n.wordSize&&Array.isArray(a.words)},n.max=function(a,h){return a.cmp(h)>0?a:h},n.min=function(a,h){return a.cmp(h)<0?a:h},n.prototype._init=function(a,h,g){if(typeof a=="number")return this._initNumber(a,h,g);if(typeof a=="object")return this._initArray(a,h,g);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),a=a.toString().replace(/\s+/g,"");var l=0;a[0]==="-"&&(l++,this.negative=1),l<a.length&&(h===16?this._parseHex(a,l,g):(this._parseBase(a,h,l),g==="le"&&this._initArray(this.toArray(),h,g)))},n.prototype._initNumber=function(a,h,g){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),h,g)},n.prototype._initArray=function(a,h,g){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var A,w,E=0;if(g==="be")for(l=a.length-1,A=0;l>=0;l-=3)w=a[l]|a[l-1]<<8|a[l-2]<<16,this.words[A]|=w<<E&67108863,this.words[A+1]=w>>>26-E&67108863,E+=24,E>=26&&(E-=26,A++);else if(g==="le")for(l=0,A=0;l<a.length;l+=3)w=a[l]|a[l+1]<<8|a[l+2]<<16,this.words[A]|=w<<E&67108863,this.words[A+1]=w>>>26-E&67108863,E+=24,E>=26&&(E-=26,A++);return this.strip()};function s(v,a){var h=v.charCodeAt(a);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function f(v,a,h){var g=s(v,h);return h-1>=a&&(g|=s(v,h-1)<<4),g}n.prototype._parseHex=function(a,h,g){this.length=Math.ceil((a.length-h)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var A=0,w=0,E;if(g==="be")for(l=a.length-1;l>=h;l-=2)E=f(a,h,l)<<A,this.words[w]|=E&67108863,A>=18?(A-=18,w+=1,this.words[w]|=E>>>26):A+=8;else{var m=a.length-h;for(l=m%2===0?h+1:h;l<a.length;l+=2)E=f(a,h,l)<<A,this.words[w]|=E&67108863,A>=18?(A-=18,w+=1,this.words[w]|=E>>>26):A+=8}this.strip()};function d(v,a,h,g){for(var l=0,A=Math.min(v.length,h),w=a;w<A;w++){var E=v.charCodeAt(w)-48;l*=g,E>=49?l+=E-49+10:E>=17?l+=E-17+10:l+=E}return l}n.prototype._parseBase=function(a,h,g){this.words=[0],this.length=1;for(var l=0,A=1;A<=67108863;A*=h)l++;l--,A=A/h|0;for(var w=a.length-g,E=w%l,m=Math.min(w,w-E)+g,c=0,I=g;I<m;I+=l)c=d(a,I,I+l,h),this.imuln(A),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(E!==0){var M=1;for(c=d(a,I,a.length,h),I=0;I<E;I++)M*=h;this.imuln(M),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},n.prototype.copy=function(a){a.words=new Array(this.length);for(var h=0;h<this.length;h++)a.words[h]=this.words[h];a.length=this.length,a.negative=this.negative,a.red=this.red},n.prototype.clone=function(){var a=new n(null);return this.copy(a),a},n.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(a,h){a=a||10,h=h|0||1;var g;if(a===16||a==="hex"){g="";for(var l=0,A=0,w=0;w<this.length;w++){var E=this.words[w],m=((E<<l|A)&16777215).toString(16);A=E>>>24-l&16777215,A!==0||w!==this.length-1?g=p[6-m.length]+m+g:g=m+g,l+=2,l>=26&&(l-=26,w--)}for(A!==0&&(g=A.toString(16)+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(a===(a|0)&&a>=2&&a<=36){var c=u[a],I=y[a];g="";var M=this.clone();for(M.negative=0;!M.isZero();){var D=M.modn(I).toString(a);M=M.idivn(I),M.isZero()?g=D+g:g=p[c-D.length]+D+g}for(this.isZero()&&(g="0"+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(a,h){return r(typeof o<"u"),this.toArrayLike(o,a,h)},n.prototype.toArray=function(a,h){return this.toArrayLike(Array,a,h)},n.prototype.toArrayLike=function(a,h,g){var l=this.byteLength(),A=g||Math.max(1,l);r(l<=A,"byte array longer than desired length"),r(A>0,"Requested array length <= 0"),this.strip();var w=h==="le",E=new a(A),m,c,I=this.clone();if(w){for(c=0;!I.isZero();c++)m=I.andln(255),I.iushrn(8),E[c]=m;for(;c<A;c++)E[c]=0}else{for(c=0;c<A-l;c++)E[c]=0;for(c=0;!I.isZero();c++)m=I.andln(255),I.iushrn(8),E[A-c-1]=m}return E},Math.clz32?n.prototype._countBits=function(a){return 32-Math.clz32(a)}:n.prototype._countBits=function(a){var h=a,g=0;return h>=4096&&(g+=13,h>>>=13),h>=64&&(g+=7,h>>>=7),h>=8&&(g+=4,h>>>=4),h>=2&&(g+=2,h>>>=2),g+h},n.prototype._zeroBits=function(a){if(a===0)return 26;var h=a,g=0;return h&8191||(g+=13,h>>>=13),h&127||(g+=7,h>>>=7),h&15||(g+=4,h>>>=4),h&3||(g+=2,h>>>=2),h&1||g++,g},n.prototype.bitLength=function(){var a=this.words[this.length-1],h=this._countBits(a);return(this.length-1)*26+h};function B(v){for(var a=new Array(v.bitLength()),h=0;h<a.length;h++){var g=h/26|0,l=h%26;a[h]=(v.words[g]&1<<l)>>>l}return a}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,h=0;h<this.length;h++){var g=this._zeroBits(this.words[h]);if(a+=g,g!==26)break}return a},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},n.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var h=0;h<a.length;h++)this.words[h]=this.words[h]|a.words[h];return this.strip()},n.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},n.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},n.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},n.prototype.iuand=function(a){var h;this.length>a.length?h=a:h=this;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]&a.words[g];return this.length=h.length,this.strip()},n.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},n.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},n.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},n.prototype.iuxor=function(a){var h,g;this.length>a.length?(h=this,g=a):(h=a,g=this);for(var l=0;l<g.length;l++)this.words[l]=h.words[l]^g.words[l];if(this!==h)for(;l<h.length;l++)this.words[l]=h.words[l];return this.length=h.length,this.strip()},n.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},n.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},n.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},n.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var h=Math.ceil(a/26)|0,g=a%26;this._expand(h),g>0&&h--;for(var l=0;l<h;l++)this.words[l]=~this.words[l]&67108863;return g>0&&(this.words[l]=~this.words[l]&67108863>>26-g),this.strip()},n.prototype.notn=function(a){return this.clone().inotn(a)},n.prototype.setn=function(a,h){r(typeof a=="number"&&a>=0);var g=a/26|0,l=a%26;return this._expand(g+1),h?this.words[g]=this.words[g]|1<<l:this.words[g]=this.words[g]&~(1<<l),this.strip()},n.prototype.iadd=function(a){var h;if(this.negative!==0&&a.negative===0)return this.negative=0,h=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,h=this.isub(a),a.negative=1,h._normSign();var g,l;this.length>a.length?(g=this,l=a):(g=a,l=this);for(var A=0,w=0;w<l.length;w++)h=(g.words[w]|0)+(l.words[w]|0)+A,this.words[w]=h&67108863,A=h>>>26;for(;A!==0&&w<g.length;w++)h=(g.words[w]|0)+A,this.words[w]=h&67108863,A=h>>>26;if(this.length=g.length,A!==0)this.words[this.length]=A,this.length++;else if(g!==this)for(;w<g.length;w++)this.words[w]=g.words[w];return this},n.prototype.add=function(a){var h;return a.negative!==0&&this.negative===0?(a.negative=0,h=this.sub(a),a.negative^=1,h):a.negative===0&&this.negative!==0?(this.negative=0,h=a.sub(this),this.negative=1,h):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},n.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var h=this.iadd(a);return a.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g=this.cmp(a);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,A;g>0?(l=this,A=a):(l=a,A=this);for(var w=0,E=0;E<A.length;E++)h=(l.words[E]|0)-(A.words[E]|0)+w,w=h>>26,this.words[E]=h&67108863;for(;w!==0&&E<l.length;E++)h=(l.words[E]|0)+w,w=h>>26,this.words[E]=h&67108863;if(w===0&&E<l.length&&l!==this)for(;E<l.length;E++)this.words[E]=l.words[E];return this.length=Math.max(this.length,E),l!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(a){return this.clone().isub(a)};function S(v,a,h){h.negative=a.negative^v.negative;var g=v.length+a.length|0;h.length=g,g=g-1|0;var l=v.words[0]|0,A=a.words[0]|0,w=l*A,E=w&67108863,m=w/67108864|0;h.words[0]=E;for(var c=1;c<g;c++){for(var I=m>>>26,M=m&67108863,D=Math.min(c,a.length-1),P=Math.max(0,c-v.length+1);P<=D;P++){var j=c-P|0;l=v.words[j]|0,A=a.words[P]|0,w=l*A+M,I+=w/67108864|0,M=w&67108863}h.words[c]=M|0,m=I|0}return m!==0?h.words[c]=m|0:h.length--,h.strip()}var C=function(a,h,g){var l=a.words,A=h.words,w=g.words,E=0,m,c,I,M=l[0]|0,D=M&8191,P=M>>>13,j=l[1]|0,Y=j&8191,z=j>>>13,$=l[2]|0,W=$&8191,ee=$>>>13,pe=l[3]|0,ne=pe&8191,se=pe>>>13,Le=l[4]|0,ce=Le&8191,fe=Le>>>13,bt=l[5]|0,ge=bt&8191,Ie=bt>>>13,mr=l[6]|0,ve=mr&8191,ye=mr>>>13,Nr=l[7]|0,Be=Nr&8191,we=Nr>>>13,qr=l[8]|0,Ce=qr&8191,me=qr>>>13,Ir=l[9]|0,be=Ir&8191,Se=Ir>>>13,sr=A[0]|0,xe=sr&8191,_e=sr>>>13,Zi=A[1]|0,Fe=Zi&8191,Qe=Zi>>>13,$i=A[2]|0,Oe=$i&8191,Ne=$i>>>13,Xi=A[3]|0,De=Xi&8191,Re=Xi>>>13,di=A[4]|0,Ke=di&8191,Pe=di>>>13,en=A[5]|0,Ue=en&8191,Me=en>>>13,tn=A[6]|0,ke=tn&8191,qe=tn>>>13,Li=A[7]|0,te=Li&8191,Z=Li>>>13,de=A[8]|0,ie=de&8191,oe=de>>>13,$e=A[9]|0,ue=$e&8191,he=$e>>>13;g.negative=a.negative^h.negative,g.length=19,m=Math.imul(D,xe),c=Math.imul(D,_e),c=c+Math.imul(P,xe)|0,I=Math.imul(P,_e);var Et=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Et>>>26)|0,Et&=67108863,m=Math.imul(Y,xe),c=Math.imul(Y,_e),c=c+Math.imul(z,xe)|0,I=Math.imul(z,_e),m=m+Math.imul(D,Fe)|0,c=c+Math.imul(D,Qe)|0,c=c+Math.imul(P,Fe)|0,I=I+Math.imul(P,Qe)|0;var ft=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(W,xe),c=Math.imul(W,_e),c=c+Math.imul(ee,xe)|0,I=Math.imul(ee,_e),m=m+Math.imul(Y,Fe)|0,c=c+Math.imul(Y,Qe)|0,c=c+Math.imul(z,Fe)|0,I=I+Math.imul(z,Qe)|0,m=m+Math.imul(D,Oe)|0,c=c+Math.imul(D,Ne)|0,c=c+Math.imul(P,Oe)|0,I=I+Math.imul(P,Ne)|0;var et=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(et>>>26)|0,et&=67108863,m=Math.imul(ne,xe),c=Math.imul(ne,_e),c=c+Math.imul(se,xe)|0,I=Math.imul(se,_e),m=m+Math.imul(W,Fe)|0,c=c+Math.imul(W,Qe)|0,c=c+Math.imul(ee,Fe)|0,I=I+Math.imul(ee,Qe)|0,m=m+Math.imul(Y,Oe)|0,c=c+Math.imul(Y,Ne)|0,c=c+Math.imul(z,Oe)|0,I=I+Math.imul(z,Ne)|0,m=m+Math.imul(D,De)|0,c=c+Math.imul(D,Re)|0,c=c+Math.imul(P,De)|0,I=I+Math.imul(P,Re)|0;var Ft=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,m=Math.imul(ce,xe),c=Math.imul(ce,_e),c=c+Math.imul(fe,xe)|0,I=Math.imul(fe,_e),m=m+Math.imul(ne,Fe)|0,c=c+Math.imul(ne,Qe)|0,c=c+Math.imul(se,Fe)|0,I=I+Math.imul(se,Qe)|0,m=m+Math.imul(W,Oe)|0,c=c+Math.imul(W,Ne)|0,c=c+Math.imul(ee,Oe)|0,I=I+Math.imul(ee,Ne)|0,m=m+Math.imul(Y,De)|0,c=c+Math.imul(Y,Re)|0,c=c+Math.imul(z,De)|0,I=I+Math.imul(z,Re)|0,m=m+Math.imul(D,Ke)|0,c=c+Math.imul(D,Pe)|0,c=c+Math.imul(P,Ke)|0,I=I+Math.imul(P,Pe)|0;var Ot=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(ge,xe),c=Math.imul(ge,_e),c=c+Math.imul(Ie,xe)|0,I=Math.imul(Ie,_e),m=m+Math.imul(ce,Fe)|0,c=c+Math.imul(ce,Qe)|0,c=c+Math.imul(fe,Fe)|0,I=I+Math.imul(fe,Qe)|0,m=m+Math.imul(ne,Oe)|0,c=c+Math.imul(ne,Ne)|0,c=c+Math.imul(se,Oe)|0,I=I+Math.imul(se,Ne)|0,m=m+Math.imul(W,De)|0,c=c+Math.imul(W,Re)|0,c=c+Math.imul(ee,De)|0,I=I+Math.imul(ee,Re)|0,m=m+Math.imul(Y,Ke)|0,c=c+Math.imul(Y,Pe)|0,c=c+Math.imul(z,Ke)|0,I=I+Math.imul(z,Pe)|0,m=m+Math.imul(D,Ue)|0,c=c+Math.imul(D,Me)|0,c=c+Math.imul(P,Ue)|0,I=I+Math.imul(P,Me)|0;var Mt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,m=Math.imul(ve,xe),c=Math.imul(ve,_e),c=c+Math.imul(ye,xe)|0,I=Math.imul(ye,_e),m=m+Math.imul(ge,Fe)|0,c=c+Math.imul(ge,Qe)|0,c=c+Math.imul(Ie,Fe)|0,I=I+Math.imul(Ie,Qe)|0,m=m+Math.imul(ce,Oe)|0,c=c+Math.imul(ce,Ne)|0,c=c+Math.imul(fe,Oe)|0,I=I+Math.imul(fe,Ne)|0,m=m+Math.imul(ne,De)|0,c=c+Math.imul(ne,Re)|0,c=c+Math.imul(se,De)|0,I=I+Math.imul(se,Re)|0,m=m+Math.imul(W,Ke)|0,c=c+Math.imul(W,Pe)|0,c=c+Math.imul(ee,Ke)|0,I=I+Math.imul(ee,Pe)|0,m=m+Math.imul(Y,Ue)|0,c=c+Math.imul(Y,Me)|0,c=c+Math.imul(z,Ue)|0,I=I+Math.imul(z,Me)|0,m=m+Math.imul(D,ke)|0,c=c+Math.imul(D,qe)|0,c=c+Math.imul(P,ke)|0,I=I+Math.imul(P,qe)|0;var mt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,m=Math.imul(Be,xe),c=Math.imul(Be,_e),c=c+Math.imul(we,xe)|0,I=Math.imul(we,_e),m=m+Math.imul(ve,Fe)|0,c=c+Math.imul(ve,Qe)|0,c=c+Math.imul(ye,Fe)|0,I=I+Math.imul(ye,Qe)|0,m=m+Math.imul(ge,Oe)|0,c=c+Math.imul(ge,Ne)|0,c=c+Math.imul(Ie,Oe)|0,I=I+Math.imul(Ie,Ne)|0,m=m+Math.imul(ce,De)|0,c=c+Math.imul(ce,Re)|0,c=c+Math.imul(fe,De)|0,I=I+Math.imul(fe,Re)|0,m=m+Math.imul(ne,Ke)|0,c=c+Math.imul(ne,Pe)|0,c=c+Math.imul(se,Ke)|0,I=I+Math.imul(se,Pe)|0,m=m+Math.imul(W,Ue)|0,c=c+Math.imul(W,Me)|0,c=c+Math.imul(ee,Ue)|0,I=I+Math.imul(ee,Me)|0,m=m+Math.imul(Y,ke)|0,c=c+Math.imul(Y,qe)|0,c=c+Math.imul(z,ke)|0,I=I+Math.imul(z,qe)|0,m=m+Math.imul(D,te)|0,c=c+Math.imul(D,Z)|0,c=c+Math.imul(P,te)|0,I=I+Math.imul(P,Z)|0;var kt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(Ce,xe),c=Math.imul(Ce,_e),c=c+Math.imul(me,xe)|0,I=Math.imul(me,_e),m=m+Math.imul(Be,Fe)|0,c=c+Math.imul(Be,Qe)|0,c=c+Math.imul(we,Fe)|0,I=I+Math.imul(we,Qe)|0,m=m+Math.imul(ve,Oe)|0,c=c+Math.imul(ve,Ne)|0,c=c+Math.imul(ye,Oe)|0,I=I+Math.imul(ye,Ne)|0,m=m+Math.imul(ge,De)|0,c=c+Math.imul(ge,Re)|0,c=c+Math.imul(Ie,De)|0,I=I+Math.imul(Ie,Re)|0,m=m+Math.imul(ce,Ke)|0,c=c+Math.imul(ce,Pe)|0,c=c+Math.imul(fe,Ke)|0,I=I+Math.imul(fe,Pe)|0,m=m+Math.imul(ne,Ue)|0,c=c+Math.imul(ne,Me)|0,c=c+Math.imul(se,Ue)|0,I=I+Math.imul(se,Me)|0,m=m+Math.imul(W,ke)|0,c=c+Math.imul(W,qe)|0,c=c+Math.imul(ee,ke)|0,I=I+Math.imul(ee,qe)|0,m=m+Math.imul(Y,te)|0,c=c+Math.imul(Y,Z)|0,c=c+Math.imul(z,te)|0,I=I+Math.imul(z,Z)|0,m=m+Math.imul(D,ie)|0,c=c+Math.imul(D,oe)|0,c=c+Math.imul(P,ie)|0,I=I+Math.imul(P,oe)|0;var Ct=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(be,xe),c=Math.imul(be,_e),c=c+Math.imul(Se,xe)|0,I=Math.imul(Se,_e),m=m+Math.imul(Ce,Fe)|0,c=c+Math.imul(Ce,Qe)|0,c=c+Math.imul(me,Fe)|0,I=I+Math.imul(me,Qe)|0,m=m+Math.imul(Be,Oe)|0,c=c+Math.imul(Be,Ne)|0,c=c+Math.imul(we,Oe)|0,I=I+Math.imul(we,Ne)|0,m=m+Math.imul(ve,De)|0,c=c+Math.imul(ve,Re)|0,c=c+Math.imul(ye,De)|0,I=I+Math.imul(ye,Re)|0,m=m+Math.imul(ge,Ke)|0,c=c+Math.imul(ge,Pe)|0,c=c+Math.imul(Ie,Ke)|0,I=I+Math.imul(Ie,Pe)|0,m=m+Math.imul(ce,Ue)|0,c=c+Math.imul(ce,Me)|0,c=c+Math.imul(fe,Ue)|0,I=I+Math.imul(fe,Me)|0,m=m+Math.imul(ne,ke)|0,c=c+Math.imul(ne,qe)|0,c=c+Math.imul(se,ke)|0,I=I+Math.imul(se,qe)|0,m=m+Math.imul(W,te)|0,c=c+Math.imul(W,Z)|0,c=c+Math.imul(ee,te)|0,I=I+Math.imul(ee,Z)|0,m=m+Math.imul(Y,ie)|0,c=c+Math.imul(Y,oe)|0,c=c+Math.imul(z,ie)|0,I=I+Math.imul(z,oe)|0,m=m+Math.imul(D,ue)|0,c=c+Math.imul(D,he)|0,c=c+Math.imul(P,ue)|0,I=I+Math.imul(P,he)|0;var wr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(wr>>>26)|0,wr&=67108863,m=Math.imul(be,Fe),c=Math.imul(be,Qe),c=c+Math.imul(Se,Fe)|0,I=Math.imul(Se,Qe),m=m+Math.imul(Ce,Oe)|0,c=c+Math.imul(Ce,Ne)|0,c=c+Math.imul(me,Oe)|0,I=I+Math.imul(me,Ne)|0,m=m+Math.imul(Be,De)|0,c=c+Math.imul(Be,Re)|0,c=c+Math.imul(we,De)|0,I=I+Math.imul(we,Re)|0,m=m+Math.imul(ve,Ke)|0,c=c+Math.imul(ve,Pe)|0,c=c+Math.imul(ye,Ke)|0,I=I+Math.imul(ye,Pe)|0,m=m+Math.imul(ge,Ue)|0,c=c+Math.imul(ge,Me)|0,c=c+Math.imul(Ie,Ue)|0,I=I+Math.imul(Ie,Me)|0,m=m+Math.imul(ce,ke)|0,c=c+Math.imul(ce,qe)|0,c=c+Math.imul(fe,ke)|0,I=I+Math.imul(fe,qe)|0,m=m+Math.imul(ne,te)|0,c=c+Math.imul(ne,Z)|0,c=c+Math.imul(se,te)|0,I=I+Math.imul(se,Z)|0,m=m+Math.imul(W,ie)|0,c=c+Math.imul(W,oe)|0,c=c+Math.imul(ee,ie)|0,I=I+Math.imul(ee,oe)|0,m=m+Math.imul(Y,ue)|0,c=c+Math.imul(Y,he)|0,c=c+Math.imul(z,ue)|0,I=I+Math.imul(z,he)|0;var ir=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ir>>>26)|0,ir&=67108863,m=Math.imul(be,Oe),c=Math.imul(be,Ne),c=c+Math.imul(Se,Oe)|0,I=Math.imul(Se,Ne),m=m+Math.imul(Ce,De)|0,c=c+Math.imul(Ce,Re)|0,c=c+Math.imul(me,De)|0,I=I+Math.imul(me,Re)|0,m=m+Math.imul(Be,Ke)|0,c=c+Math.imul(Be,Pe)|0,c=c+Math.imul(we,Ke)|0,I=I+Math.imul(we,Pe)|0,m=m+Math.imul(ve,Ue)|0,c=c+Math.imul(ve,Me)|0,c=c+Math.imul(ye,Ue)|0,I=I+Math.imul(ye,Me)|0,m=m+Math.imul(ge,ke)|0,c=c+Math.imul(ge,qe)|0,c=c+Math.imul(Ie,ke)|0,I=I+Math.imul(Ie,qe)|0,m=m+Math.imul(ce,te)|0,c=c+Math.imul(ce,Z)|0,c=c+Math.imul(fe,te)|0,I=I+Math.imul(fe,Z)|0,m=m+Math.imul(ne,ie)|0,c=c+Math.imul(ne,oe)|0,c=c+Math.imul(se,ie)|0,I=I+Math.imul(se,oe)|0,m=m+Math.imul(W,ue)|0,c=c+Math.imul(W,he)|0,c=c+Math.imul(ee,ue)|0,I=I+Math.imul(ee,he)|0;var ar=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ar>>>26)|0,ar&=67108863,m=Math.imul(be,De),c=Math.imul(be,Re),c=c+Math.imul(Se,De)|0,I=Math.imul(Se,Re),m=m+Math.imul(Ce,Ke)|0,c=c+Math.imul(Ce,Pe)|0,c=c+Math.imul(me,Ke)|0,I=I+Math.imul(me,Pe)|0,m=m+Math.imul(Be,Ue)|0,c=c+Math.imul(Be,Me)|0,c=c+Math.imul(we,Ue)|0,I=I+Math.imul(we,Me)|0,m=m+Math.imul(ve,ke)|0,c=c+Math.imul(ve,qe)|0,c=c+Math.imul(ye,ke)|0,I=I+Math.imul(ye,qe)|0,m=m+Math.imul(ge,te)|0,c=c+Math.imul(ge,Z)|0,c=c+Math.imul(Ie,te)|0,I=I+Math.imul(Ie,Z)|0,m=m+Math.imul(ce,ie)|0,c=c+Math.imul(ce,oe)|0,c=c+Math.imul(fe,ie)|0,I=I+Math.imul(fe,oe)|0,m=m+Math.imul(ne,ue)|0,c=c+Math.imul(ne,he)|0,c=c+Math.imul(se,ue)|0,I=I+Math.imul(se,he)|0;var xt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(xt>>>26)|0,xt&=67108863,m=Math.imul(be,Ke),c=Math.imul(be,Pe),c=c+Math.imul(Se,Ke)|0,I=Math.imul(Se,Pe),m=m+Math.imul(Ce,Ue)|0,c=c+Math.imul(Ce,Me)|0,c=c+Math.imul(me,Ue)|0,I=I+Math.imul(me,Me)|0,m=m+Math.imul(Be,ke)|0,c=c+Math.imul(Be,qe)|0,c=c+Math.imul(we,ke)|0,I=I+Math.imul(we,qe)|0,m=m+Math.imul(ve,te)|0,c=c+Math.imul(ve,Z)|0,c=c+Math.imul(ye,te)|0,I=I+Math.imul(ye,Z)|0,m=m+Math.imul(ge,ie)|0,c=c+Math.imul(ge,oe)|0,c=c+Math.imul(Ie,ie)|0,I=I+Math.imul(Ie,oe)|0,m=m+Math.imul(ce,ue)|0,c=c+Math.imul(ce,he)|0,c=c+Math.imul(fe,ue)|0,I=I+Math.imul(fe,he)|0;var nr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(nr>>>26)|0,nr&=67108863,m=Math.imul(be,Ue),c=Math.imul(be,Me),c=c+Math.imul(Se,Ue)|0,I=Math.imul(Se,Me),m=m+Math.imul(Ce,ke)|0,c=c+Math.imul(Ce,qe)|0,c=c+Math.imul(me,ke)|0,I=I+Math.imul(me,qe)|0,m=m+Math.imul(Be,te)|0,c=c+Math.imul(Be,Z)|0,c=c+Math.imul(we,te)|0,I=I+Math.imul(we,Z)|0,m=m+Math.imul(ve,ie)|0,c=c+Math.imul(ve,oe)|0,c=c+Math.imul(ye,ie)|0,I=I+Math.imul(ye,oe)|0,m=m+Math.imul(ge,ue)|0,c=c+Math.imul(ge,he)|0,c=c+Math.imul(Ie,ue)|0,I=I+Math.imul(Ie,he)|0;var cr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(cr>>>26)|0,cr&=67108863,m=Math.imul(be,ke),c=Math.imul(be,qe),c=c+Math.imul(Se,ke)|0,I=Math.imul(Se,qe),m=m+Math.imul(Ce,te)|0,c=c+Math.imul(Ce,Z)|0,c=c+Math.imul(me,te)|0,I=I+Math.imul(me,Z)|0,m=m+Math.imul(Be,ie)|0,c=c+Math.imul(Be,oe)|0,c=c+Math.imul(we,ie)|0,I=I+Math.imul(we,oe)|0,m=m+Math.imul(ve,ue)|0,c=c+Math.imul(ve,he)|0,c=c+Math.imul(ye,ue)|0,I=I+Math.imul(ye,he)|0;var pr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(be,te),c=Math.imul(be,Z),c=c+Math.imul(Se,te)|0,I=Math.imul(Se,Z),m=m+Math.imul(Ce,ie)|0,c=c+Math.imul(Ce,oe)|0,c=c+Math.imul(me,ie)|0,I=I+Math.imul(me,oe)|0,m=m+Math.imul(Be,ue)|0,c=c+Math.imul(Be,he)|0,c=c+Math.imul(we,ue)|0,I=I+Math.imul(we,he)|0;var Pr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(be,ie),c=Math.imul(be,oe),c=c+Math.imul(Se,ie)|0,I=Math.imul(Se,oe),m=m+Math.imul(Ce,ue)|0,c=c+Math.imul(Ce,he)|0,c=c+Math.imul(me,ue)|0,I=I+Math.imul(me,he)|0;var fr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(fr>>>26)|0,fr&=67108863,m=Math.imul(be,ue),c=Math.imul(be,he),c=c+Math.imul(Se,ue)|0,I=Math.imul(Se,he);var Hr=(E+m|0)+((c&8191)<<13)|0;return E=(I+(c>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w[0]=Et,w[1]=ft,w[2]=et,w[3]=Ft,w[4]=Ot,w[5]=Mt,w[6]=mt,w[7]=kt,w[8]=Ct,w[9]=wr,w[10]=ir,w[11]=ar,w[12]=xt,w[13]=nr,w[14]=cr,w[15]=pr,w[16]=Pr,w[17]=fr,w[18]=Hr,E!==0&&(w[19]=E,g.length++),g};Math.imul||(C=S);function x(v,a,h){h.negative=a.negative^v.negative,h.length=v.length+a.length;for(var g=0,l=0,A=0;A<h.length-1;A++){var w=l;l=0;for(var E=g&67108863,m=Math.min(A,a.length-1),c=Math.max(0,A-v.length+1);c<=m;c++){var I=A-c,M=v.words[I]|0,D=a.words[c]|0,P=M*D,j=P&67108863;w=w+(P/67108864|0)|0,j=j+E|0,E=j&67108863,w=w+(j>>>26)|0,l+=w>>>26,w&=67108863}h.words[A]=E,g=w,w=l}return g!==0?h.words[A]=g:h.length--,h.strip()}function _(v,a,h){var g=new Q;return g.mulp(v,a,h)}n.prototype.mulTo=function(a,h){var g,l=this.length+a.length;return this.length===10&&a.length===10?g=C(this,a,h):l<63?g=S(this,a,h):l<1024?g=x(this,a,h):g=_(this,a,h),g};function Q(v,a){this.x=v,this.y=a}Q.prototype.makeRBT=function(a){for(var h=new Array(a),g=n.prototype._countBits(a)-1,l=0;l<a;l++)h[l]=this.revBin(l,g,a);return h},Q.prototype.revBin=function(a,h,g){if(a===0||a===g-1)return a;for(var l=0,A=0;A<h;A++)l|=(a&1)<<h-A-1,a>>=1;return l},Q.prototype.permute=function(a,h,g,l,A,w){for(var E=0;E<w;E++)l[E]=h[a[E]],A[E]=g[a[E]]},Q.prototype.transform=function(a,h,g,l,A,w){this.permute(w,a,h,g,l,A);for(var E=1;E<A;E<<=1)for(var m=E<<1,c=Math.cos(2*Math.PI/m),I=Math.sin(2*Math.PI/m),M=0;M<A;M+=m)for(var D=c,P=I,j=0;j<E;j++){var Y=g[M+j],z=l[M+j],$=g[M+j+E],W=l[M+j+E],ee=D*$-P*W;W=D*W+P*$,$=ee,g[M+j]=Y+$,l[M+j]=z+W,g[M+j+E]=Y-$,l[M+j+E]=z-W,j!==m&&(ee=c*D-I*P,P=c*P+I*D,D=ee)}},Q.prototype.guessLen13b=function(a,h){var g=Math.max(h,a)|1,l=g&1,A=0;for(g=g/2|0;g;g=g>>>1)A++;return 1<<A+1+l},Q.prototype.conjugate=function(a,h,g){if(!(g<=1))for(var l=0;l<g/2;l++){var A=a[l];a[l]=a[g-l-1],a[g-l-1]=A,A=h[l],h[l]=-h[g-l-1],h[g-l-1]=-A}},Q.prototype.normalize13b=function(a,h){for(var g=0,l=0;l<h/2;l++){var A=Math.round(a[2*l+1]/h)*8192+Math.round(a[2*l]/h)+g;a[l]=A&67108863,A<67108864?g=0:g=A/67108864|0}return a},Q.prototype.convert13b=function(a,h,g,l){for(var A=0,w=0;w<h;w++)A=A+(a[w]|0),g[2*w]=A&8191,A=A>>>13,g[2*w+1]=A&8191,A=A>>>13;for(w=2*h;w<l;++w)g[w]=0;r(A===0),r((A&-8192)===0)},Q.prototype.stub=function(a){for(var h=new Array(a),g=0;g<a;g++)h[g]=0;return h},Q.prototype.mulp=function(a,h,g){var l=2*this.guessLen13b(a.length,h.length),A=this.makeRBT(l),w=this.stub(l),E=new Array(l),m=new Array(l),c=new Array(l),I=new Array(l),M=new Array(l),D=new Array(l),P=g.words;P.length=l,this.convert13b(a.words,a.length,E,l),this.convert13b(h.words,h.length,I,l),this.transform(E,w,m,c,l,A),this.transform(I,w,M,D,l,A);for(var j=0;j<l;j++){var Y=m[j]*M[j]-c[j]*D[j];c[j]=m[j]*D[j]+c[j]*M[j],m[j]=Y}return this.conjugate(m,c,l),this.transform(m,c,P,w,l,A),this.conjugate(P,w,l),this.normalize13b(P,l),g.negative=a.negative^h.negative,g.length=a.length+h.length,g.strip()},n.prototype.mul=function(a){var h=new n(null);return h.words=new Array(this.length+a.length),this.mulTo(a,h)},n.prototype.mulf=function(a){var h=new n(null);return h.words=new Array(this.length+a.length),_(this,a,h)},n.prototype.imul=function(a){return this.clone().mulTo(a,this)},n.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var h=0,g=0;g<this.length;g++){var l=(this.words[g]|0)*a,A=(l&67108863)+(h&67108863);h>>=26,h+=l/67108864|0,h+=A>>>26,this.words[g]=A&67108863}return h!==0&&(this.words[g]=h,this.length++),this},n.prototype.muln=function(a){return this.clone().imuln(a)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(a){var h=B(a);if(h.length===0)return new n(1);for(var g=this,l=0;l<h.length&&h[l]===0;l++,g=g.sqr());if(++l<h.length)for(var A=g.sqr();l<h.length;l++,A=A.sqr())h[l]!==0&&(g=g.mul(A));return g},n.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26,l=67108863>>>26-h<<26-h,A;if(h!==0){var w=0;for(A=0;A<this.length;A++){var E=this.words[A]&l,m=(this.words[A]|0)-E<<h;this.words[A]=m|w,w=E>>>26-h}w&&(this.words[A]=w,this.length++)}if(g!==0){for(A=this.length-1;A>=0;A--)this.words[A+g]=this.words[A];for(A=0;A<g;A++)this.words[A]=0;this.length+=g}return this.strip()},n.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},n.prototype.iushrn=function(a,h,g){r(typeof a=="number"&&a>=0);var l;h?l=(h-h%26)/26:l=0;var A=a%26,w=Math.min((a-A)/26,this.length),E=67108863^67108863>>>A<<A,m=g;if(l-=w,l=Math.max(0,l),m){for(var c=0;c<w;c++)m.words[c]=this.words[c];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,c=0;c<this.length;c++)this.words[c]=this.words[c+w];else this.words[0]=0,this.length=1;var I=0;for(c=this.length-1;c>=0&&(I!==0||c>=l);c--){var M=this.words[c]|0;this.words[c]=I<<26-A|M>>>A,I=M&E}return m&&I!==0&&(m.words[m.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(a,h,g){return r(this.negative===0),this.iushrn(a,h,g)},n.prototype.shln=function(a){return this.clone().ishln(a)},n.prototype.ushln=function(a){return this.clone().iushln(a)},n.prototype.shrn=function(a){return this.clone().ishrn(a)},n.prototype.ushrn=function(a){return this.clone().iushrn(a)},n.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26,l=1<<h;if(this.length<=g)return!1;var A=this.words[g];return!!(A&l)},n.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(h!==0&&g++,this.length=Math.min(g,this.length),h!==0){var l=67108863^67108863>>>h<<h;this.words[this.length-1]&=l}return this.strip()},n.prototype.maskn=function(a){return this.clone().imaskn(a)},n.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},n.prototype._iaddn=function(a){this.words[0]+=a;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},n.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},n.prototype.addn=function(a){return this.clone().iaddn(a)},n.prototype.subn=function(a){return this.clone().isubn(a)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(a,h,g){var l=a.length+g,A;this._expand(l);var w,E=0;for(A=0;A<a.length;A++){w=(this.words[A+g]|0)+E;var m=(a.words[A]|0)*h;w-=m&67108863,E=(w>>26)-(m/67108864|0),this.words[A+g]=w&67108863}for(;A<this.length-g;A++)w=(this.words[A+g]|0)+E,E=w>>26,this.words[A+g]=w&67108863;if(E===0)return this.strip();for(r(E===-1),E=0,A=0;A<this.length;A++)w=-(this.words[A]|0)+E,E=w>>26,this.words[A]=w&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(a,h){var g=this.length-a.length,l=this.clone(),A=a,w=A.words[A.length-1]|0,E=this._countBits(w);g=26-E,g!==0&&(A=A.ushln(g),l.iushln(g),w=A.words[A.length-1]|0);var m=l.length-A.length,c;if(h!=="mod"){c=new n(null),c.length=m+1,c.words=new Array(c.length);for(var I=0;I<c.length;I++)c.words[I]=0}var M=l.clone()._ishlnsubmul(A,1,m);M.negative===0&&(l=M,c&&(c.words[m]=1));for(var D=m-1;D>=0;D--){var P=(l.words[A.length+D]|0)*67108864+(l.words[A.length+D-1]|0);for(P=Math.min(P/w|0,67108863),l._ishlnsubmul(A,P,D);l.negative!==0;)P--,l.negative=0,l._ishlnsubmul(A,1,D),l.isZero()||(l.negative^=1);c&&(c.words[D]=P)}return c&&c.strip(),l.strip(),h!=="div"&&g!==0&&l.iushrn(g),{div:c||null,mod:l}},n.prototype.divmod=function(a,h,g){if(r(!a.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var l,A,w;return this.negative!==0&&a.negative===0?(w=this.neg().divmod(a,h),h!=="mod"&&(l=w.div.neg()),h!=="div"&&(A=w.mod.neg(),g&&A.negative!==0&&A.iadd(a)),{div:l,mod:A}):this.negative===0&&a.negative!==0?(w=this.divmod(a.neg(),h),h!=="mod"&&(l=w.div.neg()),{div:l,mod:w.mod}):this.negative&a.negative?(w=this.neg().divmod(a.neg(),h),h!=="div"&&(A=w.mod.neg(),g&&A.negative!==0&&A.isub(a)),{div:w.div,mod:A}):a.length>this.length||this.cmp(a)<0?{div:new n(0),mod:this}:a.length===1?h==="div"?{div:this.divn(a.words[0]),mod:null}:h==="mod"?{div:null,mod:new n(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new n(this.modn(a.words[0]))}:this._wordDiv(a,h)},n.prototype.div=function(a){return this.divmod(a,"div",!1).div},n.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},n.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},n.prototype.divRound=function(a){var h=this.divmod(a);if(h.mod.isZero())return h.div;var g=h.div.negative!==0?h.mod.isub(a):h.mod,l=a.ushrn(1),A=a.andln(1),w=g.cmp(l);return w<0||A===1&&w===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},n.prototype.modn=function(a){r(a<=67108863);for(var h=(1<<26)%a,g=0,l=this.length-1;l>=0;l--)g=(h*g+(this.words[l]|0))%a;return g},n.prototype.idivn=function(a){r(a<=67108863);for(var h=0,g=this.length-1;g>=0;g--){var l=(this.words[g]|0)+h*67108864;this.words[g]=l/a|0,h=l%a}return this.strip()},n.prototype.divn=function(a){return this.clone().idivn(a)},n.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var h=this,g=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var l=new n(1),A=new n(0),w=new n(0),E=new n(1),m=0;h.isEven()&&g.isEven();)h.iushrn(1),g.iushrn(1),++m;for(var c=g.clone(),I=h.clone();!h.isZero();){for(var M=0,D=1;!(h.words[0]&D)&&M<26;++M,D<<=1);if(M>0)for(h.iushrn(M);M-- >0;)(l.isOdd()||A.isOdd())&&(l.iadd(c),A.isub(I)),l.iushrn(1),A.iushrn(1);for(var P=0,j=1;!(g.words[0]&j)&&P<26;++P,j<<=1);if(P>0)for(g.iushrn(P);P-- >0;)(w.isOdd()||E.isOdd())&&(w.iadd(c),E.isub(I)),w.iushrn(1),E.iushrn(1);h.cmp(g)>=0?(h.isub(g),l.isub(w),A.isub(E)):(g.isub(h),w.isub(l),E.isub(A))}return{a:w,b:E,gcd:g.iushln(m)}},n.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var h=this,g=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var l=new n(1),A=new n(0),w=g.clone();h.cmpn(1)>0&&g.cmpn(1)>0;){for(var E=0,m=1;!(h.words[0]&m)&&E<26;++E,m<<=1);if(E>0)for(h.iushrn(E);E-- >0;)l.isOdd()&&l.iadd(w),l.iushrn(1);for(var c=0,I=1;!(g.words[0]&I)&&c<26;++c,I<<=1);if(c>0)for(g.iushrn(c);c-- >0;)A.isOdd()&&A.iadd(w),A.iushrn(1);h.cmp(g)>=0?(h.isub(g),l.isub(A)):(g.isub(h),A.isub(l))}var M;return h.cmpn(1)===0?M=l:M=A,M.cmpn(0)<0&&M.iadd(a),M},n.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var h=this.clone(),g=a.clone();h.negative=0,g.negative=0;for(var l=0;h.isEven()&&g.isEven();l++)h.iushrn(1),g.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;g.isEven();)g.iushrn(1);var A=h.cmp(g);if(A<0){var w=h;h=g,g=w}else if(A===0||g.cmpn(1)===0)break;h.isub(g)}while(!0);return g.iushln(l)},n.prototype.invm=function(a){return this.egcd(a).a.umod(a)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(a){return this.words[0]&a},n.prototype.bincn=function(a){r(typeof a=="number");var h=a%26,g=(a-h)/26,l=1<<h;if(this.length<=g)return this._expand(g+1),this.words[g]|=l,this;for(var A=l,w=g;A!==0&&w<this.length;w++){var E=this.words[w]|0;E+=A,A=E>>>26,E&=67108863,this.words[w]=E}return A!==0&&(this.words[w]=A,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(a){var h=a<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var g;if(this.length>1)g=1;else{h&&(a=-a),r(a<=67108863,"Number is too big");var l=this.words[0]|0;g=l===a?0:l<a?-1:1}return this.negative!==0?-g|0:g},n.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var h=this.ucmp(a);return this.negative!==0?-h|0:h},n.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var h=0,g=this.length-1;g>=0;g--){var l=this.words[g]|0,A=a.words[g]|0;if(l!==A){l<A?h=-1:l>A&&(h=1);break}}return h},n.prototype.gtn=function(a){return this.cmpn(a)===1},n.prototype.gt=function(a){return this.cmp(a)===1},n.prototype.gten=function(a){return this.cmpn(a)>=0},n.prototype.gte=function(a){return this.cmp(a)>=0},n.prototype.ltn=function(a){return this.cmpn(a)===-1},n.prototype.lt=function(a){return this.cmp(a)===-1},n.prototype.lten=function(a){return this.cmpn(a)<=0},n.prototype.lte=function(a){return this.cmp(a)<=0},n.prototype.eqn=function(a){return this.cmpn(a)===0},n.prototype.eq=function(a){return this.cmp(a)===0},n.red=function(a){return new O(a)},n.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(a){return this.red=a,this},n.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},n.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},n.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},n.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},n.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},n.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},n.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},n.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var R={k256:null,p224:null,p192:null,p25519:null};function k(v,a){this.name=v,this.p=new n(a,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var a=new n(null);return a.words=new Array(Math.ceil(this.n/13)),a},k.prototype.ireduce=function(a){var h=a,g;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),g=h.bitLength();while(g>this.n);var l=g<this.n?-1:h.ucmp(this.p);return l===0?(h.words[0]=0,h.length=1):l>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},k.prototype.split=function(a,h){a.iushrn(this.n,0,h)},k.prototype.imulK=function(a){return a.imul(this.k)};function K(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(K,k),K.prototype.split=function(a,h){for(var g=4194303,l=Math.min(a.length,9),A=0;A<l;A++)h.words[A]=a.words[A];if(h.length=l,a.length<=9){a.words[0]=0,a.length=1;return}var w=a.words[9];for(h.words[h.length++]=w&g,A=10;A<a.length;A++){var E=a.words[A]|0;a.words[A-10]=(E&g)<<4|w>>>22,w=E}w>>>=22,a.words[A-10]=w,w===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var h=0,g=0;g<a.length;g++){var l=a.words[g]|0;h+=l*977,a.words[g]=h&67108863,h=l*64+(h/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function T(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(T,k);function L(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(L,k);function H(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(H,k),H.prototype.imulK=function(a){for(var h=0,g=0;g<a.length;g++){var l=(a.words[g]|0)*19+h,A=l&67108863;l>>>=26,a.words[g]=A,h=l}return h!==0&&(a.words[a.length++]=h),a},n._prime=function(a){if(R[a])return R[a];var h;if(a==="k256")h=new K;else if(a==="p224")h=new T;else if(a==="p192")h=new L;else if(a==="p25519")h=new H;else throw new Error("Unknown prime "+a);return R[a]=h,h};function O(v){if(typeof v=="string"){var a=n._prime(v);this.m=a.p,this.prime=a}else r(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}O.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},O.prototype._verify2=function(a,h){r((a.negative|h.negative)===0,"red works only with positives"),r(a.red&&a.red===h.red,"red works only with red numbers")},O.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},O.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},O.prototype.add=function(a,h){this._verify2(a,h);var g=a.add(h);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},O.prototype.iadd=function(a,h){this._verify2(a,h);var g=a.iadd(h);return g.cmp(this.m)>=0&&g.isub(this.m),g},O.prototype.sub=function(a,h){this._verify2(a,h);var g=a.sub(h);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},O.prototype.isub=function(a,h){this._verify2(a,h);var g=a.isub(h);return g.cmpn(0)<0&&g.iadd(this.m),g},O.prototype.shl=function(a,h){return this._verify1(a),this.imod(a.ushln(h))},O.prototype.imul=function(a,h){return this._verify2(a,h),this.imod(a.imul(h))},O.prototype.mul=function(a,h){return this._verify2(a,h),this.imod(a.mul(h))},O.prototype.isqr=function(a){return this.imul(a,a.clone())},O.prototype.sqr=function(a){return this.mul(a,a)},O.prototype.sqrt=function(a){if(a.isZero())return a.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var g=this.m.add(new n(1)).iushrn(2);return this.pow(a,g)}for(var l=this.m.subn(1),A=0;!l.isZero()&&l.andln(1)===0;)A++,l.iushrn(1);r(!l.isZero());var w=new n(1).toRed(this),E=w.redNeg(),m=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new n(2*c*c).toRed(this);this.pow(c,m).cmp(E)!==0;)c.redIAdd(E);for(var I=this.pow(c,l),M=this.pow(a,l.addn(1).iushrn(1)),D=this.pow(a,l),P=A;D.cmp(w)!==0;){for(var j=D,Y=0;j.cmp(w)!==0;Y++)j=j.redSqr();r(Y<P);var z=this.pow(I,new n(1).iushln(P-Y-1));M=M.redMul(z),I=z.redSqr(),D=D.redMul(I),P=Y}return M},O.prototype.invm=function(a){var h=a._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},O.prototype.pow=function(a,h){if(h.isZero())return new n(1).toRed(this);if(h.cmpn(1)===0)return a.clone();var g=4,l=new Array(1<<g);l[0]=new n(1).toRed(this),l[1]=a;for(var A=2;A<l.length;A++)l[A]=this.mul(l[A-1],a);var w=l[0],E=0,m=0,c=h.bitLength()%26;for(c===0&&(c=26),A=h.length-1;A>=0;A--){for(var I=h.words[A],M=c-1;M>=0;M--){var D=I>>M&1;if(w!==l[0]&&(w=this.sqr(w)),D===0&&E===0){m=0;continue}E<<=1,E|=D,m++,!(m!==g&&(A!==0||M!==0))&&(w=this.mul(w,l[E]),m=0,E=0)}c=26}return w},O.prototype.convertTo=function(a){var h=a.umod(this.m);return h===a?h.clone():h},O.prototype.convertFrom=function(a){var h=a.clone();return h.red=null,h},n.mont=function(a){return new G(a)};function G(v){O.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(G,O),G.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},G.prototype.convertFrom=function(a){var h=this.imod(a.mul(this.rinv));return h.red=null,h},G.prototype.imul=function(a,h){if(a.isZero()||h.isZero())return a.words[0]=0,a.length=1,a;var g=a.imul(h),l=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(l).iushrn(this.shift),w=A;return A.cmp(this.m)>=0?w=A.isub(this.m):A.cmpn(0)<0&&(w=A.iadd(this.m)),w._forceRed(this)},G.prototype.mul=function(a,h){if(a.isZero()||h.isZero())return new n(0)._forceRed(this);var g=a.mul(h),l=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(l).iushrn(this.shift),w=A;return A.cmp(this.m)>=0?w=A.isub(this.m):A.cmpn(0)<0&&(w=A.iadd(this.m)),w._forceRed(this)},G.prototype.invm=function(a){var h=this.imod(a._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(typeof fF>"u"||fF,Die)});var kie=X((Mie,uF)=>{b();(function(t,e){"use strict";function r(v,a){if(!v)throw new Error(a||"Assertion failed")}function i(v,a){v.super_=a;var h=function(){};h.prototype=a.prototype,v.prototype=new h,v.prototype.constructor=v}function n(v,a,h){if(n.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((a==="le"||a==="be")&&(h=a,a=10),this._init(v||0,a||10,h||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Vp().Buffer}catch{}n.isBN=function(a){return a instanceof n?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===n.wordSize&&Array.isArray(a.words)},n.max=function(a,h){return a.cmp(h)>0?a:h},n.min=function(a,h){return a.cmp(h)<0?a:h},n.prototype._init=function(a,h,g){if(typeof a=="number")return this._initNumber(a,h,g);if(typeof a=="object")return this._initArray(a,h,g);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),a=a.toString().replace(/\s+/g,"");var l=0;a[0]==="-"&&(l++,this.negative=1),l<a.length&&(h===16?this._parseHex(a,l,g):(this._parseBase(a,h,l),g==="le"&&this._initArray(this.toArray(),h,g)))},n.prototype._initNumber=function(a,h,g){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),h,g)},n.prototype._initArray=function(a,h,g){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var A,w,E=0;if(g==="be")for(l=a.length-1,A=0;l>=0;l-=3)w=a[l]|a[l-1]<<8|a[l-2]<<16,this.words[A]|=w<<E&67108863,this.words[A+1]=w>>>26-E&67108863,E+=24,E>=26&&(E-=26,A++);else if(g==="le")for(l=0,A=0;l<a.length;l+=3)w=a[l]|a[l+1]<<8|a[l+2]<<16,this.words[A]|=w<<E&67108863,this.words[A+1]=w>>>26-E&67108863,E+=24,E>=26&&(E-=26,A++);return this.strip()};function s(v,a){var h=v.charCodeAt(a);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function f(v,a,h){var g=s(v,h);return h-1>=a&&(g|=s(v,h-1)<<4),g}n.prototype._parseHex=function(a,h,g){this.length=Math.ceil((a.length-h)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var A=0,w=0,E;if(g==="be")for(l=a.length-1;l>=h;l-=2)E=f(a,h,l)<<A,this.words[w]|=E&67108863,A>=18?(A-=18,w+=1,this.words[w]|=E>>>26):A+=8;else{var m=a.length-h;for(l=m%2===0?h+1:h;l<a.length;l+=2)E=f(a,h,l)<<A,this.words[w]|=E&67108863,A>=18?(A-=18,w+=1,this.words[w]|=E>>>26):A+=8}this.strip()};function d(v,a,h,g){for(var l=0,A=Math.min(v.length,h),w=a;w<A;w++){var E=v.charCodeAt(w)-48;l*=g,E>=49?l+=E-49+10:E>=17?l+=E-17+10:l+=E}return l}n.prototype._parseBase=function(a,h,g){this.words=[0],this.length=1;for(var l=0,A=1;A<=67108863;A*=h)l++;l--,A=A/h|0;for(var w=a.length-g,E=w%l,m=Math.min(w,w-E)+g,c=0,I=g;I<m;I+=l)c=d(a,I,I+l,h),this.imuln(A),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(E!==0){var M=1;for(c=d(a,I,a.length,h),I=0;I<E;I++)M*=h;this.imuln(M),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},n.prototype.copy=function(a){a.words=new Array(this.length);for(var h=0;h<this.length;h++)a.words[h]=this.words[h];a.length=this.length,a.negative=this.negative,a.red=this.red},n.prototype.clone=function(){var a=new n(null);return this.copy(a),a},n.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(a,h){a=a||10,h=h|0||1;var g;if(a===16||a==="hex"){g="";for(var l=0,A=0,w=0;w<this.length;w++){var E=this.words[w],m=((E<<l|A)&16777215).toString(16);A=E>>>24-l&16777215,A!==0||w!==this.length-1?g=p[6-m.length]+m+g:g=m+g,l+=2,l>=26&&(l-=26,w--)}for(A!==0&&(g=A.toString(16)+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(a===(a|0)&&a>=2&&a<=36){var c=u[a],I=y[a];g="";var M=this.clone();for(M.negative=0;!M.isZero();){var D=M.modn(I).toString(a);M=M.idivn(I),M.isZero()?g=D+g:g=p[c-D.length]+D+g}for(this.isZero()&&(g="0"+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(a,h){return r(typeof o<"u"),this.toArrayLike(o,a,h)},n.prototype.toArray=function(a,h){return this.toArrayLike(Array,a,h)},n.prototype.toArrayLike=function(a,h,g){var l=this.byteLength(),A=g||Math.max(1,l);r(l<=A,"byte array longer than desired length"),r(A>0,"Requested array length <= 0"),this.strip();var w=h==="le",E=new a(A),m,c,I=this.clone();if(w){for(c=0;!I.isZero();c++)m=I.andln(255),I.iushrn(8),E[c]=m;for(;c<A;c++)E[c]=0}else{for(c=0;c<A-l;c++)E[c]=0;for(c=0;!I.isZero();c++)m=I.andln(255),I.iushrn(8),E[A-c-1]=m}return E},Math.clz32?n.prototype._countBits=function(a){return 32-Math.clz32(a)}:n.prototype._countBits=function(a){var h=a,g=0;return h>=4096&&(g+=13,h>>>=13),h>=64&&(g+=7,h>>>=7),h>=8&&(g+=4,h>>>=4),h>=2&&(g+=2,h>>>=2),g+h},n.prototype._zeroBits=function(a){if(a===0)return 26;var h=a,g=0;return h&8191||(g+=13,h>>>=13),h&127||(g+=7,h>>>=7),h&15||(g+=4,h>>>=4),h&3||(g+=2,h>>>=2),h&1||g++,g},n.prototype.bitLength=function(){var a=this.words[this.length-1],h=this._countBits(a);return(this.length-1)*26+h};function B(v){for(var a=new Array(v.bitLength()),h=0;h<a.length;h++){var g=h/26|0,l=h%26;a[h]=(v.words[g]&1<<l)>>>l}return a}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,h=0;h<this.length;h++){var g=this._zeroBits(this.words[h]);if(a+=g,g!==26)break}return a},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},n.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var h=0;h<a.length;h++)this.words[h]=this.words[h]|a.words[h];return this.strip()},n.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},n.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},n.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},n.prototype.iuand=function(a){var h;this.length>a.length?h=a:h=this;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]&a.words[g];return this.length=h.length,this.strip()},n.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},n.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},n.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},n.prototype.iuxor=function(a){var h,g;this.length>a.length?(h=this,g=a):(h=a,g=this);for(var l=0;l<g.length;l++)this.words[l]=h.words[l]^g.words[l];if(this!==h)for(;l<h.length;l++)this.words[l]=h.words[l];return this.length=h.length,this.strip()},n.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},n.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},n.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},n.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var h=Math.ceil(a/26)|0,g=a%26;this._expand(h),g>0&&h--;for(var l=0;l<h;l++)this.words[l]=~this.words[l]&67108863;return g>0&&(this.words[l]=~this.words[l]&67108863>>26-g),this.strip()},n.prototype.notn=function(a){return this.clone().inotn(a)},n.prototype.setn=function(a,h){r(typeof a=="number"&&a>=0);var g=a/26|0,l=a%26;return this._expand(g+1),h?this.words[g]=this.words[g]|1<<l:this.words[g]=this.words[g]&~(1<<l),this.strip()},n.prototype.iadd=function(a){var h;if(this.negative!==0&&a.negative===0)return this.negative=0,h=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,h=this.isub(a),a.negative=1,h._normSign();var g,l;this.length>a.length?(g=this,l=a):(g=a,l=this);for(var A=0,w=0;w<l.length;w++)h=(g.words[w]|0)+(l.words[w]|0)+A,this.words[w]=h&67108863,A=h>>>26;for(;A!==0&&w<g.length;w++)h=(g.words[w]|0)+A,this.words[w]=h&67108863,A=h>>>26;if(this.length=g.length,A!==0)this.words[this.length]=A,this.length++;else if(g!==this)for(;w<g.length;w++)this.words[w]=g.words[w];return this},n.prototype.add=function(a){var h;return a.negative!==0&&this.negative===0?(a.negative=0,h=this.sub(a),a.negative^=1,h):a.negative===0&&this.negative!==0?(this.negative=0,h=a.sub(this),this.negative=1,h):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},n.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var h=this.iadd(a);return a.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g=this.cmp(a);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,A;g>0?(l=this,A=a):(l=a,A=this);for(var w=0,E=0;E<A.length;E++)h=(l.words[E]|0)-(A.words[E]|0)+w,w=h>>26,this.words[E]=h&67108863;for(;w!==0&&E<l.length;E++)h=(l.words[E]|0)+w,w=h>>26,this.words[E]=h&67108863;if(w===0&&E<l.length&&l!==this)for(;E<l.length;E++)this.words[E]=l.words[E];return this.length=Math.max(this.length,E),l!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(a){return this.clone().isub(a)};function S(v,a,h){h.negative=a.negative^v.negative;var g=v.length+a.length|0;h.length=g,g=g-1|0;var l=v.words[0]|0,A=a.words[0]|0,w=l*A,E=w&67108863,m=w/67108864|0;h.words[0]=E;for(var c=1;c<g;c++){for(var I=m>>>26,M=m&67108863,D=Math.min(c,a.length-1),P=Math.max(0,c-v.length+1);P<=D;P++){var j=c-P|0;l=v.words[j]|0,A=a.words[P]|0,w=l*A+M,I+=w/67108864|0,M=w&67108863}h.words[c]=M|0,m=I|0}return m!==0?h.words[c]=m|0:h.length--,h.strip()}var C=function(a,h,g){var l=a.words,A=h.words,w=g.words,E=0,m,c,I,M=l[0]|0,D=M&8191,P=M>>>13,j=l[1]|0,Y=j&8191,z=j>>>13,$=l[2]|0,W=$&8191,ee=$>>>13,pe=l[3]|0,ne=pe&8191,se=pe>>>13,Le=l[4]|0,ce=Le&8191,fe=Le>>>13,bt=l[5]|0,ge=bt&8191,Ie=bt>>>13,mr=l[6]|0,ve=mr&8191,ye=mr>>>13,Nr=l[7]|0,Be=Nr&8191,we=Nr>>>13,qr=l[8]|0,Ce=qr&8191,me=qr>>>13,Ir=l[9]|0,be=Ir&8191,Se=Ir>>>13,sr=A[0]|0,xe=sr&8191,_e=sr>>>13,Zi=A[1]|0,Fe=Zi&8191,Qe=Zi>>>13,$i=A[2]|0,Oe=$i&8191,Ne=$i>>>13,Xi=A[3]|0,De=Xi&8191,Re=Xi>>>13,di=A[4]|0,Ke=di&8191,Pe=di>>>13,en=A[5]|0,Ue=en&8191,Me=en>>>13,tn=A[6]|0,ke=tn&8191,qe=tn>>>13,Li=A[7]|0,te=Li&8191,Z=Li>>>13,de=A[8]|0,ie=de&8191,oe=de>>>13,$e=A[9]|0,ue=$e&8191,he=$e>>>13;g.negative=a.negative^h.negative,g.length=19,m=Math.imul(D,xe),c=Math.imul(D,_e),c=c+Math.imul(P,xe)|0,I=Math.imul(P,_e);var Et=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Et>>>26)|0,Et&=67108863,m=Math.imul(Y,xe),c=Math.imul(Y,_e),c=c+Math.imul(z,xe)|0,I=Math.imul(z,_e),m=m+Math.imul(D,Fe)|0,c=c+Math.imul(D,Qe)|0,c=c+Math.imul(P,Fe)|0,I=I+Math.imul(P,Qe)|0;var ft=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(W,xe),c=Math.imul(W,_e),c=c+Math.imul(ee,xe)|0,I=Math.imul(ee,_e),m=m+Math.imul(Y,Fe)|0,c=c+Math.imul(Y,Qe)|0,c=c+Math.imul(z,Fe)|0,I=I+Math.imul(z,Qe)|0,m=m+Math.imul(D,Oe)|0,c=c+Math.imul(D,Ne)|0,c=c+Math.imul(P,Oe)|0,I=I+Math.imul(P,Ne)|0;var et=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(et>>>26)|0,et&=67108863,m=Math.imul(ne,xe),c=Math.imul(ne,_e),c=c+Math.imul(se,xe)|0,I=Math.imul(se,_e),m=m+Math.imul(W,Fe)|0,c=c+Math.imul(W,Qe)|0,c=c+Math.imul(ee,Fe)|0,I=I+Math.imul(ee,Qe)|0,m=m+Math.imul(Y,Oe)|0,c=c+Math.imul(Y,Ne)|0,c=c+Math.imul(z,Oe)|0,I=I+Math.imul(z,Ne)|0,m=m+Math.imul(D,De)|0,c=c+Math.imul(D,Re)|0,c=c+Math.imul(P,De)|0,I=I+Math.imul(P,Re)|0;var Ft=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,m=Math.imul(ce,xe),c=Math.imul(ce,_e),c=c+Math.imul(fe,xe)|0,I=Math.imul(fe,_e),m=m+Math.imul(ne,Fe)|0,c=c+Math.imul(ne,Qe)|0,c=c+Math.imul(se,Fe)|0,I=I+Math.imul(se,Qe)|0,m=m+Math.imul(W,Oe)|0,c=c+Math.imul(W,Ne)|0,c=c+Math.imul(ee,Oe)|0,I=I+Math.imul(ee,Ne)|0,m=m+Math.imul(Y,De)|0,c=c+Math.imul(Y,Re)|0,c=c+Math.imul(z,De)|0,I=I+Math.imul(z,Re)|0,m=m+Math.imul(D,Ke)|0,c=c+Math.imul(D,Pe)|0,c=c+Math.imul(P,Ke)|0,I=I+Math.imul(P,Pe)|0;var Ot=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(ge,xe),c=Math.imul(ge,_e),c=c+Math.imul(Ie,xe)|0,I=Math.imul(Ie,_e),m=m+Math.imul(ce,Fe)|0,c=c+Math.imul(ce,Qe)|0,c=c+Math.imul(fe,Fe)|0,I=I+Math.imul(fe,Qe)|0,m=m+Math.imul(ne,Oe)|0,c=c+Math.imul(ne,Ne)|0,c=c+Math.imul(se,Oe)|0,I=I+Math.imul(se,Ne)|0,m=m+Math.imul(W,De)|0,c=c+Math.imul(W,Re)|0,c=c+Math.imul(ee,De)|0,I=I+Math.imul(ee,Re)|0,m=m+Math.imul(Y,Ke)|0,c=c+Math.imul(Y,Pe)|0,c=c+Math.imul(z,Ke)|0,I=I+Math.imul(z,Pe)|0,m=m+Math.imul(D,Ue)|0,c=c+Math.imul(D,Me)|0,c=c+Math.imul(P,Ue)|0,I=I+Math.imul(P,Me)|0;var Mt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,m=Math.imul(ve,xe),c=Math.imul(ve,_e),c=c+Math.imul(ye,xe)|0,I=Math.imul(ye,_e),m=m+Math.imul(ge,Fe)|0,c=c+Math.imul(ge,Qe)|0,c=c+Math.imul(Ie,Fe)|0,I=I+Math.imul(Ie,Qe)|0,m=m+Math.imul(ce,Oe)|0,c=c+Math.imul(ce,Ne)|0,c=c+Math.imul(fe,Oe)|0,I=I+Math.imul(fe,Ne)|0,m=m+Math.imul(ne,De)|0,c=c+Math.imul(ne,Re)|0,c=c+Math.imul(se,De)|0,I=I+Math.imul(se,Re)|0,m=m+Math.imul(W,Ke)|0,c=c+Math.imul(W,Pe)|0,c=c+Math.imul(ee,Ke)|0,I=I+Math.imul(ee,Pe)|0,m=m+Math.imul(Y,Ue)|0,c=c+Math.imul(Y,Me)|0,c=c+Math.imul(z,Ue)|0,I=I+Math.imul(z,Me)|0,m=m+Math.imul(D,ke)|0,c=c+Math.imul(D,qe)|0,c=c+Math.imul(P,ke)|0,I=I+Math.imul(P,qe)|0;var mt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,m=Math.imul(Be,xe),c=Math.imul(Be,_e),c=c+Math.imul(we,xe)|0,I=Math.imul(we,_e),m=m+Math.imul(ve,Fe)|0,c=c+Math.imul(ve,Qe)|0,c=c+Math.imul(ye,Fe)|0,I=I+Math.imul(ye,Qe)|0,m=m+Math.imul(ge,Oe)|0,c=c+Math.imul(ge,Ne)|0,c=c+Math.imul(Ie,Oe)|0,I=I+Math.imul(Ie,Ne)|0,m=m+Math.imul(ce,De)|0,c=c+Math.imul(ce,Re)|0,c=c+Math.imul(fe,De)|0,I=I+Math.imul(fe,Re)|0,m=m+Math.imul(ne,Ke)|0,c=c+Math.imul(ne,Pe)|0,c=c+Math.imul(se,Ke)|0,I=I+Math.imul(se,Pe)|0,m=m+Math.imul(W,Ue)|0,c=c+Math.imul(W,Me)|0,c=c+Math.imul(ee,Ue)|0,I=I+Math.imul(ee,Me)|0,m=m+Math.imul(Y,ke)|0,c=c+Math.imul(Y,qe)|0,c=c+Math.imul(z,ke)|0,I=I+Math.imul(z,qe)|0,m=m+Math.imul(D,te)|0,c=c+Math.imul(D,Z)|0,c=c+Math.imul(P,te)|0,I=I+Math.imul(P,Z)|0;var kt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(Ce,xe),c=Math.imul(Ce,_e),c=c+Math.imul(me,xe)|0,I=Math.imul(me,_e),m=m+Math.imul(Be,Fe)|0,c=c+Math.imul(Be,Qe)|0,c=c+Math.imul(we,Fe)|0,I=I+Math.imul(we,Qe)|0,m=m+Math.imul(ve,Oe)|0,c=c+Math.imul(ve,Ne)|0,c=c+Math.imul(ye,Oe)|0,I=I+Math.imul(ye,Ne)|0,m=m+Math.imul(ge,De)|0,c=c+Math.imul(ge,Re)|0,c=c+Math.imul(Ie,De)|0,I=I+Math.imul(Ie,Re)|0,m=m+Math.imul(ce,Ke)|0,c=c+Math.imul(ce,Pe)|0,c=c+Math.imul(fe,Ke)|0,I=I+Math.imul(fe,Pe)|0,m=m+Math.imul(ne,Ue)|0,c=c+Math.imul(ne,Me)|0,c=c+Math.imul(se,Ue)|0,I=I+Math.imul(se,Me)|0,m=m+Math.imul(W,ke)|0,c=c+Math.imul(W,qe)|0,c=c+Math.imul(ee,ke)|0,I=I+Math.imul(ee,qe)|0,m=m+Math.imul(Y,te)|0,c=c+Math.imul(Y,Z)|0,c=c+Math.imul(z,te)|0,I=I+Math.imul(z,Z)|0,m=m+Math.imul(D,ie)|0,c=c+Math.imul(D,oe)|0,c=c+Math.imul(P,ie)|0,I=I+Math.imul(P,oe)|0;var Ct=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(be,xe),c=Math.imul(be,_e),c=c+Math.imul(Se,xe)|0,I=Math.imul(Se,_e),m=m+Math.imul(Ce,Fe)|0,c=c+Math.imul(Ce,Qe)|0,c=c+Math.imul(me,Fe)|0,I=I+Math.imul(me,Qe)|0,m=m+Math.imul(Be,Oe)|0,c=c+Math.imul(Be,Ne)|0,c=c+Math.imul(we,Oe)|0,I=I+Math.imul(we,Ne)|0,m=m+Math.imul(ve,De)|0,c=c+Math.imul(ve,Re)|0,c=c+Math.imul(ye,De)|0,I=I+Math.imul(ye,Re)|0,m=m+Math.imul(ge,Ke)|0,c=c+Math.imul(ge,Pe)|0,c=c+Math.imul(Ie,Ke)|0,I=I+Math.imul(Ie,Pe)|0,m=m+Math.imul(ce,Ue)|0,c=c+Math.imul(ce,Me)|0,c=c+Math.imul(fe,Ue)|0,I=I+Math.imul(fe,Me)|0,m=m+Math.imul(ne,ke)|0,c=c+Math.imul(ne,qe)|0,c=c+Math.imul(se,ke)|0,I=I+Math.imul(se,qe)|0,m=m+Math.imul(W,te)|0,c=c+Math.imul(W,Z)|0,c=c+Math.imul(ee,te)|0,I=I+Math.imul(ee,Z)|0,m=m+Math.imul(Y,ie)|0,c=c+Math.imul(Y,oe)|0,c=c+Math.imul(z,ie)|0,I=I+Math.imul(z,oe)|0,m=m+Math.imul(D,ue)|0,c=c+Math.imul(D,he)|0,c=c+Math.imul(P,ue)|0,I=I+Math.imul(P,he)|0;var wr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(wr>>>26)|0,wr&=67108863,m=Math.imul(be,Fe),c=Math.imul(be,Qe),c=c+Math.imul(Se,Fe)|0,I=Math.imul(Se,Qe),m=m+Math.imul(Ce,Oe)|0,c=c+Math.imul(Ce,Ne)|0,c=c+Math.imul(me,Oe)|0,I=I+Math.imul(me,Ne)|0,m=m+Math.imul(Be,De)|0,c=c+Math.imul(Be,Re)|0,c=c+Math.imul(we,De)|0,I=I+Math.imul(we,Re)|0,m=m+Math.imul(ve,Ke)|0,c=c+Math.imul(ve,Pe)|0,c=c+Math.imul(ye,Ke)|0,I=I+Math.imul(ye,Pe)|0,m=m+Math.imul(ge,Ue)|0,c=c+Math.imul(ge,Me)|0,c=c+Math.imul(Ie,Ue)|0,I=I+Math.imul(Ie,Me)|0,m=m+Math.imul(ce,ke)|0,c=c+Math.imul(ce,qe)|0,c=c+Math.imul(fe,ke)|0,I=I+Math.imul(fe,qe)|0,m=m+Math.imul(ne,te)|0,c=c+Math.imul(ne,Z)|0,c=c+Math.imul(se,te)|0,I=I+Math.imul(se,Z)|0,m=m+Math.imul(W,ie)|0,c=c+Math.imul(W,oe)|0,c=c+Math.imul(ee,ie)|0,I=I+Math.imul(ee,oe)|0,m=m+Math.imul(Y,ue)|0,c=c+Math.imul(Y,he)|0,c=c+Math.imul(z,ue)|0,I=I+Math.imul(z,he)|0;var ir=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ir>>>26)|0,ir&=67108863,m=Math.imul(be,Oe),c=Math.imul(be,Ne),c=c+Math.imul(Se,Oe)|0,I=Math.imul(Se,Ne),m=m+Math.imul(Ce,De)|0,c=c+Math.imul(Ce,Re)|0,c=c+Math.imul(me,De)|0,I=I+Math.imul(me,Re)|0,m=m+Math.imul(Be,Ke)|0,c=c+Math.imul(Be,Pe)|0,c=c+Math.imul(we,Ke)|0,I=I+Math.imul(we,Pe)|0,m=m+Math.imul(ve,Ue)|0,c=c+Math.imul(ve,Me)|0,c=c+Math.imul(ye,Ue)|0,I=I+Math.imul(ye,Me)|0,m=m+Math.imul(ge,ke)|0,c=c+Math.imul(ge,qe)|0,c=c+Math.imul(Ie,ke)|0,I=I+Math.imul(Ie,qe)|0,m=m+Math.imul(ce,te)|0,c=c+Math.imul(ce,Z)|0,c=c+Math.imul(fe,te)|0,I=I+Math.imul(fe,Z)|0,m=m+Math.imul(ne,ie)|0,c=c+Math.imul(ne,oe)|0,c=c+Math.imul(se,ie)|0,I=I+Math.imul(se,oe)|0,m=m+Math.imul(W,ue)|0,c=c+Math.imul(W,he)|0,c=c+Math.imul(ee,ue)|0,I=I+Math.imul(ee,he)|0;var ar=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ar>>>26)|0,ar&=67108863,m=Math.imul(be,De),c=Math.imul(be,Re),c=c+Math.imul(Se,De)|0,I=Math.imul(Se,Re),m=m+Math.imul(Ce,Ke)|0,c=c+Math.imul(Ce,Pe)|0,c=c+Math.imul(me,Ke)|0,I=I+Math.imul(me,Pe)|0,m=m+Math.imul(Be,Ue)|0,c=c+Math.imul(Be,Me)|0,c=c+Math.imul(we,Ue)|0,I=I+Math.imul(we,Me)|0,m=m+Math.imul(ve,ke)|0,c=c+Math.imul(ve,qe)|0,c=c+Math.imul(ye,ke)|0,I=I+Math.imul(ye,qe)|0,m=m+Math.imul(ge,te)|0,c=c+Math.imul(ge,Z)|0,c=c+Math.imul(Ie,te)|0,I=I+Math.imul(Ie,Z)|0,m=m+Math.imul(ce,ie)|0,c=c+Math.imul(ce,oe)|0,c=c+Math.imul(fe,ie)|0,I=I+Math.imul(fe,oe)|0,m=m+Math.imul(ne,ue)|0,c=c+Math.imul(ne,he)|0,c=c+Math.imul(se,ue)|0,I=I+Math.imul(se,he)|0;var xt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(xt>>>26)|0,xt&=67108863,m=Math.imul(be,Ke),c=Math.imul(be,Pe),c=c+Math.imul(Se,Ke)|0,I=Math.imul(Se,Pe),m=m+Math.imul(Ce,Ue)|0,c=c+Math.imul(Ce,Me)|0,c=c+Math.imul(me,Ue)|0,I=I+Math.imul(me,Me)|0,m=m+Math.imul(Be,ke)|0,c=c+Math.imul(Be,qe)|0,c=c+Math.imul(we,ke)|0,I=I+Math.imul(we,qe)|0,m=m+Math.imul(ve,te)|0,c=c+Math.imul(ve,Z)|0,c=c+Math.imul(ye,te)|0,I=I+Math.imul(ye,Z)|0,m=m+Math.imul(ge,ie)|0,c=c+Math.imul(ge,oe)|0,c=c+Math.imul(Ie,ie)|0,I=I+Math.imul(Ie,oe)|0,m=m+Math.imul(ce,ue)|0,c=c+Math.imul(ce,he)|0,c=c+Math.imul(fe,ue)|0,I=I+Math.imul(fe,he)|0;var nr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(nr>>>26)|0,nr&=67108863,m=Math.imul(be,Ue),c=Math.imul(be,Me),c=c+Math.imul(Se,Ue)|0,I=Math.imul(Se,Me),m=m+Math.imul(Ce,ke)|0,c=c+Math.imul(Ce,qe)|0,c=c+Math.imul(me,ke)|0,I=I+Math.imul(me,qe)|0,m=m+Math.imul(Be,te)|0,c=c+Math.imul(Be,Z)|0,c=c+Math.imul(we,te)|0,I=I+Math.imul(we,Z)|0,m=m+Math.imul(ve,ie)|0,c=c+Math.imul(ve,oe)|0,c=c+Math.imul(ye,ie)|0,I=I+Math.imul(ye,oe)|0,m=m+Math.imul(ge,ue)|0,c=c+Math.imul(ge,he)|0,c=c+Math.imul(Ie,ue)|0,I=I+Math.imul(Ie,he)|0;var cr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(cr>>>26)|0,cr&=67108863,m=Math.imul(be,ke),c=Math.imul(be,qe),c=c+Math.imul(Se,ke)|0,I=Math.imul(Se,qe),m=m+Math.imul(Ce,te)|0,c=c+Math.imul(Ce,Z)|0,c=c+Math.imul(me,te)|0,I=I+Math.imul(me,Z)|0,m=m+Math.imul(Be,ie)|0,c=c+Math.imul(Be,oe)|0,c=c+Math.imul(we,ie)|0,I=I+Math.imul(we,oe)|0,m=m+Math.imul(ve,ue)|0,c=c+Math.imul(ve,he)|0,c=c+Math.imul(ye,ue)|0,I=I+Math.imul(ye,he)|0;var pr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(be,te),c=Math.imul(be,Z),c=c+Math.imul(Se,te)|0,I=Math.imul(Se,Z),m=m+Math.imul(Ce,ie)|0,c=c+Math.imul(Ce,oe)|0,c=c+Math.imul(me,ie)|0,I=I+Math.imul(me,oe)|0,m=m+Math.imul(Be,ue)|0,c=c+Math.imul(Be,he)|0,c=c+Math.imul(we,ue)|0,I=I+Math.imul(we,he)|0;var Pr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(be,ie),c=Math.imul(be,oe),c=c+Math.imul(Se,ie)|0,I=Math.imul(Se,oe),m=m+Math.imul(Ce,ue)|0,c=c+Math.imul(Ce,he)|0,c=c+Math.imul(me,ue)|0,I=I+Math.imul(me,he)|0;var fr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(fr>>>26)|0,fr&=67108863,m=Math.imul(be,ue),c=Math.imul(be,he),c=c+Math.imul(Se,ue)|0,I=Math.imul(Se,he);var Hr=(E+m|0)+((c&8191)<<13)|0;return E=(I+(c>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w[0]=Et,w[1]=ft,w[2]=et,w[3]=Ft,w[4]=Ot,w[5]=Mt,w[6]=mt,w[7]=kt,w[8]=Ct,w[9]=wr,w[10]=ir,w[11]=ar,w[12]=xt,w[13]=nr,w[14]=cr,w[15]=pr,w[16]=Pr,w[17]=fr,w[18]=Hr,E!==0&&(w[19]=E,g.length++),g};Math.imul||(C=S);function x(v,a,h){h.negative=a.negative^v.negative,h.length=v.length+a.length;for(var g=0,l=0,A=0;A<h.length-1;A++){var w=l;l=0;for(var E=g&67108863,m=Math.min(A,a.length-1),c=Math.max(0,A-v.length+1);c<=m;c++){var I=A-c,M=v.words[I]|0,D=a.words[c]|0,P=M*D,j=P&67108863;w=w+(P/67108864|0)|0,j=j+E|0,E=j&67108863,w=w+(j>>>26)|0,l+=w>>>26,w&=67108863}h.words[A]=E,g=w,w=l}return g!==0?h.words[A]=g:h.length--,h.strip()}function _(v,a,h){var g=new Q;return g.mulp(v,a,h)}n.prototype.mulTo=function(a,h){var g,l=this.length+a.length;return this.length===10&&a.length===10?g=C(this,a,h):l<63?g=S(this,a,h):l<1024?g=x(this,a,h):g=_(this,a,h),g};function Q(v,a){this.x=v,this.y=a}Q.prototype.makeRBT=function(a){for(var h=new Array(a),g=n.prototype._countBits(a)-1,l=0;l<a;l++)h[l]=this.revBin(l,g,a);return h},Q.prototype.revBin=function(a,h,g){if(a===0||a===g-1)return a;for(var l=0,A=0;A<h;A++)l|=(a&1)<<h-A-1,a>>=1;return l},Q.prototype.permute=function(a,h,g,l,A,w){for(var E=0;E<w;E++)l[E]=h[a[E]],A[E]=g[a[E]]},Q.prototype.transform=function(a,h,g,l,A,w){this.permute(w,a,h,g,l,A);for(var E=1;E<A;E<<=1)for(var m=E<<1,c=Math.cos(2*Math.PI/m),I=Math.sin(2*Math.PI/m),M=0;M<A;M+=m)for(var D=c,P=I,j=0;j<E;j++){var Y=g[M+j],z=l[M+j],$=g[M+j+E],W=l[M+j+E],ee=D*$-P*W;W=D*W+P*$,$=ee,g[M+j]=Y+$,l[M+j]=z+W,g[M+j+E]=Y-$,l[M+j+E]=z-W,j!==m&&(ee=c*D-I*P,P=c*P+I*D,D=ee)}},Q.prototype.guessLen13b=function(a,h){var g=Math.max(h,a)|1,l=g&1,A=0;for(g=g/2|0;g;g=g>>>1)A++;return 1<<A+1+l},Q.prototype.conjugate=function(a,h,g){if(!(g<=1))for(var l=0;l<g/2;l++){var A=a[l];a[l]=a[g-l-1],a[g-l-1]=A,A=h[l],h[l]=-h[g-l-1],h[g-l-1]=-A}},Q.prototype.normalize13b=function(a,h){for(var g=0,l=0;l<h/2;l++){var A=Math.round(a[2*l+1]/h)*8192+Math.round(a[2*l]/h)+g;a[l]=A&67108863,A<67108864?g=0:g=A/67108864|0}return a},Q.prototype.convert13b=function(a,h,g,l){for(var A=0,w=0;w<h;w++)A=A+(a[w]|0),g[2*w]=A&8191,A=A>>>13,g[2*w+1]=A&8191,A=A>>>13;for(w=2*h;w<l;++w)g[w]=0;r(A===0),r((A&-8192)===0)},Q.prototype.stub=function(a){for(var h=new Array(a),g=0;g<a;g++)h[g]=0;return h},Q.prototype.mulp=function(a,h,g){var l=2*this.guessLen13b(a.length,h.length),A=this.makeRBT(l),w=this.stub(l),E=new Array(l),m=new Array(l),c=new Array(l),I=new Array(l),M=new Array(l),D=new Array(l),P=g.words;P.length=l,this.convert13b(a.words,a.length,E,l),this.convert13b(h.words,h.length,I,l),this.transform(E,w,m,c,l,A),this.transform(I,w,M,D,l,A);for(var j=0;j<l;j++){var Y=m[j]*M[j]-c[j]*D[j];c[j]=m[j]*D[j]+c[j]*M[j],m[j]=Y}return this.conjugate(m,c,l),this.transform(m,c,P,w,l,A),this.conjugate(P,w,l),this.normalize13b(P,l),g.negative=a.negative^h.negative,g.length=a.length+h.length,g.strip()},n.prototype.mul=function(a){var h=new n(null);return h.words=new Array(this.length+a.length),this.mulTo(a,h)},n.prototype.mulf=function(a){var h=new n(null);return h.words=new Array(this.length+a.length),_(this,a,h)},n.prototype.imul=function(a){return this.clone().mulTo(a,this)},n.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var h=0,g=0;g<this.length;g++){var l=(this.words[g]|0)*a,A=(l&67108863)+(h&67108863);h>>=26,h+=l/67108864|0,h+=A>>>26,this.words[g]=A&67108863}return h!==0&&(this.words[g]=h,this.length++),this},n.prototype.muln=function(a){return this.clone().imuln(a)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(a){var h=B(a);if(h.length===0)return new n(1);for(var g=this,l=0;l<h.length&&h[l]===0;l++,g=g.sqr());if(++l<h.length)for(var A=g.sqr();l<h.length;l++,A=A.sqr())h[l]!==0&&(g=g.mul(A));return g},n.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26,l=67108863>>>26-h<<26-h,A;if(h!==0){var w=0;for(A=0;A<this.length;A++){var E=this.words[A]&l,m=(this.words[A]|0)-E<<h;this.words[A]=m|w,w=E>>>26-h}w&&(this.words[A]=w,this.length++)}if(g!==0){for(A=this.length-1;A>=0;A--)this.words[A+g]=this.words[A];for(A=0;A<g;A++)this.words[A]=0;this.length+=g}return this.strip()},n.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},n.prototype.iushrn=function(a,h,g){r(typeof a=="number"&&a>=0);var l;h?l=(h-h%26)/26:l=0;var A=a%26,w=Math.min((a-A)/26,this.length),E=67108863^67108863>>>A<<A,m=g;if(l-=w,l=Math.max(0,l),m){for(var c=0;c<w;c++)m.words[c]=this.words[c];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,c=0;c<this.length;c++)this.words[c]=this.words[c+w];else this.words[0]=0,this.length=1;var I=0;for(c=this.length-1;c>=0&&(I!==0||c>=l);c--){var M=this.words[c]|0;this.words[c]=I<<26-A|M>>>A,I=M&E}return m&&I!==0&&(m.words[m.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(a,h,g){return r(this.negative===0),this.iushrn(a,h,g)},n.prototype.shln=function(a){return this.clone().ishln(a)},n.prototype.ushln=function(a){return this.clone().iushln(a)},n.prototype.shrn=function(a){return this.clone().ishrn(a)},n.prototype.ushrn=function(a){return this.clone().iushrn(a)},n.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26,l=1<<h;if(this.length<=g)return!1;var A=this.words[g];return!!(A&l)},n.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(h!==0&&g++,this.length=Math.min(g,this.length),h!==0){var l=67108863^67108863>>>h<<h;this.words[this.length-1]&=l}return this.strip()},n.prototype.maskn=function(a){return this.clone().imaskn(a)},n.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},n.prototype._iaddn=function(a){this.words[0]+=a;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},n.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},n.prototype.addn=function(a){return this.clone().iaddn(a)},n.prototype.subn=function(a){return this.clone().isubn(a)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(a,h,g){var l=a.length+g,A;this._expand(l);var w,E=0;for(A=0;A<a.length;A++){w=(this.words[A+g]|0)+E;var m=(a.words[A]|0)*h;w-=m&67108863,E=(w>>26)-(m/67108864|0),this.words[A+g]=w&67108863}for(;A<this.length-g;A++)w=(this.words[A+g]|0)+E,E=w>>26,this.words[A+g]=w&67108863;if(E===0)return this.strip();for(r(E===-1),E=0,A=0;A<this.length;A++)w=-(this.words[A]|0)+E,E=w>>26,this.words[A]=w&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(a,h){var g=this.length-a.length,l=this.clone(),A=a,w=A.words[A.length-1]|0,E=this._countBits(w);g=26-E,g!==0&&(A=A.ushln(g),l.iushln(g),w=A.words[A.length-1]|0);var m=l.length-A.length,c;if(h!=="mod"){c=new n(null),c.length=m+1,c.words=new Array(c.length);for(var I=0;I<c.length;I++)c.words[I]=0}var M=l.clone()._ishlnsubmul(A,1,m);M.negative===0&&(l=M,c&&(c.words[m]=1));for(var D=m-1;D>=0;D--){var P=(l.words[A.length+D]|0)*67108864+(l.words[A.length+D-1]|0);for(P=Math.min(P/w|0,67108863),l._ishlnsubmul(A,P,D);l.negative!==0;)P--,l.negative=0,l._ishlnsubmul(A,1,D),l.isZero()||(l.negative^=1);c&&(c.words[D]=P)}return c&&c.strip(),l.strip(),h!=="div"&&g!==0&&l.iushrn(g),{div:c||null,mod:l}},n.prototype.divmod=function(a,h,g){if(r(!a.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var l,A,w;return this.negative!==0&&a.negative===0?(w=this.neg().divmod(a,h),h!=="mod"&&(l=w.div.neg()),h!=="div"&&(A=w.mod.neg(),g&&A.negative!==0&&A.iadd(a)),{div:l,mod:A}):this.negative===0&&a.negative!==0?(w=this.divmod(a.neg(),h),h!=="mod"&&(l=w.div.neg()),{div:l,mod:w.mod}):this.negative&a.negative?(w=this.neg().divmod(a.neg(),h),h!=="div"&&(A=w.mod.neg(),g&&A.negative!==0&&A.isub(a)),{div:w.div,mod:A}):a.length>this.length||this.cmp(a)<0?{div:new n(0),mod:this}:a.length===1?h==="div"?{div:this.divn(a.words[0]),mod:null}:h==="mod"?{div:null,mod:new n(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new n(this.modn(a.words[0]))}:this._wordDiv(a,h)},n.prototype.div=function(a){return this.divmod(a,"div",!1).div},n.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},n.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},n.prototype.divRound=function(a){var h=this.divmod(a);if(h.mod.isZero())return h.div;var g=h.div.negative!==0?h.mod.isub(a):h.mod,l=a.ushrn(1),A=a.andln(1),w=g.cmp(l);return w<0||A===1&&w===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},n.prototype.modn=function(a){r(a<=67108863);for(var h=(1<<26)%a,g=0,l=this.length-1;l>=0;l--)g=(h*g+(this.words[l]|0))%a;return g},n.prototype.idivn=function(a){r(a<=67108863);for(var h=0,g=this.length-1;g>=0;g--){var l=(this.words[g]|0)+h*67108864;this.words[g]=l/a|0,h=l%a}return this.strip()},n.prototype.divn=function(a){return this.clone().idivn(a)},n.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var h=this,g=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var l=new n(1),A=new n(0),w=new n(0),E=new n(1),m=0;h.isEven()&&g.isEven();)h.iushrn(1),g.iushrn(1),++m;for(var c=g.clone(),I=h.clone();!h.isZero();){for(var M=0,D=1;!(h.words[0]&D)&&M<26;++M,D<<=1);if(M>0)for(h.iushrn(M);M-- >0;)(l.isOdd()||A.isOdd())&&(l.iadd(c),A.isub(I)),l.iushrn(1),A.iushrn(1);for(var P=0,j=1;!(g.words[0]&j)&&P<26;++P,j<<=1);if(P>0)for(g.iushrn(P);P-- >0;)(w.isOdd()||E.isOdd())&&(w.iadd(c),E.isub(I)),w.iushrn(1),E.iushrn(1);h.cmp(g)>=0?(h.isub(g),l.isub(w),A.isub(E)):(g.isub(h),w.isub(l),E.isub(A))}return{a:w,b:E,gcd:g.iushln(m)}},n.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var h=this,g=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var l=new n(1),A=new n(0),w=g.clone();h.cmpn(1)>0&&g.cmpn(1)>0;){for(var E=0,m=1;!(h.words[0]&m)&&E<26;++E,m<<=1);if(E>0)for(h.iushrn(E);E-- >0;)l.isOdd()&&l.iadd(w),l.iushrn(1);for(var c=0,I=1;!(g.words[0]&I)&&c<26;++c,I<<=1);if(c>0)for(g.iushrn(c);c-- >0;)A.isOdd()&&A.iadd(w),A.iushrn(1);h.cmp(g)>=0?(h.isub(g),l.isub(A)):(g.isub(h),A.isub(l))}var M;return h.cmpn(1)===0?M=l:M=A,M.cmpn(0)<0&&M.iadd(a),M},n.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var h=this.clone(),g=a.clone();h.negative=0,g.negative=0;for(var l=0;h.isEven()&&g.isEven();l++)h.iushrn(1),g.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;g.isEven();)g.iushrn(1);var A=h.cmp(g);if(A<0){var w=h;h=g,g=w}else if(A===0||g.cmpn(1)===0)break;h.isub(g)}while(!0);return g.iushln(l)},n.prototype.invm=function(a){return this.egcd(a).a.umod(a)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(a){return this.words[0]&a},n.prototype.bincn=function(a){r(typeof a=="number");var h=a%26,g=(a-h)/26,l=1<<h;if(this.length<=g)return this._expand(g+1),this.words[g]|=l,this;for(var A=l,w=g;A!==0&&w<this.length;w++){var E=this.words[w]|0;E+=A,A=E>>>26,E&=67108863,this.words[w]=E}return A!==0&&(this.words[w]=A,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(a){var h=a<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var g;if(this.length>1)g=1;else{h&&(a=-a),r(a<=67108863,"Number is too big");var l=this.words[0]|0;g=l===a?0:l<a?-1:1}return this.negative!==0?-g|0:g},n.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var h=this.ucmp(a);return this.negative!==0?-h|0:h},n.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var h=0,g=this.length-1;g>=0;g--){var l=this.words[g]|0,A=a.words[g]|0;if(l!==A){l<A?h=-1:l>A&&(h=1);break}}return h},n.prototype.gtn=function(a){return this.cmpn(a)===1},n.prototype.gt=function(a){return this.cmp(a)===1},n.prototype.gten=function(a){return this.cmpn(a)>=0},n.prototype.gte=function(a){return this.cmp(a)>=0},n.prototype.ltn=function(a){return this.cmpn(a)===-1},n.prototype.lt=function(a){return this.cmp(a)===-1},n.prototype.lten=function(a){return this.cmpn(a)<=0},n.prototype.lte=function(a){return this.cmp(a)<=0},n.prototype.eqn=function(a){return this.cmpn(a)===0},n.prototype.eq=function(a){return this.cmp(a)===0},n.red=function(a){return new O(a)},n.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(a){return this.red=a,this},n.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},n.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},n.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},n.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},n.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},n.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},n.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},n.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var R={k256:null,p224:null,p192:null,p25519:null};function k(v,a){this.name=v,this.p=new n(a,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var a=new n(null);return a.words=new Array(Math.ceil(this.n/13)),a},k.prototype.ireduce=function(a){var h=a,g;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),g=h.bitLength();while(g>this.n);var l=g<this.n?-1:h.ucmp(this.p);return l===0?(h.words[0]=0,h.length=1):l>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},k.prototype.split=function(a,h){a.iushrn(this.n,0,h)},k.prototype.imulK=function(a){return a.imul(this.k)};function K(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(K,k),K.prototype.split=function(a,h){for(var g=4194303,l=Math.min(a.length,9),A=0;A<l;A++)h.words[A]=a.words[A];if(h.length=l,a.length<=9){a.words[0]=0,a.length=1;return}var w=a.words[9];for(h.words[h.length++]=w&g,A=10;A<a.length;A++){var E=a.words[A]|0;a.words[A-10]=(E&g)<<4|w>>>22,w=E}w>>>=22,a.words[A-10]=w,w===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var h=0,g=0;g<a.length;g++){var l=a.words[g]|0;h+=l*977,a.words[g]=h&67108863,h=l*64+(h/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function T(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(T,k);function L(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(L,k);function H(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(H,k),H.prototype.imulK=function(a){for(var h=0,g=0;g<a.length;g++){var l=(a.words[g]|0)*19+h,A=l&67108863;l>>>=26,a.words[g]=A,h=l}return h!==0&&(a.words[a.length++]=h),a},n._prime=function(a){if(R[a])return R[a];var h;if(a==="k256")h=new K;else if(a==="p224")h=new T;else if(a==="p192")h=new L;else if(a==="p25519")h=new H;else throw new Error("Unknown prime "+a);return R[a]=h,h};function O(v){if(typeof v=="string"){var a=n._prime(v);this.m=a.p,this.prime=a}else r(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}O.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},O.prototype._verify2=function(a,h){r((a.negative|h.negative)===0,"red works only with positives"),r(a.red&&a.red===h.red,"red works only with red numbers")},O.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},O.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},O.prototype.add=function(a,h){this._verify2(a,h);var g=a.add(h);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},O.prototype.iadd=function(a,h){this._verify2(a,h);var g=a.iadd(h);return g.cmp(this.m)>=0&&g.isub(this.m),g},O.prototype.sub=function(a,h){this._verify2(a,h);var g=a.sub(h);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},O.prototype.isub=function(a,h){this._verify2(a,h);var g=a.isub(h);return g.cmpn(0)<0&&g.iadd(this.m),g},O.prototype.shl=function(a,h){return this._verify1(a),this.imod(a.ushln(h))},O.prototype.imul=function(a,h){return this._verify2(a,h),this.imod(a.imul(h))},O.prototype.mul=function(a,h){return this._verify2(a,h),this.imod(a.mul(h))},O.prototype.isqr=function(a){return this.imul(a,a.clone())},O.prototype.sqr=function(a){return this.mul(a,a)},O.prototype.sqrt=function(a){if(a.isZero())return a.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var g=this.m.add(new n(1)).iushrn(2);return this.pow(a,g)}for(var l=this.m.subn(1),A=0;!l.isZero()&&l.andln(1)===0;)A++,l.iushrn(1);r(!l.isZero());var w=new n(1).toRed(this),E=w.redNeg(),m=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new n(2*c*c).toRed(this);this.pow(c,m).cmp(E)!==0;)c.redIAdd(E);for(var I=this.pow(c,l),M=this.pow(a,l.addn(1).iushrn(1)),D=this.pow(a,l),P=A;D.cmp(w)!==0;){for(var j=D,Y=0;j.cmp(w)!==0;Y++)j=j.redSqr();r(Y<P);var z=this.pow(I,new n(1).iushln(P-Y-1));M=M.redMul(z),I=z.redSqr(),D=D.redMul(I),P=Y}return M},O.prototype.invm=function(a){var h=a._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},O.prototype.pow=function(a,h){if(h.isZero())return new n(1).toRed(this);if(h.cmpn(1)===0)return a.clone();var g=4,l=new Array(1<<g);l[0]=new n(1).toRed(this),l[1]=a;for(var A=2;A<l.length;A++)l[A]=this.mul(l[A-1],a);var w=l[0],E=0,m=0,c=h.bitLength()%26;for(c===0&&(c=26),A=h.length-1;A>=0;A--){for(var I=h.words[A],M=c-1;M>=0;M--){var D=I>>M&1;if(w!==l[0]&&(w=this.sqr(w)),D===0&&E===0){m=0;continue}E<<=1,E|=D,m++,!(m!==g&&(A!==0||M!==0))&&(w=this.mul(w,l[E]),m=0,E=0)}c=26}return w},O.prototype.convertTo=function(a){var h=a.umod(this.m);return h===a?h.clone():h},O.prototype.convertFrom=function(a){var h=a.clone();return h.red=null,h},n.mont=function(a){return new G(a)};function G(v){O.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(G,O),G.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},G.prototype.convertFrom=function(a){var h=this.imod(a.mul(this.rinv));return h.red=null,h},G.prototype.imul=function(a,h){if(a.isZero()||h.isZero())return a.words[0]=0,a.length=1,a;var g=a.imul(h),l=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(l).iushrn(this.shift),w=A;return A.cmp(this.m)>=0?w=A.isub(this.m):A.cmpn(0)<0&&(w=A.iadd(this.m)),w._forceRed(this)},G.prototype.mul=function(a,h){if(a.isZero()||h.isZero())return new n(0)._forceRed(this);var g=a.mul(h),l=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(l).iushrn(this.shift),w=A;return A.cmp(this.m)>=0?w=A.isub(this.m):A.cmpn(0)<0&&(w=A.iadd(this.m)),w._forceRed(this)},G.prototype.invm=function(a){var h=this.imod(a._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(typeof uF>"u"||uF,Mie)});var I_=X((Gbt,pF)=>{b();var hF;pF.exports=function(e){return hF||(hF=new Wp(null)),hF.generate(e)};function Wp(t){this.rand=t}pF.exports.Rand=Wp;Wp.prototype.generate=function(e){return this._rand(e)};Wp.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),i=0;i<r.length;i++)r[i]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Wp.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Wp.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Wp.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(lF=tv(),typeof lF.randomBytes!="function")throw new Error("Not supported");Wp.prototype._rand=function(e){return lF.randomBytes(e)}}catch{}var lF});var AF=X((zbt,Tie)=>{b();var $y=kie(),j9e=I_();function Xy(t){this.rand=t||new j9e.Rand}Tie.exports=Xy;Xy.create=function(e){return new Xy(e)};Xy.prototype._randbelow=function(e){var r=e.bitLength(),i=Math.ceil(r/8);do var n=new $y(this.rand.generate(i));while(n.cmp(e)>=0);return n};Xy.prototype._randrange=function(e,r){var i=r.sub(e);return e.add(this._randbelow(i))};Xy.prototype.test=function(e,r,i){var n=e.bitLength(),o=$y.mont(e),s=new $y(1).toRed(o);r||(r=Math.max(1,n/48|0));for(var f=e.subn(1),d=0;!f.testn(d);d++);for(var p=e.shrn(d),u=f.toRed(o),y=!0;r>0;r--){var B=this._randrange(new $y(2),f);i&&i(B);var S=B.toRed(o).redPow(p);if(!(S.cmp(s)===0||S.cmp(u)===0)){for(var C=1;C<d;C++){if(S=S.redSqr(),S.cmp(s)===0)return!1;if(S.cmp(u)===0)break}if(C===d)return!1}}return y};Xy.prototype.getDivisor=function(e,r){var i=e.bitLength(),n=$y.mont(e),o=new $y(1).toRed(n);r||(r=Math.max(1,i/48|0));for(var s=e.subn(1),f=0;!s.testn(f);f++);for(var d=e.shrn(f),p=s.toRed(n);r>0;r--){var u=this._randrange(new $y(2),s),y=e.gcd(u);if(y.cmpn(1)!==0)return y;var B=u.toRed(n).redPow(d);if(!(B.cmp(o)===0||B.cmp(p)===0)){for(var S=1;S<f;S++){if(B=B.redSqr(),B.cmp(o)===0)return B.fromRed().subn(1).gcd(e);if(B.cmp(p)===0)break}if(S===f)return B=B.redSqr(),B.fromRed().subn(1).gcd(e)}}return!1}});var vF=X(($bt,Fie)=>{b();var z9e=My();Fie.exports=wF;wF.simpleSieve=mF;wF.fermatTest=IF;var Lo=dF(),Y9e=new Lo(24),J9e=AF(),Rie=new J9e,V9e=new Lo(1),yF=new Lo(2),W9e=new Lo(5),Jbt=new Lo(16),Vbt=new Lo(8),Z9e=new Lo(10),$9e=new Lo(3),Wbt=new Lo(7),X9e=new Lo(11),Uie=new Lo(4),Zbt=new Lo(12),gF=null;function eUe(){if(gF!==null)return gF;var t=1048576,e=[];e[0]=2;for(var r=1,i=3;i<t;i+=2){for(var n=Math.ceil(Math.sqrt(i)),o=0;o<r&&e[o]<=n&&i%e[o]!==0;o++);r!==o&&e[o]<=n||(e[r++]=i)}return gF=e,e}function mF(t){for(var e=eUe(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function IF(t){var e=Lo.mont(t);return yF.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function wF(t,e){if(t<16)return e===2||e===5?new Lo([140,123]):new Lo([140,39]);e=new Lo(e);for(var r,i;;){for(r=new Lo(z9e(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(V9e),r.testn(1)||r.iadd(yF),e.cmp(yF)){if(!e.cmp(W9e))for(;r.mod(Z9e).cmp($9e);)r.iadd(Uie)}else for(;r.mod(Y9e).cmp(X9e);)r.iadd(Uie);if(i=r.shrn(1),mF(i)&&mF(r)&&IF(i)&&IF(r)&&Rie.test(i)&&Rie.test(r))return r}}});var Nie=X((e1t,tUe)=>{tUe.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var qie=X((t1t,Kie)=>{b();var df=dF(),rUe=AF(),Pie=new rUe,iUe=new df(24),nUe=new df(11),oUe=new df(10),sUe=new df(3),aUe=new df(7),Oie=vF(),cUe=My();Kie.exports=jl;function fUe(t,e){return e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e)),this._pub=new df(t),this}function dUe(t,e){return e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e)),this._priv=new df(t),this}var w_={};function uUe(t,e){var r=e.toString("hex"),i=[r,t.toString(16)].join("_");if(i in w_)return w_[i];var n=0;if(t.isEven()||!Oie.simpleSieve||!Oie.fermatTest(t)||!Pie.test(t))return n+=1,r==="02"||r==="05"?n+=8:n+=4,w_[i]=n,n;Pie.test(t.shrn(1))||(n+=2);var o;switch(r){case"02":t.mod(iUe).cmp(nUe)&&(n+=8);break;case"05":o=t.mod(oUe),o.cmp(sUe)&&o.cmp(aUe)&&(n+=8);break;default:n+=4}return w_[i]=n,n}function jl(t,e,r){this.setGenerator(e),this.__prime=new df(t),this._prime=df.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=fUe,this.setPrivateKey=dUe):this._primeCode=8}Object.defineProperty(jl.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=uUe(this.__prime,this.__gen)),this._primeCode}});jl.prototype.generateKeys=function(){return this._priv||(this._priv=new df(cUe(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};jl.prototype.computeSecret=function(t){t=new df(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new N.Buffer(e.toArray()),i=this.getPrime();if(r.length<i.length){var n=new N.Buffer(i.length-r.length);n.fill(0),r=N.Buffer.concat([n,r])}return r};jl.prototype.getPublicKey=function(e){return v_(this._pub,e)};jl.prototype.getPrivateKey=function(e){return v_(this._priv,e)};jl.prototype.getPrime=function(t){return v_(this.__prime,t)};jl.prototype.getGenerator=function(t){return v_(this._gen,t)};jl.prototype.setGenerator=function(t,e){return e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e)),this.__gen=t,this._gen=new df(t),this};function v_(t,e){var r=new N.Buffer(t.toArray());return e?r.toString(e):r}});var Gie=X(rv=>{b();var hUe=vF(),Lie=Nie(),bF=qie();function lUe(t){var e=new N.Buffer(Lie[t].prime,"hex"),r=new N.Buffer(Lie[t].gen,"hex");return new bF(e,r)}var pUe={binary:!0,hex:!0,base64:!0};function Hie(t,e,r,i){return N.Buffer.isBuffer(e)||pUe[e]===void 0?Hie(t,"binary",e,r):(e=e||"binary",i=i||"binary",r=r||new N.Buffer([2]),N.Buffer.isBuffer(r)||(r=new N.Buffer(r,i)),typeof t=="number"?new bF(hUe(t,r),r,!0):(N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e)),new bF(t,r,!0)))}rv.DiffieHellmanGroup=rv.createDiffieHellmanGroup=rv.getDiffieHellman=lUe;rv.createDiffieHellman=rv.DiffieHellman=Hie});var E_=X((EF,zie)=>{b();var b_=ni(),Ju=b_.Buffer;function jie(t,e){for(var r in t)e[r]=t[r]}Ju.from&&Ju.alloc&&Ju.allocUnsafe&&Ju.allocUnsafeSlow?zie.exports=b_:(jie(b_,EF),EF.Buffer=em);function em(t,e,r){return Ju(t,e,r)}em.prototype=Object.create(Ju.prototype);jie(Ju,em);em.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Ju(t,e,r)};em.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Ju(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};em.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ju(t)};em.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return b_.SlowBuffer(t)}});var BF=X((s1t,Yie)=>{b();Yie.exports=va().EventEmitter});var Xie=X((c1t,$ie)=>{"use strict";b();function Jie(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Vie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jie(Object(r),!0).forEach(function(i){AUe(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jie(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function AUe(t,e,r){return e=Zie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wie(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Zie(i.key),i)}}function yUe(t,e,r){return e&&Wie(t.prototype,e),r&&Wie(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zie(t){var e=mUe(t,"string");return typeof e=="symbol"?e:String(e)}function mUe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IUe=ni(),B_=IUe.Buffer,wUe=Fl(),CF=wUe.inspect,vUe=CF&&CF.custom||"inspect";function bUe(t,e,r){B_.prototype.copy.call(t,e,r)}$ie.exports=function(){function t(){gUe(this,t),this.head=null,this.tail=null,this.length=0}return yUe(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return B_.alloc(0);for(var i=B_.allocUnsafe(r>>>0),n=this.head,o=0;n;)bUe(n.data,i,o),o+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,o=i.data;for(r-=o.length;i=i.next;){var s=i.data,f=r>s.length?s.length:r;if(f===s.length?o+=s:o+=s.slice(0,r),r-=f,r===0){f===s.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(f));break}++n}return this.length-=n,o}},{key:"_getBuffer",value:function(r){var i=B_.allocUnsafe(r),n=this.head,o=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var s=n.data,f=r>s.length?s.length:r;if(s.copy(i,i.length-r,0,f),r-=f,r===0){f===s.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(f));break}++o}return this.length-=o,i}},{key:vUe,value:function(r,i){return CF(this,Vie(Vie({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var SF=X((d1t,tne)=>{"use strict";b();function EUe(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,U.default.nextTick(xF,this,t)):U.default.nextTick(xF,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?U.default.nextTick(C_,r):(r._writableState.errorEmitted=!0,U.default.nextTick(ene,r,o)):U.default.nextTick(ene,r,o):e?(U.default.nextTick(C_,r),e(o)):U.default.nextTick(C_,r)}),this)}function ene(t,e){xF(t,e),C_(t)}function C_(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function BUe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function xF(t,e){t.emit("error",e)}function CUe(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}tne.exports={destroy:EUe,undestroy:BUe,errorOrDestroy:CUe}});var tm=X((h1t,nne)=>{"use strict";b();function xUe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ine={};function uf(t,e,r){r||(r=Error);function i(o,s,f){return typeof e=="string"?e:e(o,s,f)}var n=function(o){xUe(s,o);function s(f,d,p){return o.call(this,i(f,d,p))||this}return s}(r);n.prototype.name=r.name,n.prototype.code=t,ine[t]=n}function rne(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function SUe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function _Ue(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function QUe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}uf("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);uf("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&SUe(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(_Ue(t," argument"))n="The ".concat(t," ").concat(i," ").concat(rne(e,"type"));else{var o=QUe(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(o," ").concat(i," ").concat(rne(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);uf("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");uf("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});uf("ERR_STREAM_PREMATURE_CLOSE","Premature close");uf("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});uf("ERR_MULTIPLE_CALLBACK","Callback called multiple times");uf("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");uf("ERR_STREAM_WRITE_AFTER_END","write after end");uf("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);uf("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);uf("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");nne.exports.codes=ine});var _F=X((p1t,one)=>{"use strict";b();var DUe=tm().codes.ERR_INVALID_OPT_VALUE;function MUe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function kUe(t,e,r,i){var n=MUe(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var o=i?r:"highWaterMark";throw new DUe(o,n)}return Math.floor(n)}return t.objectMode?16:16*1024}one.exports={getHighWaterMark:kUe}});var MF=X((g1t,une)=>{"use strict";b();une.exports=En;function ane(t){var e=this;this.next=null,this.entry=null,this.finish=function(){o7e(e,t)}}var iv;En.WritableState=sB;var TUe={deprecate:x2()},cne=BF(),S_=ni().Buffer,RUe=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function UUe(t){return S_.from(t)}function FUe(t){return S_.isBuffer(t)||t instanceof RUe}var DF=SF(),NUe=_F(),PUe=NUe.getHighWaterMark,Zp=tm().codes,OUe=Zp.ERR_INVALID_ARG_TYPE,KUe=Zp.ERR_METHOD_NOT_IMPLEMENTED,qUe=Zp.ERR_MULTIPLE_CALLBACK,LUe=Zp.ERR_STREAM_CANNOT_PIPE,HUe=Zp.ERR_STREAM_DESTROYED,GUe=Zp.ERR_STREAM_NULL_VALUES,jUe=Zp.ERR_STREAM_WRITE_AFTER_END,zUe=Zp.ERR_UNKNOWN_ENCODING,nv=DF.errorOrDestroy;Qt()(En,cne);function YUe(){}function sB(t,e,r){iv=iv||rm(),t=t||{},typeof r!="boolean"&&(r=e instanceof iv),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=PUe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){e7e(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ane(this)}sB.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(sB.prototype,"buffer",{get:TUe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var x_;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x_=Function.prototype[Symbol.hasInstance],Object.defineProperty(En,Symbol.hasInstance,{value:function(e){return x_.call(this,e)?!0:this!==En?!1:e&&e._writableState instanceof sB}})):x_=function(e){return e instanceof this};function En(t){iv=iv||rm();var e=this instanceof iv;if(!e&&!x_.call(En,this))return new En(t);this._writableState=new sB(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),cne.call(this)}En.prototype.pipe=function(){nv(this,new LUe)};function JUe(t,e){var r=new jUe;nv(t,r),U.default.nextTick(e,r)}function VUe(t,e,r,i){var n;return r===null?n=new GUe:typeof r!="string"&&!e.objectMode&&(n=new OUe("chunk",["string","Buffer"],r)),n?(nv(t,n),U.default.nextTick(i,n),!1):!0}En.prototype.write=function(t,e,r){var i=this._writableState,n=!1,o=!i.objectMode&&FUe(t);return o&&!S_.isBuffer(t)&&(t=UUe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=YUe),i.ending?JUe(this,r):(o||VUe(this,i,t,r))&&(i.pendingcb++,n=ZUe(this,i,o,t,e,r)),n};En.prototype.cork=function(){this._writableState.corked++};En.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&fne(this,t))};En.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new zUe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(En.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function WUe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=S_.from(e,r)),e}Object.defineProperty(En.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ZUe(t,e,r,i,n,o){if(!r){var s=WUe(e,i,n);i!==s&&(r=!0,n="buffer",i=s)}var f=e.objectMode?1:i.length;e.length+=f;var d=e.length<e.highWaterMark;if(d||(e.needDrain=!0),e.writing||e.corked){var p=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},p?p.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else QF(t,e,!1,f,i,n,o);return d}function QF(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new HUe("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function $Ue(t,e,r,i,n){--e.pendingcb,r?(U.default.nextTick(n,i),U.default.nextTick(oB,t,e),t._writableState.errorEmitted=!0,nv(t,i)):(n(i),t._writableState.errorEmitted=!0,nv(t,i),oB(t,e))}function XUe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function e7e(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new qUe;if(XUe(r),e)$Ue(t,r,i,e,n);else{var o=dne(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&fne(t,r),i?U.default.nextTick(sne,t,r,o,n):sne(t,r,o,n)}}function sne(t,e,r,i){r||t7e(t,e),e.pendingcb--,i(),oB(t,e)}function t7e(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function fne(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var s=0,f=!0;r;)n[s]=r,r.isBuf||(f=!1),r=r.next,s+=1;n.allBuffers=f,QF(t,e,!0,e.length,n,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new ane(e),e.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,p=r.encoding,u=r.callback,y=e.objectMode?1:d.length;if(QF(t,e,!1,y,d,p,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}En.prototype._write=function(t,e,r){r(new KUe("_write()"))};En.prototype._writev=null;En.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||n7e(this,i,r),this};Object.defineProperty(En.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function dne(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function r7e(t,e){t._final(function(r){e.pendingcb--,r&&nv(t,r),e.prefinished=!0,t.emit("prefinish"),oB(t,e)})}function i7e(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,U.default.nextTick(r7e,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function oB(t,e){var r=dne(e);if(r&&(i7e(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function n7e(t,e,r){e.ending=!0,oB(t,e),r&&(e.finished?U.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function o7e(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(En.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});En.prototype.destroy=DF.destroy;En.prototype._undestroy=DF.undestroy;En.prototype._destroy=function(t,e){e(t)}});var rm=X((m1t,lne)=>{"use strict";b();var s7e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};lne.exports=Vu;var hne=RF(),TF=MF();Qt()(Vu,hne);for(kF=s7e(TF.prototype),__=0;__<kF.length;__++)Q_=kF[__],Vu.prototype[Q_]||(Vu.prototype[Q_]=TF.prototype[Q_]);var kF,Q_,__;function Vu(t){if(!(this instanceof Vu))return new Vu(t);hne.call(this,t),TF.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a7e)))}Object.defineProperty(Vu.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Vu.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Vu.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a7e(){this._writableState.ended||U.default.nextTick(c7e,this)}function c7e(t){t.end()}Object.defineProperty(Vu.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var D_=X((w1t,gne)=>{"use strict";b();var pne=tm().codes.ERR_STREAM_PREMATURE_CLOSE;function f7e(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function d7e(){}function u7e(t){return t.setHeader&&typeof t.abort=="function"}function Ane(t,e,r){if(typeof e=="function")return Ane(t,null,e);e||(e={}),r=f7e(r||d7e);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||f()},s=t._writableState&&t._writableState.finished,f=function(){n=!1,s=!0,i||r.call(t)},d=t._readableState&&t._readableState.endEmitted,p=function(){i=!1,d=!0,n||r.call(t)},u=function(C){r.call(t,C)},y=function(){var C;if(i&&!d)return(!t._readableState||!t._readableState.ended)&&(C=new pne),r.call(t,C);if(n&&!s)return(!t._writableState||!t._writableState.ended)&&(C=new pne),r.call(t,C)},B=function(){t.req.on("finish",f)};return u7e(t)?(t.on("complete",f),t.on("abort",y),t.req?B():t.on("request",B)):n&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",p),t.on("finish",f),e.error!==!1&&t.on("error",u),t.on("close",y),function(){t.removeListener("complete",f),t.removeListener("abort",y),t.removeListener("request",B),t.req&&t.req.removeListener("finish",f),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",f),t.removeListener("end",p),t.removeListener("error",u),t.removeListener("close",y)}}gne.exports=Ane});var mne=X((b1t,yne)=>{"use strict";b();var M_;function $p(t,e,r){return e=h7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h7e(t){var e=l7e(t,"string");return typeof e=="symbol"?e:String(e)}function l7e(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p7e=D_(),Xp=Symbol("lastResolve"),im=Symbol("lastReject"),aB=Symbol("error"),k_=Symbol("ended"),nm=Symbol("lastPromise"),UF=Symbol("handlePromise"),om=Symbol("stream");function eA(t,e){return{value:t,done:e}}function A7e(t){var e=t[Xp];if(e!==null){var r=t[om].read();r!==null&&(t[nm]=null,t[Xp]=null,t[im]=null,e(eA(r,!1)))}}function g7e(t){U.default.nextTick(A7e,t)}function y7e(t,e){return function(r,i){t.then(function(){if(e[k_]){r(eA(void 0,!0));return}e[UF](r,i)},i)}}var m7e=Object.getPrototypeOf(function(){}),I7e=Object.setPrototypeOf((M_={get stream(){return this[om]},next:function(){var e=this,r=this[aB];if(r!==null)return Promise.reject(r);if(this[k_])return Promise.resolve(eA(void 0,!0));if(this[om].destroyed)return new Promise(function(s,f){U.default.nextTick(function(){e[aB]?f(e[aB]):s(eA(void 0,!0))})});var i=this[nm],n;if(i)n=new Promise(y7e(i,this));else{var o=this[om].read();if(o!==null)return Promise.resolve(eA(o,!1));n=new Promise(this[UF])}return this[nm]=n,n}},$p(M_,Symbol.asyncIterator,function(){return this}),$p(M_,"return",function(){var e=this;return new Promise(function(r,i){e[om].destroy(null,function(n){if(n){i(n);return}r(eA(void 0,!0))})})}),M_),m7e),w7e=function(e){var r,i=Object.create(I7e,(r={},$p(r,om,{value:e,writable:!0}),$p(r,Xp,{value:null,writable:!0}),$p(r,im,{value:null,writable:!0}),$p(r,aB,{value:null,writable:!0}),$p(r,k_,{value:e._readableState.endEmitted,writable:!0}),$p(r,UF,{value:function(o,s){var f=i[om].read();f?(i[nm]=null,i[Xp]=null,i[im]=null,o(eA(f,!1))):(i[Xp]=o,i[im]=s)},writable:!0}),r));return i[nm]=null,p7e(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=i[im];o!==null&&(i[nm]=null,i[Xp]=null,i[im]=null,o(n)),i[aB]=n;return}var s=i[Xp];s!==null&&(i[nm]=null,i[Xp]=null,i[im]=null,s(eA(void 0,!0))),i[k_]=!0}),e.on("readable",g7e.bind(null,i)),i};yne.exports=w7e});var wne=X((B1t,Ine)=>{b();Ine.exports=function(){throw new Error("Readable.from is not available in the browser")}});var RF=X((S1t,Dne)=>{"use strict";b();Dne.exports=Wr;var ov;Wr.ReadableState=Bne;var x1t=va().EventEmitter,Ene=function(e,r){return e.listeners(r).length},fB=BF(),T_=ni().Buffer,v7e=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function b7e(t){return T_.from(t)}function E7e(t){return T_.isBuffer(t)||t instanceof v7e}var FF=Fl(),kr;FF&&FF.debuglog?kr=FF.debuglog("stream"):kr=function(){};var B7e=Xie(),HF=SF(),C7e=_F(),x7e=C7e.getHighWaterMark,R_=tm().codes,S7e=R_.ERR_INVALID_ARG_TYPE,_7e=R_.ERR_STREAM_PUSH_AFTER_EOF,Q7e=R_.ERR_METHOD_NOT_IMPLEMENTED,D7e=R_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,sv,NF,PF;Qt()(Wr,fB);var cB=HF.errorOrDestroy,OF=["error","close","destroy","pause","resume"];function M7e(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function Bne(t,e,r){ov=ov||rm(),t=t||{},typeof r!="boolean"&&(r=e instanceof ov),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=x7e(this,t,"readableHighWaterMark",r),this.buffer=new B7e,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(sv||(sv=ud().StringDecoder),this.decoder=new sv(t.encoding),this.encoding=t.encoding)}function Wr(t){if(ov=ov||rm(),!(this instanceof Wr))return new Wr(t);var e=this instanceof ov;this._readableState=new Bne(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),fB.call(this)}Object.defineProperty(Wr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Wr.prototype.destroy=HF.destroy;Wr.prototype._undestroy=HF.undestroy;Wr.prototype._destroy=function(t,e){e(t)};Wr.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=T_.from(t,e),e=""),i=!0),Cne(this,t,e,!1,i)};Wr.prototype.unshift=function(t){return Cne(this,t,null,!0,!1)};function Cne(t,e,r,i,n){kr("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,R7e(t,o);else{var s;if(n||(s=k7e(o,e)),s)cB(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==T_.prototype&&(e=b7e(e)),i)o.endEmitted?cB(t,new D7e):KF(t,o,e,!0);else if(o.ended)cB(t,new _7e);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?KF(t,o,e,!1):LF(t,o)):KF(t,o,e,!1)}else i||(o.reading=!1,LF(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function KF(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&U_(t)),LF(t,e)}function k7e(t,e){var r;return!E7e(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new S7e("chunk",["string","Buffer","Uint8Array"],e)),r}Wr.prototype.isPaused=function(){return this._readableState.flowing===!1};Wr.prototype.setEncoding=function(t){sv||(sv=ud().StringDecoder);var e=new sv(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var vne=1073741824;function T7e(t){return t>=vne?t=vne:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function bne(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=T7e(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Wr.prototype.read=function(t){kr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return kr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?qF(this):U_(this),null;if(t=bne(t,e),t===0&&e.ended)return e.length===0&&qF(this),null;var i=e.needReadable;kr("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,kr("length less than watermark",i)),e.ended||e.reading?(i=!1,kr("reading or ended",i)):i&&(kr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=bne(r,e)));var n;return t>0?n=_ne(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&qF(this)),n!==null&&this.emit("data",n),n};function R7e(t,e){if(kr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?U_(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,xne(t)))}}function U_(t){var e=t._readableState;kr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(kr("emitReadable",e.flowing),e.emittedReadable=!0,U.default.nextTick(xne,t))}function xne(t){var e=t._readableState;kr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,GF(t)}function LF(t,e){e.readingMore||(e.readingMore=!0,U.default.nextTick(U7e,t,e))}function U7e(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(kr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Wr.prototype._read=function(t){cB(this,new Q7e("_read()"))};Wr.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,kr("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==U.default.stdout&&t!==U.default.stderr,o=n?f:x;i.endEmitted?U.default.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(_,Q){kr("onunpipe"),_===r&&Q&&Q.hasUnpiped===!1&&(Q.hasUnpiped=!0,u())}function f(){kr("onend"),t.end()}var d=F7e(r);t.on("drain",d);var p=!1;function u(){kr("cleanup"),t.removeListener("close",S),t.removeListener("finish",C),t.removeListener("drain",d),t.removeListener("error",B),t.removeListener("unpipe",s),r.removeListener("end",f),r.removeListener("end",x),r.removeListener("data",y),p=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&d()}r.on("data",y);function y(_){kr("ondata");var Q=t.write(_);kr("dest.write",Q),Q===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&Qne(i.pipes,t)!==-1)&&!p&&(kr("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function B(_){kr("onerror",_),x(),t.removeListener("error",B),Ene(t,"error")===0&&cB(t,_)}M7e(t,"error",B);function S(){t.removeListener("finish",C),x()}t.once("close",S);function C(){kr("onfinish"),t.removeListener("close",S),x()}t.once("finish",C);function x(){kr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(kr("pipe resume"),r.resume()),t};function F7e(t){return function(){var r=t._readableState;kr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Ene(t,"data")&&(r.flowing=!0,GF(t))}}Wr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=Qne(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Wr.prototype.on=function(t,e){var r=fB.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,kr("on readable",i.length,i.reading),i.length?U_(this):i.reading||U.default.nextTick(N7e,this)),r};Wr.prototype.addListener=Wr.prototype.on;Wr.prototype.removeListener=function(t,e){var r=fB.prototype.removeListener.call(this,t,e);return t==="readable"&&U.default.nextTick(Sne,this),r};Wr.prototype.removeAllListeners=function(t){var e=fB.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&U.default.nextTick(Sne,this),e};function Sne(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function N7e(t){kr("readable nexttick read 0"),t.read(0)}Wr.prototype.resume=function(){var t=this._readableState;return t.flowing||(kr("resume"),t.flowing=!t.readableListening,P7e(this,t)),t.paused=!1,this};function P7e(t,e){e.resumeScheduled||(e.resumeScheduled=!0,U.default.nextTick(O7e,t,e))}function O7e(t,e){kr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),GF(t),e.flowing&&!e.reading&&t.read(0)}Wr.prototype.pause=function(){return kr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(kr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function GF(t){var e=t._readableState;for(kr("flow",e.flowing);e.flowing&&t.read()!==null;);}Wr.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(kr("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(kr("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var f=e.push(s);f||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(f){return function(){return t[f].apply(t,arguments)}}(n));for(var o=0;o<OF.length;o++)t.on(OF[o],this.emit.bind(this,OF[o]));return this._read=function(s){kr("wrapped _read",s),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(Wr.prototype[Symbol.asyncIterator]=function(){return NF===void 0&&(NF=mne()),NF(this)});Object.defineProperty(Wr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Wr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Wr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Wr._fromList=_ne;Object.defineProperty(Wr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function _ne(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function qF(t){var e=t._readableState;kr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,U.default.nextTick(K7e,e,t))}function K7e(t,e){if(kr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Wr.from=function(t,e){return PF===void 0&&(PF=wne()),PF(Wr,t,e)});function Qne(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var jF=X((Q1t,kne)=>{"use strict";b();kne.exports=zl;var F_=tm().codes,q7e=F_.ERR_METHOD_NOT_IMPLEMENTED,L7e=F_.ERR_MULTIPLE_CALLBACK,H7e=F_.ERR_TRANSFORM_ALREADY_TRANSFORMING,G7e=F_.ERR_TRANSFORM_WITH_LENGTH_0,N_=rm();Qt()(zl,N_);function j7e(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new L7e);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function zl(t){if(!(this instanceof zl))return new zl(t);N_.call(this,t),this._transformState={afterTransform:j7e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",z7e)}function z7e(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Mne(t,e,r)}):Mne(this,null,null)}zl.prototype.push=function(t,e){return this._transformState.needTransform=!1,N_.prototype.push.call(this,t,e)};zl.prototype._transform=function(t,e,r){r(new q7e("_transform()"))};zl.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};zl.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};zl.prototype._destroy=function(t,e){N_.prototype._destroy.call(this,t,function(r){e(r)})};function Mne(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new G7e;if(t._transformState.transforming)throw new H7e;return t.push(null)}});var Une=X((M1t,Rne)=>{"use strict";b();Rne.exports=dB;var Tne=jF();Qt()(dB,Tne);function dB(t){if(!(this instanceof dB))return new dB(t);Tne.call(this,t)}dB.prototype._transform=function(t,e,r){r(null,t)}});var Kne=X((T1t,One)=>{"use strict";b();var zF;function Y7e(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Pne=tm().codes,J7e=Pne.ERR_MISSING_ARGS,V7e=Pne.ERR_STREAM_DESTROYED;function Fne(t){if(t)throw t}function W7e(t){return t.setHeader&&typeof t.abort=="function"}function Z7e(t,e,r,i){i=Y7e(i);var n=!1;t.on("close",function(){n=!0}),zF===void 0&&(zF=D_()),zF(t,{readable:e,writable:r},function(s){if(s)return i(s);n=!0,i()});var o=!1;return function(s){if(!n&&!o){if(o=!0,W7e(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(s||new V7e("pipe"))}}}function Nne(t){t()}function $7e(t,e){return t.pipe(e)}function X7e(t){return!t.length||typeof t[t.length-1]!="function"?Fne:t.pop()}function eFe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=X7e(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new J7e("streams");var n,o=e.map(function(s,f){var d=f<e.length-1,p=f>0;return Z7e(s,d,p,function(u){n||(n=u),u&&o.forEach(Nne),!d&&(o.forEach(Nne),i(n))})});return e.reduce($7e)}One.exports=eFe});var Lne=X((hf,qne)=>{b();hf=qne.exports=RF();hf.Stream=hf;hf.Readable=hf;hf.Writable=MF();hf.Duplex=rm();hf.Transform=jF();hf.PassThrough=Une();hf.finished=D_();hf.pipeline=Kne()});var P_=X((Hne,YF)=>{b();(function(t,e){"use strict";function r(g,l){if(!g)throw new Error(l||"Assertion failed")}function i(g,l){g.super_=l;var A=function(){};A.prototype=l.prototype,g.prototype=new A,g.prototype.constructor=g}function n(g,l,A){if(n.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((l==="le"||l==="be")&&(A=l,l=10),this._init(g||0,l||10,A||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Vp().Buffer}catch{}n.isBN=function(l){return l instanceof n?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===n.wordSize&&Array.isArray(l.words)},n.max=function(l,A){return l.cmp(A)>0?l:A},n.min=function(l,A){return l.cmp(A)<0?l:A},n.prototype._init=function(l,A,w){if(typeof l=="number")return this._initNumber(l,A,w);if(typeof l=="object")return this._initArray(l,A,w);A==="hex"&&(A=16),r(A===(A|0)&&A>=2&&A<=36),l=l.toString().replace(/\s+/g,"");var E=0;l[0]==="-"&&(E++,this.negative=1),E<l.length&&(A===16?this._parseHex(l,E,w):(this._parseBase(l,A,E),w==="le"&&this._initArray(this.toArray(),A,w)))},n.prototype._initNumber=function(l,A,w){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(r(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),A,w)},n.prototype._initArray=function(l,A,w){if(r(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var m,c,I=0;if(w==="be")for(E=l.length-1,m=0;E>=0;E-=3)c=l[E]|l[E-1]<<8|l[E-2]<<16,this.words[m]|=c<<I&67108863,this.words[m+1]=c>>>26-I&67108863,I+=24,I>=26&&(I-=26,m++);else if(w==="le")for(E=0,m=0;E<l.length;E+=3)c=l[E]|l[E+1]<<8|l[E+2]<<16,this.words[m]|=c<<I&67108863,this.words[m+1]=c>>>26-I&67108863,I+=24,I>=26&&(I-=26,m++);return this._strip()};function s(g,l){var A=g.charCodeAt(l);if(A>=48&&A<=57)return A-48;if(A>=65&&A<=70)return A-55;if(A>=97&&A<=102)return A-87;r(!1,"Invalid character in "+g)}function f(g,l,A){var w=s(g,A);return A-1>=l&&(w|=s(g,A-1)<<4),w}n.prototype._parseHex=function(l,A,w){this.length=Math.ceil((l.length-A)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var m=0,c=0,I;if(w==="be")for(E=l.length-1;E>=A;E-=2)I=f(l,A,E)<<m,this.words[c]|=I&67108863,m>=18?(m-=18,c+=1,this.words[c]|=I>>>26):m+=8;else{var M=l.length-A;for(E=M%2===0?A+1:A;E<l.length;E+=2)I=f(l,A,E)<<m,this.words[c]|=I&67108863,m>=18?(m-=18,c+=1,this.words[c]|=I>>>26):m+=8}this._strip()};function d(g,l,A,w){for(var E=0,m=0,c=Math.min(g.length,A),I=l;I<c;I++){var M=g.charCodeAt(I)-48;E*=w,M>=49?m=M-49+10:M>=17?m=M-17+10:m=M,r(M>=0&&m<w,"Invalid character"),E+=m}return E}n.prototype._parseBase=function(l,A,w){this.words=[0],this.length=1;for(var E=0,m=1;m<=67108863;m*=A)E++;E--,m=m/A|0;for(var c=l.length-w,I=c%E,M=Math.min(c,c-I)+w,D=0,P=w;P<M;P+=E)D=d(l,P,P+E,A),this.imuln(m),this.words[0]+D<67108864?this.words[0]+=D:this._iaddn(D);if(I!==0){var j=1;for(D=d(l,P,l.length,A),P=0;P<I;P++)j*=A;this.imuln(j),this.words[0]+D<67108864?this.words[0]+=D:this._iaddn(D)}this._strip()},n.prototype.copy=function(l){l.words=new Array(this.length);for(var A=0;A<this.length;A++)l.words[A]=this.words[A];l.length=this.length,l.negative=this.negative,l.red=this.red};function p(g,l){g.words=l.words,g.length=l.length,g.negative=l.negative,g.red=l.red}if(n.prototype._move=function(l){p(l,this)},n.prototype.clone=function(){var l=new n(null);return this.copy(l),l},n.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{n.prototype.inspect=u}else n.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],B=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(l,A){l=l||10,A=A|0||1;var w;if(l===16||l==="hex"){w="";for(var E=0,m=0,c=0;c<this.length;c++){var I=this.words[c],M=((I<<E|m)&16777215).toString(16);m=I>>>24-E&16777215,E+=2,E>=26&&(E-=26,c--),m!==0||c!==this.length-1?w=y[6-M.length]+M+w:w=M+w}for(m!==0&&(w=m.toString(16)+w);w.length%A!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(l===(l|0)&&l>=2&&l<=36){var D=B[l],P=S[l];w="";var j=this.clone();for(j.negative=0;!j.isZero();){var Y=j.modrn(P).toString(l);j=j.idivn(P),j.isZero()?w=Y+w:w=y[D-Y.length]+Y+w}for(this.isZero()&&(w="0"+w);w.length%A!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},n.prototype.toJSON=function(){return this.toString(16,2)},o&&(n.prototype.toBuffer=function(l,A){return this.toArrayLike(o,l,A)}),n.prototype.toArray=function(l,A){return this.toArrayLike(Array,l,A)};var C=function(l,A){return l.allocUnsafe?l.allocUnsafe(A):new l(A)};n.prototype.toArrayLike=function(l,A,w){this._strip();var E=this.byteLength(),m=w||Math.max(1,E);r(E<=m,"byte array longer than desired length"),r(m>0,"Requested array length <= 0");var c=C(l,m),I=A==="le"?"LE":"BE";return this["_toArrayLike"+I](c,E),c},n.prototype._toArrayLikeLE=function(l,A){for(var w=0,E=0,m=0,c=0;m<this.length;m++){var I=this.words[m]<<c|E;l[w++]=I&255,w<l.length&&(l[w++]=I>>8&255),w<l.length&&(l[w++]=I>>16&255),c===6?(w<l.length&&(l[w++]=I>>24&255),E=0,c=0):(E=I>>>24,c+=2)}if(w<l.length)for(l[w++]=E;w<l.length;)l[w++]=0},n.prototype._toArrayLikeBE=function(l,A){for(var w=l.length-1,E=0,m=0,c=0;m<this.length;m++){var I=this.words[m]<<c|E;l[w--]=I&255,w>=0&&(l[w--]=I>>8&255),w>=0&&(l[w--]=I>>16&255),c===6?(w>=0&&(l[w--]=I>>24&255),E=0,c=0):(E=I>>>24,c+=2)}if(w>=0)for(l[w--]=E;w>=0;)l[w--]=0},Math.clz32?n.prototype._countBits=function(l){return 32-Math.clz32(l)}:n.prototype._countBits=function(l){var A=l,w=0;return A>=4096&&(w+=13,A>>>=13),A>=64&&(w+=7,A>>>=7),A>=8&&(w+=4,A>>>=4),A>=2&&(w+=2,A>>>=2),w+A},n.prototype._zeroBits=function(l){if(l===0)return 26;var A=l,w=0;return A&8191||(w+=13,A>>>=13),A&127||(w+=7,A>>>=7),A&15||(w+=4,A>>>=4),A&3||(w+=2,A>>>=2),A&1||w++,w},n.prototype.bitLength=function(){var l=this.words[this.length-1],A=this._countBits(l);return(this.length-1)*26+A};function x(g){for(var l=new Array(g.bitLength()),A=0;A<l.length;A++){var w=A/26|0,E=A%26;l[A]=g.words[w]>>>E&1}return l}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,A=0;A<this.length;A++){var w=this._zeroBits(this.words[A]);if(l+=w,w!==26)break}return l},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},n.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var A=0;A<l.length;A++)this.words[A]=this.words[A]|l.words[A];return this._strip()},n.prototype.ior=function(l){return r((this.negative|l.negative)===0),this.iuor(l)},n.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},n.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},n.prototype.iuand=function(l){var A;this.length>l.length?A=l:A=this;for(var w=0;w<A.length;w++)this.words[w]=this.words[w]&l.words[w];return this.length=A.length,this._strip()},n.prototype.iand=function(l){return r((this.negative|l.negative)===0),this.iuand(l)},n.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},n.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},n.prototype.iuxor=function(l){var A,w;this.length>l.length?(A=this,w=l):(A=l,w=this);for(var E=0;E<w.length;E++)this.words[E]=A.words[E]^w.words[E];if(this!==A)for(;E<A.length;E++)this.words[E]=A.words[E];return this.length=A.length,this._strip()},n.prototype.ixor=function(l){return r((this.negative|l.negative)===0),this.iuxor(l)},n.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},n.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},n.prototype.inotn=function(l){r(typeof l=="number"&&l>=0);var A=Math.ceil(l/26)|0,w=l%26;this._expand(A),w>0&&A--;for(var E=0;E<A;E++)this.words[E]=~this.words[E]&67108863;return w>0&&(this.words[E]=~this.words[E]&67108863>>26-w),this._strip()},n.prototype.notn=function(l){return this.clone().inotn(l)},n.prototype.setn=function(l,A){r(typeof l=="number"&&l>=0);var w=l/26|0,E=l%26;return this._expand(w+1),A?this.words[w]=this.words[w]|1<<E:this.words[w]=this.words[w]&~(1<<E),this._strip()},n.prototype.iadd=function(l){var A;if(this.negative!==0&&l.negative===0)return this.negative=0,A=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,A=this.isub(l),l.negative=1,A._normSign();var w,E;this.length>l.length?(w=this,E=l):(w=l,E=this);for(var m=0,c=0;c<E.length;c++)A=(w.words[c]|0)+(E.words[c]|0)+m,this.words[c]=A&67108863,m=A>>>26;for(;m!==0&&c<w.length;c++)A=(w.words[c]|0)+m,this.words[c]=A&67108863,m=A>>>26;if(this.length=w.length,m!==0)this.words[this.length]=m,this.length++;else if(w!==this)for(;c<w.length;c++)this.words[c]=w.words[c];return this},n.prototype.add=function(l){var A;return l.negative!==0&&this.negative===0?(l.negative=0,A=this.sub(l),l.negative^=1,A):l.negative===0&&this.negative!==0?(this.negative=0,A=l.sub(this),this.negative=1,A):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},n.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var A=this.iadd(l);return l.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var w=this.cmp(l);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,m;w>0?(E=this,m=l):(E=l,m=this);for(var c=0,I=0;I<m.length;I++)A=(E.words[I]|0)-(m.words[I]|0)+c,c=A>>26,this.words[I]=A&67108863;for(;c!==0&&I<E.length;I++)A=(E.words[I]|0)+c,c=A>>26,this.words[I]=A&67108863;if(c===0&&I<E.length&&E!==this)for(;I<E.length;I++)this.words[I]=E.words[I];return this.length=Math.max(this.length,I),E!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(l){return this.clone().isub(l)};function _(g,l,A){A.negative=l.negative^g.negative;var w=g.length+l.length|0;A.length=w,w=w-1|0;var E=g.words[0]|0,m=l.words[0]|0,c=E*m,I=c&67108863,M=c/67108864|0;A.words[0]=I;for(var D=1;D<w;D++){for(var P=M>>>26,j=M&67108863,Y=Math.min(D,l.length-1),z=Math.max(0,D-g.length+1);z<=Y;z++){var $=D-z|0;E=g.words[$]|0,m=l.words[z]|0,c=E*m+j,P+=c/67108864|0,j=c&67108863}A.words[D]=j|0,M=P|0}return M!==0?A.words[D]=M|0:A.length--,A._strip()}var Q=function(l,A,w){var E=l.words,m=A.words,c=w.words,I=0,M,D,P,j=E[0]|0,Y=j&8191,z=j>>>13,$=E[1]|0,W=$&8191,ee=$>>>13,pe=E[2]|0,ne=pe&8191,se=pe>>>13,Le=E[3]|0,ce=Le&8191,fe=Le>>>13,bt=E[4]|0,ge=bt&8191,Ie=bt>>>13,mr=E[5]|0,ve=mr&8191,ye=mr>>>13,Nr=E[6]|0,Be=Nr&8191,we=Nr>>>13,qr=E[7]|0,Ce=qr&8191,me=qr>>>13,Ir=E[8]|0,be=Ir&8191,Se=Ir>>>13,sr=E[9]|0,xe=sr&8191,_e=sr>>>13,Zi=m[0]|0,Fe=Zi&8191,Qe=Zi>>>13,$i=m[1]|0,Oe=$i&8191,Ne=$i>>>13,Xi=m[2]|0,De=Xi&8191,Re=Xi>>>13,di=m[3]|0,Ke=di&8191,Pe=di>>>13,en=m[4]|0,Ue=en&8191,Me=en>>>13,tn=m[5]|0,ke=tn&8191,qe=tn>>>13,Li=m[6]|0,te=Li&8191,Z=Li>>>13,de=m[7]|0,ie=de&8191,oe=de>>>13,$e=m[8]|0,ue=$e&8191,he=$e>>>13,Et=m[9]|0,ft=Et&8191,et=Et>>>13;w.negative=l.negative^A.negative,w.length=19,M=Math.imul(Y,Fe),D=Math.imul(Y,Qe),D=D+Math.imul(z,Fe)|0,P=Math.imul(z,Qe);var Ft=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,M=Math.imul(W,Fe),D=Math.imul(W,Qe),D=D+Math.imul(ee,Fe)|0,P=Math.imul(ee,Qe),M=M+Math.imul(Y,Oe)|0,D=D+Math.imul(Y,Ne)|0,D=D+Math.imul(z,Oe)|0,P=P+Math.imul(z,Ne)|0;var Ot=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,M=Math.imul(ne,Fe),D=Math.imul(ne,Qe),D=D+Math.imul(se,Fe)|0,P=Math.imul(se,Qe),M=M+Math.imul(W,Oe)|0,D=D+Math.imul(W,Ne)|0,D=D+Math.imul(ee,Oe)|0,P=P+Math.imul(ee,Ne)|0,M=M+Math.imul(Y,De)|0,D=D+Math.imul(Y,Re)|0,D=D+Math.imul(z,De)|0,P=P+Math.imul(z,Re)|0;var Mt=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,M=Math.imul(ce,Fe),D=Math.imul(ce,Qe),D=D+Math.imul(fe,Fe)|0,P=Math.imul(fe,Qe),M=M+Math.imul(ne,Oe)|0,D=D+Math.imul(ne,Ne)|0,D=D+Math.imul(se,Oe)|0,P=P+Math.imul(se,Ne)|0,M=M+Math.imul(W,De)|0,D=D+Math.imul(W,Re)|0,D=D+Math.imul(ee,De)|0,P=P+Math.imul(ee,Re)|0,M=M+Math.imul(Y,Ke)|0,D=D+Math.imul(Y,Pe)|0,D=D+Math.imul(z,Ke)|0,P=P+Math.imul(z,Pe)|0;var mt=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(mt>>>26)|0,mt&=67108863,M=Math.imul(ge,Fe),D=Math.imul(ge,Qe),D=D+Math.imul(Ie,Fe)|0,P=Math.imul(Ie,Qe),M=M+Math.imul(ce,Oe)|0,D=D+Math.imul(ce,Ne)|0,D=D+Math.imul(fe,Oe)|0,P=P+Math.imul(fe,Ne)|0,M=M+Math.imul(ne,De)|0,D=D+Math.imul(ne,Re)|0,D=D+Math.imul(se,De)|0,P=P+Math.imul(se,Re)|0,M=M+Math.imul(W,Ke)|0,D=D+Math.imul(W,Pe)|0,D=D+Math.imul(ee,Ke)|0,P=P+Math.imul(ee,Pe)|0,M=M+Math.imul(Y,Ue)|0,D=D+Math.imul(Y,Me)|0,D=D+Math.imul(z,Ue)|0,P=P+Math.imul(z,Me)|0;var kt=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(kt>>>26)|0,kt&=67108863,M=Math.imul(ve,Fe),D=Math.imul(ve,Qe),D=D+Math.imul(ye,Fe)|0,P=Math.imul(ye,Qe),M=M+Math.imul(ge,Oe)|0,D=D+Math.imul(ge,Ne)|0,D=D+Math.imul(Ie,Oe)|0,P=P+Math.imul(Ie,Ne)|0,M=M+Math.imul(ce,De)|0,D=D+Math.imul(ce,Re)|0,D=D+Math.imul(fe,De)|0,P=P+Math.imul(fe,Re)|0,M=M+Math.imul(ne,Ke)|0,D=D+Math.imul(ne,Pe)|0,D=D+Math.imul(se,Ke)|0,P=P+Math.imul(se,Pe)|0,M=M+Math.imul(W,Ue)|0,D=D+Math.imul(W,Me)|0,D=D+Math.imul(ee,Ue)|0,P=P+Math.imul(ee,Me)|0,M=M+Math.imul(Y,ke)|0,D=D+Math.imul(Y,qe)|0,D=D+Math.imul(z,ke)|0,P=P+Math.imul(z,qe)|0;var Ct=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,M=Math.imul(Be,Fe),D=Math.imul(Be,Qe),D=D+Math.imul(we,Fe)|0,P=Math.imul(we,Qe),M=M+Math.imul(ve,Oe)|0,D=D+Math.imul(ve,Ne)|0,D=D+Math.imul(ye,Oe)|0,P=P+Math.imul(ye,Ne)|0,M=M+Math.imul(ge,De)|0,D=D+Math.imul(ge,Re)|0,D=D+Math.imul(Ie,De)|0,P=P+Math.imul(Ie,Re)|0,M=M+Math.imul(ce,Ke)|0,D=D+Math.imul(ce,Pe)|0,D=D+Math.imul(fe,Ke)|0,P=P+Math.imul(fe,Pe)|0,M=M+Math.imul(ne,Ue)|0,D=D+Math.imul(ne,Me)|0,D=D+Math.imul(se,Ue)|0,P=P+Math.imul(se,Me)|0,M=M+Math.imul(W,ke)|0,D=D+Math.imul(W,qe)|0,D=D+Math.imul(ee,ke)|0,P=P+Math.imul(ee,qe)|0,M=M+Math.imul(Y,te)|0,D=D+Math.imul(Y,Z)|0,D=D+Math.imul(z,te)|0,P=P+Math.imul(z,Z)|0;var wr=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(wr>>>26)|0,wr&=67108863,M=Math.imul(Ce,Fe),D=Math.imul(Ce,Qe),D=D+Math.imul(me,Fe)|0,P=Math.imul(me,Qe),M=M+Math.imul(Be,Oe)|0,D=D+Math.imul(Be,Ne)|0,D=D+Math.imul(we,Oe)|0,P=P+Math.imul(we,Ne)|0,M=M+Math.imul(ve,De)|0,D=D+Math.imul(ve,Re)|0,D=D+Math.imul(ye,De)|0,P=P+Math.imul(ye,Re)|0,M=M+Math.imul(ge,Ke)|0,D=D+Math.imul(ge,Pe)|0,D=D+Math.imul(Ie,Ke)|0,P=P+Math.imul(Ie,Pe)|0,M=M+Math.imul(ce,Ue)|0,D=D+Math.imul(ce,Me)|0,D=D+Math.imul(fe,Ue)|0,P=P+Math.imul(fe,Me)|0,M=M+Math.imul(ne,ke)|0,D=D+Math.imul(ne,qe)|0,D=D+Math.imul(se,ke)|0,P=P+Math.imul(se,qe)|0,M=M+Math.imul(W,te)|0,D=D+Math.imul(W,Z)|0,D=D+Math.imul(ee,te)|0,P=P+Math.imul(ee,Z)|0,M=M+Math.imul(Y,ie)|0,D=D+Math.imul(Y,oe)|0,D=D+Math.imul(z,ie)|0,P=P+Math.imul(z,oe)|0;var ir=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(ir>>>26)|0,ir&=67108863,M=Math.imul(be,Fe),D=Math.imul(be,Qe),D=D+Math.imul(Se,Fe)|0,P=Math.imul(Se,Qe),M=M+Math.imul(Ce,Oe)|0,D=D+Math.imul(Ce,Ne)|0,D=D+Math.imul(me,Oe)|0,P=P+Math.imul(me,Ne)|0,M=M+Math.imul(Be,De)|0,D=D+Math.imul(Be,Re)|0,D=D+Math.imul(we,De)|0,P=P+Math.imul(we,Re)|0,M=M+Math.imul(ve,Ke)|0,D=D+Math.imul(ve,Pe)|0,D=D+Math.imul(ye,Ke)|0,P=P+Math.imul(ye,Pe)|0,M=M+Math.imul(ge,Ue)|0,D=D+Math.imul(ge,Me)|0,D=D+Math.imul(Ie,Ue)|0,P=P+Math.imul(Ie,Me)|0,M=M+Math.imul(ce,ke)|0,D=D+Math.imul(ce,qe)|0,D=D+Math.imul(fe,ke)|0,P=P+Math.imul(fe,qe)|0,M=M+Math.imul(ne,te)|0,D=D+Math.imul(ne,Z)|0,D=D+Math.imul(se,te)|0,P=P+Math.imul(se,Z)|0,M=M+Math.imul(W,ie)|0,D=D+Math.imul(W,oe)|0,D=D+Math.imul(ee,ie)|0,P=P+Math.imul(ee,oe)|0,M=M+Math.imul(Y,ue)|0,D=D+Math.imul(Y,he)|0,D=D+Math.imul(z,ue)|0,P=P+Math.imul(z,he)|0;var ar=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(ar>>>26)|0,ar&=67108863,M=Math.imul(xe,Fe),D=Math.imul(xe,Qe),D=D+Math.imul(_e,Fe)|0,P=Math.imul(_e,Qe),M=M+Math.imul(be,Oe)|0,D=D+Math.imul(be,Ne)|0,D=D+Math.imul(Se,Oe)|0,P=P+Math.imul(Se,Ne)|0,M=M+Math.imul(Ce,De)|0,D=D+Math.imul(Ce,Re)|0,D=D+Math.imul(me,De)|0,P=P+Math.imul(me,Re)|0,M=M+Math.imul(Be,Ke)|0,D=D+Math.imul(Be,Pe)|0,D=D+Math.imul(we,Ke)|0,P=P+Math.imul(we,Pe)|0,M=M+Math.imul(ve,Ue)|0,D=D+Math.imul(ve,Me)|0,D=D+Math.imul(ye,Ue)|0,P=P+Math.imul(ye,Me)|0,M=M+Math.imul(ge,ke)|0,D=D+Math.imul(ge,qe)|0,D=D+Math.imul(Ie,ke)|0,P=P+Math.imul(Ie,qe)|0,M=M+Math.imul(ce,te)|0,D=D+Math.imul(ce,Z)|0,D=D+Math.imul(fe,te)|0,P=P+Math.imul(fe,Z)|0,M=M+Math.imul(ne,ie)|0,D=D+Math.imul(ne,oe)|0,D=D+Math.imul(se,ie)|0,P=P+Math.imul(se,oe)|0,M=M+Math.imul(W,ue)|0,D=D+Math.imul(W,he)|0,D=D+Math.imul(ee,ue)|0,P=P+Math.imul(ee,he)|0,M=M+Math.imul(Y,ft)|0,D=D+Math.imul(Y,et)|0,D=D+Math.imul(z,ft)|0,P=P+Math.imul(z,et)|0;var xt=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(xt>>>26)|0,xt&=67108863,M=Math.imul(xe,Oe),D=Math.imul(xe,Ne),D=D+Math.imul(_e,Oe)|0,P=Math.imul(_e,Ne),M=M+Math.imul(be,De)|0,D=D+Math.imul(be,Re)|0,D=D+Math.imul(Se,De)|0,P=P+Math.imul(Se,Re)|0,M=M+Math.imul(Ce,Ke)|0,D=D+Math.imul(Ce,Pe)|0,D=D+Math.imul(me,Ke)|0,P=P+Math.imul(me,Pe)|0,M=M+Math.imul(Be,Ue)|0,D=D+Math.imul(Be,Me)|0,D=D+Math.imul(we,Ue)|0,P=P+Math.imul(we,Me)|0,M=M+Math.imul(ve,ke)|0,D=D+Math.imul(ve,qe)|0,D=D+Math.imul(ye,ke)|0,P=P+Math.imul(ye,qe)|0,M=M+Math.imul(ge,te)|0,D=D+Math.imul(ge,Z)|0,D=D+Math.imul(Ie,te)|0,P=P+Math.imul(Ie,Z)|0,M=M+Math.imul(ce,ie)|0,D=D+Math.imul(ce,oe)|0,D=D+Math.imul(fe,ie)|0,P=P+Math.imul(fe,oe)|0,M=M+Math.imul(ne,ue)|0,D=D+Math.imul(ne,he)|0,D=D+Math.imul(se,ue)|0,P=P+Math.imul(se,he)|0,M=M+Math.imul(W,ft)|0,D=D+Math.imul(W,et)|0,D=D+Math.imul(ee,ft)|0,P=P+Math.imul(ee,et)|0;var nr=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(nr>>>26)|0,nr&=67108863,M=Math.imul(xe,De),D=Math.imul(xe,Re),D=D+Math.imul(_e,De)|0,P=Math.imul(_e,Re),M=M+Math.imul(be,Ke)|0,D=D+Math.imul(be,Pe)|0,D=D+Math.imul(Se,Ke)|0,P=P+Math.imul(Se,Pe)|0,M=M+Math.imul(Ce,Ue)|0,D=D+Math.imul(Ce,Me)|0,D=D+Math.imul(me,Ue)|0,P=P+Math.imul(me,Me)|0,M=M+Math.imul(Be,ke)|0,D=D+Math.imul(Be,qe)|0,D=D+Math.imul(we,ke)|0,P=P+Math.imul(we,qe)|0,M=M+Math.imul(ve,te)|0,D=D+Math.imul(ve,Z)|0,D=D+Math.imul(ye,te)|0,P=P+Math.imul(ye,Z)|0,M=M+Math.imul(ge,ie)|0,D=D+Math.imul(ge,oe)|0,D=D+Math.imul(Ie,ie)|0,P=P+Math.imul(Ie,oe)|0,M=M+Math.imul(ce,ue)|0,D=D+Math.imul(ce,he)|0,D=D+Math.imul(fe,ue)|0,P=P+Math.imul(fe,he)|0,M=M+Math.imul(ne,ft)|0,D=D+Math.imul(ne,et)|0,D=D+Math.imul(se,ft)|0,P=P+Math.imul(se,et)|0;var cr=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(cr>>>26)|0,cr&=67108863,M=Math.imul(xe,Ke),D=Math.imul(xe,Pe),D=D+Math.imul(_e,Ke)|0,P=Math.imul(_e,Pe),M=M+Math.imul(be,Ue)|0,D=D+Math.imul(be,Me)|0,D=D+Math.imul(Se,Ue)|0,P=P+Math.imul(Se,Me)|0,M=M+Math.imul(Ce,ke)|0,D=D+Math.imul(Ce,qe)|0,D=D+Math.imul(me,ke)|0,P=P+Math.imul(me,qe)|0,M=M+Math.imul(Be,te)|0,D=D+Math.imul(Be,Z)|0,D=D+Math.imul(we,te)|0,P=P+Math.imul(we,Z)|0,M=M+Math.imul(ve,ie)|0,D=D+Math.imul(ve,oe)|0,D=D+Math.imul(ye,ie)|0,P=P+Math.imul(ye,oe)|0,M=M+Math.imul(ge,ue)|0,D=D+Math.imul(ge,he)|0,D=D+Math.imul(Ie,ue)|0,P=P+Math.imul(Ie,he)|0,M=M+Math.imul(ce,ft)|0,D=D+Math.imul(ce,et)|0,D=D+Math.imul(fe,ft)|0,P=P+Math.imul(fe,et)|0;var pr=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(pr>>>26)|0,pr&=67108863,M=Math.imul(xe,Ue),D=Math.imul(xe,Me),D=D+Math.imul(_e,Ue)|0,P=Math.imul(_e,Me),M=M+Math.imul(be,ke)|0,D=D+Math.imul(be,qe)|0,D=D+Math.imul(Se,ke)|0,P=P+Math.imul(Se,qe)|0,M=M+Math.imul(Ce,te)|0,D=D+Math.imul(Ce,Z)|0,D=D+Math.imul(me,te)|0,P=P+Math.imul(me,Z)|0,M=M+Math.imul(Be,ie)|0,D=D+Math.imul(Be,oe)|0,D=D+Math.imul(we,ie)|0,P=P+Math.imul(we,oe)|0,M=M+Math.imul(ve,ue)|0,D=D+Math.imul(ve,he)|0,D=D+Math.imul(ye,ue)|0,P=P+Math.imul(ye,he)|0,M=M+Math.imul(ge,ft)|0,D=D+Math.imul(ge,et)|0,D=D+Math.imul(Ie,ft)|0,P=P+Math.imul(Ie,et)|0;var Pr=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,M=Math.imul(xe,ke),D=Math.imul(xe,qe),D=D+Math.imul(_e,ke)|0,P=Math.imul(_e,qe),M=M+Math.imul(be,te)|0,D=D+Math.imul(be,Z)|0,D=D+Math.imul(Se,te)|0,P=P+Math.imul(Se,Z)|0,M=M+Math.imul(Ce,ie)|0,D=D+Math.imul(Ce,oe)|0,D=D+Math.imul(me,ie)|0,P=P+Math.imul(me,oe)|0,M=M+Math.imul(Be,ue)|0,D=D+Math.imul(Be,he)|0,D=D+Math.imul(we,ue)|0,P=P+Math.imul(we,he)|0,M=M+Math.imul(ve,ft)|0,D=D+Math.imul(ve,et)|0,D=D+Math.imul(ye,ft)|0,P=P+Math.imul(ye,et)|0;var fr=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(fr>>>26)|0,fr&=67108863,M=Math.imul(xe,te),D=Math.imul(xe,Z),D=D+Math.imul(_e,te)|0,P=Math.imul(_e,Z),M=M+Math.imul(be,ie)|0,D=D+Math.imul(be,oe)|0,D=D+Math.imul(Se,ie)|0,P=P+Math.imul(Se,oe)|0,M=M+Math.imul(Ce,ue)|0,D=D+Math.imul(Ce,he)|0,D=D+Math.imul(me,ue)|0,P=P+Math.imul(me,he)|0,M=M+Math.imul(Be,ft)|0,D=D+Math.imul(Be,et)|0,D=D+Math.imul(we,ft)|0,P=P+Math.imul(we,et)|0;var Hr=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,M=Math.imul(xe,ie),D=Math.imul(xe,oe),D=D+Math.imul(_e,ie)|0,P=Math.imul(_e,oe),M=M+Math.imul(be,ue)|0,D=D+Math.imul(be,he)|0,D=D+Math.imul(Se,ue)|0,P=P+Math.imul(Se,he)|0,M=M+Math.imul(Ce,ft)|0,D=D+Math.imul(Ce,et)|0,D=D+Math.imul(me,ft)|0,P=P+Math.imul(me,et)|0;var pu=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(pu>>>26)|0,pu&=67108863,M=Math.imul(xe,ue),D=Math.imul(xe,he),D=D+Math.imul(_e,ue)|0,P=Math.imul(_e,he),M=M+Math.imul(be,ft)|0,D=D+Math.imul(be,et)|0,D=D+Math.imul(Se,ft)|0,P=P+Math.imul(Se,et)|0;var Au=(I+M|0)+((D&8191)<<13)|0;I=(P+(D>>>13)|0)+(Au>>>26)|0,Au&=67108863,M=Math.imul(xe,ft),D=Math.imul(xe,et),D=D+Math.imul(_e,ft)|0,P=Math.imul(_e,et);var Lc=(I+M|0)+((D&8191)<<13)|0;return I=(P+(D>>>13)|0)+(Lc>>>26)|0,Lc&=67108863,c[0]=Ft,c[1]=Ot,c[2]=Mt,c[3]=mt,c[4]=kt,c[5]=Ct,c[6]=wr,c[7]=ir,c[8]=ar,c[9]=xt,c[10]=nr,c[11]=cr,c[12]=pr,c[13]=Pr,c[14]=fr,c[15]=Hr,c[16]=pu,c[17]=Au,c[18]=Lc,I!==0&&(c[19]=I,w.length++),w};Math.imul||(Q=_);function R(g,l,A){A.negative=l.negative^g.negative,A.length=g.length+l.length;for(var w=0,E=0,m=0;m<A.length-1;m++){var c=E;E=0;for(var I=w&67108863,M=Math.min(m,l.length-1),D=Math.max(0,m-g.length+1);D<=M;D++){var P=m-D,j=g.words[P]|0,Y=l.words[D]|0,z=j*Y,$=z&67108863;c=c+(z/67108864|0)|0,$=$+I|0,I=$&67108863,c=c+($>>>26)|0,E+=c>>>26,c&=67108863}A.words[m]=I,w=c,c=E}return w!==0?A.words[m]=w:A.length--,A._strip()}function k(g,l,A){return R(g,l,A)}n.prototype.mulTo=function(l,A){var w,E=this.length+l.length;return this.length===10&&l.length===10?w=Q(this,l,A):E<63?w=_(this,l,A):E<1024?w=R(this,l,A):w=k(this,l,A),w};function K(g,l){this.x=g,this.y=l}K.prototype.makeRBT=function(l){for(var A=new Array(l),w=n.prototype._countBits(l)-1,E=0;E<l;E++)A[E]=this.revBin(E,w,l);return A},K.prototype.revBin=function(l,A,w){if(l===0||l===w-1)return l;for(var E=0,m=0;m<A;m++)E|=(l&1)<<A-m-1,l>>=1;return E},K.prototype.permute=function(l,A,w,E,m,c){for(var I=0;I<c;I++)E[I]=A[l[I]],m[I]=w[l[I]]},K.prototype.transform=function(l,A,w,E,m,c){this.permute(c,l,A,w,E,m);for(var I=1;I<m;I<<=1)for(var M=I<<1,D=Math.cos(2*Math.PI/M),P=Math.sin(2*Math.PI/M),j=0;j<m;j+=M)for(var Y=D,z=P,$=0;$<I;$++){var W=w[j+$],ee=E[j+$],pe=w[j+$+I],ne=E[j+$+I],se=Y*pe-z*ne;ne=Y*ne+z*pe,pe=se,w[j+$]=W+pe,E[j+$]=ee+ne,w[j+$+I]=W-pe,E[j+$+I]=ee-ne,$!==M&&(se=D*Y-P*z,z=D*z+P*Y,Y=se)}},K.prototype.guessLen13b=function(l,A){var w=Math.max(A,l)|1,E=w&1,m=0;for(w=w/2|0;w;w=w>>>1)m++;return 1<<m+1+E},K.prototype.conjugate=function(l,A,w){if(!(w<=1))for(var E=0;E<w/2;E++){var m=l[E];l[E]=l[w-E-1],l[w-E-1]=m,m=A[E],A[E]=-A[w-E-1],A[w-E-1]=-m}},K.prototype.normalize13b=function(l,A){for(var w=0,E=0;E<A/2;E++){var m=Math.round(l[2*E+1]/A)*8192+Math.round(l[2*E]/A)+w;l[E]=m&67108863,m<67108864?w=0:w=m/67108864|0}return l},K.prototype.convert13b=function(l,A,w,E){for(var m=0,c=0;c<A;c++)m=m+(l[c]|0),w[2*c]=m&8191,m=m>>>13,w[2*c+1]=m&8191,m=m>>>13;for(c=2*A;c<E;++c)w[c]=0;r(m===0),r((m&-8192)===0)},K.prototype.stub=function(l){for(var A=new Array(l),w=0;w<l;w++)A[w]=0;return A},K.prototype.mulp=function(l,A,w){var E=2*this.guessLen13b(l.length,A.length),m=this.makeRBT(E),c=this.stub(E),I=new Array(E),M=new Array(E),D=new Array(E),P=new Array(E),j=new Array(E),Y=new Array(E),z=w.words;z.length=E,this.convert13b(l.words,l.length,I,E),this.convert13b(A.words,A.length,P,E),this.transform(I,c,M,D,E,m),this.transform(P,c,j,Y,E,m);for(var $=0;$<E;$++){var W=M[$]*j[$]-D[$]*Y[$];D[$]=M[$]*Y[$]+D[$]*j[$],M[$]=W}return this.conjugate(M,D,E),this.transform(M,D,z,c,E,m),this.conjugate(z,c,E),this.normalize13b(z,E),w.negative=l.negative^A.negative,w.length=l.length+A.length,w._strip()},n.prototype.mul=function(l){var A=new n(null);return A.words=new Array(this.length+l.length),this.mulTo(l,A)},n.prototype.mulf=function(l){var A=new n(null);return A.words=new Array(this.length+l.length),k(this,l,A)},n.prototype.imul=function(l){return this.clone().mulTo(l,this)},n.prototype.imuln=function(l){var A=l<0;A&&(l=-l),r(typeof l=="number"),r(l<67108864);for(var w=0,E=0;E<this.length;E++){var m=(this.words[E]|0)*l,c=(m&67108863)+(w&67108863);w>>=26,w+=m/67108864|0,w+=c>>>26,this.words[E]=c&67108863}return w!==0&&(this.words[E]=w,this.length++),A?this.ineg():this},n.prototype.muln=function(l){return this.clone().imuln(l)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(l){var A=x(l);if(A.length===0)return new n(1);for(var w=this,E=0;E<A.length&&A[E]===0;E++,w=w.sqr());if(++E<A.length)for(var m=w.sqr();E<A.length;E++,m=m.sqr())A[E]!==0&&(w=w.mul(m));return w},n.prototype.iushln=function(l){r(typeof l=="number"&&l>=0);var A=l%26,w=(l-A)/26,E=67108863>>>26-A<<26-A,m;if(A!==0){var c=0;for(m=0;m<this.length;m++){var I=this.words[m]&E,M=(this.words[m]|0)-I<<A;this.words[m]=M|c,c=I>>>26-A}c&&(this.words[m]=c,this.length++)}if(w!==0){for(m=this.length-1;m>=0;m--)this.words[m+w]=this.words[m];for(m=0;m<w;m++)this.words[m]=0;this.length+=w}return this._strip()},n.prototype.ishln=function(l){return r(this.negative===0),this.iushln(l)},n.prototype.iushrn=function(l,A,w){r(typeof l=="number"&&l>=0);var E;A?E=(A-A%26)/26:E=0;var m=l%26,c=Math.min((l-m)/26,this.length),I=67108863^67108863>>>m<<m,M=w;if(E-=c,E=Math.max(0,E),M){for(var D=0;D<c;D++)M.words[D]=this.words[D];M.length=c}if(c!==0)if(this.length>c)for(this.length-=c,D=0;D<this.length;D++)this.words[D]=this.words[D+c];else this.words[0]=0,this.length=1;var P=0;for(D=this.length-1;D>=0&&(P!==0||D>=E);D--){var j=this.words[D]|0;this.words[D]=P<<26-m|j>>>m,P=j&I}return M&&P!==0&&(M.words[M.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(l,A,w){return r(this.negative===0),this.iushrn(l,A,w)},n.prototype.shln=function(l){return this.clone().ishln(l)},n.prototype.ushln=function(l){return this.clone().iushln(l)},n.prototype.shrn=function(l){return this.clone().ishrn(l)},n.prototype.ushrn=function(l){return this.clone().iushrn(l)},n.prototype.testn=function(l){r(typeof l=="number"&&l>=0);var A=l%26,w=(l-A)/26,E=1<<A;if(this.length<=w)return!1;var m=this.words[w];return!!(m&E)},n.prototype.imaskn=function(l){r(typeof l=="number"&&l>=0);var A=l%26,w=(l-A)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(A!==0&&w++,this.length=Math.min(w,this.length),A!==0){var E=67108863^67108863>>>A<<A;this.words[this.length-1]&=E}return this._strip()},n.prototype.maskn=function(l){return this.clone().imaskn(l)},n.prototype.iaddn=function(l){return r(typeof l=="number"),r(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},n.prototype._iaddn=function(l){this.words[0]+=l;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},n.prototype.isubn=function(l){if(r(typeof l=="number"),r(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this._strip()},n.prototype.addn=function(l){return this.clone().iaddn(l)},n.prototype.subn=function(l){return this.clone().isubn(l)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(l,A,w){var E=l.length+w,m;this._expand(E);var c,I=0;for(m=0;m<l.length;m++){c=(this.words[m+w]|0)+I;var M=(l.words[m]|0)*A;c-=M&67108863,I=(c>>26)-(M/67108864|0),this.words[m+w]=c&67108863}for(;m<this.length-w;m++)c=(this.words[m+w]|0)+I,I=c>>26,this.words[m+w]=c&67108863;if(I===0)return this._strip();for(r(I===-1),I=0,m=0;m<this.length;m++)c=-(this.words[m]|0)+I,I=c>>26,this.words[m]=c&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(l,A){var w=this.length-l.length,E=this.clone(),m=l,c=m.words[m.length-1]|0,I=this._countBits(c);w=26-I,w!==0&&(m=m.ushln(w),E.iushln(w),c=m.words[m.length-1]|0);var M=E.length-m.length,D;if(A!=="mod"){D=new n(null),D.length=M+1,D.words=new Array(D.length);for(var P=0;P<D.length;P++)D.words[P]=0}var j=E.clone()._ishlnsubmul(m,1,M);j.negative===0&&(E=j,D&&(D.words[M]=1));for(var Y=M-1;Y>=0;Y--){var z=(E.words[m.length+Y]|0)*67108864+(E.words[m.length+Y-1]|0);for(z=Math.min(z/c|0,67108863),E._ishlnsubmul(m,z,Y);E.negative!==0;)z--,E.negative=0,E._ishlnsubmul(m,1,Y),E.isZero()||(E.negative^=1);D&&(D.words[Y]=z)}return D&&D._strip(),E._strip(),A!=="div"&&w!==0&&E.iushrn(w),{div:D||null,mod:E}},n.prototype.divmod=function(l,A,w){if(r(!l.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var E,m,c;return this.negative!==0&&l.negative===0?(c=this.neg().divmod(l,A),A!=="mod"&&(E=c.div.neg()),A!=="div"&&(m=c.mod.neg(),w&&m.negative!==0&&m.iadd(l)),{div:E,mod:m}):this.negative===0&&l.negative!==0?(c=this.divmod(l.neg(),A),A!=="mod"&&(E=c.div.neg()),{div:E,mod:c.mod}):this.negative&l.negative?(c=this.neg().divmod(l.neg(),A),A!=="div"&&(m=c.mod.neg(),w&&m.negative!==0&&m.isub(l)),{div:c.div,mod:m}):l.length>this.length||this.cmp(l)<0?{div:new n(0),mod:this}:l.length===1?A==="div"?{div:this.divn(l.words[0]),mod:null}:A==="mod"?{div:null,mod:new n(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new n(this.modrn(l.words[0]))}:this._wordDiv(l,A)},n.prototype.div=function(l){return this.divmod(l,"div",!1).div},n.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},n.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},n.prototype.divRound=function(l){var A=this.divmod(l);if(A.mod.isZero())return A.div;var w=A.div.negative!==0?A.mod.isub(l):A.mod,E=l.ushrn(1),m=l.andln(1),c=w.cmp(E);return c<0||m===1&&c===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},n.prototype.modrn=function(l){var A=l<0;A&&(l=-l),r(l<=67108863);for(var w=(1<<26)%l,E=0,m=this.length-1;m>=0;m--)E=(w*E+(this.words[m]|0))%l;return A?-E:E},n.prototype.modn=function(l){return this.modrn(l)},n.prototype.idivn=function(l){var A=l<0;A&&(l=-l),r(l<=67108863);for(var w=0,E=this.length-1;E>=0;E--){var m=(this.words[E]|0)+w*67108864;this.words[E]=m/l|0,w=m%l}return this._strip(),A?this.ineg():this},n.prototype.divn=function(l){return this.clone().idivn(l)},n.prototype.egcd=function(l){r(l.negative===0),r(!l.isZero());var A=this,w=l.clone();A.negative!==0?A=A.umod(l):A=A.clone();for(var E=new n(1),m=new n(0),c=new n(0),I=new n(1),M=0;A.isEven()&&w.isEven();)A.iushrn(1),w.iushrn(1),++M;for(var D=w.clone(),P=A.clone();!A.isZero();){for(var j=0,Y=1;!(A.words[0]&Y)&&j<26;++j,Y<<=1);if(j>0)for(A.iushrn(j);j-- >0;)(E.isOdd()||m.isOdd())&&(E.iadd(D),m.isub(P)),E.iushrn(1),m.iushrn(1);for(var z=0,$=1;!(w.words[0]&$)&&z<26;++z,$<<=1);if(z>0)for(w.iushrn(z);z-- >0;)(c.isOdd()||I.isOdd())&&(c.iadd(D),I.isub(P)),c.iushrn(1),I.iushrn(1);A.cmp(w)>=0?(A.isub(w),E.isub(c),m.isub(I)):(w.isub(A),c.isub(E),I.isub(m))}return{a:c,b:I,gcd:w.iushln(M)}},n.prototype._invmp=function(l){r(l.negative===0),r(!l.isZero());var A=this,w=l.clone();A.negative!==0?A=A.umod(l):A=A.clone();for(var E=new n(1),m=new n(0),c=w.clone();A.cmpn(1)>0&&w.cmpn(1)>0;){for(var I=0,M=1;!(A.words[0]&M)&&I<26;++I,M<<=1);if(I>0)for(A.iushrn(I);I-- >0;)E.isOdd()&&E.iadd(c),E.iushrn(1);for(var D=0,P=1;!(w.words[0]&P)&&D<26;++D,P<<=1);if(D>0)for(w.iushrn(D);D-- >0;)m.isOdd()&&m.iadd(c),m.iushrn(1);A.cmp(w)>=0?(A.isub(w),E.isub(m)):(w.isub(A),m.isub(E))}var j;return A.cmpn(1)===0?j=E:j=m,j.cmpn(0)<0&&j.iadd(l),j},n.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var A=this.clone(),w=l.clone();A.negative=0,w.negative=0;for(var E=0;A.isEven()&&w.isEven();E++)A.iushrn(1),w.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;w.isEven();)w.iushrn(1);var m=A.cmp(w);if(m<0){var c=A;A=w,w=c}else if(m===0||w.cmpn(1)===0)break;A.isub(w)}while(!0);return w.iushln(E)},n.prototype.invm=function(l){return this.egcd(l).a.umod(l)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(l){return this.words[0]&l},n.prototype.bincn=function(l){r(typeof l=="number");var A=l%26,w=(l-A)/26,E=1<<A;if(this.length<=w)return this._expand(w+1),this.words[w]|=E,this;for(var m=E,c=w;m!==0&&c<this.length;c++){var I=this.words[c]|0;I+=m,m=I>>>26,I&=67108863,this.words[c]=I}return m!==0&&(this.words[c]=m,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(l){var A=l<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this._strip();var w;if(this.length>1)w=1;else{A&&(l=-l),r(l<=67108863,"Number is too big");var E=this.words[0]|0;w=E===l?0:E<l?-1:1}return this.negative!==0?-w|0:w},n.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var A=this.ucmp(l);return this.negative!==0?-A|0:A},n.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var A=0,w=this.length-1;w>=0;w--){var E=this.words[w]|0,m=l.words[w]|0;if(E!==m){E<m?A=-1:E>m&&(A=1);break}}return A},n.prototype.gtn=function(l){return this.cmpn(l)===1},n.prototype.gt=function(l){return this.cmp(l)===1},n.prototype.gten=function(l){return this.cmpn(l)>=0},n.prototype.gte=function(l){return this.cmp(l)>=0},n.prototype.ltn=function(l){return this.cmpn(l)===-1},n.prototype.lt=function(l){return this.cmp(l)===-1},n.prototype.lten=function(l){return this.cmpn(l)<=0},n.prototype.lte=function(l){return this.cmp(l)<=0},n.prototype.eqn=function(l){return this.cmpn(l)===0},n.prototype.eq=function(l){return this.cmp(l)===0},n.red=function(l){return new a(l)},n.prototype.toRed=function(l){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(l){return this.red=l,this},n.prototype.forceRed=function(l){return r(!this.red,"Already a number in reduction context"),this._forceRed(l)},n.prototype.redAdd=function(l){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},n.prototype.redIAdd=function(l){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},n.prototype.redSub=function(l){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},n.prototype.redISub=function(l){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},n.prototype.redShl=function(l){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},n.prototype.redMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},n.prototype.redIMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(l){return r(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var T={k256:null,p224:null,p192:null,p25519:null};function L(g,l){this.name=g,this.p=new n(l,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var l=new n(null);return l.words=new Array(Math.ceil(this.n/13)),l},L.prototype.ireduce=function(l){var A=l,w;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),w=A.bitLength();while(w>this.n);var E=w<this.n?-1:A.ucmp(this.p);return E===0?(A.words[0]=0,A.length=1):E>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},L.prototype.split=function(l,A){l.iushrn(this.n,0,A)},L.prototype.imulK=function(l){return l.imul(this.k)};function H(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(H,L),H.prototype.split=function(l,A){for(var w=4194303,E=Math.min(l.length,9),m=0;m<E;m++)A.words[m]=l.words[m];if(A.length=E,l.length<=9){l.words[0]=0,l.length=1;return}var c=l.words[9];for(A.words[A.length++]=c&w,m=10;m<l.length;m++){var I=l.words[m]|0;l.words[m-10]=(I&w)<<4|c>>>22,c=I}c>>>=22,l.words[m-10]=c,c===0&&l.length>10?l.length-=10:l.length-=9},H.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var A=0,w=0;w<l.length;w++){var E=l.words[w]|0;A+=E*977,l.words[w]=A&67108863,A=E*64+(A/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function O(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(O,L);function G(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(G,L);function v(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(v,L),v.prototype.imulK=function(l){for(var A=0,w=0;w<l.length;w++){var E=(l.words[w]|0)*19+A,m=E&67108863;E>>>=26,l.words[w]=m,A=E}return A!==0&&(l.words[l.length++]=A),l},n._prime=function(l){if(T[l])return T[l];var A;if(l==="k256")A=new H;else if(l==="p224")A=new O;else if(l==="p192")A=new G;else if(l==="p25519")A=new v;else throw new Error("Unknown prime "+l);return T[l]=A,A};function a(g){if(typeof g=="string"){var l=n._prime(g);this.m=l.p,this.prime=l}else r(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}a.prototype._verify1=function(l){r(l.negative===0,"red works only with positives"),r(l.red,"red works only with red numbers")},a.prototype._verify2=function(l,A){r((l.negative|A.negative)===0,"red works only with positives"),r(l.red&&l.red===A.red,"red works only with red numbers")},a.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(p(l,l.umod(this.m)._forceRed(this)),l)},a.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},a.prototype.add=function(l,A){this._verify2(l,A);var w=l.add(A);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},a.prototype.iadd=function(l,A){this._verify2(l,A);var w=l.iadd(A);return w.cmp(this.m)>=0&&w.isub(this.m),w},a.prototype.sub=function(l,A){this._verify2(l,A);var w=l.sub(A);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},a.prototype.isub=function(l,A){this._verify2(l,A);var w=l.isub(A);return w.cmpn(0)<0&&w.iadd(this.m),w},a.prototype.shl=function(l,A){return this._verify1(l),this.imod(l.ushln(A))},a.prototype.imul=function(l,A){return this._verify2(l,A),this.imod(l.imul(A))},a.prototype.mul=function(l,A){return this._verify2(l,A),this.imod(l.mul(A))},a.prototype.isqr=function(l){return this.imul(l,l.clone())},a.prototype.sqr=function(l){return this.mul(l,l)},a.prototype.sqrt=function(l){if(l.isZero())return l.clone();var A=this.m.andln(3);if(r(A%2===1),A===3){var w=this.m.add(new n(1)).iushrn(2);return this.pow(l,w)}for(var E=this.m.subn(1),m=0;!E.isZero()&&E.andln(1)===0;)m++,E.iushrn(1);r(!E.isZero());var c=new n(1).toRed(this),I=c.redNeg(),M=this.m.subn(1).iushrn(1),D=this.m.bitLength();for(D=new n(2*D*D).toRed(this);this.pow(D,M).cmp(I)!==0;)D.redIAdd(I);for(var P=this.pow(D,E),j=this.pow(l,E.addn(1).iushrn(1)),Y=this.pow(l,E),z=m;Y.cmp(c)!==0;){for(var $=Y,W=0;$.cmp(c)!==0;W++)$=$.redSqr();r(W<z);var ee=this.pow(P,new n(1).iushln(z-W-1));j=j.redMul(ee),P=ee.redSqr(),Y=Y.redMul(P),z=W}return j},a.prototype.invm=function(l){var A=l._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},a.prototype.pow=function(l,A){if(A.isZero())return new n(1).toRed(this);if(A.cmpn(1)===0)return l.clone();var w=4,E=new Array(1<<w);E[0]=new n(1).toRed(this),E[1]=l;for(var m=2;m<E.length;m++)E[m]=this.mul(E[m-1],l);var c=E[0],I=0,M=0,D=A.bitLength()%26;for(D===0&&(D=26),m=A.length-1;m>=0;m--){for(var P=A.words[m],j=D-1;j>=0;j--){var Y=P>>j&1;if(c!==E[0]&&(c=this.sqr(c)),Y===0&&I===0){M=0;continue}I<<=1,I|=Y,M++,!(M!==w&&(m!==0||j!==0))&&(c=this.mul(c,E[I]),M=0,I=0)}D=26}return c},a.prototype.convertTo=function(l){var A=l.umod(this.m);return A===l?A.clone():A},a.prototype.convertFrom=function(l){var A=l.clone();return A.red=null,A},n.mont=function(l){return new h(l)};function h(g){a.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(h,a),h.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},h.prototype.convertFrom=function(l){var A=this.imod(l.mul(this.rinv));return A.red=null,A},h.prototype.imul=function(l,A){if(l.isZero()||A.isZero())return l.words[0]=0,l.length=1,l;var w=l.imul(A),E=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=w.isub(E).iushrn(this.shift),c=m;return m.cmp(this.m)>=0?c=m.isub(this.m):m.cmpn(0)<0&&(c=m.iadd(this.m)),c._forceRed(this)},h.prototype.mul=function(l,A){if(l.isZero()||A.isZero())return new n(0)._forceRed(this);var w=l.mul(A),E=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=w.isub(E).iushrn(this.shift),c=m;return m.cmp(this.m)>=0?c=m.isub(this.m):m.cmpn(0)<0&&(c=m.iadd(this.m)),c._forceRed(this)},h.prototype.invm=function(l){var A=this.imod(l._invmp(this.m).mul(this.r2));return A._forceRed(this)}})(typeof YF>"u"||YF,Hne)});var O_=X((N1t,zne)=>{b();var av=P_(),tFe=My();function rFe(t){var e=Gne(t),r=e.toRed(av.mont(t.modulus)).redPow(new av(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function Gne(t){var e=t.modulus.byteLength(),r;do r=new av(tFe(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function jne(t,e){var r=rFe(e),i=e.modulus.byteLength(),n=new av(t).mul(r.blinder).umod(e.modulus),o=n.toRed(av.mont(e.prime1)),s=n.toRed(av.mont(e.prime2)),f=e.coefficient,d=e.prime1,p=e.prime2,u=o.redPow(e.exponent1).fromRed(),y=s.redPow(e.exponent2).fromRed(),B=u.isub(y).imul(f).umod(d).imul(p);return y.iadd(B).imul(r.unblinder).umod(e.modulus).toArrayLike(N.Buffer,"be",i)}jne.getr=Gne;zne.exports=jne});var Yne=X((O1t,iFe)=>{iFe.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Wu=X((Jne,JF)=>{b();(function(t,e){"use strict";function r(v,a){if(!v)throw new Error(a||"Assertion failed")}function i(v,a){v.super_=a;var h=function(){};h.prototype=a.prototype,v.prototype=new h,v.prototype.constructor=v}function n(v,a,h){if(n.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((a==="le"||a==="be")&&(h=a,a=10),this._init(v||0,a||10,h||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Vp().Buffer}catch{}n.isBN=function(a){return a instanceof n?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===n.wordSize&&Array.isArray(a.words)},n.max=function(a,h){return a.cmp(h)>0?a:h},n.min=function(a,h){return a.cmp(h)<0?a:h},n.prototype._init=function(a,h,g){if(typeof a=="number")return this._initNumber(a,h,g);if(typeof a=="object")return this._initArray(a,h,g);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),a=a.toString().replace(/\s+/g,"");var l=0;a[0]==="-"&&(l++,this.negative=1),l<a.length&&(h===16?this._parseHex(a,l,g):(this._parseBase(a,h,l),g==="le"&&this._initArray(this.toArray(),h,g)))},n.prototype._initNumber=function(a,h,g){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),h,g)},n.prototype._initArray=function(a,h,g){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var A,w,E=0;if(g==="be")for(l=a.length-1,A=0;l>=0;l-=3)w=a[l]|a[l-1]<<8|a[l-2]<<16,this.words[A]|=w<<E&67108863,this.words[A+1]=w>>>26-E&67108863,E+=24,E>=26&&(E-=26,A++);else if(g==="le")for(l=0,A=0;l<a.length;l+=3)w=a[l]|a[l+1]<<8|a[l+2]<<16,this.words[A]|=w<<E&67108863,this.words[A+1]=w>>>26-E&67108863,E+=24,E>=26&&(E-=26,A++);return this.strip()};function s(v,a){var h=v.charCodeAt(a);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function f(v,a,h){var g=s(v,h);return h-1>=a&&(g|=s(v,h-1)<<4),g}n.prototype._parseHex=function(a,h,g){this.length=Math.ceil((a.length-h)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var A=0,w=0,E;if(g==="be")for(l=a.length-1;l>=h;l-=2)E=f(a,h,l)<<A,this.words[w]|=E&67108863,A>=18?(A-=18,w+=1,this.words[w]|=E>>>26):A+=8;else{var m=a.length-h;for(l=m%2===0?h+1:h;l<a.length;l+=2)E=f(a,h,l)<<A,this.words[w]|=E&67108863,A>=18?(A-=18,w+=1,this.words[w]|=E>>>26):A+=8}this.strip()};function d(v,a,h,g){for(var l=0,A=Math.min(v.length,h),w=a;w<A;w++){var E=v.charCodeAt(w)-48;l*=g,E>=49?l+=E-49+10:E>=17?l+=E-17+10:l+=E}return l}n.prototype._parseBase=function(a,h,g){this.words=[0],this.length=1;for(var l=0,A=1;A<=67108863;A*=h)l++;l--,A=A/h|0;for(var w=a.length-g,E=w%l,m=Math.min(w,w-E)+g,c=0,I=g;I<m;I+=l)c=d(a,I,I+l,h),this.imuln(A),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(E!==0){var M=1;for(c=d(a,I,a.length,h),I=0;I<E;I++)M*=h;this.imuln(M),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},n.prototype.copy=function(a){a.words=new Array(this.length);for(var h=0;h<this.length;h++)a.words[h]=this.words[h];a.length=this.length,a.negative=this.negative,a.red=this.red},n.prototype.clone=function(){var a=new n(null);return this.copy(a),a},n.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(a,h){a=a||10,h=h|0||1;var g;if(a===16||a==="hex"){g="";for(var l=0,A=0,w=0;w<this.length;w++){var E=this.words[w],m=((E<<l|A)&16777215).toString(16);A=E>>>24-l&16777215,A!==0||w!==this.length-1?g=p[6-m.length]+m+g:g=m+g,l+=2,l>=26&&(l-=26,w--)}for(A!==0&&(g=A.toString(16)+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(a===(a|0)&&a>=2&&a<=36){var c=u[a],I=y[a];g="";var M=this.clone();for(M.negative=0;!M.isZero();){var D=M.modn(I).toString(a);M=M.idivn(I),M.isZero()?g=D+g:g=p[c-D.length]+D+g}for(this.isZero()&&(g="0"+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(a,h){return r(typeof o<"u"),this.toArrayLike(o,a,h)},n.prototype.toArray=function(a,h){return this.toArrayLike(Array,a,h)},n.prototype.toArrayLike=function(a,h,g){var l=this.byteLength(),A=g||Math.max(1,l);r(l<=A,"byte array longer than desired length"),r(A>0,"Requested array length <= 0"),this.strip();var w=h==="le",E=new a(A),m,c,I=this.clone();if(w){for(c=0;!I.isZero();c++)m=I.andln(255),I.iushrn(8),E[c]=m;for(;c<A;c++)E[c]=0}else{for(c=0;c<A-l;c++)E[c]=0;for(c=0;!I.isZero();c++)m=I.andln(255),I.iushrn(8),E[A-c-1]=m}return E},Math.clz32?n.prototype._countBits=function(a){return 32-Math.clz32(a)}:n.prototype._countBits=function(a){var h=a,g=0;return h>=4096&&(g+=13,h>>>=13),h>=64&&(g+=7,h>>>=7),h>=8&&(g+=4,h>>>=4),h>=2&&(g+=2,h>>>=2),g+h},n.prototype._zeroBits=function(a){if(a===0)return 26;var h=a,g=0;return h&8191||(g+=13,h>>>=13),h&127||(g+=7,h>>>=7),h&15||(g+=4,h>>>=4),h&3||(g+=2,h>>>=2),h&1||g++,g},n.prototype.bitLength=function(){var a=this.words[this.length-1],h=this._countBits(a);return(this.length-1)*26+h};function B(v){for(var a=new Array(v.bitLength()),h=0;h<a.length;h++){var g=h/26|0,l=h%26;a[h]=(v.words[g]&1<<l)>>>l}return a}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,h=0;h<this.length;h++){var g=this._zeroBits(this.words[h]);if(a+=g,g!==26)break}return a},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},n.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var h=0;h<a.length;h++)this.words[h]=this.words[h]|a.words[h];return this.strip()},n.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},n.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},n.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},n.prototype.iuand=function(a){var h;this.length>a.length?h=a:h=this;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]&a.words[g];return this.length=h.length,this.strip()},n.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},n.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},n.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},n.prototype.iuxor=function(a){var h,g;this.length>a.length?(h=this,g=a):(h=a,g=this);for(var l=0;l<g.length;l++)this.words[l]=h.words[l]^g.words[l];if(this!==h)for(;l<h.length;l++)this.words[l]=h.words[l];return this.length=h.length,this.strip()},n.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},n.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},n.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},n.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var h=Math.ceil(a/26)|0,g=a%26;this._expand(h),g>0&&h--;for(var l=0;l<h;l++)this.words[l]=~this.words[l]&67108863;return g>0&&(this.words[l]=~this.words[l]&67108863>>26-g),this.strip()},n.prototype.notn=function(a){return this.clone().inotn(a)},n.prototype.setn=function(a,h){r(typeof a=="number"&&a>=0);var g=a/26|0,l=a%26;return this._expand(g+1),h?this.words[g]=this.words[g]|1<<l:this.words[g]=this.words[g]&~(1<<l),this.strip()},n.prototype.iadd=function(a){var h;if(this.negative!==0&&a.negative===0)return this.negative=0,h=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,h=this.isub(a),a.negative=1,h._normSign();var g,l;this.length>a.length?(g=this,l=a):(g=a,l=this);for(var A=0,w=0;w<l.length;w++)h=(g.words[w]|0)+(l.words[w]|0)+A,this.words[w]=h&67108863,A=h>>>26;for(;A!==0&&w<g.length;w++)h=(g.words[w]|0)+A,this.words[w]=h&67108863,A=h>>>26;if(this.length=g.length,A!==0)this.words[this.length]=A,this.length++;else if(g!==this)for(;w<g.length;w++)this.words[w]=g.words[w];return this},n.prototype.add=function(a){var h;return a.negative!==0&&this.negative===0?(a.negative=0,h=this.sub(a),a.negative^=1,h):a.negative===0&&this.negative!==0?(this.negative=0,h=a.sub(this),this.negative=1,h):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},n.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var h=this.iadd(a);return a.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g=this.cmp(a);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,A;g>0?(l=this,A=a):(l=a,A=this);for(var w=0,E=0;E<A.length;E++)h=(l.words[E]|0)-(A.words[E]|0)+w,w=h>>26,this.words[E]=h&67108863;for(;w!==0&&E<l.length;E++)h=(l.words[E]|0)+w,w=h>>26,this.words[E]=h&67108863;if(w===0&&E<l.length&&l!==this)for(;E<l.length;E++)this.words[E]=l.words[E];return this.length=Math.max(this.length,E),l!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(a){return this.clone().isub(a)};function S(v,a,h){h.negative=a.negative^v.negative;var g=v.length+a.length|0;h.length=g,g=g-1|0;var l=v.words[0]|0,A=a.words[0]|0,w=l*A,E=w&67108863,m=w/67108864|0;h.words[0]=E;for(var c=1;c<g;c++){for(var I=m>>>26,M=m&67108863,D=Math.min(c,a.length-1),P=Math.max(0,c-v.length+1);P<=D;P++){var j=c-P|0;l=v.words[j]|0,A=a.words[P]|0,w=l*A+M,I+=w/67108864|0,M=w&67108863}h.words[c]=M|0,m=I|0}return m!==0?h.words[c]=m|0:h.length--,h.strip()}var C=function(a,h,g){var l=a.words,A=h.words,w=g.words,E=0,m,c,I,M=l[0]|0,D=M&8191,P=M>>>13,j=l[1]|0,Y=j&8191,z=j>>>13,$=l[2]|0,W=$&8191,ee=$>>>13,pe=l[3]|0,ne=pe&8191,se=pe>>>13,Le=l[4]|0,ce=Le&8191,fe=Le>>>13,bt=l[5]|0,ge=bt&8191,Ie=bt>>>13,mr=l[6]|0,ve=mr&8191,ye=mr>>>13,Nr=l[7]|0,Be=Nr&8191,we=Nr>>>13,qr=l[8]|0,Ce=qr&8191,me=qr>>>13,Ir=l[9]|0,be=Ir&8191,Se=Ir>>>13,sr=A[0]|0,xe=sr&8191,_e=sr>>>13,Zi=A[1]|0,Fe=Zi&8191,Qe=Zi>>>13,$i=A[2]|0,Oe=$i&8191,Ne=$i>>>13,Xi=A[3]|0,De=Xi&8191,Re=Xi>>>13,di=A[4]|0,Ke=di&8191,Pe=di>>>13,en=A[5]|0,Ue=en&8191,Me=en>>>13,tn=A[6]|0,ke=tn&8191,qe=tn>>>13,Li=A[7]|0,te=Li&8191,Z=Li>>>13,de=A[8]|0,ie=de&8191,oe=de>>>13,$e=A[9]|0,ue=$e&8191,he=$e>>>13;g.negative=a.negative^h.negative,g.length=19,m=Math.imul(D,xe),c=Math.imul(D,_e),c=c+Math.imul(P,xe)|0,I=Math.imul(P,_e);var Et=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Et>>>26)|0,Et&=67108863,m=Math.imul(Y,xe),c=Math.imul(Y,_e),c=c+Math.imul(z,xe)|0,I=Math.imul(z,_e),m=m+Math.imul(D,Fe)|0,c=c+Math.imul(D,Qe)|0,c=c+Math.imul(P,Fe)|0,I=I+Math.imul(P,Qe)|0;var ft=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(W,xe),c=Math.imul(W,_e),c=c+Math.imul(ee,xe)|0,I=Math.imul(ee,_e),m=m+Math.imul(Y,Fe)|0,c=c+Math.imul(Y,Qe)|0,c=c+Math.imul(z,Fe)|0,I=I+Math.imul(z,Qe)|0,m=m+Math.imul(D,Oe)|0,c=c+Math.imul(D,Ne)|0,c=c+Math.imul(P,Oe)|0,I=I+Math.imul(P,Ne)|0;var et=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(et>>>26)|0,et&=67108863,m=Math.imul(ne,xe),c=Math.imul(ne,_e),c=c+Math.imul(se,xe)|0,I=Math.imul(se,_e),m=m+Math.imul(W,Fe)|0,c=c+Math.imul(W,Qe)|0,c=c+Math.imul(ee,Fe)|0,I=I+Math.imul(ee,Qe)|0,m=m+Math.imul(Y,Oe)|0,c=c+Math.imul(Y,Ne)|0,c=c+Math.imul(z,Oe)|0,I=I+Math.imul(z,Ne)|0,m=m+Math.imul(D,De)|0,c=c+Math.imul(D,Re)|0,c=c+Math.imul(P,De)|0,I=I+Math.imul(P,Re)|0;var Ft=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,m=Math.imul(ce,xe),c=Math.imul(ce,_e),c=c+Math.imul(fe,xe)|0,I=Math.imul(fe,_e),m=m+Math.imul(ne,Fe)|0,c=c+Math.imul(ne,Qe)|0,c=c+Math.imul(se,Fe)|0,I=I+Math.imul(se,Qe)|0,m=m+Math.imul(W,Oe)|0,c=c+Math.imul(W,Ne)|0,c=c+Math.imul(ee,Oe)|0,I=I+Math.imul(ee,Ne)|0,m=m+Math.imul(Y,De)|0,c=c+Math.imul(Y,Re)|0,c=c+Math.imul(z,De)|0,I=I+Math.imul(z,Re)|0,m=m+Math.imul(D,Ke)|0,c=c+Math.imul(D,Pe)|0,c=c+Math.imul(P,Ke)|0,I=I+Math.imul(P,Pe)|0;var Ot=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(ge,xe),c=Math.imul(ge,_e),c=c+Math.imul(Ie,xe)|0,I=Math.imul(Ie,_e),m=m+Math.imul(ce,Fe)|0,c=c+Math.imul(ce,Qe)|0,c=c+Math.imul(fe,Fe)|0,I=I+Math.imul(fe,Qe)|0,m=m+Math.imul(ne,Oe)|0,c=c+Math.imul(ne,Ne)|0,c=c+Math.imul(se,Oe)|0,I=I+Math.imul(se,Ne)|0,m=m+Math.imul(W,De)|0,c=c+Math.imul(W,Re)|0,c=c+Math.imul(ee,De)|0,I=I+Math.imul(ee,Re)|0,m=m+Math.imul(Y,Ke)|0,c=c+Math.imul(Y,Pe)|0,c=c+Math.imul(z,Ke)|0,I=I+Math.imul(z,Pe)|0,m=m+Math.imul(D,Ue)|0,c=c+Math.imul(D,Me)|0,c=c+Math.imul(P,Ue)|0,I=I+Math.imul(P,Me)|0;var Mt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,m=Math.imul(ve,xe),c=Math.imul(ve,_e),c=c+Math.imul(ye,xe)|0,I=Math.imul(ye,_e),m=m+Math.imul(ge,Fe)|0,c=c+Math.imul(ge,Qe)|0,c=c+Math.imul(Ie,Fe)|0,I=I+Math.imul(Ie,Qe)|0,m=m+Math.imul(ce,Oe)|0,c=c+Math.imul(ce,Ne)|0,c=c+Math.imul(fe,Oe)|0,I=I+Math.imul(fe,Ne)|0,m=m+Math.imul(ne,De)|0,c=c+Math.imul(ne,Re)|0,c=c+Math.imul(se,De)|0,I=I+Math.imul(se,Re)|0,m=m+Math.imul(W,Ke)|0,c=c+Math.imul(W,Pe)|0,c=c+Math.imul(ee,Ke)|0,I=I+Math.imul(ee,Pe)|0,m=m+Math.imul(Y,Ue)|0,c=c+Math.imul(Y,Me)|0,c=c+Math.imul(z,Ue)|0,I=I+Math.imul(z,Me)|0,m=m+Math.imul(D,ke)|0,c=c+Math.imul(D,qe)|0,c=c+Math.imul(P,ke)|0,I=I+Math.imul(P,qe)|0;var mt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,m=Math.imul(Be,xe),c=Math.imul(Be,_e),c=c+Math.imul(we,xe)|0,I=Math.imul(we,_e),m=m+Math.imul(ve,Fe)|0,c=c+Math.imul(ve,Qe)|0,c=c+Math.imul(ye,Fe)|0,I=I+Math.imul(ye,Qe)|0,m=m+Math.imul(ge,Oe)|0,c=c+Math.imul(ge,Ne)|0,c=c+Math.imul(Ie,Oe)|0,I=I+Math.imul(Ie,Ne)|0,m=m+Math.imul(ce,De)|0,c=c+Math.imul(ce,Re)|0,c=c+Math.imul(fe,De)|0,I=I+Math.imul(fe,Re)|0,m=m+Math.imul(ne,Ke)|0,c=c+Math.imul(ne,Pe)|0,c=c+Math.imul(se,Ke)|0,I=I+Math.imul(se,Pe)|0,m=m+Math.imul(W,Ue)|0,c=c+Math.imul(W,Me)|0,c=c+Math.imul(ee,Ue)|0,I=I+Math.imul(ee,Me)|0,m=m+Math.imul(Y,ke)|0,c=c+Math.imul(Y,qe)|0,c=c+Math.imul(z,ke)|0,I=I+Math.imul(z,qe)|0,m=m+Math.imul(D,te)|0,c=c+Math.imul(D,Z)|0,c=c+Math.imul(P,te)|0,I=I+Math.imul(P,Z)|0;var kt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(Ce,xe),c=Math.imul(Ce,_e),c=c+Math.imul(me,xe)|0,I=Math.imul(me,_e),m=m+Math.imul(Be,Fe)|0,c=c+Math.imul(Be,Qe)|0,c=c+Math.imul(we,Fe)|0,I=I+Math.imul(we,Qe)|0,m=m+Math.imul(ve,Oe)|0,c=c+Math.imul(ve,Ne)|0,c=c+Math.imul(ye,Oe)|0,I=I+Math.imul(ye,Ne)|0,m=m+Math.imul(ge,De)|0,c=c+Math.imul(ge,Re)|0,c=c+Math.imul(Ie,De)|0,I=I+Math.imul(Ie,Re)|0,m=m+Math.imul(ce,Ke)|0,c=c+Math.imul(ce,Pe)|0,c=c+Math.imul(fe,Ke)|0,I=I+Math.imul(fe,Pe)|0,m=m+Math.imul(ne,Ue)|0,c=c+Math.imul(ne,Me)|0,c=c+Math.imul(se,Ue)|0,I=I+Math.imul(se,Me)|0,m=m+Math.imul(W,ke)|0,c=c+Math.imul(W,qe)|0,c=c+Math.imul(ee,ke)|0,I=I+Math.imul(ee,qe)|0,m=m+Math.imul(Y,te)|0,c=c+Math.imul(Y,Z)|0,c=c+Math.imul(z,te)|0,I=I+Math.imul(z,Z)|0,m=m+Math.imul(D,ie)|0,c=c+Math.imul(D,oe)|0,c=c+Math.imul(P,ie)|0,I=I+Math.imul(P,oe)|0;var Ct=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(be,xe),c=Math.imul(be,_e),c=c+Math.imul(Se,xe)|0,I=Math.imul(Se,_e),m=m+Math.imul(Ce,Fe)|0,c=c+Math.imul(Ce,Qe)|0,c=c+Math.imul(me,Fe)|0,I=I+Math.imul(me,Qe)|0,m=m+Math.imul(Be,Oe)|0,c=c+Math.imul(Be,Ne)|0,c=c+Math.imul(we,Oe)|0,I=I+Math.imul(we,Ne)|0,m=m+Math.imul(ve,De)|0,c=c+Math.imul(ve,Re)|0,c=c+Math.imul(ye,De)|0,I=I+Math.imul(ye,Re)|0,m=m+Math.imul(ge,Ke)|0,c=c+Math.imul(ge,Pe)|0,c=c+Math.imul(Ie,Ke)|0,I=I+Math.imul(Ie,Pe)|0,m=m+Math.imul(ce,Ue)|0,c=c+Math.imul(ce,Me)|0,c=c+Math.imul(fe,Ue)|0,I=I+Math.imul(fe,Me)|0,m=m+Math.imul(ne,ke)|0,c=c+Math.imul(ne,qe)|0,c=c+Math.imul(se,ke)|0,I=I+Math.imul(se,qe)|0,m=m+Math.imul(W,te)|0,c=c+Math.imul(W,Z)|0,c=c+Math.imul(ee,te)|0,I=I+Math.imul(ee,Z)|0,m=m+Math.imul(Y,ie)|0,c=c+Math.imul(Y,oe)|0,c=c+Math.imul(z,ie)|0,I=I+Math.imul(z,oe)|0,m=m+Math.imul(D,ue)|0,c=c+Math.imul(D,he)|0,c=c+Math.imul(P,ue)|0,I=I+Math.imul(P,he)|0;var wr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(wr>>>26)|0,wr&=67108863,m=Math.imul(be,Fe),c=Math.imul(be,Qe),c=c+Math.imul(Se,Fe)|0,I=Math.imul(Se,Qe),m=m+Math.imul(Ce,Oe)|0,c=c+Math.imul(Ce,Ne)|0,c=c+Math.imul(me,Oe)|0,I=I+Math.imul(me,Ne)|0,m=m+Math.imul(Be,De)|0,c=c+Math.imul(Be,Re)|0,c=c+Math.imul(we,De)|0,I=I+Math.imul(we,Re)|0,m=m+Math.imul(ve,Ke)|0,c=c+Math.imul(ve,Pe)|0,c=c+Math.imul(ye,Ke)|0,I=I+Math.imul(ye,Pe)|0,m=m+Math.imul(ge,Ue)|0,c=c+Math.imul(ge,Me)|0,c=c+Math.imul(Ie,Ue)|0,I=I+Math.imul(Ie,Me)|0,m=m+Math.imul(ce,ke)|0,c=c+Math.imul(ce,qe)|0,c=c+Math.imul(fe,ke)|0,I=I+Math.imul(fe,qe)|0,m=m+Math.imul(ne,te)|0,c=c+Math.imul(ne,Z)|0,c=c+Math.imul(se,te)|0,I=I+Math.imul(se,Z)|0,m=m+Math.imul(W,ie)|0,c=c+Math.imul(W,oe)|0,c=c+Math.imul(ee,ie)|0,I=I+Math.imul(ee,oe)|0,m=m+Math.imul(Y,ue)|0,c=c+Math.imul(Y,he)|0,c=c+Math.imul(z,ue)|0,I=I+Math.imul(z,he)|0;var ir=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ir>>>26)|0,ir&=67108863,m=Math.imul(be,Oe),c=Math.imul(be,Ne),c=c+Math.imul(Se,Oe)|0,I=Math.imul(Se,Ne),m=m+Math.imul(Ce,De)|0,c=c+Math.imul(Ce,Re)|0,c=c+Math.imul(me,De)|0,I=I+Math.imul(me,Re)|0,m=m+Math.imul(Be,Ke)|0,c=c+Math.imul(Be,Pe)|0,c=c+Math.imul(we,Ke)|0,I=I+Math.imul(we,Pe)|0,m=m+Math.imul(ve,Ue)|0,c=c+Math.imul(ve,Me)|0,c=c+Math.imul(ye,Ue)|0,I=I+Math.imul(ye,Me)|0,m=m+Math.imul(ge,ke)|0,c=c+Math.imul(ge,qe)|0,c=c+Math.imul(Ie,ke)|0,I=I+Math.imul(Ie,qe)|0,m=m+Math.imul(ce,te)|0,c=c+Math.imul(ce,Z)|0,c=c+Math.imul(fe,te)|0,I=I+Math.imul(fe,Z)|0,m=m+Math.imul(ne,ie)|0,c=c+Math.imul(ne,oe)|0,c=c+Math.imul(se,ie)|0,I=I+Math.imul(se,oe)|0,m=m+Math.imul(W,ue)|0,c=c+Math.imul(W,he)|0,c=c+Math.imul(ee,ue)|0,I=I+Math.imul(ee,he)|0;var ar=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ar>>>26)|0,ar&=67108863,m=Math.imul(be,De),c=Math.imul(be,Re),c=c+Math.imul(Se,De)|0,I=Math.imul(Se,Re),m=m+Math.imul(Ce,Ke)|0,c=c+Math.imul(Ce,Pe)|0,c=c+Math.imul(me,Ke)|0,I=I+Math.imul(me,Pe)|0,m=m+Math.imul(Be,Ue)|0,c=c+Math.imul(Be,Me)|0,c=c+Math.imul(we,Ue)|0,I=I+Math.imul(we,Me)|0,m=m+Math.imul(ve,ke)|0,c=c+Math.imul(ve,qe)|0,c=c+Math.imul(ye,ke)|0,I=I+Math.imul(ye,qe)|0,m=m+Math.imul(ge,te)|0,c=c+Math.imul(ge,Z)|0,c=c+Math.imul(Ie,te)|0,I=I+Math.imul(Ie,Z)|0,m=m+Math.imul(ce,ie)|0,c=c+Math.imul(ce,oe)|0,c=c+Math.imul(fe,ie)|0,I=I+Math.imul(fe,oe)|0,m=m+Math.imul(ne,ue)|0,c=c+Math.imul(ne,he)|0,c=c+Math.imul(se,ue)|0,I=I+Math.imul(se,he)|0;var xt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(xt>>>26)|0,xt&=67108863,m=Math.imul(be,Ke),c=Math.imul(be,Pe),c=c+Math.imul(Se,Ke)|0,I=Math.imul(Se,Pe),m=m+Math.imul(Ce,Ue)|0,c=c+Math.imul(Ce,Me)|0,c=c+Math.imul(me,Ue)|0,I=I+Math.imul(me,Me)|0,m=m+Math.imul(Be,ke)|0,c=c+Math.imul(Be,qe)|0,c=c+Math.imul(we,ke)|0,I=I+Math.imul(we,qe)|0,m=m+Math.imul(ve,te)|0,c=c+Math.imul(ve,Z)|0,c=c+Math.imul(ye,te)|0,I=I+Math.imul(ye,Z)|0,m=m+Math.imul(ge,ie)|0,c=c+Math.imul(ge,oe)|0,c=c+Math.imul(Ie,ie)|0,I=I+Math.imul(Ie,oe)|0,m=m+Math.imul(ce,ue)|0,c=c+Math.imul(ce,he)|0,c=c+Math.imul(fe,ue)|0,I=I+Math.imul(fe,he)|0;var nr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(nr>>>26)|0,nr&=67108863,m=Math.imul(be,Ue),c=Math.imul(be,Me),c=c+Math.imul(Se,Ue)|0,I=Math.imul(Se,Me),m=m+Math.imul(Ce,ke)|0,c=c+Math.imul(Ce,qe)|0,c=c+Math.imul(me,ke)|0,I=I+Math.imul(me,qe)|0,m=m+Math.imul(Be,te)|0,c=c+Math.imul(Be,Z)|0,c=c+Math.imul(we,te)|0,I=I+Math.imul(we,Z)|0,m=m+Math.imul(ve,ie)|0,c=c+Math.imul(ve,oe)|0,c=c+Math.imul(ye,ie)|0,I=I+Math.imul(ye,oe)|0,m=m+Math.imul(ge,ue)|0,c=c+Math.imul(ge,he)|0,c=c+Math.imul(Ie,ue)|0,I=I+Math.imul(Ie,he)|0;var cr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(cr>>>26)|0,cr&=67108863,m=Math.imul(be,ke),c=Math.imul(be,qe),c=c+Math.imul(Se,ke)|0,I=Math.imul(Se,qe),m=m+Math.imul(Ce,te)|0,c=c+Math.imul(Ce,Z)|0,c=c+Math.imul(me,te)|0,I=I+Math.imul(me,Z)|0,m=m+Math.imul(Be,ie)|0,c=c+Math.imul(Be,oe)|0,c=c+Math.imul(we,ie)|0,I=I+Math.imul(we,oe)|0,m=m+Math.imul(ve,ue)|0,c=c+Math.imul(ve,he)|0,c=c+Math.imul(ye,ue)|0,I=I+Math.imul(ye,he)|0;var pr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(be,te),c=Math.imul(be,Z),c=c+Math.imul(Se,te)|0,I=Math.imul(Se,Z),m=m+Math.imul(Ce,ie)|0,c=c+Math.imul(Ce,oe)|0,c=c+Math.imul(me,ie)|0,I=I+Math.imul(me,oe)|0,m=m+Math.imul(Be,ue)|0,c=c+Math.imul(Be,he)|0,c=c+Math.imul(we,ue)|0,I=I+Math.imul(we,he)|0;var Pr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(be,ie),c=Math.imul(be,oe),c=c+Math.imul(Se,ie)|0,I=Math.imul(Se,oe),m=m+Math.imul(Ce,ue)|0,c=c+Math.imul(Ce,he)|0,c=c+Math.imul(me,ue)|0,I=I+Math.imul(me,he)|0;var fr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(fr>>>26)|0,fr&=67108863,m=Math.imul(be,ue),c=Math.imul(be,he),c=c+Math.imul(Se,ue)|0,I=Math.imul(Se,he);var Hr=(E+m|0)+((c&8191)<<13)|0;return E=(I+(c>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w[0]=Et,w[1]=ft,w[2]=et,w[3]=Ft,w[4]=Ot,w[5]=Mt,w[6]=mt,w[7]=kt,w[8]=Ct,w[9]=wr,w[10]=ir,w[11]=ar,w[12]=xt,w[13]=nr,w[14]=cr,w[15]=pr,w[16]=Pr,w[17]=fr,w[18]=Hr,E!==0&&(w[19]=E,g.length++),g};Math.imul||(C=S);function x(v,a,h){h.negative=a.negative^v.negative,h.length=v.length+a.length;for(var g=0,l=0,A=0;A<h.length-1;A++){var w=l;l=0;for(var E=g&67108863,m=Math.min(A,a.length-1),c=Math.max(0,A-v.length+1);c<=m;c++){var I=A-c,M=v.words[I]|0,D=a.words[c]|0,P=M*D,j=P&67108863;w=w+(P/67108864|0)|0,j=j+E|0,E=j&67108863,w=w+(j>>>26)|0,l+=w>>>26,w&=67108863}h.words[A]=E,g=w,w=l}return g!==0?h.words[A]=g:h.length--,h.strip()}function _(v,a,h){var g=new Q;return g.mulp(v,a,h)}n.prototype.mulTo=function(a,h){var g,l=this.length+a.length;return this.length===10&&a.length===10?g=C(this,a,h):l<63?g=S(this,a,h):l<1024?g=x(this,a,h):g=_(this,a,h),g};function Q(v,a){this.x=v,this.y=a}Q.prototype.makeRBT=function(a){for(var h=new Array(a),g=n.prototype._countBits(a)-1,l=0;l<a;l++)h[l]=this.revBin(l,g,a);return h},Q.prototype.revBin=function(a,h,g){if(a===0||a===g-1)return a;for(var l=0,A=0;A<h;A++)l|=(a&1)<<h-A-1,a>>=1;return l},Q.prototype.permute=function(a,h,g,l,A,w){for(var E=0;E<w;E++)l[E]=h[a[E]],A[E]=g[a[E]]},Q.prototype.transform=function(a,h,g,l,A,w){this.permute(w,a,h,g,l,A);for(var E=1;E<A;E<<=1)for(var m=E<<1,c=Math.cos(2*Math.PI/m),I=Math.sin(2*Math.PI/m),M=0;M<A;M+=m)for(var D=c,P=I,j=0;j<E;j++){var Y=g[M+j],z=l[M+j],$=g[M+j+E],W=l[M+j+E],ee=D*$-P*W;W=D*W+P*$,$=ee,g[M+j]=Y+$,l[M+j]=z+W,g[M+j+E]=Y-$,l[M+j+E]=z-W,j!==m&&(ee=c*D-I*P,P=c*P+I*D,D=ee)}},Q.prototype.guessLen13b=function(a,h){var g=Math.max(h,a)|1,l=g&1,A=0;for(g=g/2|0;g;g=g>>>1)A++;return 1<<A+1+l},Q.prototype.conjugate=function(a,h,g){if(!(g<=1))for(var l=0;l<g/2;l++){var A=a[l];a[l]=a[g-l-1],a[g-l-1]=A,A=h[l],h[l]=-h[g-l-1],h[g-l-1]=-A}},Q.prototype.normalize13b=function(a,h){for(var g=0,l=0;l<h/2;l++){var A=Math.round(a[2*l+1]/h)*8192+Math.round(a[2*l]/h)+g;a[l]=A&67108863,A<67108864?g=0:g=A/67108864|0}return a},Q.prototype.convert13b=function(a,h,g,l){for(var A=0,w=0;w<h;w++)A=A+(a[w]|0),g[2*w]=A&8191,A=A>>>13,g[2*w+1]=A&8191,A=A>>>13;for(w=2*h;w<l;++w)g[w]=0;r(A===0),r((A&-8192)===0)},Q.prototype.stub=function(a){for(var h=new Array(a),g=0;g<a;g++)h[g]=0;return h},Q.prototype.mulp=function(a,h,g){var l=2*this.guessLen13b(a.length,h.length),A=this.makeRBT(l),w=this.stub(l),E=new Array(l),m=new Array(l),c=new Array(l),I=new Array(l),M=new Array(l),D=new Array(l),P=g.words;P.length=l,this.convert13b(a.words,a.length,E,l),this.convert13b(h.words,h.length,I,l),this.transform(E,w,m,c,l,A),this.transform(I,w,M,D,l,A);for(var j=0;j<l;j++){var Y=m[j]*M[j]-c[j]*D[j];c[j]=m[j]*D[j]+c[j]*M[j],m[j]=Y}return this.conjugate(m,c,l),this.transform(m,c,P,w,l,A),this.conjugate(P,w,l),this.normalize13b(P,l),g.negative=a.negative^h.negative,g.length=a.length+h.length,g.strip()},n.prototype.mul=function(a){var h=new n(null);return h.words=new Array(this.length+a.length),this.mulTo(a,h)},n.prototype.mulf=function(a){var h=new n(null);return h.words=new Array(this.length+a.length),_(this,a,h)},n.prototype.imul=function(a){return this.clone().mulTo(a,this)},n.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var h=0,g=0;g<this.length;g++){var l=(this.words[g]|0)*a,A=(l&67108863)+(h&67108863);h>>=26,h+=l/67108864|0,h+=A>>>26,this.words[g]=A&67108863}return h!==0&&(this.words[g]=h,this.length++),this},n.prototype.muln=function(a){return this.clone().imuln(a)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(a){var h=B(a);if(h.length===0)return new n(1);for(var g=this,l=0;l<h.length&&h[l]===0;l++,g=g.sqr());if(++l<h.length)for(var A=g.sqr();l<h.length;l++,A=A.sqr())h[l]!==0&&(g=g.mul(A));return g},n.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26,l=67108863>>>26-h<<26-h,A;if(h!==0){var w=0;for(A=0;A<this.length;A++){var E=this.words[A]&l,m=(this.words[A]|0)-E<<h;this.words[A]=m|w,w=E>>>26-h}w&&(this.words[A]=w,this.length++)}if(g!==0){for(A=this.length-1;A>=0;A--)this.words[A+g]=this.words[A];for(A=0;A<g;A++)this.words[A]=0;this.length+=g}return this.strip()},n.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},n.prototype.iushrn=function(a,h,g){r(typeof a=="number"&&a>=0);var l;h?l=(h-h%26)/26:l=0;var A=a%26,w=Math.min((a-A)/26,this.length),E=67108863^67108863>>>A<<A,m=g;if(l-=w,l=Math.max(0,l),m){for(var c=0;c<w;c++)m.words[c]=this.words[c];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,c=0;c<this.length;c++)this.words[c]=this.words[c+w];else this.words[0]=0,this.length=1;var I=0;for(c=this.length-1;c>=0&&(I!==0||c>=l);c--){var M=this.words[c]|0;this.words[c]=I<<26-A|M>>>A,I=M&E}return m&&I!==0&&(m.words[m.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(a,h,g){return r(this.negative===0),this.iushrn(a,h,g)},n.prototype.shln=function(a){return this.clone().ishln(a)},n.prototype.ushln=function(a){return this.clone().iushln(a)},n.prototype.shrn=function(a){return this.clone().ishrn(a)},n.prototype.ushrn=function(a){return this.clone().iushrn(a)},n.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26,l=1<<h;if(this.length<=g)return!1;var A=this.words[g];return!!(A&l)},n.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(h!==0&&g++,this.length=Math.min(g,this.length),h!==0){var l=67108863^67108863>>>h<<h;this.words[this.length-1]&=l}return this.strip()},n.prototype.maskn=function(a){return this.clone().imaskn(a)},n.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},n.prototype._iaddn=function(a){this.words[0]+=a;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},n.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},n.prototype.addn=function(a){return this.clone().iaddn(a)},n.prototype.subn=function(a){return this.clone().isubn(a)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(a,h,g){var l=a.length+g,A;this._expand(l);var w,E=0;for(A=0;A<a.length;A++){w=(this.words[A+g]|0)+E;var m=(a.words[A]|0)*h;w-=m&67108863,E=(w>>26)-(m/67108864|0),this.words[A+g]=w&67108863}for(;A<this.length-g;A++)w=(this.words[A+g]|0)+E,E=w>>26,this.words[A+g]=w&67108863;if(E===0)return this.strip();for(r(E===-1),E=0,A=0;A<this.length;A++)w=-(this.words[A]|0)+E,E=w>>26,this.words[A]=w&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(a,h){var g=this.length-a.length,l=this.clone(),A=a,w=A.words[A.length-1]|0,E=this._countBits(w);g=26-E,g!==0&&(A=A.ushln(g),l.iushln(g),w=A.words[A.length-1]|0);var m=l.length-A.length,c;if(h!=="mod"){c=new n(null),c.length=m+1,c.words=new Array(c.length);for(var I=0;I<c.length;I++)c.words[I]=0}var M=l.clone()._ishlnsubmul(A,1,m);M.negative===0&&(l=M,c&&(c.words[m]=1));for(var D=m-1;D>=0;D--){var P=(l.words[A.length+D]|0)*67108864+(l.words[A.length+D-1]|0);for(P=Math.min(P/w|0,67108863),l._ishlnsubmul(A,P,D);l.negative!==0;)P--,l.negative=0,l._ishlnsubmul(A,1,D),l.isZero()||(l.negative^=1);c&&(c.words[D]=P)}return c&&c.strip(),l.strip(),h!=="div"&&g!==0&&l.iushrn(g),{div:c||null,mod:l}},n.prototype.divmod=function(a,h,g){if(r(!a.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var l,A,w;return this.negative!==0&&a.negative===0?(w=this.neg().divmod(a,h),h!=="mod"&&(l=w.div.neg()),h!=="div"&&(A=w.mod.neg(),g&&A.negative!==0&&A.iadd(a)),{div:l,mod:A}):this.negative===0&&a.negative!==0?(w=this.divmod(a.neg(),h),h!=="mod"&&(l=w.div.neg()),{div:l,mod:w.mod}):this.negative&a.negative?(w=this.neg().divmod(a.neg(),h),h!=="div"&&(A=w.mod.neg(),g&&A.negative!==0&&A.isub(a)),{div:w.div,mod:A}):a.length>this.length||this.cmp(a)<0?{div:new n(0),mod:this}:a.length===1?h==="div"?{div:this.divn(a.words[0]),mod:null}:h==="mod"?{div:null,mod:new n(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new n(this.modn(a.words[0]))}:this._wordDiv(a,h)},n.prototype.div=function(a){return this.divmod(a,"div",!1).div},n.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},n.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},n.prototype.divRound=function(a){var h=this.divmod(a);if(h.mod.isZero())return h.div;var g=h.div.negative!==0?h.mod.isub(a):h.mod,l=a.ushrn(1),A=a.andln(1),w=g.cmp(l);return w<0||A===1&&w===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},n.prototype.modn=function(a){r(a<=67108863);for(var h=(1<<26)%a,g=0,l=this.length-1;l>=0;l--)g=(h*g+(this.words[l]|0))%a;return g},n.prototype.idivn=function(a){r(a<=67108863);for(var h=0,g=this.length-1;g>=0;g--){var l=(this.words[g]|0)+h*67108864;this.words[g]=l/a|0,h=l%a}return this.strip()},n.prototype.divn=function(a){return this.clone().idivn(a)},n.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var h=this,g=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var l=new n(1),A=new n(0),w=new n(0),E=new n(1),m=0;h.isEven()&&g.isEven();)h.iushrn(1),g.iushrn(1),++m;for(var c=g.clone(),I=h.clone();!h.isZero();){for(var M=0,D=1;!(h.words[0]&D)&&M<26;++M,D<<=1);if(M>0)for(h.iushrn(M);M-- >0;)(l.isOdd()||A.isOdd())&&(l.iadd(c),A.isub(I)),l.iushrn(1),A.iushrn(1);for(var P=0,j=1;!(g.words[0]&j)&&P<26;++P,j<<=1);if(P>0)for(g.iushrn(P);P-- >0;)(w.isOdd()||E.isOdd())&&(w.iadd(c),E.isub(I)),w.iushrn(1),E.iushrn(1);h.cmp(g)>=0?(h.isub(g),l.isub(w),A.isub(E)):(g.isub(h),w.isub(l),E.isub(A))}return{a:w,b:E,gcd:g.iushln(m)}},n.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var h=this,g=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var l=new n(1),A=new n(0),w=g.clone();h.cmpn(1)>0&&g.cmpn(1)>0;){for(var E=0,m=1;!(h.words[0]&m)&&E<26;++E,m<<=1);if(E>0)for(h.iushrn(E);E-- >0;)l.isOdd()&&l.iadd(w),l.iushrn(1);for(var c=0,I=1;!(g.words[0]&I)&&c<26;++c,I<<=1);if(c>0)for(g.iushrn(c);c-- >0;)A.isOdd()&&A.iadd(w),A.iushrn(1);h.cmp(g)>=0?(h.isub(g),l.isub(A)):(g.isub(h),A.isub(l))}var M;return h.cmpn(1)===0?M=l:M=A,M.cmpn(0)<0&&M.iadd(a),M},n.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var h=this.clone(),g=a.clone();h.negative=0,g.negative=0;for(var l=0;h.isEven()&&g.isEven();l++)h.iushrn(1),g.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;g.isEven();)g.iushrn(1);var A=h.cmp(g);if(A<0){var w=h;h=g,g=w}else if(A===0||g.cmpn(1)===0)break;h.isub(g)}while(!0);return g.iushln(l)},n.prototype.invm=function(a){return this.egcd(a).a.umod(a)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(a){return this.words[0]&a},n.prototype.bincn=function(a){r(typeof a=="number");var h=a%26,g=(a-h)/26,l=1<<h;if(this.length<=g)return this._expand(g+1),this.words[g]|=l,this;for(var A=l,w=g;A!==0&&w<this.length;w++){var E=this.words[w]|0;E+=A,A=E>>>26,E&=67108863,this.words[w]=E}return A!==0&&(this.words[w]=A,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(a){var h=a<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var g;if(this.length>1)g=1;else{h&&(a=-a),r(a<=67108863,"Number is too big");var l=this.words[0]|0;g=l===a?0:l<a?-1:1}return this.negative!==0?-g|0:g},n.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var h=this.ucmp(a);return this.negative!==0?-h|0:h},n.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var h=0,g=this.length-1;g>=0;g--){var l=this.words[g]|0,A=a.words[g]|0;if(l!==A){l<A?h=-1:l>A&&(h=1);break}}return h},n.prototype.gtn=function(a){return this.cmpn(a)===1},n.prototype.gt=function(a){return this.cmp(a)===1},n.prototype.gten=function(a){return this.cmpn(a)>=0},n.prototype.gte=function(a){return this.cmp(a)>=0},n.prototype.ltn=function(a){return this.cmpn(a)===-1},n.prototype.lt=function(a){return this.cmp(a)===-1},n.prototype.lten=function(a){return this.cmpn(a)<=0},n.prototype.lte=function(a){return this.cmp(a)<=0},n.prototype.eqn=function(a){return this.cmpn(a)===0},n.prototype.eq=function(a){return this.cmp(a)===0},n.red=function(a){return new O(a)},n.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(a){return this.red=a,this},n.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},n.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},n.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},n.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},n.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},n.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},n.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},n.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var R={k256:null,p224:null,p192:null,p25519:null};function k(v,a){this.name=v,this.p=new n(a,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var a=new n(null);return a.words=new Array(Math.ceil(this.n/13)),a},k.prototype.ireduce=function(a){var h=a,g;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),g=h.bitLength();while(g>this.n);var l=g<this.n?-1:h.ucmp(this.p);return l===0?(h.words[0]=0,h.length=1):l>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},k.prototype.split=function(a,h){a.iushrn(this.n,0,h)},k.prototype.imulK=function(a){return a.imul(this.k)};function K(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(K,k),K.prototype.split=function(a,h){for(var g=4194303,l=Math.min(a.length,9),A=0;A<l;A++)h.words[A]=a.words[A];if(h.length=l,a.length<=9){a.words[0]=0,a.length=1;return}var w=a.words[9];for(h.words[h.length++]=w&g,A=10;A<a.length;A++){var E=a.words[A]|0;a.words[A-10]=(E&g)<<4|w>>>22,w=E}w>>>=22,a.words[A-10]=w,w===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var h=0,g=0;g<a.length;g++){var l=a.words[g]|0;h+=l*977,a.words[g]=h&67108863,h=l*64+(h/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function T(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(T,k);function L(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(L,k);function H(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(H,k),H.prototype.imulK=function(a){for(var h=0,g=0;g<a.length;g++){var l=(a.words[g]|0)*19+h,A=l&67108863;l>>>=26,a.words[g]=A,h=l}return h!==0&&(a.words[a.length++]=h),a},n._prime=function(a){if(R[a])return R[a];var h;if(a==="k256")h=new K;else if(a==="p224")h=new T;else if(a==="p192")h=new L;else if(a==="p25519")h=new H;else throw new Error("Unknown prime "+a);return R[a]=h,h};function O(v){if(typeof v=="string"){var a=n._prime(v);this.m=a.p,this.prime=a}else r(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}O.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},O.prototype._verify2=function(a,h){r((a.negative|h.negative)===0,"red works only with positives"),r(a.red&&a.red===h.red,"red works only with red numbers")},O.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},O.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},O.prototype.add=function(a,h){this._verify2(a,h);var g=a.add(h);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},O.prototype.iadd=function(a,h){this._verify2(a,h);var g=a.iadd(h);return g.cmp(this.m)>=0&&g.isub(this.m),g},O.prototype.sub=function(a,h){this._verify2(a,h);var g=a.sub(h);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},O.prototype.isub=function(a,h){this._verify2(a,h);var g=a.isub(h);return g.cmpn(0)<0&&g.iadd(this.m),g},O.prototype.shl=function(a,h){return this._verify1(a),this.imod(a.ushln(h))},O.prototype.imul=function(a,h){return this._verify2(a,h),this.imod(a.imul(h))},O.prototype.mul=function(a,h){return this._verify2(a,h),this.imod(a.mul(h))},O.prototype.isqr=function(a){return this.imul(a,a.clone())},O.prototype.sqr=function(a){return this.mul(a,a)},O.prototype.sqrt=function(a){if(a.isZero())return a.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var g=this.m.add(new n(1)).iushrn(2);return this.pow(a,g)}for(var l=this.m.subn(1),A=0;!l.isZero()&&l.andln(1)===0;)A++,l.iushrn(1);r(!l.isZero());var w=new n(1).toRed(this),E=w.redNeg(),m=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new n(2*c*c).toRed(this);this.pow(c,m).cmp(E)!==0;)c.redIAdd(E);for(var I=this.pow(c,l),M=this.pow(a,l.addn(1).iushrn(1)),D=this.pow(a,l),P=A;D.cmp(w)!==0;){for(var j=D,Y=0;j.cmp(w)!==0;Y++)j=j.redSqr();r(Y<P);var z=this.pow(I,new n(1).iushln(P-Y-1));M=M.redMul(z),I=z.redSqr(),D=D.redMul(I),P=Y}return M},O.prototype.invm=function(a){var h=a._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},O.prototype.pow=function(a,h){if(h.isZero())return new n(1).toRed(this);if(h.cmpn(1)===0)return a.clone();var g=4,l=new Array(1<<g);l[0]=new n(1).toRed(this),l[1]=a;for(var A=2;A<l.length;A++)l[A]=this.mul(l[A-1],a);var w=l[0],E=0,m=0,c=h.bitLength()%26;for(c===0&&(c=26),A=h.length-1;A>=0;A--){for(var I=h.words[A],M=c-1;M>=0;M--){var D=I>>M&1;if(w!==l[0]&&(w=this.sqr(w)),D===0&&E===0){m=0;continue}E<<=1,E|=D,m++,!(m!==g&&(A!==0||M!==0))&&(w=this.mul(w,l[E]),m=0,E=0)}c=26}return w},O.prototype.convertTo=function(a){var h=a.umod(this.m);return h===a?h.clone():h},O.prototype.convertFrom=function(a){var h=a.clone();return h.red=null,h},n.mont=function(a){return new G(a)};function G(v){O.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(G,O),G.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},G.prototype.convertFrom=function(a){var h=this.imod(a.mul(this.rinv));return h.red=null,h},G.prototype.imul=function(a,h){if(a.isZero()||h.isZero())return a.words[0]=0,a.length=1,a;var g=a.imul(h),l=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(l).iushrn(this.shift),w=A;return A.cmp(this.m)>=0?w=A.isub(this.m):A.cmpn(0)<0&&(w=A.iadd(this.m)),w._forceRed(this)},G.prototype.mul=function(a,h){if(a.isZero()||h.isZero())return new n(0)._forceRed(this);var g=a.mul(h),l=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(l).iushrn(this.shift),w=A;return A.cmp(this.m)>=0?w=A.isub(this.m):A.cmpn(0)<0&&(w=A.iadd(this.m)),w._forceRed(this)},G.prototype.invm=function(a){var h=this.imod(a._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(typeof JF>"u"||JF,Jne)});var VF=X(Zne=>{"use strict";b();var K_=Zne;function nFe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var i=0;i<t.length;i++)r[i]=t[i]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var i=0;i<t.length;i++){var n=t.charCodeAt(i),o=n>>8,s=n&255;o?r.push(o,s):r.push(s)}return r}K_.toArray=nFe;function Vne(t){return t.length===1?"0"+t:t}K_.zero2=Vne;function Wne(t){for(var e="",r=0;r<t.length;r++)e+=Vne(t[r].toString(16));return e}K_.toHex=Wne;K_.encode=function(e,r){return r==="hex"?Wne(e):e}});var tc=X($ne=>{"use strict";b();var vd=$ne,oFe=Wu(),sFe=ec(),q_=VF();vd.assert=sFe;vd.toArray=q_.toArray;vd.zero2=q_.zero2;vd.toHex=q_.toHex;vd.encode=q_.encode;function aFe(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,o=t.clone(),s=0;s<i.length;s++){var f,d=o.andln(n-1);o.isOdd()?(d>(n>>1)-1?f=(n>>1)-d:f=d,o.isubn(f)):f=0,i[s]=f,o.iushrn(1)}return i}vd.getNAF=aFe;function cFe(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i=0,n=0,o;t.cmpn(-i)>0||e.cmpn(-n)>0;){var s=t.andln(3)+i&3,f=e.andln(3)+n&3;s===3&&(s=-1),f===3&&(f=-1);var d;s&1?(o=t.andln(7)+i&7,(o===3||o===5)&&f===2?d=-s:d=s):d=0,r[0].push(d);var p;f&1?(o=e.andln(7)+n&7,(o===3||o===5)&&s===2?p=-f:p=f):p=0,r[1].push(p),2*i===d+1&&(i=1-i),2*n===p+1&&(n=1-n),t.iushrn(1),e.iushrn(1)}return r}vd.getJSF=cFe;function fFe(t,e,r){var i="_"+e;t.prototype[e]=function(){return this[i]!==void 0?this[i]:this[i]=r.call(this)}}vd.cachedProperty=fFe;function dFe(t){return typeof t=="string"?vd.toArray(t,"hex"):t}vd.parseBytes=dFe;function uFe(t){return new oFe(t,"hex","le")}vd.intFromLE=uFe});var hB=X((j1t,Xne)=>{"use strict";b();var sm=Wu(),uB=tc(),L_=uB.getNAF,hFe=uB.getJSF,H_=uB.assert;function tA(t,e){this.type=t,this.p=new sm(e.p,16),this.red=e.prime?sm.red(e.prime):sm.mont(this.p),this.zero=new sm(0).toRed(this.red),this.one=new sm(1).toRed(this.red),this.two=new sm(2).toRed(this.red),this.n=e.n&&new sm(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Xne.exports=tA;tA.prototype.point=function(){throw new Error("Not implemented")};tA.prototype.validate=function(){throw new Error("Not implemented")};tA.prototype._fixedNafMul=function(e,r){H_(e.precomputed);var i=e._getDoubles(),n=L_(r,1,this._bitLength),o=(1<<i.step+1)-(i.step%2===0?2:1);o/=3;var s=[],f,d;for(f=0;f<n.length;f+=i.step){d=0;for(var p=f+i.step-1;p>=f;p--)d=(d<<1)+n[p];s.push(d)}for(var u=this.jpoint(null,null,null),y=this.jpoint(null,null,null),B=o;B>0;B--){for(f=0;f<s.length;f++)d=s[f],d===B?y=y.mixedAdd(i.points[f]):d===-B&&(y=y.mixedAdd(i.points[f].neg()));u=u.add(y)}return u.toP()};tA.prototype._wnafMul=function(e,r){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var o=n.points,s=L_(r,i,this._bitLength),f=this.jpoint(null,null,null),d=s.length-1;d>=0;d--){for(var p=0;d>=0&&s[d]===0;d--)p++;if(d>=0&&p++,f=f.dblp(p),d<0)break;var u=s[d];H_(u!==0),e.type==="affine"?u>0?f=f.mixedAdd(o[u-1>>1]):f=f.mixedAdd(o[-u-1>>1].neg()):u>0?f=f.add(o[u-1>>1]):f=f.add(o[-u-1>>1].neg())}return e.type==="affine"?f.toP():f};tA.prototype._wnafMulAdd=function(e,r,i,n,o){var s=this._wnafT1,f=this._wnafT2,d=this._wnafT3,p=0,u,y,B;for(u=0;u<n;u++){B=r[u];var S=B._getNAFPoints(e);s[u]=S.wnd,f[u]=S.points}for(u=n-1;u>=1;u-=2){var C=u-1,x=u;if(s[C]!==1||s[x]!==1){d[C]=L_(i[C],s[C],this._bitLength),d[x]=L_(i[x],s[x],this._bitLength),p=Math.max(d[C].length,p),p=Math.max(d[x].length,p);continue}var _=[r[C],null,null,r[x]];r[C].y.cmp(r[x].y)===0?(_[1]=r[C].add(r[x]),_[2]=r[C].toJ().mixedAdd(r[x].neg())):r[C].y.cmp(r[x].y.redNeg())===0?(_[1]=r[C].toJ().mixedAdd(r[x]),_[2]=r[C].add(r[x].neg())):(_[1]=r[C].toJ().mixedAdd(r[x]),_[2]=r[C].toJ().mixedAdd(r[x].neg()));var Q=[-3,-1,-5,-7,0,7,5,1,3],R=hFe(i[C],i[x]);for(p=Math.max(R[0].length,p),d[C]=new Array(p),d[x]=new Array(p),y=0;y<p;y++){var k=R[0][y]|0,K=R[1][y]|0;d[C][y]=Q[(k+1)*3+(K+1)],d[x][y]=0,f[C]=_}}var T=this.jpoint(null,null,null),L=this._wnafT4;for(u=p;u>=0;u--){for(var H=0;u>=0;){var O=!0;for(y=0;y<n;y++)L[y]=d[y][u]|0,L[y]!==0&&(O=!1);if(!O)break;H++,u--}if(u>=0&&H++,T=T.dblp(H),u<0)break;for(y=0;y<n;y++){var G=L[y];G!==0&&(G>0?B=f[y][G-1>>1]:G<0&&(B=f[y][-G-1>>1].neg()),B.type==="affine"?T=T.mixedAdd(B):T=T.add(B))}}for(u=0;u<n;u++)f[u]=null;return o?T:T.toP()};function lf(t,e){this.curve=t,this.type=e,this.precomputed=null}tA.BasePoint=lf;lf.prototype.eq=function(){throw new Error("Not implemented")};lf.prototype.validate=function(){return this.curve.validate(this)};tA.prototype.decodePoint=function(e,r){e=uB.toArray(e,r);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*i){e[0]===6?H_(e[e.length-1]%2===0):e[0]===7&&H_(e[e.length-1]%2===1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};lf.prototype.encodeCompressed=function(e){return this.encode(e,!0)};lf.prototype._encode=function(e){var r=this.curve.p.byteLength(),i=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",r))};lf.prototype.encode=function(e,r){return uB.encode(this._encode(r),e)};lf.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};lf.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};lf.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)n=n.dbl();i.push(n)}return{step:e,points:i}};lf.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),o=1;o<i;o++)r[o]=r[o-1].add(n);return{wnd:e,points:r}};lf.prototype._getBeta=function(){return null};lf.prototype.dblp=function(e){for(var r=this,i=0;i<e;i++)r=r.dbl();return r}});var toe=X((Y1t,eoe)=>{"use strict";b();var lFe=tc(),Bn=Wu(),WF=Qt(),cv=hB(),pFe=lFe.assert;function pf(t){cv.call(this,"short",t),this.a=new Bn(t.a,16).toRed(this.red),this.b=new Bn(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}WF(pf,cv);eoe.exports=pf;pf.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,i;if(e.beta)r=new Bn(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=n[0].cmp(n[1])<0?n[0]:n[1],r=r.toRed(this.red)}if(e.lambda)i=new Bn(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?i=o[0]:(i=o[1],pFe(this.g.mul(i).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(f){return{a:new Bn(f.a,16),b:new Bn(f.b,16)}}):s=this._getEndoBasis(i),{beta:r,lambda:i,basis:s}}};pf.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Bn.mont(e),i=new Bn(2).toRed(r).redInvm(),n=i.redNeg(),o=new Bn(3).toRed(r).redNeg().redSqrt().redMul(i),s=n.redAdd(o).fromRed(),f=n.redSub(o).fromRed();return[s,f]};pf.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),o=new Bn(1),s=new Bn(0),f=new Bn(0),d=new Bn(1),p,u,y,B,S,C,x,_=0,Q,R;i.cmpn(0)!==0;){var k=n.div(i);Q=n.sub(k.mul(i)),R=f.sub(k.mul(o));var K=d.sub(k.mul(s));if(!y&&Q.cmp(r)<0)p=x.neg(),u=o,y=Q.neg(),B=R;else if(y&&++_===2)break;x=Q,n=i,i=Q,f=o,o=R,d=s,s=K}S=Q.neg(),C=R;var T=y.sqr().add(B.sqr()),L=S.sqr().add(C.sqr());return L.cmp(T)>=0&&(S=p,C=u),y.negative&&(y=y.neg(),B=B.neg()),S.negative&&(S=S.neg(),C=C.neg()),[{a:y,b:B},{a:S,b:C}]};pf.prototype._endoSplit=function(e){var r=this.endo.basis,i=r[0],n=r[1],o=n.b.mul(e).divRound(this.n),s=i.b.neg().mul(e).divRound(this.n),f=o.mul(i.a),d=s.mul(n.a),p=o.mul(i.b),u=s.mul(n.b),y=e.sub(f).sub(d),B=p.add(u).neg();return{k1:y,k2:B}};pf.prototype.pointFromX=function(e,r){e=new Bn(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var o=n.fromRed().isOdd();return(r&&!o||!r&&o)&&(n=n.redNeg()),this.point(e,n)};pf.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,i=e.y,n=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(o).cmpn(0)===0};pf.prototype._endoWnafMulAdd=function(e,r,i){for(var n=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var f=this._endoSplit(r[s]),d=e[s],p=d._getBeta();f.k1.negative&&(f.k1.ineg(),d=d.neg(!0)),f.k2.negative&&(f.k2.ineg(),p=p.neg(!0)),n[s*2]=d,n[s*2+1]=p,o[s*2]=f.k1,o[s*2+1]=f.k2}for(var u=this._wnafMulAdd(1,n,o,s*2,i),y=0;y<s*2;y++)n[y]=null,o[y]=null;return u};function bo(t,e,r,i){cv.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Bn(e,16),this.y=new Bn(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}WF(bo,cv.BasePoint);pf.prototype.point=function(e,r,i){return new bo(this,e,r,i)};pf.prototype.pointFromJSON=function(e,r){return bo.fromJSON(this,e,r)};bo.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(o){return i.point(o.x.redMul(i.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}};bo.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};bo.fromJSON=function(e,r,i){typeof r=="string"&&(r=JSON.parse(r));var n=e.point(r[0],r[1],i);if(!r[2])return n;function o(f){return e.point(f[0],f[1],i)}var s=r[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(o))}},n};bo.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};bo.prototype.isInfinity=function(){return this.inf};bo.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var i=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};bo.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),o=i.redAdd(i).redIAdd(i).redIAdd(r).redMul(n),s=o.redSqr().redISub(this.x.redAdd(this.x)),f=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,f)};bo.prototype.getX=function(){return this.x.fromRed()};bo.prototype.getY=function(){return this.y.fromRed()};bo.prototype.mul=function(e){return e=new Bn(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};bo.prototype.mulAdd=function(e,r,i){var n=[this,r],o=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,o):this.curve._wnafMulAdd(1,n,o,2)};bo.prototype.jmulAdd=function(e,r,i){var n=[this,r],o=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,o,!0):this.curve._wnafMulAdd(1,n,o,2,!0)};bo.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};bo.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(o){return o.neg()};r.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return r};bo.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Ho(t,e,r,i){cv.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Bn(0)):(this.x=new Bn(e,16),this.y=new Bn(r,16),this.z=new Bn(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}WF(Ho,cv.BasePoint);pf.prototype.jpoint=function(e,r,i){return new Ho(this,e,r,i)};Ho.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),i=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(i,n)};Ho.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Ho.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(r),o=e.x.redMul(i),s=this.y.redMul(r.redMul(e.z)),f=e.y.redMul(i.redMul(this.z)),d=n.redSub(o),p=s.redSub(f);if(d.cmpn(0)===0)return p.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=d.redSqr(),y=u.redMul(d),B=n.redMul(u),S=p.redSqr().redIAdd(y).redISub(B).redISub(B),C=p.redMul(B.redISub(S)).redISub(s.redMul(y)),x=this.z.redMul(e.z).redMul(d);return this.curve.jpoint(S,C,x)};Ho.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),i=this.x,n=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),f=i.redSub(n),d=o.redSub(s);if(f.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=f.redSqr(),u=p.redMul(f),y=i.redMul(p),B=d.redSqr().redIAdd(u).redISub(y).redISub(y),S=d.redMul(y.redISub(B)).redISub(o.redMul(u)),C=this.z.redMul(f);return this.curve.jpoint(B,S,C)};Ho.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var i=this;for(r=0;r<e;r++)i=i.dbl();return i}var n=this.curve.a,o=this.curve.tinv,s=this.x,f=this.y,d=this.z,p=d.redSqr().redSqr(),u=f.redAdd(f);for(r=0;r<e;r++){var y=s.redSqr(),B=u.redSqr(),S=B.redSqr(),C=y.redAdd(y).redIAdd(y).redIAdd(n.redMul(p)),x=s.redMul(B),_=C.redSqr().redISub(x.redAdd(x)),Q=x.redISub(_),R=C.redMul(Q);R=R.redIAdd(R).redISub(S);var k=u.redMul(d);r+1<e&&(p=p.redMul(S)),s=_,d=k,u=R}return this.curve.jpoint(s,u.redMul(o),d)};Ho.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Ho.prototype._zeroDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),f=this.x.redAdd(o).redSqr().redISub(n).redISub(s);f=f.redIAdd(f);var d=n.redAdd(n).redIAdd(n),p=d.redSqr().redISub(f).redISub(f),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=p,r=d.redMul(f.redISub(p)).redISub(u),i=this.y.redAdd(this.y)}else{var y=this.x.redSqr(),B=this.y.redSqr(),S=B.redSqr(),C=this.x.redAdd(B).redSqr().redISub(y).redISub(S);C=C.redIAdd(C);var x=y.redAdd(y).redIAdd(y),_=x.redSqr(),Q=S.redIAdd(S);Q=Q.redIAdd(Q),Q=Q.redIAdd(Q),e=_.redISub(C).redISub(C),r=x.redMul(C.redISub(e)).redISub(Q),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,r,i)};Ho.prototype._threeDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),f=this.x.redAdd(o).redSqr().redISub(n).redISub(s);f=f.redIAdd(f);var d=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),p=d.redSqr().redISub(f).redISub(f);e=p;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),r=d.redMul(f.redISub(p)).redISub(u),i=this.y.redAdd(this.y)}else{var y=this.z.redSqr(),B=this.y.redSqr(),S=this.x.redMul(B),C=this.x.redSub(y).redMul(this.x.redAdd(y));C=C.redAdd(C).redIAdd(C);var x=S.redIAdd(S);x=x.redIAdd(x);var _=x.redAdd(x);e=C.redSqr().redISub(_),i=this.y.redAdd(this.z).redSqr().redISub(B).redISub(y);var Q=B.redSqr();Q=Q.redIAdd(Q),Q=Q.redIAdd(Q),Q=Q.redIAdd(Q),r=C.redMul(x.redISub(e)).redISub(Q)}return this.curve.jpoint(e,r,i)};Ho.prototype._dbl=function(){var e=this.curve.a,r=this.x,i=this.y,n=this.z,o=n.redSqr().redSqr(),s=r.redSqr(),f=i.redSqr(),d=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),p=r.redAdd(r);p=p.redIAdd(p);var u=p.redMul(f),y=d.redSqr().redISub(u.redAdd(u)),B=u.redISub(y),S=f.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var C=d.redMul(B).redISub(S),x=i.redAdd(i).redMul(n);return this.curve.jpoint(y,C,x)};Ho.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr(),n=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),f=this.x.redAdd(r).redSqr().redISub(e).redISub(n);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(s);var d=f.redSqr(),p=n.redIAdd(n);p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var u=o.redIAdd(f).redSqr().redISub(s).redISub(d).redISub(p),y=r.redMul(u);y=y.redIAdd(y),y=y.redIAdd(y);var B=this.x.redMul(d).redISub(y);B=B.redIAdd(B),B=B.redIAdd(B);var S=this.y.redMul(u.redMul(p.redISub(u)).redISub(f.redMul(d)));S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var C=this.z.redAdd(f).redSqr().redISub(i).redISub(d);return this.curve.jpoint(B,S,C)};Ho.prototype.mul=function(e,r){return e=new Bn(e,r),this.curve._wnafMul(this,e)};Ho.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var n=r.redMul(this.z),o=i.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(n)).cmpn(0)===0};Ho.prototype.eqXToP=function(e){var r=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),o=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(o),this.x.cmp(i)===0)return!0}};Ho.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Ho.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var noe=X((V1t,ioe)=>{"use strict";b();var fv=Wu(),roe=Qt(),G_=hB(),AFe=tc();function dv(t){G_.call(this,"mont",t),this.a=new fv(t.a,16).toRed(this.red),this.b=new fv(t.b,16).toRed(this.red),this.i4=new fv(4).toRed(this.red).redInvm(),this.two=new fv(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}roe(dv,G_);ioe.exports=dv;dv.prototype.validate=function(e){var r=e.normalize().x,i=r.redSqr(),n=i.redMul(r).redAdd(i.redMul(this.a)).redAdd(r),o=n.redSqrt();return o.redSqr().cmp(n)===0};function Eo(t,e,r){G_.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new fv(e,16),this.z=new fv(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}roe(Eo,G_.BasePoint);dv.prototype.decodePoint=function(e,r){return this.point(AFe.toArray(e,r),1)};dv.prototype.point=function(e,r){return new Eo(this,e,r)};dv.prototype.pointFromJSON=function(e){return Eo.fromJSON(this,e)};Eo.prototype.precompute=function(){};Eo.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Eo.fromJSON=function(e,r){return new Eo(e,r[0],r[1]||e.one)};Eo.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Eo.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Eo.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),o=r.redSub(n),s=r.redMul(n),f=o.redMul(n.redAdd(this.curve.a24.redMul(o)));return this.curve.point(s,f)};Eo.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Eo.prototype.diffAdd=function(e,r){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),o=e.x.redAdd(e.z),s=e.x.redSub(e.z),f=s.redMul(i),d=o.redMul(n),p=r.z.redMul(f.redAdd(d).redSqr()),u=r.x.redMul(f.redISub(d).redSqr());return this.curve.point(p,u)};Eo.prototype.mul=function(e){for(var r=e.clone(),i=this,n=this.curve.point(null,null),o=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var f=s.length-1;f>=0;f--)s[f]===0?(i=i.diffAdd(n,o),n=n.dbl()):(n=i.diffAdd(n,o),i=i.dbl());return n};Eo.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Eo.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Eo.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Eo.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Eo.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var aoe=X((Z1t,soe)=>{"use strict";b();var gFe=tc(),Yl=Wu(),ooe=Qt(),j_=hB(),yFe=gFe.assert;function Zu(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,j_.call(this,"edwards",t),this.a=new Yl(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Yl(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Yl(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),yFe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}ooe(Zu,j_);soe.exports=Zu;Zu.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Zu.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Zu.prototype.jpoint=function(e,r,i,n){return this.point(e,r,i,n)};Zu.prototype.pointFromX=function(e,r){e=new Yl(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),o=this.one.redSub(this.c2.redMul(this.d).redMul(i)),s=n.redMul(o.redInvm()),f=s.redSqrt();if(f.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var d=f.fromRed().isOdd();return(r&&!d||!r&&d)&&(f=f.redNeg()),this.point(e,f)};Zu.prototype.pointFromY=function(e,r){e=new Yl(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),o=i.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var f=s.redSqrt();if(f.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return f.fromRed().isOdd()!==r&&(f=f.redNeg()),this.point(f,e)};Zu.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),i=e.y.redSqr(),n=r.redMul(this.a).redAdd(i),o=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(i)));return n.cmp(o)===0};function Ri(t,e,r,i,n){j_.BasePoint.call(this,t,"projective"),e===null&&r===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Yl(e,16),this.y=new Yl(r,16),this.z=i?new Yl(i,16):this.curve.one,this.t=n&&new Yl(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}ooe(Ri,j_.BasePoint);Zu.prototype.pointFromJSON=function(e){return Ri.fromJSON(this,e)};Zu.prototype.point=function(e,r,i,n){return new Ri(this,e,r,i,n)};Ri.fromJSON=function(e,r){return new Ri(e,r[0],r[1],r[2])};Ri.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ri.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Ri.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=n.redAdd(r),f=s.redSub(i),d=n.redSub(r),p=o.redMul(f),u=s.redMul(d),y=o.redMul(d),B=f.redMul(s);return this.curve.point(p,u,B,y)};Ri.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),i=this.y.redSqr(),n,o,s,f,d,p;if(this.curve.twisted){f=this.curve._mulA(r);var u=f.redAdd(i);this.zOne?(n=e.redSub(r).redSub(i).redMul(u.redSub(this.curve.two)),o=u.redMul(f.redSub(i)),s=u.redSqr().redSub(u).redSub(u)):(d=this.z.redSqr(),p=u.redSub(d).redISub(d),n=e.redSub(r).redISub(i).redMul(p),o=u.redMul(f.redSub(i)),s=u.redMul(p))}else f=r.redAdd(i),d=this.curve._mulC(this.z).redSqr(),p=f.redSub(d).redSub(d),n=this.curve._mulC(e.redISub(f)).redMul(p),o=this.curve._mulC(f).redMul(r.redISub(i)),s=f.redMul(p);return this.curve.point(n,o,s)};Ri.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Ri.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),s=i.redSub(r),f=o.redSub(n),d=o.redAdd(n),p=i.redAdd(r),u=s.redMul(f),y=d.redMul(p),B=s.redMul(p),S=f.redMul(d);return this.curve.point(u,y,S,B)};Ri.prototype._projAdd=function(e){var r=this.z.redMul(e.z),i=r.redSqr(),n=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(n).redMul(o),f=i.redSub(s),d=i.redAdd(s),p=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(o),u=r.redMul(f).redMul(p),y,B;return this.curve.twisted?(y=r.redMul(d).redMul(o.redSub(this.curve._mulA(n))),B=f.redMul(d)):(y=r.redMul(d).redMul(o.redSub(n)),B=this.curve._mulC(f).redMul(d)),this.curve.point(u,y,B)};Ri.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Ri.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Ri.prototype.mulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!1)};Ri.prototype.jmulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!0)};Ri.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Ri.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Ri.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Ri.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Ri.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Ri.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}};Ri.prototype.toP=Ri.prototype.normalize;Ri.prototype.mixedAdd=Ri.prototype.add});var ZF=X(coe=>{"use strict";b();var z_=coe;z_.base=hB();z_.short=toe();z_.mont=noe();z_.edwards=aoe()});var bd=X(_i=>{"use strict";b();var mFe=ec(),IFe=Qt();_i.inherits=IFe;function wFe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function vFe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?r[i++]=o:o<2048?(r[i++]=o>>6|192,r[i++]=o&63|128):wFe(t,n)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++n)&1023),r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=o&63|128):(r[i++]=o>>12|224,r[i++]=o>>6&63|128,r[i++]=o&63|128)}else for(n=0;n<t.length;n++)r[n]=t[n]|0;return r}_i.toArray=vFe;function bFe(t){for(var e="",r=0;r<t.length;r++)e+=doe(t[r].toString(16));return e}_i.toHex=bFe;function foe(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}_i.htonl=foe;function EFe(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];e==="little"&&(n=foe(n)),r+=uoe(n.toString(16))}return r}_i.toHex32=EFe;function doe(t){return t.length===1?"0"+t:t}_i.zero2=doe;function uoe(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}_i.zero8=uoe;function BFe(t,e,r,i){var n=r-e;mFe(n%4===0);for(var o=new Array(n/4),s=0,f=e;s<o.length;s++,f+=4){var d;i==="big"?d=t[f]<<24|t[f+1]<<16|t[f+2]<<8|t[f+3]:d=t[f+3]<<24|t[f+2]<<16|t[f+1]<<8|t[f],o[s]=d>>>0}return o}_i.join32=BFe;function CFe(t,e){for(var r=new Array(t.length*4),i=0,n=0;i<t.length;i++,n+=4){var o=t[i];e==="big"?(r[n]=o>>>24,r[n+1]=o>>>16&255,r[n+2]=o>>>8&255,r[n+3]=o&255):(r[n+3]=o>>>24,r[n+2]=o>>>16&255,r[n+1]=o>>>8&255,r[n]=o&255)}return r}_i.split32=CFe;function xFe(t,e){return t>>>e|t<<32-e}_i.rotr32=xFe;function SFe(t,e){return t<<e|t>>>32-e}_i.rotl32=SFe;function _Fe(t,e){return t+e>>>0}_i.sum32=_Fe;function QFe(t,e,r){return t+e+r>>>0}_i.sum32_3=QFe;function DFe(t,e,r,i){return t+e+r+i>>>0}_i.sum32_4=DFe;function MFe(t,e,r,i,n){return t+e+r+i+n>>>0}_i.sum32_5=MFe;function kFe(t,e,r,i){var n=t[e],o=t[e+1],s=i+o>>>0,f=(s<i?1:0)+r+n;t[e]=f>>>0,t[e+1]=s}_i.sum64=kFe;function TFe(t,e,r,i){var n=e+i>>>0,o=(n<e?1:0)+t+r;return o>>>0}_i.sum64_hi=TFe;function RFe(t,e,r,i){var n=e+i;return n>>>0}_i.sum64_lo=RFe;function UFe(t,e,r,i,n,o,s,f){var d=0,p=e;p=p+i>>>0,d+=p<e?1:0,p=p+o>>>0,d+=p<o?1:0,p=p+f>>>0,d+=p<f?1:0;var u=t+r+n+s+d;return u>>>0}_i.sum64_4_hi=UFe;function FFe(t,e,r,i,n,o,s,f){var d=e+i+o+f;return d>>>0}_i.sum64_4_lo=FFe;function NFe(t,e,r,i,n,o,s,f,d,p){var u=0,y=e;y=y+i>>>0,u+=y<e?1:0,y=y+o>>>0,u+=y<o?1:0,y=y+f>>>0,u+=y<f?1:0,y=y+p>>>0,u+=y<p?1:0;var B=t+r+n+s+d+u;return B>>>0}_i.sum64_5_hi=NFe;function PFe(t,e,r,i,n,o,s,f,d,p){var u=e+i+o+f+p;return u>>>0}_i.sum64_5_lo=PFe;function OFe(t,e,r){var i=e<<32-r|t>>>r;return i>>>0}_i.rotr64_hi=OFe;function KFe(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}_i.rotr64_lo=KFe;function qFe(t,e,r){return t>>>r}_i.shr64_hi=qFe;function LFe(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}_i.shr64_lo=LFe});var uv=X(loe=>{"use strict";b();var hoe=bd(),HFe=ec();function Y_(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}loe.BlockHash=Y_;Y_.prototype.update=function(e,r){if(e=hoe.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=hoe.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};Y_.prototype.digest=function(e){return this.update(this._pad()),HFe(this.pending===null),this._digest(e)};Y_.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,i=r-(e+this.padLength)%r,n=new Array(i+this.padLength);n[0]=128;for(var o=1;o<i;o++)n[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)n[o++]=0;n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=e>>>24&255,n[o++]=e>>>16&255,n[o++]=e>>>8&255,n[o++]=e&255}else for(n[o++]=e&255,n[o++]=e>>>8&255,n[o++]=e>>>16&255,n[o++]=e>>>24&255,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,s=8;s<this.padLength;s++)n[o++]=0;return n}});var $F=X(Jl=>{"use strict";b();var GFe=bd(),$u=GFe.rotr32;function jFe(t,e,r,i){if(t===0)return poe(e,r,i);if(t===1||t===3)return goe(e,r,i);if(t===2)return Aoe(e,r,i)}Jl.ft_1=jFe;function poe(t,e,r){return t&e^~t&r}Jl.ch32=poe;function Aoe(t,e,r){return t&e^t&r^e&r}Jl.maj32=Aoe;function goe(t,e,r){return t^e^r}Jl.p32=goe;function zFe(t){return $u(t,2)^$u(t,13)^$u(t,22)}Jl.s0_256=zFe;function YFe(t){return $u(t,6)^$u(t,11)^$u(t,25)}Jl.s1_256=YFe;function JFe(t){return $u(t,7)^$u(t,18)^t>>>3}Jl.g0_256=JFe;function VFe(t){return $u(t,17)^$u(t,19)^t>>>10}Jl.g1_256=VFe});var Ioe=X((aEt,moe)=>{"use strict";b();var hv=bd(),WFe=uv(),ZFe=$F(),XF=hv.rotl32,lB=hv.sum32,$Fe=hv.sum32_5,XFe=ZFe.ft_1,yoe=WFe.BlockHash,eNe=[1518500249,1859775393,2400959708,3395469782];function Xu(){if(!(this instanceof Xu))return new Xu;yoe.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}hv.inherits(Xu,yoe);moe.exports=Xu;Xu.blockSize=512;Xu.outSize=160;Xu.hmacStrength=80;Xu.padLength=64;Xu.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=XF(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var o=this.h[0],s=this.h[1],f=this.h[2],d=this.h[3],p=this.h[4];for(n=0;n<i.length;n++){var u=~~(n/20),y=$Fe(XF(o,5),XFe(u,s,f,d),p,i[n],eNe[u]);p=d,d=f,f=XF(s,30),s=o,o=y}this.h[0]=lB(this.h[0],o),this.h[1]=lB(this.h[1],s),this.h[2]=lB(this.h[2],f),this.h[3]=lB(this.h[3],d),this.h[4]=lB(this.h[4],p)};Xu.prototype._digest=function(e){return e==="hex"?hv.toHex32(this.h,"big"):hv.split32(this.h,"big")}});var eN=X((fEt,voe)=>{"use strict";b();var lv=bd(),tNe=uv(),pv=$F(),rNe=ec(),Ed=lv.sum32,iNe=lv.sum32_4,nNe=lv.sum32_5,oNe=pv.ch32,sNe=pv.maj32,aNe=pv.s0_256,cNe=pv.s1_256,fNe=pv.g0_256,dNe=pv.g1_256,woe=tNe.BlockHash,uNe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function eh(){if(!(this instanceof eh))return new eh;woe.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=uNe,this.W=new Array(64)}lv.inherits(eh,woe);voe.exports=eh;eh.blockSize=512;eh.outSize=256;eh.hmacStrength=192;eh.padLength=64;eh.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=iNe(dNe(i[n-2]),i[n-7],fNe(i[n-15]),i[n-16]);var o=this.h[0],s=this.h[1],f=this.h[2],d=this.h[3],p=this.h[4],u=this.h[5],y=this.h[6],B=this.h[7];for(rNe(this.k.length===i.length),n=0;n<i.length;n++){var S=nNe(B,cNe(p),oNe(p,u,y),this.k[n],i[n]),C=Ed(aNe(o),sNe(o,s,f));B=y,y=u,u=p,p=Ed(d,S),d=f,f=s,s=o,o=Ed(S,C)}this.h[0]=Ed(this.h[0],o),this.h[1]=Ed(this.h[1],s),this.h[2]=Ed(this.h[2],f),this.h[3]=Ed(this.h[3],d),this.h[4]=Ed(this.h[4],p),this.h[5]=Ed(this.h[5],u),this.h[6]=Ed(this.h[6],y),this.h[7]=Ed(this.h[7],B)};eh.prototype._digest=function(e){return e==="hex"?lv.toHex32(this.h,"big"):lv.split32(this.h,"big")}});var Boe=X((uEt,Eoe)=>{"use strict";b();var tN=bd(),boe=eN();function Vl(){if(!(this instanceof Vl))return new Vl;boe.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}tN.inherits(Vl,boe);Eoe.exports=Vl;Vl.blockSize=512;Vl.outSize=224;Vl.hmacStrength=192;Vl.padLength=64;Vl.prototype._digest=function(e){return e==="hex"?tN.toHex32(this.h.slice(0,7),"big"):tN.split32(this.h.slice(0,7),"big")}});var nN=X((lEt,_oe)=>{"use strict";b();var xa=bd(),hNe=uv(),lNe=ec(),th=xa.rotr64_hi,rh=xa.rotr64_lo,Coe=xa.shr64_hi,xoe=xa.shr64_lo,rA=xa.sum64,rN=xa.sum64_hi,iN=xa.sum64_lo,pNe=xa.sum64_4_hi,ANe=xa.sum64_4_lo,gNe=xa.sum64_5_hi,yNe=xa.sum64_5_lo,Soe=hNe.BlockHash,mNe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Bd(){if(!(this instanceof Bd))return new Bd;Soe.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=mNe,this.W=new Array(160)}xa.inherits(Bd,Soe);_oe.exports=Bd;Bd.blockSize=1024;Bd.outSize=512;Bd.hmacStrength=192;Bd.padLength=128;Bd.prototype._prepareBlock=function(e,r){for(var i=this.W,n=0;n<32;n++)i[n]=e[r+n];for(;n<i.length;n+=2){var o=QNe(i[n-4],i[n-3]),s=DNe(i[n-4],i[n-3]),f=i[n-14],d=i[n-13],p=SNe(i[n-30],i[n-29]),u=_Ne(i[n-30],i[n-29]),y=i[n-32],B=i[n-31];i[n]=pNe(o,s,f,d,p,u,y,B),i[n+1]=ANe(o,s,f,d,p,u,y,B)}};Bd.prototype._update=function(e,r){this._prepareBlock(e,r);var i=this.W,n=this.h[0],o=this.h[1],s=this.h[2],f=this.h[3],d=this.h[4],p=this.h[5],u=this.h[6],y=this.h[7],B=this.h[8],S=this.h[9],C=this.h[10],x=this.h[11],_=this.h[12],Q=this.h[13],R=this.h[14],k=this.h[15];lNe(this.k.length===i.length);for(var K=0;K<i.length;K+=2){var T=R,L=k,H=CNe(B,S),O=xNe(B,S),G=INe(B,S,C,x,_,Q),v=wNe(B,S,C,x,_,Q),a=this.k[K],h=this.k[K+1],g=i[K],l=i[K+1],A=gNe(T,L,H,O,G,v,a,h,g,l),w=yNe(T,L,H,O,G,v,a,h,g,l);T=ENe(n,o),L=BNe(n,o),H=vNe(n,o,s,f,d,p),O=bNe(n,o,s,f,d,p);var E=rN(T,L,H,O),m=iN(T,L,H,O);R=_,k=Q,_=C,Q=x,C=B,x=S,B=rN(u,y,A,w),S=iN(y,y,A,w),u=d,y=p,d=s,p=f,s=n,f=o,n=rN(A,w,E,m),o=iN(A,w,E,m)}rA(this.h,0,n,o),rA(this.h,2,s,f),rA(this.h,4,d,p),rA(this.h,6,u,y),rA(this.h,8,B,S),rA(this.h,10,C,x),rA(this.h,12,_,Q),rA(this.h,14,R,k)};Bd.prototype._digest=function(e){return e==="hex"?xa.toHex32(this.h,"big"):xa.split32(this.h,"big")};function INe(t,e,r,i,n){var o=t&r^~t&n;return o<0&&(o+=4294967296),o}function wNe(t,e,r,i,n,o){var s=e&i^~e&o;return s<0&&(s+=4294967296),s}function vNe(t,e,r,i,n){var o=t&r^t&n^r&n;return o<0&&(o+=4294967296),o}function bNe(t,e,r,i,n,o){var s=e&i^e&o^i&o;return s<0&&(s+=4294967296),s}function ENe(t,e){var r=th(t,e,28),i=th(e,t,2),n=th(e,t,7),o=r^i^n;return o<0&&(o+=4294967296),o}function BNe(t,e){var r=rh(t,e,28),i=rh(e,t,2),n=rh(e,t,7),o=r^i^n;return o<0&&(o+=4294967296),o}function CNe(t,e){var r=th(t,e,14),i=th(t,e,18),n=th(e,t,9),o=r^i^n;return o<0&&(o+=4294967296),o}function xNe(t,e){var r=rh(t,e,14),i=rh(t,e,18),n=rh(e,t,9),o=r^i^n;return o<0&&(o+=4294967296),o}function SNe(t,e){var r=th(t,e,1),i=th(t,e,8),n=Coe(t,e,7),o=r^i^n;return o<0&&(o+=4294967296),o}function _Ne(t,e){var r=rh(t,e,1),i=rh(t,e,8),n=xoe(t,e,7),o=r^i^n;return o<0&&(o+=4294967296),o}function QNe(t,e){var r=th(t,e,19),i=th(e,t,29),n=Coe(t,e,6),o=r^i^n;return o<0&&(o+=4294967296),o}function DNe(t,e){var r=rh(t,e,19),i=rh(e,t,29),n=xoe(t,e,6),o=r^i^n;return o<0&&(o+=4294967296),o}});var Moe=X((AEt,Doe)=>{"use strict";b();var oN=bd(),Qoe=nN();function Wl(){if(!(this instanceof Wl))return new Wl;Qoe.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}oN.inherits(Wl,Qoe);Doe.exports=Wl;Wl.blockSize=1024;Wl.outSize=384;Wl.hmacStrength=192;Wl.padLength=128;Wl.prototype._digest=function(e){return e==="hex"?oN.toHex32(this.h.slice(0,12),"big"):oN.split32(this.h.slice(0,12),"big")}});var koe=X(Av=>{"use strict";b();Av.sha1=Ioe();Av.sha224=Boe();Av.sha256=eN();Av.sha384=Moe();Av.sha512=nN()});var Poe=X(Noe=>{"use strict";b();var am=bd(),MNe=uv(),J_=am.rotl32,Toe=am.sum32,pB=am.sum32_3,Roe=am.sum32_4,Foe=MNe.BlockHash;function ih(){if(!(this instanceof ih))return new ih;Foe.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}am.inherits(ih,Foe);Noe.ripemd160=ih;ih.blockSize=512;ih.outSize=160;ih.hmacStrength=192;ih.padLength=64;ih.prototype._update=function(e,r){for(var i=this.h[0],n=this.h[1],o=this.h[2],s=this.h[3],f=this.h[4],d=i,p=n,u=o,y=s,B=f,S=0;S<80;S++){var C=Toe(J_(Roe(i,Uoe(S,n,o,s),e[RNe[S]+r],kNe(S)),FNe[S]),f);i=f,f=s,s=J_(o,10),o=n,n=C,C=Toe(J_(Roe(d,Uoe(79-S,p,u,y),e[UNe[S]+r],TNe(S)),NNe[S]),B),d=B,B=y,y=J_(u,10),u=p,p=C}C=pB(this.h[1],o,y),this.h[1]=pB(this.h[2],s,B),this.h[2]=pB(this.h[3],f,d),this.h[3]=pB(this.h[4],i,p),this.h[4]=pB(this.h[0],n,u),this.h[0]=C};ih.prototype._digest=function(e){return e==="hex"?am.toHex32(this.h,"little"):am.split32(this.h,"little")};function Uoe(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function kNe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function TNe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var RNe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],UNe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],FNe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],NNe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var Koe=X((vEt,Ooe)=>{"use strict";b();var PNe=bd(),ONe=ec();function gv(t,e,r){if(!(this instanceof gv))return new gv(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(PNe.toArray(e,r))}Ooe.exports=gv;gv.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),ONe(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};gv.prototype.update=function(e,r){return this.inner.update(e,r),this};gv.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var V_=X(qoe=>{b();var Go=qoe;Go.utils=bd();Go.common=uv();Go.sha=koe();Go.ripemd=Poe();Go.hmac=Koe();Go.sha1=Go.sha.sha1;Go.sha256=Go.sha.sha256;Go.sha224=Go.sha.sha224;Go.sha384=Go.sha.sha384;Go.sha512=Go.sha.sha512;Go.ripemd160=Go.ripemd.ripemd160});var Hoe=X((CEt,Loe)=>{b();Loe.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var W_=X(zoe=>{"use strict";b();var aN=zoe,iA=V_(),sN=ZF(),KNe=tc(),Goe=KNe.assert;function joe(t){t.type==="short"?this.curve=new sN.short(t):t.type==="edwards"?this.curve=new sN.edwards(t):this.curve=new sN.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,Goe(this.g.validate(),"Invalid curve"),Goe(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}aN.PresetCurve=joe;function nA(t,e){Object.defineProperty(aN,t,{configurable:!0,enumerable:!0,get:function(){var r=new joe(e);return Object.defineProperty(aN,t,{configurable:!0,enumerable:!0,value:r}),r}})}nA("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:iA.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});nA("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:iA.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});nA("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:iA.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});nA("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:iA.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});nA("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:iA.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});nA("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:iA.sha256,gRed:!1,g:["9"]});nA("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:iA.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var cN;try{cN=Hoe()}catch{cN=void 0}nA("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:iA.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",cN]})});var Voe=X((QEt,Joe)=>{"use strict";b();var qNe=V_(),cm=VF(),Yoe=ec();function oA(t){if(!(this instanceof oA))return new oA(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=cm.toArray(t.entropy,t.entropyEnc||"hex"),r=cm.toArray(t.nonce,t.nonceEnc||"hex"),i=cm.toArray(t.pers,t.persEnc||"hex");Yoe(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}Joe.exports=oA;oA.prototype._init=function(e,r,i){var n=e.concat(r).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};oA.prototype._hmac=function(){return new qNe.hmac(this.hash,this.K)};oA.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};oA.prototype.reseed=function(e,r,i,n){typeof r!="string"&&(n=i,i=r,r=null),e=cm.toArray(e,r),i=cm.toArray(i,n),Yoe(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};oA.prototype.generate=function(e,r,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(n=i,i=r,r=null),i&&(i=cm.toArray(i,n||"hex"),this._update(i));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(i),this._reseed++,cm.encode(s,r)}});var Zoe=X((MEt,Woe)=>{"use strict";b();var LNe=Wu(),HNe=tc(),fN=HNe.assert;function ws(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}Woe.exports=ws;ws.fromPublic=function(e,r,i){return r instanceof ws?r:new ws(e,{pub:r,pubEnc:i})};ws.fromPrivate=function(e,r,i){return r instanceof ws?r:new ws(e,{priv:r,privEnc:i})};ws.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ws.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ws.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ws.prototype._importPrivate=function(e,r){this.priv=new LNe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ws.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?fN(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&fN(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ws.prototype.derive=function(e){return e.validate()||fN(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ws.prototype.sign=function(e,r,i){return this.ec.sign(e,this,r,i)};ws.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};ws.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var ese=X((TEt,Xoe)=>{"use strict";b();var Z_=Wu(),hN=tc(),GNe=hN.assert;function $_(t,e){if(t instanceof $_)return t;this._importDER(t,e)||(GNe(t.r&&t.s,"Signature without r or s"),this.r=new Z_(t.r,16),this.s=new Z_(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}Xoe.exports=$_;function jNe(){this.place=0}function dN(t,e){var r=t[e.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,o=0,s=e.place;o<i;o++,s++)n<<=8,n|=t[s],n>>>=0;return n<=127?!1:(e.place=s,n)}function $oe(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}$_.prototype._importDER=function(e,r){e=hN.toArray(e,r);var i=new jNe;if(e[i.place++]!==48)return!1;var n=dN(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var o=dN(e,i);if(o===!1)return!1;var s=e.slice(i.place,o+i.place);if(i.place+=o,e[i.place++]!==2)return!1;var f=dN(e,i);if(f===!1||e.length!==f+i.place)return!1;var d=e.slice(i.place,f+i.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(d[0]===0)if(d[1]&128)d=d.slice(1);else return!1;return this.r=new Z_(s),this.s=new Z_(d),this.recoveryParam=null,!0};function uN(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}$_.prototype.toDER=function(e){var r=this.r.toArray(),i=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),i[0]&128&&(i=[0].concat(i)),r=$oe(r),i=$oe(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];uN(n,r.length),n=n.concat(r),n.push(2),uN(n,i.length);var o=n.concat(i),s=[48];return uN(s,o.length),s=s.concat(o),hN.encode(s,e)}});var nse=X((UEt,ise)=>{"use strict";b();var fm=Wu(),tse=Voe(),zNe=tc(),lN=W_(),YNe=I_(),rse=zNe.assert,pN=Zoe(),X_=ese();function Af(t){if(!(this instanceof Af))return new Af(t);typeof t=="string"&&(rse(Object.prototype.hasOwnProperty.call(lN,t),"Unknown curve "+t),t=lN[t]),t instanceof lN.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}ise.exports=Af;Af.prototype.keyPair=function(e){return new pN(this,e)};Af.prototype.keyFromPrivate=function(e,r){return pN.fromPrivate(this,e,r)};Af.prototype.keyFromPublic=function(e,r){return pN.fromPublic(this,e,r)};Af.prototype.genKeyPair=function(e){e||(e={});for(var r=new tse({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||YNe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new fm(2));;){var o=new fm(r.generate(i));if(!(o.cmp(n)>0))return o.iaddn(1),this.keyFromPrivate(o)}};Af.prototype._truncateToN=function(e,r){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Af.prototype.sign=function(e,r,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),r=this.keyFromPrivate(r,i),e=this._truncateToN(new fm(e,16));for(var o=this.n.byteLength(),s=r.getPrivate().toArray("be",o),f=e.toArray("be",o),d=new tse({hash:this.hash,entropy:s,nonce:f,pers:n.pers,persEnc:n.persEnc||"utf8"}),p=this.n.sub(new fm(1)),u=0;;u++){var y=n.k?n.k(u):new fm(d.generate(this.n.byteLength()));if(y=this._truncateToN(y,!0),!(y.cmpn(1)<=0||y.cmp(p)>=0)){var B=this.g.mul(y);if(!B.isInfinity()){var S=B.getX(),C=S.umod(this.n);if(C.cmpn(0)!==0){var x=y.invm(this.n).mul(C.mul(r.getPrivate()).iadd(e));if(x=x.umod(this.n),x.cmpn(0)!==0){var _=(B.getY().isOdd()?1:0)|(S.cmp(C)!==0?2:0);return n.canonical&&x.cmp(this.nh)>0&&(x=this.n.sub(x),_^=1),new X_({r:C,s:x,recoveryParam:_})}}}}}};Af.prototype.verify=function(e,r,i,n){e=this._truncateToN(new fm(e,16)),i=this.keyFromPublic(i,n),r=new X_(r,"hex");var o=r.r,s=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var f=s.invm(this.n),d=f.mul(e).umod(this.n),p=f.mul(o).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(d,i.getPublic(),p),u.isInfinity()?!1:u.eqXToP(o)):(u=this.g.mulAdd(d,i.getPublic(),p),u.isInfinity()?!1:u.getX().umod(this.n).cmp(o)===0)};Af.prototype.recoverPubKey=function(t,e,r,i){rse((3&r)===r,"The recovery param is more than two bits"),e=new X_(e,i);var n=this.n,o=new fm(t),s=e.r,f=e.s,d=r&1,p=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&p)throw new Error("Unable to find sencond key candinate");p?s=this.curve.pointFromX(s.add(this.curve.n),d):s=this.curve.pointFromX(s,d);var u=e.r.invm(n),y=n.sub(o).mul(u).umod(n),B=f.mul(u).umod(n);return this.g.mulAdd(y,s,B)};Af.prototype.getKeyRecoveryParam=function(t,e,r,i){if(e=new X_(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var o;try{o=this.recoverPubKey(t,e,n)}catch{continue}if(o.eq(r))return n}throw new Error("Unable to find valid recovery factor")}});var cse=X((NEt,ase)=>{"use strict";b();var AB=tc(),sse=AB.assert,ose=AB.parseBytes,yv=AB.cachedProperty;function Bo(t,e){this.eddsa=t,this._secret=ose(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=ose(e.pub)}Bo.fromPublic=function(e,r){return r instanceof Bo?r:new Bo(e,{pub:r})};Bo.fromSecret=function(e,r){return r instanceof Bo?r:new Bo(e,{secret:r})};Bo.prototype.secret=function(){return this._secret};yv(Bo,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});yv(Bo,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});yv(Bo,"privBytes",function(){var e=this.eddsa,r=this.hash(),i=e.encodingLength-1,n=r.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n});yv(Bo,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});yv(Bo,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});yv(Bo,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Bo.prototype.sign=function(e){return sse(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Bo.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Bo.prototype.getSecret=function(e){return sse(this._secret,"KeyPair is public only"),AB.encode(this.secret(),e)};Bo.prototype.getPublic=function(e){return AB.encode(this.pubBytes(),e)};ase.exports=Bo});var dse=X((OEt,fse)=>{"use strict";b();var JNe=Wu(),eQ=tc(),VNe=eQ.assert,tQ=eQ.cachedProperty,WNe=eQ.parseBytes;function dm(t,e){this.eddsa=t,typeof e!="object"&&(e=WNe(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),VNe(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof JNe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}tQ(dm,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});tQ(dm,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});tQ(dm,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});tQ(dm,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});dm.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};dm.prototype.toHex=function(){return eQ.encode(this.toBytes(),"hex").toUpperCase()};fse.exports=dm});var Ase=X((qEt,pse)=>{"use strict";b();var ZNe=V_(),$Ne=W_(),mv=tc(),XNe=mv.assert,hse=mv.parseBytes,lse=cse(),use=dse();function Sa(t){if(XNe(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Sa))return new Sa(t);t=$Ne[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=ZNe.sha512}pse.exports=Sa;Sa.prototype.sign=function(e,r){e=hse(e);var i=this.keyFromSecret(r),n=this.hashInt(i.messagePrefix(),e),o=this.g.mul(n),s=this.encodePoint(o),f=this.hashInt(s,i.pubBytes(),e).mul(i.priv()),d=n.add(f).umod(this.curve.n);return this.makeSignature({R:o,S:d,Rencoded:s})};Sa.prototype.verify=function(e,r,i){e=hse(e),r=this.makeSignature(r);var n=this.keyFromPublic(i),o=this.hashInt(r.Rencoded(),n.pubBytes(),e),s=this.g.mul(r.S()),f=r.R().add(n.pub().mul(o));return f.eq(s)};Sa.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return mv.intFromLE(e.digest()).umod(this.curve.n)};Sa.prototype.keyFromPublic=function(e){return lse.fromPublic(this,e)};Sa.prototype.keyFromSecret=function(e){return lse.fromSecret(this,e)};Sa.prototype.makeSignature=function(e){return e instanceof use?e:new use(this,e)};Sa.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Sa.prototype.decodePoint=function(e){e=mv.parseBytes(e);var r=e.length-1,i=e.slice(0,r).concat(e[r]&-129),n=(e[r]&128)!==0,o=mv.intFromLE(i);return this.curve.pointFromY(o,n)};Sa.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Sa.prototype.decodeInt=function(e){return mv.intFromLE(e)};Sa.prototype.isPoint=function(e){return e instanceof this.pointClass}});var rQ=X(gse=>{"use strict";b();var um=gse;um.version=Yne().version;um.utils=tc();um.rand=I_();um.curve=ZF();um.curves=W_();um.ec=nse();um.eddsa=Ase()});var gN=X((yse,AN)=>{b();(function(t,e){"use strict";function r(v,a){if(!v)throw new Error(a||"Assertion failed")}function i(v,a){v.super_=a;var h=function(){};h.prototype=a.prototype,v.prototype=new h,v.prototype.constructor=v}function n(v,a,h){if(n.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((a==="le"||a==="be")&&(h=a,a=10),this._init(v||0,a||10,h||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Vp().Buffer}catch{}n.isBN=function(a){return a instanceof n?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===n.wordSize&&Array.isArray(a.words)},n.max=function(a,h){return a.cmp(h)>0?a:h},n.min=function(a,h){return a.cmp(h)<0?a:h},n.prototype._init=function(a,h,g){if(typeof a=="number")return this._initNumber(a,h,g);if(typeof a=="object")return this._initArray(a,h,g);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),a=a.toString().replace(/\s+/g,"");var l=0;a[0]==="-"&&(l++,this.negative=1),l<a.length&&(h===16?this._parseHex(a,l,g):(this._parseBase(a,h,l),g==="le"&&this._initArray(this.toArray(),h,g)))},n.prototype._initNumber=function(a,h,g){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),h,g)},n.prototype._initArray=function(a,h,g){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var A,w,E=0;if(g==="be")for(l=a.length-1,A=0;l>=0;l-=3)w=a[l]|a[l-1]<<8|a[l-2]<<16,this.words[A]|=w<<E&67108863,this.words[A+1]=w>>>26-E&67108863,E+=24,E>=26&&(E-=26,A++);else if(g==="le")for(l=0,A=0;l<a.length;l+=3)w=a[l]|a[l+1]<<8|a[l+2]<<16,this.words[A]|=w<<E&67108863,this.words[A+1]=w>>>26-E&67108863,E+=24,E>=26&&(E-=26,A++);return this.strip()};function s(v,a){var h=v.charCodeAt(a);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function f(v,a,h){var g=s(v,h);return h-1>=a&&(g|=s(v,h-1)<<4),g}n.prototype._parseHex=function(a,h,g){this.length=Math.ceil((a.length-h)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var A=0,w=0,E;if(g==="be")for(l=a.length-1;l>=h;l-=2)E=f(a,h,l)<<A,this.words[w]|=E&67108863,A>=18?(A-=18,w+=1,this.words[w]|=E>>>26):A+=8;else{var m=a.length-h;for(l=m%2===0?h+1:h;l<a.length;l+=2)E=f(a,h,l)<<A,this.words[w]|=E&67108863,A>=18?(A-=18,w+=1,this.words[w]|=E>>>26):A+=8}this.strip()};function d(v,a,h,g){for(var l=0,A=Math.min(v.length,h),w=a;w<A;w++){var E=v.charCodeAt(w)-48;l*=g,E>=49?l+=E-49+10:E>=17?l+=E-17+10:l+=E}return l}n.prototype._parseBase=function(a,h,g){this.words=[0],this.length=1;for(var l=0,A=1;A<=67108863;A*=h)l++;l--,A=A/h|0;for(var w=a.length-g,E=w%l,m=Math.min(w,w-E)+g,c=0,I=g;I<m;I+=l)c=d(a,I,I+l,h),this.imuln(A),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(E!==0){var M=1;for(c=d(a,I,a.length,h),I=0;I<E;I++)M*=h;this.imuln(M),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},n.prototype.copy=function(a){a.words=new Array(this.length);for(var h=0;h<this.length;h++)a.words[h]=this.words[h];a.length=this.length,a.negative=this.negative,a.red=this.red},n.prototype.clone=function(){var a=new n(null);return this.copy(a),a},n.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(a,h){a=a||10,h=h|0||1;var g;if(a===16||a==="hex"){g="";for(var l=0,A=0,w=0;w<this.length;w++){var E=this.words[w],m=((E<<l|A)&16777215).toString(16);A=E>>>24-l&16777215,A!==0||w!==this.length-1?g=p[6-m.length]+m+g:g=m+g,l+=2,l>=26&&(l-=26,w--)}for(A!==0&&(g=A.toString(16)+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(a===(a|0)&&a>=2&&a<=36){var c=u[a],I=y[a];g="";var M=this.clone();for(M.negative=0;!M.isZero();){var D=M.modn(I).toString(a);M=M.idivn(I),M.isZero()?g=D+g:g=p[c-D.length]+D+g}for(this.isZero()&&(g="0"+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(a,h){return r(typeof o<"u"),this.toArrayLike(o,a,h)},n.prototype.toArray=function(a,h){return this.toArrayLike(Array,a,h)},n.prototype.toArrayLike=function(a,h,g){var l=this.byteLength(),A=g||Math.max(1,l);r(l<=A,"byte array longer than desired length"),r(A>0,"Requested array length <= 0"),this.strip();var w=h==="le",E=new a(A),m,c,I=this.clone();if(w){for(c=0;!I.isZero();c++)m=I.andln(255),I.iushrn(8),E[c]=m;for(;c<A;c++)E[c]=0}else{for(c=0;c<A-l;c++)E[c]=0;for(c=0;!I.isZero();c++)m=I.andln(255),I.iushrn(8),E[A-c-1]=m}return E},Math.clz32?n.prototype._countBits=function(a){return 32-Math.clz32(a)}:n.prototype._countBits=function(a){var h=a,g=0;return h>=4096&&(g+=13,h>>>=13),h>=64&&(g+=7,h>>>=7),h>=8&&(g+=4,h>>>=4),h>=2&&(g+=2,h>>>=2),g+h},n.prototype._zeroBits=function(a){if(a===0)return 26;var h=a,g=0;return h&8191||(g+=13,h>>>=13),h&127||(g+=7,h>>>=7),h&15||(g+=4,h>>>=4),h&3||(g+=2,h>>>=2),h&1||g++,g},n.prototype.bitLength=function(){var a=this.words[this.length-1],h=this._countBits(a);return(this.length-1)*26+h};function B(v){for(var a=new Array(v.bitLength()),h=0;h<a.length;h++){var g=h/26|0,l=h%26;a[h]=(v.words[g]&1<<l)>>>l}return a}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,h=0;h<this.length;h++){var g=this._zeroBits(this.words[h]);if(a+=g,g!==26)break}return a},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},n.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var h=0;h<a.length;h++)this.words[h]=this.words[h]|a.words[h];return this.strip()},n.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},n.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},n.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},n.prototype.iuand=function(a){var h;this.length>a.length?h=a:h=this;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]&a.words[g];return this.length=h.length,this.strip()},n.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},n.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},n.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},n.prototype.iuxor=function(a){var h,g;this.length>a.length?(h=this,g=a):(h=a,g=this);for(var l=0;l<g.length;l++)this.words[l]=h.words[l]^g.words[l];if(this!==h)for(;l<h.length;l++)this.words[l]=h.words[l];return this.length=h.length,this.strip()},n.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},n.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},n.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},n.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var h=Math.ceil(a/26)|0,g=a%26;this._expand(h),g>0&&h--;for(var l=0;l<h;l++)this.words[l]=~this.words[l]&67108863;return g>0&&(this.words[l]=~this.words[l]&67108863>>26-g),this.strip()},n.prototype.notn=function(a){return this.clone().inotn(a)},n.prototype.setn=function(a,h){r(typeof a=="number"&&a>=0);var g=a/26|0,l=a%26;return this._expand(g+1),h?this.words[g]=this.words[g]|1<<l:this.words[g]=this.words[g]&~(1<<l),this.strip()},n.prototype.iadd=function(a){var h;if(this.negative!==0&&a.negative===0)return this.negative=0,h=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,h=this.isub(a),a.negative=1,h._normSign();var g,l;this.length>a.length?(g=this,l=a):(g=a,l=this);for(var A=0,w=0;w<l.length;w++)h=(g.words[w]|0)+(l.words[w]|0)+A,this.words[w]=h&67108863,A=h>>>26;for(;A!==0&&w<g.length;w++)h=(g.words[w]|0)+A,this.words[w]=h&67108863,A=h>>>26;if(this.length=g.length,A!==0)this.words[this.length]=A,this.length++;else if(g!==this)for(;w<g.length;w++)this.words[w]=g.words[w];return this},n.prototype.add=function(a){var h;return a.negative!==0&&this.negative===0?(a.negative=0,h=this.sub(a),a.negative^=1,h):a.negative===0&&this.negative!==0?(this.negative=0,h=a.sub(this),this.negative=1,h):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},n.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var h=this.iadd(a);return a.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g=this.cmp(a);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,A;g>0?(l=this,A=a):(l=a,A=this);for(var w=0,E=0;E<A.length;E++)h=(l.words[E]|0)-(A.words[E]|0)+w,w=h>>26,this.words[E]=h&67108863;for(;w!==0&&E<l.length;E++)h=(l.words[E]|0)+w,w=h>>26,this.words[E]=h&67108863;if(w===0&&E<l.length&&l!==this)for(;E<l.length;E++)this.words[E]=l.words[E];return this.length=Math.max(this.length,E),l!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(a){return this.clone().isub(a)};function S(v,a,h){h.negative=a.negative^v.negative;var g=v.length+a.length|0;h.length=g,g=g-1|0;var l=v.words[0]|0,A=a.words[0]|0,w=l*A,E=w&67108863,m=w/67108864|0;h.words[0]=E;for(var c=1;c<g;c++){for(var I=m>>>26,M=m&67108863,D=Math.min(c,a.length-1),P=Math.max(0,c-v.length+1);P<=D;P++){var j=c-P|0;l=v.words[j]|0,A=a.words[P]|0,w=l*A+M,I+=w/67108864|0,M=w&67108863}h.words[c]=M|0,m=I|0}return m!==0?h.words[c]=m|0:h.length--,h.strip()}var C=function(a,h,g){var l=a.words,A=h.words,w=g.words,E=0,m,c,I,M=l[0]|0,D=M&8191,P=M>>>13,j=l[1]|0,Y=j&8191,z=j>>>13,$=l[2]|0,W=$&8191,ee=$>>>13,pe=l[3]|0,ne=pe&8191,se=pe>>>13,Le=l[4]|0,ce=Le&8191,fe=Le>>>13,bt=l[5]|0,ge=bt&8191,Ie=bt>>>13,mr=l[6]|0,ve=mr&8191,ye=mr>>>13,Nr=l[7]|0,Be=Nr&8191,we=Nr>>>13,qr=l[8]|0,Ce=qr&8191,me=qr>>>13,Ir=l[9]|0,be=Ir&8191,Se=Ir>>>13,sr=A[0]|0,xe=sr&8191,_e=sr>>>13,Zi=A[1]|0,Fe=Zi&8191,Qe=Zi>>>13,$i=A[2]|0,Oe=$i&8191,Ne=$i>>>13,Xi=A[3]|0,De=Xi&8191,Re=Xi>>>13,di=A[4]|0,Ke=di&8191,Pe=di>>>13,en=A[5]|0,Ue=en&8191,Me=en>>>13,tn=A[6]|0,ke=tn&8191,qe=tn>>>13,Li=A[7]|0,te=Li&8191,Z=Li>>>13,de=A[8]|0,ie=de&8191,oe=de>>>13,$e=A[9]|0,ue=$e&8191,he=$e>>>13;g.negative=a.negative^h.negative,g.length=19,m=Math.imul(D,xe),c=Math.imul(D,_e),c=c+Math.imul(P,xe)|0,I=Math.imul(P,_e);var Et=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Et>>>26)|0,Et&=67108863,m=Math.imul(Y,xe),c=Math.imul(Y,_e),c=c+Math.imul(z,xe)|0,I=Math.imul(z,_e),m=m+Math.imul(D,Fe)|0,c=c+Math.imul(D,Qe)|0,c=c+Math.imul(P,Fe)|0,I=I+Math.imul(P,Qe)|0;var ft=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(W,xe),c=Math.imul(W,_e),c=c+Math.imul(ee,xe)|0,I=Math.imul(ee,_e),m=m+Math.imul(Y,Fe)|0,c=c+Math.imul(Y,Qe)|0,c=c+Math.imul(z,Fe)|0,I=I+Math.imul(z,Qe)|0,m=m+Math.imul(D,Oe)|0,c=c+Math.imul(D,Ne)|0,c=c+Math.imul(P,Oe)|0,I=I+Math.imul(P,Ne)|0;var et=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(et>>>26)|0,et&=67108863,m=Math.imul(ne,xe),c=Math.imul(ne,_e),c=c+Math.imul(se,xe)|0,I=Math.imul(se,_e),m=m+Math.imul(W,Fe)|0,c=c+Math.imul(W,Qe)|0,c=c+Math.imul(ee,Fe)|0,I=I+Math.imul(ee,Qe)|0,m=m+Math.imul(Y,Oe)|0,c=c+Math.imul(Y,Ne)|0,c=c+Math.imul(z,Oe)|0,I=I+Math.imul(z,Ne)|0,m=m+Math.imul(D,De)|0,c=c+Math.imul(D,Re)|0,c=c+Math.imul(P,De)|0,I=I+Math.imul(P,Re)|0;var Ft=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,m=Math.imul(ce,xe),c=Math.imul(ce,_e),c=c+Math.imul(fe,xe)|0,I=Math.imul(fe,_e),m=m+Math.imul(ne,Fe)|0,c=c+Math.imul(ne,Qe)|0,c=c+Math.imul(se,Fe)|0,I=I+Math.imul(se,Qe)|0,m=m+Math.imul(W,Oe)|0,c=c+Math.imul(W,Ne)|0,c=c+Math.imul(ee,Oe)|0,I=I+Math.imul(ee,Ne)|0,m=m+Math.imul(Y,De)|0,c=c+Math.imul(Y,Re)|0,c=c+Math.imul(z,De)|0,I=I+Math.imul(z,Re)|0,m=m+Math.imul(D,Ke)|0,c=c+Math.imul(D,Pe)|0,c=c+Math.imul(P,Ke)|0,I=I+Math.imul(P,Pe)|0;var Ot=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(ge,xe),c=Math.imul(ge,_e),c=c+Math.imul(Ie,xe)|0,I=Math.imul(Ie,_e),m=m+Math.imul(ce,Fe)|0,c=c+Math.imul(ce,Qe)|0,c=c+Math.imul(fe,Fe)|0,I=I+Math.imul(fe,Qe)|0,m=m+Math.imul(ne,Oe)|0,c=c+Math.imul(ne,Ne)|0,c=c+Math.imul(se,Oe)|0,I=I+Math.imul(se,Ne)|0,m=m+Math.imul(W,De)|0,c=c+Math.imul(W,Re)|0,c=c+Math.imul(ee,De)|0,I=I+Math.imul(ee,Re)|0,m=m+Math.imul(Y,Ke)|0,c=c+Math.imul(Y,Pe)|0,c=c+Math.imul(z,Ke)|0,I=I+Math.imul(z,Pe)|0,m=m+Math.imul(D,Ue)|0,c=c+Math.imul(D,Me)|0,c=c+Math.imul(P,Ue)|0,I=I+Math.imul(P,Me)|0;var Mt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,m=Math.imul(ve,xe),c=Math.imul(ve,_e),c=c+Math.imul(ye,xe)|0,I=Math.imul(ye,_e),m=m+Math.imul(ge,Fe)|0,c=c+Math.imul(ge,Qe)|0,c=c+Math.imul(Ie,Fe)|0,I=I+Math.imul(Ie,Qe)|0,m=m+Math.imul(ce,Oe)|0,c=c+Math.imul(ce,Ne)|0,c=c+Math.imul(fe,Oe)|0,I=I+Math.imul(fe,Ne)|0,m=m+Math.imul(ne,De)|0,c=c+Math.imul(ne,Re)|0,c=c+Math.imul(se,De)|0,I=I+Math.imul(se,Re)|0,m=m+Math.imul(W,Ke)|0,c=c+Math.imul(W,Pe)|0,c=c+Math.imul(ee,Ke)|0,I=I+Math.imul(ee,Pe)|0,m=m+Math.imul(Y,Ue)|0,c=c+Math.imul(Y,Me)|0,c=c+Math.imul(z,Ue)|0,I=I+Math.imul(z,Me)|0,m=m+Math.imul(D,ke)|0,c=c+Math.imul(D,qe)|0,c=c+Math.imul(P,ke)|0,I=I+Math.imul(P,qe)|0;var mt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,m=Math.imul(Be,xe),c=Math.imul(Be,_e),c=c+Math.imul(we,xe)|0,I=Math.imul(we,_e),m=m+Math.imul(ve,Fe)|0,c=c+Math.imul(ve,Qe)|0,c=c+Math.imul(ye,Fe)|0,I=I+Math.imul(ye,Qe)|0,m=m+Math.imul(ge,Oe)|0,c=c+Math.imul(ge,Ne)|0,c=c+Math.imul(Ie,Oe)|0,I=I+Math.imul(Ie,Ne)|0,m=m+Math.imul(ce,De)|0,c=c+Math.imul(ce,Re)|0,c=c+Math.imul(fe,De)|0,I=I+Math.imul(fe,Re)|0,m=m+Math.imul(ne,Ke)|0,c=c+Math.imul(ne,Pe)|0,c=c+Math.imul(se,Ke)|0,I=I+Math.imul(se,Pe)|0,m=m+Math.imul(W,Ue)|0,c=c+Math.imul(W,Me)|0,c=c+Math.imul(ee,Ue)|0,I=I+Math.imul(ee,Me)|0,m=m+Math.imul(Y,ke)|0,c=c+Math.imul(Y,qe)|0,c=c+Math.imul(z,ke)|0,I=I+Math.imul(z,qe)|0,m=m+Math.imul(D,te)|0,c=c+Math.imul(D,Z)|0,c=c+Math.imul(P,te)|0,I=I+Math.imul(P,Z)|0;var kt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(Ce,xe),c=Math.imul(Ce,_e),c=c+Math.imul(me,xe)|0,I=Math.imul(me,_e),m=m+Math.imul(Be,Fe)|0,c=c+Math.imul(Be,Qe)|0,c=c+Math.imul(we,Fe)|0,I=I+Math.imul(we,Qe)|0,m=m+Math.imul(ve,Oe)|0,c=c+Math.imul(ve,Ne)|0,c=c+Math.imul(ye,Oe)|0,I=I+Math.imul(ye,Ne)|0,m=m+Math.imul(ge,De)|0,c=c+Math.imul(ge,Re)|0,c=c+Math.imul(Ie,De)|0,I=I+Math.imul(Ie,Re)|0,m=m+Math.imul(ce,Ke)|0,c=c+Math.imul(ce,Pe)|0,c=c+Math.imul(fe,Ke)|0,I=I+Math.imul(fe,Pe)|0,m=m+Math.imul(ne,Ue)|0,c=c+Math.imul(ne,Me)|0,c=c+Math.imul(se,Ue)|0,I=I+Math.imul(se,Me)|0,m=m+Math.imul(W,ke)|0,c=c+Math.imul(W,qe)|0,c=c+Math.imul(ee,ke)|0,I=I+Math.imul(ee,qe)|0,m=m+Math.imul(Y,te)|0,c=c+Math.imul(Y,Z)|0,c=c+Math.imul(z,te)|0,I=I+Math.imul(z,Z)|0,m=m+Math.imul(D,ie)|0,c=c+Math.imul(D,oe)|0,c=c+Math.imul(P,ie)|0,I=I+Math.imul(P,oe)|0;var Ct=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(be,xe),c=Math.imul(be,_e),c=c+Math.imul(Se,xe)|0,I=Math.imul(Se,_e),m=m+Math.imul(Ce,Fe)|0,c=c+Math.imul(Ce,Qe)|0,c=c+Math.imul(me,Fe)|0,I=I+Math.imul(me,Qe)|0,m=m+Math.imul(Be,Oe)|0,c=c+Math.imul(Be,Ne)|0,c=c+Math.imul(we,Oe)|0,I=I+Math.imul(we,Ne)|0,m=m+Math.imul(ve,De)|0,c=c+Math.imul(ve,Re)|0,c=c+Math.imul(ye,De)|0,I=I+Math.imul(ye,Re)|0,m=m+Math.imul(ge,Ke)|0,c=c+Math.imul(ge,Pe)|0,c=c+Math.imul(Ie,Ke)|0,I=I+Math.imul(Ie,Pe)|0,m=m+Math.imul(ce,Ue)|0,c=c+Math.imul(ce,Me)|0,c=c+Math.imul(fe,Ue)|0,I=I+Math.imul(fe,Me)|0,m=m+Math.imul(ne,ke)|0,c=c+Math.imul(ne,qe)|0,c=c+Math.imul(se,ke)|0,I=I+Math.imul(se,qe)|0,m=m+Math.imul(W,te)|0,c=c+Math.imul(W,Z)|0,c=c+Math.imul(ee,te)|0,I=I+Math.imul(ee,Z)|0,m=m+Math.imul(Y,ie)|0,c=c+Math.imul(Y,oe)|0,c=c+Math.imul(z,ie)|0,I=I+Math.imul(z,oe)|0,m=m+Math.imul(D,ue)|0,c=c+Math.imul(D,he)|0,c=c+Math.imul(P,ue)|0,I=I+Math.imul(P,he)|0;var wr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(wr>>>26)|0,wr&=67108863,m=Math.imul(be,Fe),c=Math.imul(be,Qe),c=c+Math.imul(Se,Fe)|0,I=Math.imul(Se,Qe),m=m+Math.imul(Ce,Oe)|0,c=c+Math.imul(Ce,Ne)|0,c=c+Math.imul(me,Oe)|0,I=I+Math.imul(me,Ne)|0,m=m+Math.imul(Be,De)|0,c=c+Math.imul(Be,Re)|0,c=c+Math.imul(we,De)|0,I=I+Math.imul(we,Re)|0,m=m+Math.imul(ve,Ke)|0,c=c+Math.imul(ve,Pe)|0,c=c+Math.imul(ye,Ke)|0,I=I+Math.imul(ye,Pe)|0,m=m+Math.imul(ge,Ue)|0,c=c+Math.imul(ge,Me)|0,c=c+Math.imul(Ie,Ue)|0,I=I+Math.imul(Ie,Me)|0,m=m+Math.imul(ce,ke)|0,c=c+Math.imul(ce,qe)|0,c=c+Math.imul(fe,ke)|0,I=I+Math.imul(fe,qe)|0,m=m+Math.imul(ne,te)|0,c=c+Math.imul(ne,Z)|0,c=c+Math.imul(se,te)|0,I=I+Math.imul(se,Z)|0,m=m+Math.imul(W,ie)|0,c=c+Math.imul(W,oe)|0,c=c+Math.imul(ee,ie)|0,I=I+Math.imul(ee,oe)|0,m=m+Math.imul(Y,ue)|0,c=c+Math.imul(Y,he)|0,c=c+Math.imul(z,ue)|0,I=I+Math.imul(z,he)|0;var ir=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ir>>>26)|0,ir&=67108863,m=Math.imul(be,Oe),c=Math.imul(be,Ne),c=c+Math.imul(Se,Oe)|0,I=Math.imul(Se,Ne),m=m+Math.imul(Ce,De)|0,c=c+Math.imul(Ce,Re)|0,c=c+Math.imul(me,De)|0,I=I+Math.imul(me,Re)|0,m=m+Math.imul(Be,Ke)|0,c=c+Math.imul(Be,Pe)|0,c=c+Math.imul(we,Ke)|0,I=I+Math.imul(we,Pe)|0,m=m+Math.imul(ve,Ue)|0,c=c+Math.imul(ve,Me)|0,c=c+Math.imul(ye,Ue)|0,I=I+Math.imul(ye,Me)|0,m=m+Math.imul(ge,ke)|0,c=c+Math.imul(ge,qe)|0,c=c+Math.imul(Ie,ke)|0,I=I+Math.imul(Ie,qe)|0,m=m+Math.imul(ce,te)|0,c=c+Math.imul(ce,Z)|0,c=c+Math.imul(fe,te)|0,I=I+Math.imul(fe,Z)|0,m=m+Math.imul(ne,ie)|0,c=c+Math.imul(ne,oe)|0,c=c+Math.imul(se,ie)|0,I=I+Math.imul(se,oe)|0,m=m+Math.imul(W,ue)|0,c=c+Math.imul(W,he)|0,c=c+Math.imul(ee,ue)|0,I=I+Math.imul(ee,he)|0;var ar=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ar>>>26)|0,ar&=67108863,m=Math.imul(be,De),c=Math.imul(be,Re),c=c+Math.imul(Se,De)|0,I=Math.imul(Se,Re),m=m+Math.imul(Ce,Ke)|0,c=c+Math.imul(Ce,Pe)|0,c=c+Math.imul(me,Ke)|0,I=I+Math.imul(me,Pe)|0,m=m+Math.imul(Be,Ue)|0,c=c+Math.imul(Be,Me)|0,c=c+Math.imul(we,Ue)|0,I=I+Math.imul(we,Me)|0,m=m+Math.imul(ve,ke)|0,c=c+Math.imul(ve,qe)|0,c=c+Math.imul(ye,ke)|0,I=I+Math.imul(ye,qe)|0,m=m+Math.imul(ge,te)|0,c=c+Math.imul(ge,Z)|0,c=c+Math.imul(Ie,te)|0,I=I+Math.imul(Ie,Z)|0,m=m+Math.imul(ce,ie)|0,c=c+Math.imul(ce,oe)|0,c=c+Math.imul(fe,ie)|0,I=I+Math.imul(fe,oe)|0,m=m+Math.imul(ne,ue)|0,c=c+Math.imul(ne,he)|0,c=c+Math.imul(se,ue)|0,I=I+Math.imul(se,he)|0;var xt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(xt>>>26)|0,xt&=67108863,m=Math.imul(be,Ke),c=Math.imul(be,Pe),c=c+Math.imul(Se,Ke)|0,I=Math.imul(Se,Pe),m=m+Math.imul(Ce,Ue)|0,c=c+Math.imul(Ce,Me)|0,c=c+Math.imul(me,Ue)|0,I=I+Math.imul(me,Me)|0,m=m+Math.imul(Be,ke)|0,c=c+Math.imul(Be,qe)|0,c=c+Math.imul(we,ke)|0,I=I+Math.imul(we,qe)|0,m=m+Math.imul(ve,te)|0,c=c+Math.imul(ve,Z)|0,c=c+Math.imul(ye,te)|0,I=I+Math.imul(ye,Z)|0,m=m+Math.imul(ge,ie)|0,c=c+Math.imul(ge,oe)|0,c=c+Math.imul(Ie,ie)|0,I=I+Math.imul(Ie,oe)|0,m=m+Math.imul(ce,ue)|0,c=c+Math.imul(ce,he)|0,c=c+Math.imul(fe,ue)|0,I=I+Math.imul(fe,he)|0;var nr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(nr>>>26)|0,nr&=67108863,m=Math.imul(be,Ue),c=Math.imul(be,Me),c=c+Math.imul(Se,Ue)|0,I=Math.imul(Se,Me),m=m+Math.imul(Ce,ke)|0,c=c+Math.imul(Ce,qe)|0,c=c+Math.imul(me,ke)|0,I=I+Math.imul(me,qe)|0,m=m+Math.imul(Be,te)|0,c=c+Math.imul(Be,Z)|0,c=c+Math.imul(we,te)|0,I=I+Math.imul(we,Z)|0,m=m+Math.imul(ve,ie)|0,c=c+Math.imul(ve,oe)|0,c=c+Math.imul(ye,ie)|0,I=I+Math.imul(ye,oe)|0,m=m+Math.imul(ge,ue)|0,c=c+Math.imul(ge,he)|0,c=c+Math.imul(Ie,ue)|0,I=I+Math.imul(Ie,he)|0;var cr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(cr>>>26)|0,cr&=67108863,m=Math.imul(be,ke),c=Math.imul(be,qe),c=c+Math.imul(Se,ke)|0,I=Math.imul(Se,qe),m=m+Math.imul(Ce,te)|0,c=c+Math.imul(Ce,Z)|0,c=c+Math.imul(me,te)|0,I=I+Math.imul(me,Z)|0,m=m+Math.imul(Be,ie)|0,c=c+Math.imul(Be,oe)|0,c=c+Math.imul(we,ie)|0,I=I+Math.imul(we,oe)|0,m=m+Math.imul(ve,ue)|0,c=c+Math.imul(ve,he)|0,c=c+Math.imul(ye,ue)|0,I=I+Math.imul(ye,he)|0;var pr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(be,te),c=Math.imul(be,Z),c=c+Math.imul(Se,te)|0,I=Math.imul(Se,Z),m=m+Math.imul(Ce,ie)|0,c=c+Math.imul(Ce,oe)|0,c=c+Math.imul(me,ie)|0,I=I+Math.imul(me,oe)|0,m=m+Math.imul(Be,ue)|0,c=c+Math.imul(Be,he)|0,c=c+Math.imul(we,ue)|0,I=I+Math.imul(we,he)|0;var Pr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(be,ie),c=Math.imul(be,oe),c=c+Math.imul(Se,ie)|0,I=Math.imul(Se,oe),m=m+Math.imul(Ce,ue)|0,c=c+Math.imul(Ce,he)|0,c=c+Math.imul(me,ue)|0,I=I+Math.imul(me,he)|0;var fr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(fr>>>26)|0,fr&=67108863,m=Math.imul(be,ue),c=Math.imul(be,he),c=c+Math.imul(Se,ue)|0,I=Math.imul(Se,he);var Hr=(E+m|0)+((c&8191)<<13)|0;return E=(I+(c>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w[0]=Et,w[1]=ft,w[2]=et,w[3]=Ft,w[4]=Ot,w[5]=Mt,w[6]=mt,w[7]=kt,w[8]=Ct,w[9]=wr,w[10]=ir,w[11]=ar,w[12]=xt,w[13]=nr,w[14]=cr,w[15]=pr,w[16]=Pr,w[17]=fr,w[18]=Hr,E!==0&&(w[19]=E,g.length++),g};Math.imul||(C=S);function x(v,a,h){h.negative=a.negative^v.negative,h.length=v.length+a.length;for(var g=0,l=0,A=0;A<h.length-1;A++){var w=l;l=0;for(var E=g&67108863,m=Math.min(A,a.length-1),c=Math.max(0,A-v.length+1);c<=m;c++){var I=A-c,M=v.words[I]|0,D=a.words[c]|0,P=M*D,j=P&67108863;w=w+(P/67108864|0)|0,j=j+E|0,E=j&67108863,w=w+(j>>>26)|0,l+=w>>>26,w&=67108863}h.words[A]=E,g=w,w=l}return g!==0?h.words[A]=g:h.length--,h.strip()}function _(v,a,h){var g=new Q;return g.mulp(v,a,h)}n.prototype.mulTo=function(a,h){var g,l=this.length+a.length;return this.length===10&&a.length===10?g=C(this,a,h):l<63?g=S(this,a,h):l<1024?g=x(this,a,h):g=_(this,a,h),g};function Q(v,a){this.x=v,this.y=a}Q.prototype.makeRBT=function(a){for(var h=new Array(a),g=n.prototype._countBits(a)-1,l=0;l<a;l++)h[l]=this.revBin(l,g,a);return h},Q.prototype.revBin=function(a,h,g){if(a===0||a===g-1)return a;for(var l=0,A=0;A<h;A++)l|=(a&1)<<h-A-1,a>>=1;return l},Q.prototype.permute=function(a,h,g,l,A,w){for(var E=0;E<w;E++)l[E]=h[a[E]],A[E]=g[a[E]]},Q.prototype.transform=function(a,h,g,l,A,w){this.permute(w,a,h,g,l,A);for(var E=1;E<A;E<<=1)for(var m=E<<1,c=Math.cos(2*Math.PI/m),I=Math.sin(2*Math.PI/m),M=0;M<A;M+=m)for(var D=c,P=I,j=0;j<E;j++){var Y=g[M+j],z=l[M+j],$=g[M+j+E],W=l[M+j+E],ee=D*$-P*W;W=D*W+P*$,$=ee,g[M+j]=Y+$,l[M+j]=z+W,g[M+j+E]=Y-$,l[M+j+E]=z-W,j!==m&&(ee=c*D-I*P,P=c*P+I*D,D=ee)}},Q.prototype.guessLen13b=function(a,h){var g=Math.max(h,a)|1,l=g&1,A=0;for(g=g/2|0;g;g=g>>>1)A++;return 1<<A+1+l},Q.prototype.conjugate=function(a,h,g){if(!(g<=1))for(var l=0;l<g/2;l++){var A=a[l];a[l]=a[g-l-1],a[g-l-1]=A,A=h[l],h[l]=-h[g-l-1],h[g-l-1]=-A}},Q.prototype.normalize13b=function(a,h){for(var g=0,l=0;l<h/2;l++){var A=Math.round(a[2*l+1]/h)*8192+Math.round(a[2*l]/h)+g;a[l]=A&67108863,A<67108864?g=0:g=A/67108864|0}return a},Q.prototype.convert13b=function(a,h,g,l){for(var A=0,w=0;w<h;w++)A=A+(a[w]|0),g[2*w]=A&8191,A=A>>>13,g[2*w+1]=A&8191,A=A>>>13;for(w=2*h;w<l;++w)g[w]=0;r(A===0),r((A&-8192)===0)},Q.prototype.stub=function(a){for(var h=new Array(a),g=0;g<a;g++)h[g]=0;return h},Q.prototype.mulp=function(a,h,g){var l=2*this.guessLen13b(a.length,h.length),A=this.makeRBT(l),w=this.stub(l),E=new Array(l),m=new Array(l),c=new Array(l),I=new Array(l),M=new Array(l),D=new Array(l),P=g.words;P.length=l,this.convert13b(a.words,a.length,E,l),this.convert13b(h.words,h.length,I,l),this.transform(E,w,m,c,l,A),this.transform(I,w,M,D,l,A);for(var j=0;j<l;j++){var Y=m[j]*M[j]-c[j]*D[j];c[j]=m[j]*D[j]+c[j]*M[j],m[j]=Y}return this.conjugate(m,c,l),this.transform(m,c,P,w,l,A),this.conjugate(P,w,l),this.normalize13b(P,l),g.negative=a.negative^h.negative,g.length=a.length+h.length,g.strip()},n.prototype.mul=function(a){var h=new n(null);return h.words=new Array(this.length+a.length),this.mulTo(a,h)},n.prototype.mulf=function(a){var h=new n(null);return h.words=new Array(this.length+a.length),_(this,a,h)},n.prototype.imul=function(a){return this.clone().mulTo(a,this)},n.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var h=0,g=0;g<this.length;g++){var l=(this.words[g]|0)*a,A=(l&67108863)+(h&67108863);h>>=26,h+=l/67108864|0,h+=A>>>26,this.words[g]=A&67108863}return h!==0&&(this.words[g]=h,this.length++),this},n.prototype.muln=function(a){return this.clone().imuln(a)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(a){var h=B(a);if(h.length===0)return new n(1);for(var g=this,l=0;l<h.length&&h[l]===0;l++,g=g.sqr());if(++l<h.length)for(var A=g.sqr();l<h.length;l++,A=A.sqr())h[l]!==0&&(g=g.mul(A));return g},n.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26,l=67108863>>>26-h<<26-h,A;if(h!==0){var w=0;for(A=0;A<this.length;A++){var E=this.words[A]&l,m=(this.words[A]|0)-E<<h;this.words[A]=m|w,w=E>>>26-h}w&&(this.words[A]=w,this.length++)}if(g!==0){for(A=this.length-1;A>=0;A--)this.words[A+g]=this.words[A];for(A=0;A<g;A++)this.words[A]=0;this.length+=g}return this.strip()},n.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},n.prototype.iushrn=function(a,h,g){r(typeof a=="number"&&a>=0);var l;h?l=(h-h%26)/26:l=0;var A=a%26,w=Math.min((a-A)/26,this.length),E=67108863^67108863>>>A<<A,m=g;if(l-=w,l=Math.max(0,l),m){for(var c=0;c<w;c++)m.words[c]=this.words[c];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,c=0;c<this.length;c++)this.words[c]=this.words[c+w];else this.words[0]=0,this.length=1;var I=0;for(c=this.length-1;c>=0&&(I!==0||c>=l);c--){var M=this.words[c]|0;this.words[c]=I<<26-A|M>>>A,I=M&E}return m&&I!==0&&(m.words[m.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(a,h,g){return r(this.negative===0),this.iushrn(a,h,g)},n.prototype.shln=function(a){return this.clone().ishln(a)},n.prototype.ushln=function(a){return this.clone().iushln(a)},n.prototype.shrn=function(a){return this.clone().ishrn(a)},n.prototype.ushrn=function(a){return this.clone().iushrn(a)},n.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26,l=1<<h;if(this.length<=g)return!1;var A=this.words[g];return!!(A&l)},n.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(h!==0&&g++,this.length=Math.min(g,this.length),h!==0){var l=67108863^67108863>>>h<<h;this.words[this.length-1]&=l}return this.strip()},n.prototype.maskn=function(a){return this.clone().imaskn(a)},n.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},n.prototype._iaddn=function(a){this.words[0]+=a;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},n.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},n.prototype.addn=function(a){return this.clone().iaddn(a)},n.prototype.subn=function(a){return this.clone().isubn(a)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(a,h,g){var l=a.length+g,A;this._expand(l);var w,E=0;for(A=0;A<a.length;A++){w=(this.words[A+g]|0)+E;var m=(a.words[A]|0)*h;w-=m&67108863,E=(w>>26)-(m/67108864|0),this.words[A+g]=w&67108863}for(;A<this.length-g;A++)w=(this.words[A+g]|0)+E,E=w>>26,this.words[A+g]=w&67108863;if(E===0)return this.strip();for(r(E===-1),E=0,A=0;A<this.length;A++)w=-(this.words[A]|0)+E,E=w>>26,this.words[A]=w&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(a,h){var g=this.length-a.length,l=this.clone(),A=a,w=A.words[A.length-1]|0,E=this._countBits(w);g=26-E,g!==0&&(A=A.ushln(g),l.iushln(g),w=A.words[A.length-1]|0);var m=l.length-A.length,c;if(h!=="mod"){c=new n(null),c.length=m+1,c.words=new Array(c.length);for(var I=0;I<c.length;I++)c.words[I]=0}var M=l.clone()._ishlnsubmul(A,1,m);M.negative===0&&(l=M,c&&(c.words[m]=1));for(var D=m-1;D>=0;D--){var P=(l.words[A.length+D]|0)*67108864+(l.words[A.length+D-1]|0);for(P=Math.min(P/w|0,67108863),l._ishlnsubmul(A,P,D);l.negative!==0;)P--,l.negative=0,l._ishlnsubmul(A,1,D),l.isZero()||(l.negative^=1);c&&(c.words[D]=P)}return c&&c.strip(),l.strip(),h!=="div"&&g!==0&&l.iushrn(g),{div:c||null,mod:l}},n.prototype.divmod=function(a,h,g){if(r(!a.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var l,A,w;return this.negative!==0&&a.negative===0?(w=this.neg().divmod(a,h),h!=="mod"&&(l=w.div.neg()),h!=="div"&&(A=w.mod.neg(),g&&A.negative!==0&&A.iadd(a)),{div:l,mod:A}):this.negative===0&&a.negative!==0?(w=this.divmod(a.neg(),h),h!=="mod"&&(l=w.div.neg()),{div:l,mod:w.mod}):this.negative&a.negative?(w=this.neg().divmod(a.neg(),h),h!=="div"&&(A=w.mod.neg(),g&&A.negative!==0&&A.isub(a)),{div:w.div,mod:A}):a.length>this.length||this.cmp(a)<0?{div:new n(0),mod:this}:a.length===1?h==="div"?{div:this.divn(a.words[0]),mod:null}:h==="mod"?{div:null,mod:new n(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new n(this.modn(a.words[0]))}:this._wordDiv(a,h)},n.prototype.div=function(a){return this.divmod(a,"div",!1).div},n.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},n.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},n.prototype.divRound=function(a){var h=this.divmod(a);if(h.mod.isZero())return h.div;var g=h.div.negative!==0?h.mod.isub(a):h.mod,l=a.ushrn(1),A=a.andln(1),w=g.cmp(l);return w<0||A===1&&w===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},n.prototype.modn=function(a){r(a<=67108863);for(var h=(1<<26)%a,g=0,l=this.length-1;l>=0;l--)g=(h*g+(this.words[l]|0))%a;return g},n.prototype.idivn=function(a){r(a<=67108863);for(var h=0,g=this.length-1;g>=0;g--){var l=(this.words[g]|0)+h*67108864;this.words[g]=l/a|0,h=l%a}return this.strip()},n.prototype.divn=function(a){return this.clone().idivn(a)},n.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var h=this,g=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var l=new n(1),A=new n(0),w=new n(0),E=new n(1),m=0;h.isEven()&&g.isEven();)h.iushrn(1),g.iushrn(1),++m;for(var c=g.clone(),I=h.clone();!h.isZero();){for(var M=0,D=1;!(h.words[0]&D)&&M<26;++M,D<<=1);if(M>0)for(h.iushrn(M);M-- >0;)(l.isOdd()||A.isOdd())&&(l.iadd(c),A.isub(I)),l.iushrn(1),A.iushrn(1);for(var P=0,j=1;!(g.words[0]&j)&&P<26;++P,j<<=1);if(P>0)for(g.iushrn(P);P-- >0;)(w.isOdd()||E.isOdd())&&(w.iadd(c),E.isub(I)),w.iushrn(1),E.iushrn(1);h.cmp(g)>=0?(h.isub(g),l.isub(w),A.isub(E)):(g.isub(h),w.isub(l),E.isub(A))}return{a:w,b:E,gcd:g.iushln(m)}},n.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var h=this,g=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var l=new n(1),A=new n(0),w=g.clone();h.cmpn(1)>0&&g.cmpn(1)>0;){for(var E=0,m=1;!(h.words[0]&m)&&E<26;++E,m<<=1);if(E>0)for(h.iushrn(E);E-- >0;)l.isOdd()&&l.iadd(w),l.iushrn(1);for(var c=0,I=1;!(g.words[0]&I)&&c<26;++c,I<<=1);if(c>0)for(g.iushrn(c);c-- >0;)A.isOdd()&&A.iadd(w),A.iushrn(1);h.cmp(g)>=0?(h.isub(g),l.isub(A)):(g.isub(h),A.isub(l))}var M;return h.cmpn(1)===0?M=l:M=A,M.cmpn(0)<0&&M.iadd(a),M},n.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var h=this.clone(),g=a.clone();h.negative=0,g.negative=0;for(var l=0;h.isEven()&&g.isEven();l++)h.iushrn(1),g.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;g.isEven();)g.iushrn(1);var A=h.cmp(g);if(A<0){var w=h;h=g,g=w}else if(A===0||g.cmpn(1)===0)break;h.isub(g)}while(!0);return g.iushln(l)},n.prototype.invm=function(a){return this.egcd(a).a.umod(a)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(a){return this.words[0]&a},n.prototype.bincn=function(a){r(typeof a=="number");var h=a%26,g=(a-h)/26,l=1<<h;if(this.length<=g)return this._expand(g+1),this.words[g]|=l,this;for(var A=l,w=g;A!==0&&w<this.length;w++){var E=this.words[w]|0;E+=A,A=E>>>26,E&=67108863,this.words[w]=E}return A!==0&&(this.words[w]=A,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(a){var h=a<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var g;if(this.length>1)g=1;else{h&&(a=-a),r(a<=67108863,"Number is too big");var l=this.words[0]|0;g=l===a?0:l<a?-1:1}return this.negative!==0?-g|0:g},n.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var h=this.ucmp(a);return this.negative!==0?-h|0:h},n.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var h=0,g=this.length-1;g>=0;g--){var l=this.words[g]|0,A=a.words[g]|0;if(l!==A){l<A?h=-1:l>A&&(h=1);break}}return h},n.prototype.gtn=function(a){return this.cmpn(a)===1},n.prototype.gt=function(a){return this.cmp(a)===1},n.prototype.gten=function(a){return this.cmpn(a)>=0},n.prototype.gte=function(a){return this.cmp(a)>=0},n.prototype.ltn=function(a){return this.cmpn(a)===-1},n.prototype.lt=function(a){return this.cmp(a)===-1},n.prototype.lten=function(a){return this.cmpn(a)<=0},n.prototype.lte=function(a){return this.cmp(a)<=0},n.prototype.eqn=function(a){return this.cmpn(a)===0},n.prototype.eq=function(a){return this.cmp(a)===0},n.red=function(a){return new O(a)},n.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(a){return this.red=a,this},n.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},n.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},n.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},n.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},n.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},n.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},n.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},n.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var R={k256:null,p224:null,p192:null,p25519:null};function k(v,a){this.name=v,this.p=new n(a,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var a=new n(null);return a.words=new Array(Math.ceil(this.n/13)),a},k.prototype.ireduce=function(a){var h=a,g;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),g=h.bitLength();while(g>this.n);var l=g<this.n?-1:h.ucmp(this.p);return l===0?(h.words[0]=0,h.length=1):l>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},k.prototype.split=function(a,h){a.iushrn(this.n,0,h)},k.prototype.imulK=function(a){return a.imul(this.k)};function K(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(K,k),K.prototype.split=function(a,h){for(var g=4194303,l=Math.min(a.length,9),A=0;A<l;A++)h.words[A]=a.words[A];if(h.length=l,a.length<=9){a.words[0]=0,a.length=1;return}var w=a.words[9];for(h.words[h.length++]=w&g,A=10;A<a.length;A++){var E=a.words[A]|0;a.words[A-10]=(E&g)<<4|w>>>22,w=E}w>>>=22,a.words[A-10]=w,w===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var h=0,g=0;g<a.length;g++){var l=a.words[g]|0;h+=l*977,a.words[g]=h&67108863,h=l*64+(h/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function T(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(T,k);function L(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(L,k);function H(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(H,k),H.prototype.imulK=function(a){for(var h=0,g=0;g<a.length;g++){var l=(a.words[g]|0)*19+h,A=l&67108863;l>>>=26,a.words[g]=A,h=l}return h!==0&&(a.words[a.length++]=h),a},n._prime=function(a){if(R[a])return R[a];var h;if(a==="k256")h=new K;else if(a==="p224")h=new T;else if(a==="p192")h=new L;else if(a==="p25519")h=new H;else throw new Error("Unknown prime "+a);return R[a]=h,h};function O(v){if(typeof v=="string"){var a=n._prime(v);this.m=a.p,this.prime=a}else r(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}O.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},O.prototype._verify2=function(a,h){r((a.negative|h.negative)===0,"red works only with positives"),r(a.red&&a.red===h.red,"red works only with red numbers")},O.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},O.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},O.prototype.add=function(a,h){this._verify2(a,h);var g=a.add(h);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},O.prototype.iadd=function(a,h){this._verify2(a,h);var g=a.iadd(h);return g.cmp(this.m)>=0&&g.isub(this.m),g},O.prototype.sub=function(a,h){this._verify2(a,h);var g=a.sub(h);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},O.prototype.isub=function(a,h){this._verify2(a,h);var g=a.isub(h);return g.cmpn(0)<0&&g.iadd(this.m),g},O.prototype.shl=function(a,h){return this._verify1(a),this.imod(a.ushln(h))},O.prototype.imul=function(a,h){return this._verify2(a,h),this.imod(a.imul(h))},O.prototype.mul=function(a,h){return this._verify2(a,h),this.imod(a.mul(h))},O.prototype.isqr=function(a){return this.imul(a,a.clone())},O.prototype.sqr=function(a){return this.mul(a,a)},O.prototype.sqrt=function(a){if(a.isZero())return a.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var g=this.m.add(new n(1)).iushrn(2);return this.pow(a,g)}for(var l=this.m.subn(1),A=0;!l.isZero()&&l.andln(1)===0;)A++,l.iushrn(1);r(!l.isZero());var w=new n(1).toRed(this),E=w.redNeg(),m=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new n(2*c*c).toRed(this);this.pow(c,m).cmp(E)!==0;)c.redIAdd(E);for(var I=this.pow(c,l),M=this.pow(a,l.addn(1).iushrn(1)),D=this.pow(a,l),P=A;D.cmp(w)!==0;){for(var j=D,Y=0;j.cmp(w)!==0;Y++)j=j.redSqr();r(Y<P);var z=this.pow(I,new n(1).iushln(P-Y-1));M=M.redMul(z),I=z.redSqr(),D=D.redMul(I),P=Y}return M},O.prototype.invm=function(a){var h=a._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},O.prototype.pow=function(a,h){if(h.isZero())return new n(1).toRed(this);if(h.cmpn(1)===0)return a.clone();var g=4,l=new Array(1<<g);l[0]=new n(1).toRed(this),l[1]=a;for(var A=2;A<l.length;A++)l[A]=this.mul(l[A-1],a);var w=l[0],E=0,m=0,c=h.bitLength()%26;for(c===0&&(c=26),A=h.length-1;A>=0;A--){for(var I=h.words[A],M=c-1;M>=0;M--){var D=I>>M&1;if(w!==l[0]&&(w=this.sqr(w)),D===0&&E===0){m=0;continue}E<<=1,E|=D,m++,!(m!==g&&(A!==0||M!==0))&&(w=this.mul(w,l[E]),m=0,E=0)}c=26}return w},O.prototype.convertTo=function(a){var h=a.umod(this.m);return h===a?h.clone():h},O.prototype.convertFrom=function(a){var h=a.clone();return h.red=null,h},n.mont=function(a){return new G(a)};function G(v){O.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(G,O),G.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},G.prototype.convertFrom=function(a){var h=this.imod(a.mul(this.rinv));return h.red=null,h},G.prototype.imul=function(a,h){if(a.isZero()||h.isZero())return a.words[0]=0,a.length=1,a;var g=a.imul(h),l=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(l).iushrn(this.shift),w=A;return A.cmp(this.m)>=0?w=A.isub(this.m):A.cmpn(0)<0&&(w=A.iadd(this.m)),w._forceRed(this)},G.prototype.mul=function(a,h){if(a.isZero()||h.isZero())return new n(0)._forceRed(this);var g=a.mul(h),l=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(l).iushrn(this.shift),w=A;return A.cmp(this.m)>=0?w=A.isub(this.m):A.cmpn(0)<0&&(w=A.iadd(this.m)),w._forceRed(this)},G.prototype.invm=function(a){var h=this.imod(a._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(typeof AN>"u"||AN,yse)});var nQ=X((zEt,mse)=>{"use strict";b();var iQ=ni(),Iv=iQ.Buffer,gf={},yf;for(yf in iQ)iQ.hasOwnProperty(yf)&&(yf==="SlowBuffer"||yf==="Buffer"||(gf[yf]=iQ[yf]));var wv=gf.Buffer={};for(yf in Iv)Iv.hasOwnProperty(yf)&&(yf==="allocUnsafe"||yf==="allocUnsafeSlow"||(wv[yf]=Iv[yf]));gf.Buffer.prototype=Iv.prototype;(!wv.from||wv.from===Uint8Array.from)&&(wv.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return Iv(t,e,r)});wv.alloc||(wv.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var i=Iv(t);return!e||e.length===0?i.fill(0):typeof r=="string"?i.fill(e,r):i.fill(e),i});if(!gf.kStringMaxLength)try{gf.kStringMaxLength=U.default.binding("buffer").kStringMaxLength}catch{}gf.constants||(gf.constants={MAX_LENGTH:gf.kMaxLength},gf.kStringMaxLength&&(gf.constants.MAX_STRING_LENGTH=gf.kStringMaxLength));mse.exports=gf});var oQ=X(Ise=>{"use strict";b();var ePe=Qt();function mf(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}Ise.Reporter=mf;mf.prototype.isError=function(e){return e instanceof vv};mf.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};mf.prototype.restore=function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};mf.prototype.enterKey=function(e){return this._reporterState.path.push(e)};mf.prototype.exitKey=function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)};mf.prototype.leaveKey=function(e,r,i){let n=this._reporterState;this.exitKey(e),n.obj!==null&&(n.obj[r]=i)};mf.prototype.path=function(){return this._reporterState.path.join("/")};mf.prototype.enterObject=function(){let e=this._reporterState,r=e.obj;return e.obj={},r};mf.prototype.leaveObject=function(e){let r=this._reporterState,i=r.obj;return r.obj=e,i};mf.prototype.error=function(e){let r,i=this._reporterState,n=e instanceof vv;if(n?r=e:r=new vv(i.path.map(function(o){return"["+JSON.stringify(o)+"]"}).join(""),e.message||e,e.stack),!i.options.partial)throw r;return n||i.errors.push(r),r};mf.prototype.wrapResult=function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function vv(t,e){this.path=t,this.rethrow(e)}ePe(vv,Error);vv.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,vv),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var Bv=X(yN=>{"use strict";b();var tPe=Qt(),sQ=oQ().Reporter,bv=nQ().Buffer;function If(t,e){if(sQ.call(this,e),!bv.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}tPe(If,sQ);yN.DecoderBuffer=If;If.isDecoderBuffer=function(e){return e instanceof If?!0:typeof e=="object"&&bv.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};If.prototype.save=function(){return{offset:this.offset,reporter:sQ.prototype.save.call(this)}};If.prototype.restore=function(e){let r=new If(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,sQ.prototype.restore.call(this,e.reporter),r};If.prototype.isEmpty=function(){return this.offset===this.length};If.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};If.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let i=new If(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i};If.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function Ev(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return Ev.isEncoderBuffer(r)||(r=new Ev(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=bv.byteLength(t);else if(bv.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}yN.EncoderBuffer=Ev;Ev.isEncoderBuffer=function(e){return e instanceof Ev?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};Ev.prototype.join=function(e,r){return e||(e=bv.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(i){i.join(e,r),r+=i.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):bv.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var aQ=X(($Et,vse)=>{"use strict";b();var rPe=oQ().Reporter,iPe=Bv().EncoderBuffer,nPe=Bv().DecoderBuffer,Hs=ec(),wse=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],oPe=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(wse),sPe=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function yi(t,e,r){let i={};this._baseState=i,i.name=r,i.enc=t,i.parent=e||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}vse.exports=yi;var aPe=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];yi.prototype.clone=function(){let e=this._baseState,r={};aPe.forEach(function(n){r[n]=e[n]});let i=new this.constructor(r.parent);return i._baseState=r,i};yi.prototype._wrap=function(){let e=this._baseState;oPe.forEach(function(r){this[r]=function(){let n=new this.constructor(this);return e.children.push(n),n[r].apply(n,arguments)}},this)};yi.prototype._init=function(e){let r=this._baseState;Hs(r.parent===null),e.call(this),r.children=r.children.filter(function(i){return i._baseState.parent===this},this),Hs.equal(r.children.length,1,"Root node can have only one child")};yi.prototype._useArgs=function(e){let r=this._baseState,i=e.filter(function(n){return n instanceof this.constructor},this);e=e.filter(function(n){return!(n instanceof this.constructor)},this),i.length!==0&&(Hs(r.children===null),r.children=i,i.forEach(function(n){n._baseState.parent=this},this)),e.length!==0&&(Hs(r.args===null),r.args=e,r.reverseArgs=e.map(function(n){if(typeof n!="object"||n.constructor!==Object)return n;let o={};return Object.keys(n).forEach(function(s){s==(s|0)&&(s|=0);let f=n[s];o[f]=s}),o}))};sPe.forEach(function(t){yi.prototype[t]=function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});wse.forEach(function(t){yi.prototype[t]=function(){let r=this._baseState,i=Array.prototype.slice.call(arguments);return Hs(r.tag===null),r.tag=t,this._useArgs(i),this}});yi.prototype.use=function(e){Hs(e);let r=this._baseState;return Hs(r.use===null),r.use=e,this};yi.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};yi.prototype.def=function(e){let r=this._baseState;return Hs(r.default===null),r.default=e,r.optional=!0,this};yi.prototype.explicit=function(e){let r=this._baseState;return Hs(r.explicit===null&&r.implicit===null),r.explicit=e,this};yi.prototype.implicit=function(e){let r=this._baseState;return Hs(r.explicit===null&&r.implicit===null),r.implicit=e,this};yi.prototype.obj=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};yi.prototype.key=function(e){let r=this._baseState;return Hs(r.key===null),r.key=e,this};yi.prototype.any=function(){let e=this._baseState;return e.any=!0,this};yi.prototype.choice=function(e){let r=this._baseState;return Hs(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(i){return e[i]})),this};yi.prototype.contains=function(e){let r=this._baseState;return Hs(r.use===null),r.contains=e,this};yi.prototype._decode=function(e,r){let i=this._baseState;if(i.parent===null)return e.wrapResult(i.children[0]._decode(e,r));let n=i.default,o=!0,s=null;if(i.key!==null&&(s=e.enterKey(i.key)),i.optional){let d=null;if(i.explicit!==null?d=i.explicit:i.implicit!==null?d=i.implicit:i.tag!==null&&(d=i.tag),d===null&&!i.any){let p=e.save();try{i.choice===null?this._decodeGeneric(i.tag,e,r):this._decodeChoice(e,r),o=!0}catch{o=!1}e.restore(p)}else if(o=this._peekTag(e,d,i.any),e.isError(o))return o}let f;if(i.obj&&o&&(f=e.enterObject()),o){if(i.explicit!==null){let p=this._decodeTag(e,i.explicit);if(e.isError(p))return p;e=p}let d=e.offset;if(i.use===null&&i.choice===null){let p;i.any&&(p=e.save());let u=this._decodeTag(e,i.implicit!==null?i.implicit:i.tag,i.any);if(e.isError(u))return u;i.any?n=e.raw(p):e=u}if(r&&r.track&&i.tag!==null&&r.track(e.path(),d,e.length,"tagged"),r&&r.track&&i.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),i.any||(i.choice===null?n=this._decodeGeneric(i.tag,e,r):n=this._decodeChoice(e,r)),e.isError(n))return n;if(!i.any&&i.choice===null&&i.children!==null&&i.children.forEach(function(u){u._decode(e,r)}),i.contains&&(i.tag==="octstr"||i.tag==="bitstr")){let p=new nPe(n);n=this._getUse(i.contains,e._reporterState.obj)._decode(p,r)}}return i.obj&&o&&(n=e.leaveObject(f)),i.key!==null&&(n!==null||o===!0)?e.leaveKey(s,i.key,n):s!==null&&e.exitKey(s),n};yi.prototype._decodeGeneric=function(e,r,i){let n=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,n.args[0],i):/str$/.test(e)?this._decodeStr(r,e,i):e==="objid"&&n.args?this._decodeObjid(r,n.args[0],n.args[1],i):e==="objid"?this._decodeObjid(r,null,null,i):e==="gentime"||e==="utctime"?this._decodeTime(r,e,i):e==="null_"?this._decodeNull(r,i):e==="bool"?this._decodeBool(r,i):e==="objDesc"?this._decodeStr(r,e,i):e==="int"||e==="enum"?this._decodeInt(r,n.args&&n.args[0],i):n.use!==null?this._getUse(n.use,r._reporterState.obj)._decode(r,i):r.error("unknown tag: "+e)};yi.prototype._getUse=function(e,r){let i=this._baseState;return i.useDecoder=this._use(e,r),Hs(i.useDecoder._baseState.parent===null),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder};yi.prototype._decodeChoice=function(e,r){let i=this._baseState,n=null,o=!1;return Object.keys(i.choice).some(function(s){let f=e.save(),d=i.choice[s];try{let p=d._decode(e,r);if(e.isError(p))return!1;n={type:s,value:p},o=!0}catch{return e.restore(f),!1}return!0},this),o?n:e.error("Choice not matched")};yi.prototype._createEncoderBuffer=function(e){return new iPe(e,this.reporter)};yi.prototype._encode=function(e,r,i){let n=this._baseState;if(n.default!==null&&n.default===e)return;let o=this._encodeValue(e,r,i);if(o!==void 0&&!this._skipDefault(o,r,i))return o};yi.prototype._encodeValue=function(e,r,i){let n=this._baseState;if(n.parent===null)return n.children[0]._encode(e,r||new rPe);let o=null;if(this.reporter=r,n.optional&&e===void 0)if(n.default!==null)e=n.default;else return;let s=null,f=!1;if(n.any)o=this._createEncoderBuffer(e);else if(n.choice)o=this._encodeChoice(e,r);else if(n.contains)s=this._getUse(n.contains,i)._encode(e,r),f=!0;else if(n.children)s=n.children.map(function(d){if(d._baseState.tag==="null_")return d._encode(null,r,e);if(d._baseState.key===null)return r.error("Child should have a key");let p=r.enterKey(d._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let u=d._encode(e[d._baseState.key],r,e);return r.leaveKey(p),u},this).filter(function(d){return d}),s=this._createEncoderBuffer(s);else if(n.tag==="seqof"||n.tag==="setof"){if(!(n.args&&n.args.length===1))return r.error("Too many args for : "+n.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let d=this.clone();d._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(p){let u=this._baseState;return this._getUse(u.args[0],e)._encode(p,r)},d))}else n.use!==null?o=this._getUse(n.use,i)._encode(e,r):(s=this._encodePrimitive(n.tag,e),f=!0);if(!n.any&&n.choice===null){let d=n.implicit!==null?n.implicit:n.tag,p=n.implicit===null?"universal":"context";d===null?n.use===null&&r.error("Tag could be omitted only for .use()"):n.use===null&&(o=this._encodeComposite(d,f,p,s))}return n.explicit!==null&&(o=this._encodeComposite(n.explicit,!1,"context",o)),o};yi.prototype._encodeChoice=function(e,r){let i=this._baseState,n=i.choice[e.type];return n||Hs(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),n._encode(e.value,r)};yi.prototype._encodePrimitive=function(e,r){let i=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&i.args)return this._encodeObjid(r,i.reverseArgs[0],i.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,i.args&&i.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};yi.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};yi.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var cQ=X(hm=>{"use strict";b();function bse(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let i=t[r];e[i]=r}),e}hm.tagClass={0:"universal",1:"application",2:"context",3:"private"};hm.tagClassByName=bse(hm.tagClass);hm.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};hm.tagByName=bse(hm.tag)});var IN=X((r2t,Cse)=>{"use strict";b();var cPe=Qt(),Zl=nQ().Buffer,Ese=aQ(),mN=cQ();function Bse(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Cd,this.tree._init(t.body)}Cse.exports=Bse;Bse.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function Cd(t){Ese.call(this,"der",t)}cPe(Cd,Ese);Cd.prototype._encodeComposite=function(e,r,i,n){let o=fPe(e,r,i,this.reporter);if(n.length<128){let d=Zl.alloc(2);return d[0]=o,d[1]=n.length,this._createEncoderBuffer([d,n])}let s=1;for(let d=n.length;d>=256;d>>=8)s++;let f=Zl.alloc(2+s);f[0]=o,f[1]=128|s;for(let d=1+s,p=n.length;p>0;d--,p>>=8)f[d]=p&255;return this._createEncoderBuffer([f,n])};Cd.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let i=Zl.alloc(e.length*2);for(let n=0;n<e.length;n++)i.writeUInt16BE(e.charCodeAt(n),n*2);return this._createEncoderBuffer(i)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};Cd.prototype._encodeObjid=function(e,r,i){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let f=0;f<e.length;f++)e[f]|=0}else if(Array.isArray(e)){e=e.slice();for(let f=0;f<e.length;f++)e[f]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let n=0;for(let f=0;f<e.length;f++){let d=e[f];for(n++;d>=128;d>>=7)n++}let o=Zl.alloc(n),s=o.length-1;for(let f=e.length-1;f>=0;f--){let d=e[f];for(o[s--]=d&127;(d>>=7)>0;)o[s--]=128|d&127}return this._createEncoderBuffer(o)};function wf(t){return t<10?"0"+t:t}Cd.prototype._encodeTime=function(e,r){let i,n=new Date(e);return r==="gentime"?i=[wf(n.getUTCFullYear()),wf(n.getUTCMonth()+1),wf(n.getUTCDate()),wf(n.getUTCHours()),wf(n.getUTCMinutes()),wf(n.getUTCSeconds()),"Z"].join(""):r==="utctime"?i=[wf(n.getUTCFullYear()%100),wf(n.getUTCMonth()+1),wf(n.getUTCDate()),wf(n.getUTCHours()),wf(n.getUTCMinutes()),wf(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(i,"octstr")};Cd.prototype._encodeNull=function(){return this._createEncoderBuffer("")};Cd.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!Zl.isBuffer(e)){let o=e.toArray();!e.sign&&o[0]&128&&o.unshift(0),e=Zl.from(o)}if(Zl.isBuffer(e)){let o=e.length;e.length===0&&o++;let s=Zl.alloc(o);return e.copy(s),e.length===0&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let i=1;for(let o=e;o>=256;o>>=8)i++;let n=new Array(i);for(let o=n.length-1;o>=0;o--)n[o]=e&255,e>>=8;return n[0]&128&&n.unshift(0),this._createEncoderBuffer(Zl.from(n))};Cd.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};Cd.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};Cd.prototype._skipDefault=function(e,r,i){let n=this._baseState,o;if(n.default===null)return!1;let s=e.join();if(n.defaultBuffer===void 0&&(n.defaultBuffer=this._encodeValue(n.default,r,i).join()),s.length!==n.defaultBuffer.length)return!1;for(o=0;o<s.length;o++)if(s[o]!==n.defaultBuffer[o])return!1;return!0};function fPe(t,e,r,i){let n;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),mN.tagByName.hasOwnProperty(t))n=mN.tagByName[t];else if(typeof t=="number"&&(t|0)===t)n=t;else return i.error("Unknown tag: "+t);return n>=31?i.error("Multi-octet tag encoding unsupported"):(e||(n|=32),n|=mN.tagClassByName[r||"universal"]<<6,n)}});var Sse=X((n2t,xse)=>{"use strict";b();var dPe=Qt(),wN=IN();function vN(t){wN.call(this,t),this.enc="pem"}dPe(vN,wN);xse.exports=vN;vN.prototype.encode=function(e,r){let n=wN.prototype.encode.call(this,e).toString("base64"),o=["-----BEGIN "+r.label+"-----"];for(let s=0;s<n.length;s+=64)o.push(n.slice(s,s+64));return o.push("-----END "+r.label+"-----"),o.join(`
`)}});var bN=X(Qse=>{"use strict";b();var _se=Qse;_se.der=IN();_se.pem=Sse()});var BN=X((c2t,Use)=>{"use strict";b();var uPe=Qt(),hPe=gN(),Dse=Bv().DecoderBuffer,kse=aQ(),Mse=cQ();function Tse(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new rc,this.tree._init(t.body)}Use.exports=Tse;Tse.prototype.decode=function(e,r){return Dse.isDecoderBuffer(e)||(e=new Dse(e,r)),this.tree._decode(e,r)};function rc(t){kse.call(this,"der",t)}uPe(rc,kse);rc.prototype._peekTag=function(e,r,i){if(e.isEmpty())return!1;let n=e.save(),o=EN(e,'Failed to peek tag: "'+r+'"');return e.isError(o)?o:(e.restore(n),o.tag===r||o.tagStr===r||o.tagStr+"of"===r||i)};rc.prototype._decodeTag=function(e,r,i){let n=EN(e,'Failed to decode tag of "'+r+'"');if(e.isError(n))return n;let o=Rse(e,n.primitive,'Failed to get length of "'+r+'"');if(e.isError(o))return o;if(!i&&n.tag!==r&&n.tagStr!==r&&n.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(n.primitive||o!==null)return e.skip(o,'Failed to match body of: "'+r+'"');let s=e.save(),f=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(f)?f:(o=e.offset-s.offset,e.restore(s),e.skip(o,'Failed to match body of: "'+r+'"'))};rc.prototype._skipUntilEnd=function(e,r){for(;;){let i=EN(e,r);if(e.isError(i))return i;let n=Rse(e,i.primitive,r);if(e.isError(n))return n;let o;if(i.primitive||n!==null?o=e.skip(n):o=this._skipUntilEnd(e,r),e.isError(o))return o;if(i.tagStr==="end")break}};rc.prototype._decodeList=function(e,r,i,n){let o=[];for(;!e.isEmpty();){let s=this._peekTag(e,"end");if(e.isError(s))return s;let f=i.decode(e,"der",n);if(e.isError(f)&&s)break;o.push(f)}return o};rc.prototype._decodeStr=function(e,r){if(r==="bitstr"){let i=e.readUInt8();return e.isError(i)?i:{unused:i,data:e.raw()}}else if(r==="bmpstr"){let i=e.raw();if(i.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let n="";for(let o=0;o<i.length/2;o++)n+=String.fromCharCode(i.readUInt16BE(o*2));return n}else if(r==="numstr"){let i=e.raw().toString("ascii");return this._isNumstr(i)?i:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let i=e.raw().toString("ascii");return this._isPrintstr(i)?i:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};rc.prototype._decodeObjid=function(e,r,i){let n,o=[],s=0,f=0;for(;!e.isEmpty();)f=e.readUInt8(),s<<=7,s|=f&127,f&128||(o.push(s),s=0);f&128&&o.push(s);let d=o[0]/40|0,p=o[0]%40;if(i?n=o:n=[d,p].concat(o.slice(1)),r){let u=r[n.join(" ")];u===void 0&&(u=r[n.join(".")]),u!==void 0&&(n=u)}return n};rc.prototype._decodeTime=function(e,r){let i=e.raw().toString(),n,o,s,f,d,p;if(r==="gentime")n=i.slice(0,4)|0,o=i.slice(4,6)|0,s=i.slice(6,8)|0,f=i.slice(8,10)|0,d=i.slice(10,12)|0,p=i.slice(12,14)|0;else if(r==="utctime")n=i.slice(0,2)|0,o=i.slice(2,4)|0,s=i.slice(4,6)|0,f=i.slice(6,8)|0,d=i.slice(8,10)|0,p=i.slice(10,12)|0,n<70?n=2e3+n:n=1900+n;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(n,o-1,s,f,d,p,0)};rc.prototype._decodeNull=function(){return null};rc.prototype._decodeBool=function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0};rc.prototype._decodeInt=function(e,r){let i=e.raw(),n=new hPe(i);return r&&(n=r[n.toString(10)]||n),n};rc.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function EN(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let i=Mse.tagClass[r>>6],n=(r&32)===0;if((r&31)===31){let s=r;for(r=0;(s&128)===128;){if(s=t.readUInt8(e),t.isError(s))return s;r<<=7,r|=s&127}}else r&=31;let o=Mse.tag[r];return{cls:i,primitive:n,tag:r,tagStr:o}}function Rse(t,e,r){let i=t.readUInt8(r);if(t.isError(i))return i;if(!e&&i===128)return null;if(!(i&128))return i;let n=i&127;if(n>4)return t.error("length octect is too long");i=0;for(let o=0;o<n;o++){i<<=8;let s=t.readUInt8(r);if(t.isError(s))return s;i|=s}return i}});var Nse=X((d2t,Fse)=>{"use strict";b();var lPe=Qt(),pPe=nQ().Buffer,CN=BN();function xN(t){CN.call(this,t),this.enc="pem"}lPe(xN,CN);Fse.exports=xN;xN.prototype.decode=function(e,r){let i=e.toString().split(/[\r\n]+/g),n=r.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,f=-1;for(let u=0;u<i.length;u++){let y=i[u].match(o);if(y!==null&&y[2]===n)if(s===-1){if(y[1]!=="BEGIN")break;s=u}else{if(y[1]!=="END")break;f=u;break}}if(s===-1||f===-1)throw new Error("PEM section not found for: "+n);let d=i.slice(s+1,f).join("");d.replace(/[^a-z0-9+/=]+/gi,"");let p=pPe.from(d,"base64");return CN.prototype.decode.call(this,p,r)}});var SN=X(Ose=>{"use strict";b();var Pse=Ose;Pse.der=BN();Pse.pem=Nse()});var qse=X(Kse=>{"use strict";b();var APe=bN(),gPe=SN(),yPe=Qt(),mPe=Kse;mPe.define=function(e,r){return new Cv(e,r)};function Cv(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}Cv.prototype._createNamed=function(e){let r=this.name;function i(n){this._initNamed(n,r)}return yPe(i,e),i.prototype._initNamed=function(o,s){e.call(this,o,s)},new i(this)};Cv.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(gPe[e])),this.decoders[e]};Cv.prototype.decode=function(e,r,i){return this._getDecoder(r).decode(e,i)};Cv.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(APe[e])),this.encoders[e]};Cv.prototype.encode=function(e,r,i){return this._getEncoder(r).encode(e,i)}});var Hse=X(Lse=>{"use strict";b();var fQ=Lse;fQ.Reporter=oQ().Reporter;fQ.DecoderBuffer=Bv().DecoderBuffer;fQ.EncoderBuffer=Bv().EncoderBuffer;fQ.Node=aQ()});var zse=X(jse=>{"use strict";b();var Gse=jse;Gse._reverse=function(e){let r={};return Object.keys(e).forEach(function(i){(i|0)==i&&(i=i|0);let n=e[i];r[n]=i}),r};Gse.der=cQ()});var _N=X(Yse=>{"use strict";b();var xv=Yse;xv.bignum=gN();xv.define=qse().define;xv.base=Hse();xv.constants=zse();xv.decoders=SN();xv.encoders=bN()});var Zse=X((b2t,Wse)=>{"use strict";b();var xd=_N(),Jse=xd.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),IPe=xd.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),QN=xd.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),wPe=xd.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(QN),this.key("subjectPublicKey").bitstr())}),vPe=xd.define("RelativeDistinguishedName",function(){this.setof(IPe)}),bPe=xd.define("RDNSequence",function(){this.seqof(vPe)}),Vse=xd.define("Name",function(){this.choice({rdnSequence:this.use(bPe)})}),EPe=xd.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Jse),this.key("notAfter").use(Jse))}),BPe=xd.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),CPe=xd.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(QN),this.key("issuer").use(Vse),this.key("validity").use(EPe),this.key("subject").use(Vse),this.key("subjectPublicKeyInfo").use(wPe),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(BPe).optional())}),xPe=xd.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(CPe),this.key("signatureAlgorithm").use(QN),this.key("signatureValue").bitstr())});Wse.exports=xPe});var Xse=X(_d=>{"use strict";b();var Sd=_N();_d.certificate=Zse();var SPe=Sd.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});_d.RSAPrivateKey=SPe;var _Pe=Sd.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});_d.RSAPublicKey=_Pe;var QPe=Sd.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use($se),this.key("subjectPublicKey").bitstr())});_d.PublicKey=QPe;var $se=Sd.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),DPe=Sd.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use($se),this.key("subjectPrivateKey").octstr())});_d.PrivateKey=DPe;var MPe=Sd.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});_d.EncryptedPrivateKey=MPe;var kPe=Sd.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});_d.DSAPrivateKey=kPe;_d.DSAparam=Sd.define("DSAparam",function(){this.int()});var TPe=Sd.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(RPe),this.key("publicKey").optional().explicit(1).bitstr())});_d.ECPrivateKey=TPe;var RPe=Sd.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});_d.signature=Sd.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var eae=X((x2t,UPe)=>{UPe.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var rae=X((S2t,tae)=>{b();var FPe=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,NPe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,PPe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,OPe=rB(),KPe=m_(),dQ=jr().Buffer;tae.exports=function(t,e){var r=t.toString(),i=r.match(FPe),n;if(i){var s="aes"+i[1],f=dQ.from(i[2],"hex"),d=dQ.from(i[3].replace(/[\r\n]/g,""),"base64"),p=OPe(e,f.slice(0,8),parseInt(i[1],10)).key,u=[],y=KPe.createDecipheriv(s,p,f);u.push(y.update(d)),u.push(y.final()),n=dQ.concat(u)}else{var o=r.match(PPe);n=dQ.from(o[2].replace(/[\r\n]/g,""),"base64")}var B=r.match(NPe)[1];return{tag:B,data:n}}});var gB=X((Q2t,nae)=>{b();var _a=Xse(),qPe=eae(),LPe=rae(),HPe=m_(),GPe=G7(),DN=jr().Buffer;nae.exports=iae;function iae(t){var e;typeof t=="object"&&!DN.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=DN.from(t));var r=LPe(t,e),i=r.tag,n=r.data,o,s;switch(i){case"CERTIFICATE":s=_a.certificate.decode(n,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(s||(s=_a.PublicKey.decode(n,"der")),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return _a.RSAPublicKey.decode(s.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return s.subjectPrivateKey=s.subjectPublicKey,{type:"ec",data:s};case"1.2.840.10040.4.1":return s.algorithm.params.pub_key=_a.DSAparam.decode(s.subjectPublicKey.data,"der"),{type:"dsa",data:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"ENCRYPTED PRIVATE KEY":n=_a.EncryptedPrivateKey.decode(n,"der"),n=jPe(n,e);case"PRIVATE KEY":switch(s=_a.PrivateKey.decode(n,"der"),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return _a.RSAPrivateKey.decode(s.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:s.algorithm.curve,privateKey:_a.ECPrivateKey.decode(s.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return s.algorithm.params.priv_key=_a.DSAparam.decode(s.subjectPrivateKey,"der"),{type:"dsa",params:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"RSA PUBLIC KEY":return _a.RSAPublicKey.decode(n,"der");case"RSA PRIVATE KEY":return _a.RSAPrivateKey.decode(n,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:_a.DSAPrivateKey.decode(n,"der")};case"EC PRIVATE KEY":return n=_a.ECPrivateKey.decode(n,"der"),{curve:n.parameters.value,privateKey:n.privateKey};default:throw new Error("unknown key type "+i)}}iae.signature=_a.signature;function jPe(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),n=qPe[t.algorithm.decrypt.cipher.algo.join(".")],o=t.algorithm.decrypt.cipher.iv,s=t.subjectPrivateKey,f=parseInt(n.split("-")[1],10)/8,d=GPe.pbkdf2Sync(e,r,i,f,"sha1"),p=HPe.createDecipheriv(n,d,o),u=[];return u.push(p.update(s)),u.push(p.final()),DN.concat(u)}});var MN=X((M2t,zPe)=>{zPe.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var aae=X((k2t,hQ)=>{"use strict";b();var vs=E_().Buffer,lm=R7(),YPe=O_(),JPe=rQ().ec,uQ=P_(),VPe=gB(),WPe=MN(),ZPe=1;function $Pe(t,e,r,i,n){var o=VPe(e);if(o.curve){if(i!=="ecdsa"&&i!=="ecdsa/rsa")throw new Error("wrong private key type");return XPe(t,o)}else if(o.type==="dsa"){if(i!=="dsa")throw new Error("wrong private key type");return eOe(t,o,r)}if(i!=="rsa"&&i!=="ecdsa/rsa")throw new Error("wrong private key type");if(e.padding!==void 0&&e.padding!==ZPe)throw new Error("illegal or unsupported padding mode");t=vs.concat([n,t]);for(var s=o.modulus.byteLength(),f=[0,1];t.length+f.length+1<s;)f.push(255);f.push(0);for(var d=-1;++d<t.length;)f.push(t[d]);var p=YPe(f,o);return p}function XPe(t,e){var r=WPe[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var i=new JPe(r),n=i.keyFromPrivate(e.privateKey),o=n.sign(t);return vs.from(o.toDER())}function eOe(t,e,r){for(var i=e.params.priv_key,n=e.params.p,o=e.params.q,s=e.params.g,f=new uQ(0),d,p=kN(t,o).mod(o),u=!1,y=oae(i,o,t,r);u===!1;)d=sae(o,y,r),f=iOe(s,d,n,o),u=d.invm(o).imul(p.add(i.mul(f))).mod(o),u.cmpn(0)===0&&(u=!1,f=new uQ(0));return tOe(f,u)}function tOe(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,i=[48,r,2,t.length];return i=i.concat(t,[2,e.length],e),vs.from(i)}function oae(t,e,r,i){if(t=vs.from(t.toArray()),t.length<e.byteLength()){var n=vs.alloc(e.byteLength()-t.length);t=vs.concat([n,t])}var o=r.length,s=rOe(r,e),f=vs.alloc(o);f.fill(1);var d=vs.alloc(o);return d=lm(i,d).update(f).update(vs.from([0])).update(t).update(s).digest(),f=lm(i,d).update(f).digest(),d=lm(i,d).update(f).update(vs.from([1])).update(t).update(s).digest(),f=lm(i,d).update(f).digest(),{k:d,v:f}}function kN(t,e){var r=new uQ(t),i=(t.length<<3)-e.bitLength();return i>0&&r.ishrn(i),r}function rOe(t,e){t=kN(t,e),t=t.mod(e);var r=vs.from(t.toArray());if(r.length<e.byteLength()){var i=vs.alloc(e.byteLength()-r.length);r=vs.concat([i,r])}return r}function sae(t,e,r){var i,n;do{for(i=vs.alloc(0);i.length*8<t.bitLength();)e.v=lm(r,e.k).update(e.v).digest(),i=vs.concat([i,e.v]);n=kN(i,t),e.k=lm(r,e.k).update(e.v).update(vs.from([0])).digest(),e.v=lm(r,e.k).update(e.v).digest()}while(n.cmp(t)!==-1);return n}function iOe(t,e,r,i){return t.toRed(uQ.mont(r)).redPow(e).fromRed().mod(i)}hQ.exports=$Pe;hQ.exports.getKey=oae;hQ.exports.makeKey=sae});var uae=X((R2t,dae)=>{"use strict";b();var TN=E_().Buffer,yB=P_(),nOe=rQ().ec,fae=gB(),oOe=MN();function sOe(t,e,r,i,n){var o=fae(r);if(o.type==="ec"){if(i!=="ecdsa"&&i!=="ecdsa/rsa")throw new Error("wrong public key type");return aOe(t,e,o)}else if(o.type==="dsa"){if(i!=="dsa")throw new Error("wrong public key type");return cOe(t,e,o)}if(i!=="rsa"&&i!=="ecdsa/rsa")throw new Error("wrong public key type");e=TN.concat([n,e]);for(var s=o.modulus.byteLength(),f=[1],d=0;e.length+f.length+2<s;)f.push(255),d+=1;f.push(0);for(var p=-1;++p<e.length;)f.push(e[p]);f=TN.from(f);var u=yB.mont(o.modulus);t=new yB(t).toRed(u),t=t.redPow(new yB(o.publicExponent)),t=TN.from(t.fromRed().toArray());var y=d<8?1:0;for(s=Math.min(t.length,f.length),t.length!==f.length&&(y=1),p=-1;++p<s;)y|=t[p]^f[p];return y===0}function aOe(t,e,r){var i=oOe[r.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var n=new nOe(i),o=r.data.subjectPrivateKey.data;return n.verify(e,t,o)}function cOe(t,e,r){var i=r.data.p,n=r.data.q,o=r.data.g,s=r.data.pub_key,f=fae.signature.decode(t,"der"),d=f.s,p=f.r;cae(d,n),cae(p,n);var u=yB.mont(i),y=d.invm(n),B=o.toRed(u).redPow(new yB(e).mul(y).mod(n)).fromRed().mul(s.toRed(u).redPow(p.mul(y).mod(n)).fromRed()).mod(i).mod(n);return B.cmp(p)===0}function cae(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=0)throw new Error("invalid sig")}dae.exports=sOe});var yae=X((F2t,gae)=>{"use strict";b();var lQ=E_().Buffer,pae=Vw(),pQ=Lne(),Aae=Qt(),fOe=aae(),dOe=uae(),pm=U7();Object.keys(pm).forEach(function(t){pm[t].id=lQ.from(pm[t].id,"hex"),pm[t.toLowerCase()]=pm[t]});function mB(t){pQ.Writable.call(this);var e=pm[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=pae(e.hash),this._tag=e.id,this._signType=e.sign}Aae(mB,pQ.Writable);mB.prototype._write=function(e,r,i){this._hash.update(e),i()};mB.prototype.update=function(e,r){return this._hash.update(typeof e=="string"?lQ.from(e,r):e),this};mB.prototype.sign=function(e,r){this.end();var i=this._hash.digest(),n=fOe(i,e,this._hashType,this._signType,this._tag);return r?n.toString(r):n};function IB(t){pQ.Writable.call(this);var e=pm[t];if(!e)throw new Error("Unknown message digest");this._hash=pae(e.hash),this._tag=e.id,this._signType=e.sign}Aae(IB,pQ.Writable);IB.prototype._write=function(e,r,i){this._hash.update(e),i()};IB.prototype.update=function(e,r){return this._hash.update(typeof e=="string"?lQ.from(e,r):e),this};IB.prototype.verify=function(e,r,i){var n=typeof r=="string"?lQ.from(r,i):r;this.end();var o=this._hash.digest();return dOe(n,o,e,this._signType,this._tag)};function hae(t){return new mB(t)}function lae(t){return new IB(t)}gae.exports={Sign:hae,Verify:lae,createSign:hae,createVerify:lae}});var Iae=X((mae,RN)=>{b();(function(t,e){"use strict";function r(v,a){if(!v)throw new Error(a||"Assertion failed")}function i(v,a){v.super_=a;var h=function(){};h.prototype=a.prototype,v.prototype=new h,v.prototype.constructor=v}function n(v,a,h){if(n.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((a==="le"||a==="be")&&(h=a,a=10),this._init(v||0,a||10,h||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Vp().Buffer}catch{}n.isBN=function(a){return a instanceof n?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===n.wordSize&&Array.isArray(a.words)},n.max=function(a,h){return a.cmp(h)>0?a:h},n.min=function(a,h){return a.cmp(h)<0?a:h},n.prototype._init=function(a,h,g){if(typeof a=="number")return this._initNumber(a,h,g);if(typeof a=="object")return this._initArray(a,h,g);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),a=a.toString().replace(/\s+/g,"");var l=0;a[0]==="-"&&(l++,this.negative=1),l<a.length&&(h===16?this._parseHex(a,l,g):(this._parseBase(a,h,l),g==="le"&&this._initArray(this.toArray(),h,g)))},n.prototype._initNumber=function(a,h,g){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),h,g)},n.prototype._initArray=function(a,h,g){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var A,w,E=0;if(g==="be")for(l=a.length-1,A=0;l>=0;l-=3)w=a[l]|a[l-1]<<8|a[l-2]<<16,this.words[A]|=w<<E&67108863,this.words[A+1]=w>>>26-E&67108863,E+=24,E>=26&&(E-=26,A++);else if(g==="le")for(l=0,A=0;l<a.length;l+=3)w=a[l]|a[l+1]<<8|a[l+2]<<16,this.words[A]|=w<<E&67108863,this.words[A+1]=w>>>26-E&67108863,E+=24,E>=26&&(E-=26,A++);return this.strip()};function s(v,a){var h=v.charCodeAt(a);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function f(v,a,h){var g=s(v,h);return h-1>=a&&(g|=s(v,h-1)<<4),g}n.prototype._parseHex=function(a,h,g){this.length=Math.ceil((a.length-h)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var A=0,w=0,E;if(g==="be")for(l=a.length-1;l>=h;l-=2)E=f(a,h,l)<<A,this.words[w]|=E&67108863,A>=18?(A-=18,w+=1,this.words[w]|=E>>>26):A+=8;else{var m=a.length-h;for(l=m%2===0?h+1:h;l<a.length;l+=2)E=f(a,h,l)<<A,this.words[w]|=E&67108863,A>=18?(A-=18,w+=1,this.words[w]|=E>>>26):A+=8}this.strip()};function d(v,a,h,g){for(var l=0,A=Math.min(v.length,h),w=a;w<A;w++){var E=v.charCodeAt(w)-48;l*=g,E>=49?l+=E-49+10:E>=17?l+=E-17+10:l+=E}return l}n.prototype._parseBase=function(a,h,g){this.words=[0],this.length=1;for(var l=0,A=1;A<=67108863;A*=h)l++;l--,A=A/h|0;for(var w=a.length-g,E=w%l,m=Math.min(w,w-E)+g,c=0,I=g;I<m;I+=l)c=d(a,I,I+l,h),this.imuln(A),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(E!==0){var M=1;for(c=d(a,I,a.length,h),I=0;I<E;I++)M*=h;this.imuln(M),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},n.prototype.copy=function(a){a.words=new Array(this.length);for(var h=0;h<this.length;h++)a.words[h]=this.words[h];a.length=this.length,a.negative=this.negative,a.red=this.red},n.prototype.clone=function(){var a=new n(null);return this.copy(a),a},n.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(a,h){a=a||10,h=h|0||1;var g;if(a===16||a==="hex"){g="";for(var l=0,A=0,w=0;w<this.length;w++){var E=this.words[w],m=((E<<l|A)&16777215).toString(16);A=E>>>24-l&16777215,A!==0||w!==this.length-1?g=p[6-m.length]+m+g:g=m+g,l+=2,l>=26&&(l-=26,w--)}for(A!==0&&(g=A.toString(16)+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(a===(a|0)&&a>=2&&a<=36){var c=u[a],I=y[a];g="";var M=this.clone();for(M.negative=0;!M.isZero();){var D=M.modn(I).toString(a);M=M.idivn(I),M.isZero()?g=D+g:g=p[c-D.length]+D+g}for(this.isZero()&&(g="0"+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(a,h){return r(typeof o<"u"),this.toArrayLike(o,a,h)},n.prototype.toArray=function(a,h){return this.toArrayLike(Array,a,h)},n.prototype.toArrayLike=function(a,h,g){var l=this.byteLength(),A=g||Math.max(1,l);r(l<=A,"byte array longer than desired length"),r(A>0,"Requested array length <= 0"),this.strip();var w=h==="le",E=new a(A),m,c,I=this.clone();if(w){for(c=0;!I.isZero();c++)m=I.andln(255),I.iushrn(8),E[c]=m;for(;c<A;c++)E[c]=0}else{for(c=0;c<A-l;c++)E[c]=0;for(c=0;!I.isZero();c++)m=I.andln(255),I.iushrn(8),E[A-c-1]=m}return E},Math.clz32?n.prototype._countBits=function(a){return 32-Math.clz32(a)}:n.prototype._countBits=function(a){var h=a,g=0;return h>=4096&&(g+=13,h>>>=13),h>=64&&(g+=7,h>>>=7),h>=8&&(g+=4,h>>>=4),h>=2&&(g+=2,h>>>=2),g+h},n.prototype._zeroBits=function(a){if(a===0)return 26;var h=a,g=0;return h&8191||(g+=13,h>>>=13),h&127||(g+=7,h>>>=7),h&15||(g+=4,h>>>=4),h&3||(g+=2,h>>>=2),h&1||g++,g},n.prototype.bitLength=function(){var a=this.words[this.length-1],h=this._countBits(a);return(this.length-1)*26+h};function B(v){for(var a=new Array(v.bitLength()),h=0;h<a.length;h++){var g=h/26|0,l=h%26;a[h]=(v.words[g]&1<<l)>>>l}return a}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,h=0;h<this.length;h++){var g=this._zeroBits(this.words[h]);if(a+=g,g!==26)break}return a},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},n.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var h=0;h<a.length;h++)this.words[h]=this.words[h]|a.words[h];return this.strip()},n.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},n.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},n.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},n.prototype.iuand=function(a){var h;this.length>a.length?h=a:h=this;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]&a.words[g];return this.length=h.length,this.strip()},n.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},n.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},n.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},n.prototype.iuxor=function(a){var h,g;this.length>a.length?(h=this,g=a):(h=a,g=this);for(var l=0;l<g.length;l++)this.words[l]=h.words[l]^g.words[l];if(this!==h)for(;l<h.length;l++)this.words[l]=h.words[l];return this.length=h.length,this.strip()},n.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},n.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},n.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},n.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var h=Math.ceil(a/26)|0,g=a%26;this._expand(h),g>0&&h--;for(var l=0;l<h;l++)this.words[l]=~this.words[l]&67108863;return g>0&&(this.words[l]=~this.words[l]&67108863>>26-g),this.strip()},n.prototype.notn=function(a){return this.clone().inotn(a)},n.prototype.setn=function(a,h){r(typeof a=="number"&&a>=0);var g=a/26|0,l=a%26;return this._expand(g+1),h?this.words[g]=this.words[g]|1<<l:this.words[g]=this.words[g]&~(1<<l),this.strip()},n.prototype.iadd=function(a){var h;if(this.negative!==0&&a.negative===0)return this.negative=0,h=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,h=this.isub(a),a.negative=1,h._normSign();var g,l;this.length>a.length?(g=this,l=a):(g=a,l=this);for(var A=0,w=0;w<l.length;w++)h=(g.words[w]|0)+(l.words[w]|0)+A,this.words[w]=h&67108863,A=h>>>26;for(;A!==0&&w<g.length;w++)h=(g.words[w]|0)+A,this.words[w]=h&67108863,A=h>>>26;if(this.length=g.length,A!==0)this.words[this.length]=A,this.length++;else if(g!==this)for(;w<g.length;w++)this.words[w]=g.words[w];return this},n.prototype.add=function(a){var h;return a.negative!==0&&this.negative===0?(a.negative=0,h=this.sub(a),a.negative^=1,h):a.negative===0&&this.negative!==0?(this.negative=0,h=a.sub(this),this.negative=1,h):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},n.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var h=this.iadd(a);return a.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g=this.cmp(a);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,A;g>0?(l=this,A=a):(l=a,A=this);for(var w=0,E=0;E<A.length;E++)h=(l.words[E]|0)-(A.words[E]|0)+w,w=h>>26,this.words[E]=h&67108863;for(;w!==0&&E<l.length;E++)h=(l.words[E]|0)+w,w=h>>26,this.words[E]=h&67108863;if(w===0&&E<l.length&&l!==this)for(;E<l.length;E++)this.words[E]=l.words[E];return this.length=Math.max(this.length,E),l!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(a){return this.clone().isub(a)};function S(v,a,h){h.negative=a.negative^v.negative;var g=v.length+a.length|0;h.length=g,g=g-1|0;var l=v.words[0]|0,A=a.words[0]|0,w=l*A,E=w&67108863,m=w/67108864|0;h.words[0]=E;for(var c=1;c<g;c++){for(var I=m>>>26,M=m&67108863,D=Math.min(c,a.length-1),P=Math.max(0,c-v.length+1);P<=D;P++){var j=c-P|0;l=v.words[j]|0,A=a.words[P]|0,w=l*A+M,I+=w/67108864|0,M=w&67108863}h.words[c]=M|0,m=I|0}return m!==0?h.words[c]=m|0:h.length--,h.strip()}var C=function(a,h,g){var l=a.words,A=h.words,w=g.words,E=0,m,c,I,M=l[0]|0,D=M&8191,P=M>>>13,j=l[1]|0,Y=j&8191,z=j>>>13,$=l[2]|0,W=$&8191,ee=$>>>13,pe=l[3]|0,ne=pe&8191,se=pe>>>13,Le=l[4]|0,ce=Le&8191,fe=Le>>>13,bt=l[5]|0,ge=bt&8191,Ie=bt>>>13,mr=l[6]|0,ve=mr&8191,ye=mr>>>13,Nr=l[7]|0,Be=Nr&8191,we=Nr>>>13,qr=l[8]|0,Ce=qr&8191,me=qr>>>13,Ir=l[9]|0,be=Ir&8191,Se=Ir>>>13,sr=A[0]|0,xe=sr&8191,_e=sr>>>13,Zi=A[1]|0,Fe=Zi&8191,Qe=Zi>>>13,$i=A[2]|0,Oe=$i&8191,Ne=$i>>>13,Xi=A[3]|0,De=Xi&8191,Re=Xi>>>13,di=A[4]|0,Ke=di&8191,Pe=di>>>13,en=A[5]|0,Ue=en&8191,Me=en>>>13,tn=A[6]|0,ke=tn&8191,qe=tn>>>13,Li=A[7]|0,te=Li&8191,Z=Li>>>13,de=A[8]|0,ie=de&8191,oe=de>>>13,$e=A[9]|0,ue=$e&8191,he=$e>>>13;g.negative=a.negative^h.negative,g.length=19,m=Math.imul(D,xe),c=Math.imul(D,_e),c=c+Math.imul(P,xe)|0,I=Math.imul(P,_e);var Et=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Et>>>26)|0,Et&=67108863,m=Math.imul(Y,xe),c=Math.imul(Y,_e),c=c+Math.imul(z,xe)|0,I=Math.imul(z,_e),m=m+Math.imul(D,Fe)|0,c=c+Math.imul(D,Qe)|0,c=c+Math.imul(P,Fe)|0,I=I+Math.imul(P,Qe)|0;var ft=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(W,xe),c=Math.imul(W,_e),c=c+Math.imul(ee,xe)|0,I=Math.imul(ee,_e),m=m+Math.imul(Y,Fe)|0,c=c+Math.imul(Y,Qe)|0,c=c+Math.imul(z,Fe)|0,I=I+Math.imul(z,Qe)|0,m=m+Math.imul(D,Oe)|0,c=c+Math.imul(D,Ne)|0,c=c+Math.imul(P,Oe)|0,I=I+Math.imul(P,Ne)|0;var et=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(et>>>26)|0,et&=67108863,m=Math.imul(ne,xe),c=Math.imul(ne,_e),c=c+Math.imul(se,xe)|0,I=Math.imul(se,_e),m=m+Math.imul(W,Fe)|0,c=c+Math.imul(W,Qe)|0,c=c+Math.imul(ee,Fe)|0,I=I+Math.imul(ee,Qe)|0,m=m+Math.imul(Y,Oe)|0,c=c+Math.imul(Y,Ne)|0,c=c+Math.imul(z,Oe)|0,I=I+Math.imul(z,Ne)|0,m=m+Math.imul(D,De)|0,c=c+Math.imul(D,Re)|0,c=c+Math.imul(P,De)|0,I=I+Math.imul(P,Re)|0;var Ft=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,m=Math.imul(ce,xe),c=Math.imul(ce,_e),c=c+Math.imul(fe,xe)|0,I=Math.imul(fe,_e),m=m+Math.imul(ne,Fe)|0,c=c+Math.imul(ne,Qe)|0,c=c+Math.imul(se,Fe)|0,I=I+Math.imul(se,Qe)|0,m=m+Math.imul(W,Oe)|0,c=c+Math.imul(W,Ne)|0,c=c+Math.imul(ee,Oe)|0,I=I+Math.imul(ee,Ne)|0,m=m+Math.imul(Y,De)|0,c=c+Math.imul(Y,Re)|0,c=c+Math.imul(z,De)|0,I=I+Math.imul(z,Re)|0,m=m+Math.imul(D,Ke)|0,c=c+Math.imul(D,Pe)|0,c=c+Math.imul(P,Ke)|0,I=I+Math.imul(P,Pe)|0;var Ot=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(ge,xe),c=Math.imul(ge,_e),c=c+Math.imul(Ie,xe)|0,I=Math.imul(Ie,_e),m=m+Math.imul(ce,Fe)|0,c=c+Math.imul(ce,Qe)|0,c=c+Math.imul(fe,Fe)|0,I=I+Math.imul(fe,Qe)|0,m=m+Math.imul(ne,Oe)|0,c=c+Math.imul(ne,Ne)|0,c=c+Math.imul(se,Oe)|0,I=I+Math.imul(se,Ne)|0,m=m+Math.imul(W,De)|0,c=c+Math.imul(W,Re)|0,c=c+Math.imul(ee,De)|0,I=I+Math.imul(ee,Re)|0,m=m+Math.imul(Y,Ke)|0,c=c+Math.imul(Y,Pe)|0,c=c+Math.imul(z,Ke)|0,I=I+Math.imul(z,Pe)|0,m=m+Math.imul(D,Ue)|0,c=c+Math.imul(D,Me)|0,c=c+Math.imul(P,Ue)|0,I=I+Math.imul(P,Me)|0;var Mt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,m=Math.imul(ve,xe),c=Math.imul(ve,_e),c=c+Math.imul(ye,xe)|0,I=Math.imul(ye,_e),m=m+Math.imul(ge,Fe)|0,c=c+Math.imul(ge,Qe)|0,c=c+Math.imul(Ie,Fe)|0,I=I+Math.imul(Ie,Qe)|0,m=m+Math.imul(ce,Oe)|0,c=c+Math.imul(ce,Ne)|0,c=c+Math.imul(fe,Oe)|0,I=I+Math.imul(fe,Ne)|0,m=m+Math.imul(ne,De)|0,c=c+Math.imul(ne,Re)|0,c=c+Math.imul(se,De)|0,I=I+Math.imul(se,Re)|0,m=m+Math.imul(W,Ke)|0,c=c+Math.imul(W,Pe)|0,c=c+Math.imul(ee,Ke)|0,I=I+Math.imul(ee,Pe)|0,m=m+Math.imul(Y,Ue)|0,c=c+Math.imul(Y,Me)|0,c=c+Math.imul(z,Ue)|0,I=I+Math.imul(z,Me)|0,m=m+Math.imul(D,ke)|0,c=c+Math.imul(D,qe)|0,c=c+Math.imul(P,ke)|0,I=I+Math.imul(P,qe)|0;var mt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,m=Math.imul(Be,xe),c=Math.imul(Be,_e),c=c+Math.imul(we,xe)|0,I=Math.imul(we,_e),m=m+Math.imul(ve,Fe)|0,c=c+Math.imul(ve,Qe)|0,c=c+Math.imul(ye,Fe)|0,I=I+Math.imul(ye,Qe)|0,m=m+Math.imul(ge,Oe)|0,c=c+Math.imul(ge,Ne)|0,c=c+Math.imul(Ie,Oe)|0,I=I+Math.imul(Ie,Ne)|0,m=m+Math.imul(ce,De)|0,c=c+Math.imul(ce,Re)|0,c=c+Math.imul(fe,De)|0,I=I+Math.imul(fe,Re)|0,m=m+Math.imul(ne,Ke)|0,c=c+Math.imul(ne,Pe)|0,c=c+Math.imul(se,Ke)|0,I=I+Math.imul(se,Pe)|0,m=m+Math.imul(W,Ue)|0,c=c+Math.imul(W,Me)|0,c=c+Math.imul(ee,Ue)|0,I=I+Math.imul(ee,Me)|0,m=m+Math.imul(Y,ke)|0,c=c+Math.imul(Y,qe)|0,c=c+Math.imul(z,ke)|0,I=I+Math.imul(z,qe)|0,m=m+Math.imul(D,te)|0,c=c+Math.imul(D,Z)|0,c=c+Math.imul(P,te)|0,I=I+Math.imul(P,Z)|0;var kt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(Ce,xe),c=Math.imul(Ce,_e),c=c+Math.imul(me,xe)|0,I=Math.imul(me,_e),m=m+Math.imul(Be,Fe)|0,c=c+Math.imul(Be,Qe)|0,c=c+Math.imul(we,Fe)|0,I=I+Math.imul(we,Qe)|0,m=m+Math.imul(ve,Oe)|0,c=c+Math.imul(ve,Ne)|0,c=c+Math.imul(ye,Oe)|0,I=I+Math.imul(ye,Ne)|0,m=m+Math.imul(ge,De)|0,c=c+Math.imul(ge,Re)|0,c=c+Math.imul(Ie,De)|0,I=I+Math.imul(Ie,Re)|0,m=m+Math.imul(ce,Ke)|0,c=c+Math.imul(ce,Pe)|0,c=c+Math.imul(fe,Ke)|0,I=I+Math.imul(fe,Pe)|0,m=m+Math.imul(ne,Ue)|0,c=c+Math.imul(ne,Me)|0,c=c+Math.imul(se,Ue)|0,I=I+Math.imul(se,Me)|0,m=m+Math.imul(W,ke)|0,c=c+Math.imul(W,qe)|0,c=c+Math.imul(ee,ke)|0,I=I+Math.imul(ee,qe)|0,m=m+Math.imul(Y,te)|0,c=c+Math.imul(Y,Z)|0,c=c+Math.imul(z,te)|0,I=I+Math.imul(z,Z)|0,m=m+Math.imul(D,ie)|0,c=c+Math.imul(D,oe)|0,c=c+Math.imul(P,ie)|0,I=I+Math.imul(P,oe)|0;var Ct=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(be,xe),c=Math.imul(be,_e),c=c+Math.imul(Se,xe)|0,I=Math.imul(Se,_e),m=m+Math.imul(Ce,Fe)|0,c=c+Math.imul(Ce,Qe)|0,c=c+Math.imul(me,Fe)|0,I=I+Math.imul(me,Qe)|0,m=m+Math.imul(Be,Oe)|0,c=c+Math.imul(Be,Ne)|0,c=c+Math.imul(we,Oe)|0,I=I+Math.imul(we,Ne)|0,m=m+Math.imul(ve,De)|0,c=c+Math.imul(ve,Re)|0,c=c+Math.imul(ye,De)|0,I=I+Math.imul(ye,Re)|0,m=m+Math.imul(ge,Ke)|0,c=c+Math.imul(ge,Pe)|0,c=c+Math.imul(Ie,Ke)|0,I=I+Math.imul(Ie,Pe)|0,m=m+Math.imul(ce,Ue)|0,c=c+Math.imul(ce,Me)|0,c=c+Math.imul(fe,Ue)|0,I=I+Math.imul(fe,Me)|0,m=m+Math.imul(ne,ke)|0,c=c+Math.imul(ne,qe)|0,c=c+Math.imul(se,ke)|0,I=I+Math.imul(se,qe)|0,m=m+Math.imul(W,te)|0,c=c+Math.imul(W,Z)|0,c=c+Math.imul(ee,te)|0,I=I+Math.imul(ee,Z)|0,m=m+Math.imul(Y,ie)|0,c=c+Math.imul(Y,oe)|0,c=c+Math.imul(z,ie)|0,I=I+Math.imul(z,oe)|0,m=m+Math.imul(D,ue)|0,c=c+Math.imul(D,he)|0,c=c+Math.imul(P,ue)|0,I=I+Math.imul(P,he)|0;var wr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(wr>>>26)|0,wr&=67108863,m=Math.imul(be,Fe),c=Math.imul(be,Qe),c=c+Math.imul(Se,Fe)|0,I=Math.imul(Se,Qe),m=m+Math.imul(Ce,Oe)|0,c=c+Math.imul(Ce,Ne)|0,c=c+Math.imul(me,Oe)|0,I=I+Math.imul(me,Ne)|0,m=m+Math.imul(Be,De)|0,c=c+Math.imul(Be,Re)|0,c=c+Math.imul(we,De)|0,I=I+Math.imul(we,Re)|0,m=m+Math.imul(ve,Ke)|0,c=c+Math.imul(ve,Pe)|0,c=c+Math.imul(ye,Ke)|0,I=I+Math.imul(ye,Pe)|0,m=m+Math.imul(ge,Ue)|0,c=c+Math.imul(ge,Me)|0,c=c+Math.imul(Ie,Ue)|0,I=I+Math.imul(Ie,Me)|0,m=m+Math.imul(ce,ke)|0,c=c+Math.imul(ce,qe)|0,c=c+Math.imul(fe,ke)|0,I=I+Math.imul(fe,qe)|0,m=m+Math.imul(ne,te)|0,c=c+Math.imul(ne,Z)|0,c=c+Math.imul(se,te)|0,I=I+Math.imul(se,Z)|0,m=m+Math.imul(W,ie)|0,c=c+Math.imul(W,oe)|0,c=c+Math.imul(ee,ie)|0,I=I+Math.imul(ee,oe)|0,m=m+Math.imul(Y,ue)|0,c=c+Math.imul(Y,he)|0,c=c+Math.imul(z,ue)|0,I=I+Math.imul(z,he)|0;var ir=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ir>>>26)|0,ir&=67108863,m=Math.imul(be,Oe),c=Math.imul(be,Ne),c=c+Math.imul(Se,Oe)|0,I=Math.imul(Se,Ne),m=m+Math.imul(Ce,De)|0,c=c+Math.imul(Ce,Re)|0,c=c+Math.imul(me,De)|0,I=I+Math.imul(me,Re)|0,m=m+Math.imul(Be,Ke)|0,c=c+Math.imul(Be,Pe)|0,c=c+Math.imul(we,Ke)|0,I=I+Math.imul(we,Pe)|0,m=m+Math.imul(ve,Ue)|0,c=c+Math.imul(ve,Me)|0,c=c+Math.imul(ye,Ue)|0,I=I+Math.imul(ye,Me)|0,m=m+Math.imul(ge,ke)|0,c=c+Math.imul(ge,qe)|0,c=c+Math.imul(Ie,ke)|0,I=I+Math.imul(Ie,qe)|0,m=m+Math.imul(ce,te)|0,c=c+Math.imul(ce,Z)|0,c=c+Math.imul(fe,te)|0,I=I+Math.imul(fe,Z)|0,m=m+Math.imul(ne,ie)|0,c=c+Math.imul(ne,oe)|0,c=c+Math.imul(se,ie)|0,I=I+Math.imul(se,oe)|0,m=m+Math.imul(W,ue)|0,c=c+Math.imul(W,he)|0,c=c+Math.imul(ee,ue)|0,I=I+Math.imul(ee,he)|0;var ar=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ar>>>26)|0,ar&=67108863,m=Math.imul(be,De),c=Math.imul(be,Re),c=c+Math.imul(Se,De)|0,I=Math.imul(Se,Re),m=m+Math.imul(Ce,Ke)|0,c=c+Math.imul(Ce,Pe)|0,c=c+Math.imul(me,Ke)|0,I=I+Math.imul(me,Pe)|0,m=m+Math.imul(Be,Ue)|0,c=c+Math.imul(Be,Me)|0,c=c+Math.imul(we,Ue)|0,I=I+Math.imul(we,Me)|0,m=m+Math.imul(ve,ke)|0,c=c+Math.imul(ve,qe)|0,c=c+Math.imul(ye,ke)|0,I=I+Math.imul(ye,qe)|0,m=m+Math.imul(ge,te)|0,c=c+Math.imul(ge,Z)|0,c=c+Math.imul(Ie,te)|0,I=I+Math.imul(Ie,Z)|0,m=m+Math.imul(ce,ie)|0,c=c+Math.imul(ce,oe)|0,c=c+Math.imul(fe,ie)|0,I=I+Math.imul(fe,oe)|0,m=m+Math.imul(ne,ue)|0,c=c+Math.imul(ne,he)|0,c=c+Math.imul(se,ue)|0,I=I+Math.imul(se,he)|0;var xt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(xt>>>26)|0,xt&=67108863,m=Math.imul(be,Ke),c=Math.imul(be,Pe),c=c+Math.imul(Se,Ke)|0,I=Math.imul(Se,Pe),m=m+Math.imul(Ce,Ue)|0,c=c+Math.imul(Ce,Me)|0,c=c+Math.imul(me,Ue)|0,I=I+Math.imul(me,Me)|0,m=m+Math.imul(Be,ke)|0,c=c+Math.imul(Be,qe)|0,c=c+Math.imul(we,ke)|0,I=I+Math.imul(we,qe)|0,m=m+Math.imul(ve,te)|0,c=c+Math.imul(ve,Z)|0,c=c+Math.imul(ye,te)|0,I=I+Math.imul(ye,Z)|0,m=m+Math.imul(ge,ie)|0,c=c+Math.imul(ge,oe)|0,c=c+Math.imul(Ie,ie)|0,I=I+Math.imul(Ie,oe)|0,m=m+Math.imul(ce,ue)|0,c=c+Math.imul(ce,he)|0,c=c+Math.imul(fe,ue)|0,I=I+Math.imul(fe,he)|0;var nr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(nr>>>26)|0,nr&=67108863,m=Math.imul(be,Ue),c=Math.imul(be,Me),c=c+Math.imul(Se,Ue)|0,I=Math.imul(Se,Me),m=m+Math.imul(Ce,ke)|0,c=c+Math.imul(Ce,qe)|0,c=c+Math.imul(me,ke)|0,I=I+Math.imul(me,qe)|0,m=m+Math.imul(Be,te)|0,c=c+Math.imul(Be,Z)|0,c=c+Math.imul(we,te)|0,I=I+Math.imul(we,Z)|0,m=m+Math.imul(ve,ie)|0,c=c+Math.imul(ve,oe)|0,c=c+Math.imul(ye,ie)|0,I=I+Math.imul(ye,oe)|0,m=m+Math.imul(ge,ue)|0,c=c+Math.imul(ge,he)|0,c=c+Math.imul(Ie,ue)|0,I=I+Math.imul(Ie,he)|0;var cr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(cr>>>26)|0,cr&=67108863,m=Math.imul(be,ke),c=Math.imul(be,qe),c=c+Math.imul(Se,ke)|0,I=Math.imul(Se,qe),m=m+Math.imul(Ce,te)|0,c=c+Math.imul(Ce,Z)|0,c=c+Math.imul(me,te)|0,I=I+Math.imul(me,Z)|0,m=m+Math.imul(Be,ie)|0,c=c+Math.imul(Be,oe)|0,c=c+Math.imul(we,ie)|0,I=I+Math.imul(we,oe)|0,m=m+Math.imul(ve,ue)|0,c=c+Math.imul(ve,he)|0,c=c+Math.imul(ye,ue)|0,I=I+Math.imul(ye,he)|0;var pr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(be,te),c=Math.imul(be,Z),c=c+Math.imul(Se,te)|0,I=Math.imul(Se,Z),m=m+Math.imul(Ce,ie)|0,c=c+Math.imul(Ce,oe)|0,c=c+Math.imul(me,ie)|0,I=I+Math.imul(me,oe)|0,m=m+Math.imul(Be,ue)|0,c=c+Math.imul(Be,he)|0,c=c+Math.imul(we,ue)|0,I=I+Math.imul(we,he)|0;var Pr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(be,ie),c=Math.imul(be,oe),c=c+Math.imul(Se,ie)|0,I=Math.imul(Se,oe),m=m+Math.imul(Ce,ue)|0,c=c+Math.imul(Ce,he)|0,c=c+Math.imul(me,ue)|0,I=I+Math.imul(me,he)|0;var fr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(fr>>>26)|0,fr&=67108863,m=Math.imul(be,ue),c=Math.imul(be,he),c=c+Math.imul(Se,ue)|0,I=Math.imul(Se,he);var Hr=(E+m|0)+((c&8191)<<13)|0;return E=(I+(c>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w[0]=Et,w[1]=ft,w[2]=et,w[3]=Ft,w[4]=Ot,w[5]=Mt,w[6]=mt,w[7]=kt,w[8]=Ct,w[9]=wr,w[10]=ir,w[11]=ar,w[12]=xt,w[13]=nr,w[14]=cr,w[15]=pr,w[16]=Pr,w[17]=fr,w[18]=Hr,E!==0&&(w[19]=E,g.length++),g};Math.imul||(C=S);function x(v,a,h){h.negative=a.negative^v.negative,h.length=v.length+a.length;for(var g=0,l=0,A=0;A<h.length-1;A++){var w=l;l=0;for(var E=g&67108863,m=Math.min(A,a.length-1),c=Math.max(0,A-v.length+1);c<=m;c++){var I=A-c,M=v.words[I]|0,D=a.words[c]|0,P=M*D,j=P&67108863;w=w+(P/67108864|0)|0,j=j+E|0,E=j&67108863,w=w+(j>>>26)|0,l+=w>>>26,w&=67108863}h.words[A]=E,g=w,w=l}return g!==0?h.words[A]=g:h.length--,h.strip()}function _(v,a,h){var g=new Q;return g.mulp(v,a,h)}n.prototype.mulTo=function(a,h){var g,l=this.length+a.length;return this.length===10&&a.length===10?g=C(this,a,h):l<63?g=S(this,a,h):l<1024?g=x(this,a,h):g=_(this,a,h),g};function Q(v,a){this.x=v,this.y=a}Q.prototype.makeRBT=function(a){for(var h=new Array(a),g=n.prototype._countBits(a)-1,l=0;l<a;l++)h[l]=this.revBin(l,g,a);return h},Q.prototype.revBin=function(a,h,g){if(a===0||a===g-1)return a;for(var l=0,A=0;A<h;A++)l|=(a&1)<<h-A-1,a>>=1;return l},Q.prototype.permute=function(a,h,g,l,A,w){for(var E=0;E<w;E++)l[E]=h[a[E]],A[E]=g[a[E]]},Q.prototype.transform=function(a,h,g,l,A,w){this.permute(w,a,h,g,l,A);for(var E=1;E<A;E<<=1)for(var m=E<<1,c=Math.cos(2*Math.PI/m),I=Math.sin(2*Math.PI/m),M=0;M<A;M+=m)for(var D=c,P=I,j=0;j<E;j++){var Y=g[M+j],z=l[M+j],$=g[M+j+E],W=l[M+j+E],ee=D*$-P*W;W=D*W+P*$,$=ee,g[M+j]=Y+$,l[M+j]=z+W,g[M+j+E]=Y-$,l[M+j+E]=z-W,j!==m&&(ee=c*D-I*P,P=c*P+I*D,D=ee)}},Q.prototype.guessLen13b=function(a,h){var g=Math.max(h,a)|1,l=g&1,A=0;for(g=g/2|0;g;g=g>>>1)A++;return 1<<A+1+l},Q.prototype.conjugate=function(a,h,g){if(!(g<=1))for(var l=0;l<g/2;l++){var A=a[l];a[l]=a[g-l-1],a[g-l-1]=A,A=h[l],h[l]=-h[g-l-1],h[g-l-1]=-A}},Q.prototype.normalize13b=function(a,h){for(var g=0,l=0;l<h/2;l++){var A=Math.round(a[2*l+1]/h)*8192+Math.round(a[2*l]/h)+g;a[l]=A&67108863,A<67108864?g=0:g=A/67108864|0}return a},Q.prototype.convert13b=function(a,h,g,l){for(var A=0,w=0;w<h;w++)A=A+(a[w]|0),g[2*w]=A&8191,A=A>>>13,g[2*w+1]=A&8191,A=A>>>13;for(w=2*h;w<l;++w)g[w]=0;r(A===0),r((A&-8192)===0)},Q.prototype.stub=function(a){for(var h=new Array(a),g=0;g<a;g++)h[g]=0;return h},Q.prototype.mulp=function(a,h,g){var l=2*this.guessLen13b(a.length,h.length),A=this.makeRBT(l),w=this.stub(l),E=new Array(l),m=new Array(l),c=new Array(l),I=new Array(l),M=new Array(l),D=new Array(l),P=g.words;P.length=l,this.convert13b(a.words,a.length,E,l),this.convert13b(h.words,h.length,I,l),this.transform(E,w,m,c,l,A),this.transform(I,w,M,D,l,A);for(var j=0;j<l;j++){var Y=m[j]*M[j]-c[j]*D[j];c[j]=m[j]*D[j]+c[j]*M[j],m[j]=Y}return this.conjugate(m,c,l),this.transform(m,c,P,w,l,A),this.conjugate(P,w,l),this.normalize13b(P,l),g.negative=a.negative^h.negative,g.length=a.length+h.length,g.strip()},n.prototype.mul=function(a){var h=new n(null);return h.words=new Array(this.length+a.length),this.mulTo(a,h)},n.prototype.mulf=function(a){var h=new n(null);return h.words=new Array(this.length+a.length),_(this,a,h)},n.prototype.imul=function(a){return this.clone().mulTo(a,this)},n.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var h=0,g=0;g<this.length;g++){var l=(this.words[g]|0)*a,A=(l&67108863)+(h&67108863);h>>=26,h+=l/67108864|0,h+=A>>>26,this.words[g]=A&67108863}return h!==0&&(this.words[g]=h,this.length++),this},n.prototype.muln=function(a){return this.clone().imuln(a)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(a){var h=B(a);if(h.length===0)return new n(1);for(var g=this,l=0;l<h.length&&h[l]===0;l++,g=g.sqr());if(++l<h.length)for(var A=g.sqr();l<h.length;l++,A=A.sqr())h[l]!==0&&(g=g.mul(A));return g},n.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26,l=67108863>>>26-h<<26-h,A;if(h!==0){var w=0;for(A=0;A<this.length;A++){var E=this.words[A]&l,m=(this.words[A]|0)-E<<h;this.words[A]=m|w,w=E>>>26-h}w&&(this.words[A]=w,this.length++)}if(g!==0){for(A=this.length-1;A>=0;A--)this.words[A+g]=this.words[A];for(A=0;A<g;A++)this.words[A]=0;this.length+=g}return this.strip()},n.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},n.prototype.iushrn=function(a,h,g){r(typeof a=="number"&&a>=0);var l;h?l=(h-h%26)/26:l=0;var A=a%26,w=Math.min((a-A)/26,this.length),E=67108863^67108863>>>A<<A,m=g;if(l-=w,l=Math.max(0,l),m){for(var c=0;c<w;c++)m.words[c]=this.words[c];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,c=0;c<this.length;c++)this.words[c]=this.words[c+w];else this.words[0]=0,this.length=1;var I=0;for(c=this.length-1;c>=0&&(I!==0||c>=l);c--){var M=this.words[c]|0;this.words[c]=I<<26-A|M>>>A,I=M&E}return m&&I!==0&&(m.words[m.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(a,h,g){return r(this.negative===0),this.iushrn(a,h,g)},n.prototype.shln=function(a){return this.clone().ishln(a)},n.prototype.ushln=function(a){return this.clone().iushln(a)},n.prototype.shrn=function(a){return this.clone().ishrn(a)},n.prototype.ushrn=function(a){return this.clone().iushrn(a)},n.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26,l=1<<h;if(this.length<=g)return!1;var A=this.words[g];return!!(A&l)},n.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(h!==0&&g++,this.length=Math.min(g,this.length),h!==0){var l=67108863^67108863>>>h<<h;this.words[this.length-1]&=l}return this.strip()},n.prototype.maskn=function(a){return this.clone().imaskn(a)},n.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},n.prototype._iaddn=function(a){this.words[0]+=a;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},n.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},n.prototype.addn=function(a){return this.clone().iaddn(a)},n.prototype.subn=function(a){return this.clone().isubn(a)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(a,h,g){var l=a.length+g,A;this._expand(l);var w,E=0;for(A=0;A<a.length;A++){w=(this.words[A+g]|0)+E;var m=(a.words[A]|0)*h;w-=m&67108863,E=(w>>26)-(m/67108864|0),this.words[A+g]=w&67108863}for(;A<this.length-g;A++)w=(this.words[A+g]|0)+E,E=w>>26,this.words[A+g]=w&67108863;if(E===0)return this.strip();for(r(E===-1),E=0,A=0;A<this.length;A++)w=-(this.words[A]|0)+E,E=w>>26,this.words[A]=w&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(a,h){var g=this.length-a.length,l=this.clone(),A=a,w=A.words[A.length-1]|0,E=this._countBits(w);g=26-E,g!==0&&(A=A.ushln(g),l.iushln(g),w=A.words[A.length-1]|0);var m=l.length-A.length,c;if(h!=="mod"){c=new n(null),c.length=m+1,c.words=new Array(c.length);for(var I=0;I<c.length;I++)c.words[I]=0}var M=l.clone()._ishlnsubmul(A,1,m);M.negative===0&&(l=M,c&&(c.words[m]=1));for(var D=m-1;D>=0;D--){var P=(l.words[A.length+D]|0)*67108864+(l.words[A.length+D-1]|0);for(P=Math.min(P/w|0,67108863),l._ishlnsubmul(A,P,D);l.negative!==0;)P--,l.negative=0,l._ishlnsubmul(A,1,D),l.isZero()||(l.negative^=1);c&&(c.words[D]=P)}return c&&c.strip(),l.strip(),h!=="div"&&g!==0&&l.iushrn(g),{div:c||null,mod:l}},n.prototype.divmod=function(a,h,g){if(r(!a.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var l,A,w;return this.negative!==0&&a.negative===0?(w=this.neg().divmod(a,h),h!=="mod"&&(l=w.div.neg()),h!=="div"&&(A=w.mod.neg(),g&&A.negative!==0&&A.iadd(a)),{div:l,mod:A}):this.negative===0&&a.negative!==0?(w=this.divmod(a.neg(),h),h!=="mod"&&(l=w.div.neg()),{div:l,mod:w.mod}):this.negative&a.negative?(w=this.neg().divmod(a.neg(),h),h!=="div"&&(A=w.mod.neg(),g&&A.negative!==0&&A.isub(a)),{div:w.div,mod:A}):a.length>this.length||this.cmp(a)<0?{div:new n(0),mod:this}:a.length===1?h==="div"?{div:this.divn(a.words[0]),mod:null}:h==="mod"?{div:null,mod:new n(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new n(this.modn(a.words[0]))}:this._wordDiv(a,h)},n.prototype.div=function(a){return this.divmod(a,"div",!1).div},n.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},n.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},n.prototype.divRound=function(a){var h=this.divmod(a);if(h.mod.isZero())return h.div;var g=h.div.negative!==0?h.mod.isub(a):h.mod,l=a.ushrn(1),A=a.andln(1),w=g.cmp(l);return w<0||A===1&&w===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},n.prototype.modn=function(a){r(a<=67108863);for(var h=(1<<26)%a,g=0,l=this.length-1;l>=0;l--)g=(h*g+(this.words[l]|0))%a;return g},n.prototype.idivn=function(a){r(a<=67108863);for(var h=0,g=this.length-1;g>=0;g--){var l=(this.words[g]|0)+h*67108864;this.words[g]=l/a|0,h=l%a}return this.strip()},n.prototype.divn=function(a){return this.clone().idivn(a)},n.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var h=this,g=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var l=new n(1),A=new n(0),w=new n(0),E=new n(1),m=0;h.isEven()&&g.isEven();)h.iushrn(1),g.iushrn(1),++m;for(var c=g.clone(),I=h.clone();!h.isZero();){for(var M=0,D=1;!(h.words[0]&D)&&M<26;++M,D<<=1);if(M>0)for(h.iushrn(M);M-- >0;)(l.isOdd()||A.isOdd())&&(l.iadd(c),A.isub(I)),l.iushrn(1),A.iushrn(1);for(var P=0,j=1;!(g.words[0]&j)&&P<26;++P,j<<=1);if(P>0)for(g.iushrn(P);P-- >0;)(w.isOdd()||E.isOdd())&&(w.iadd(c),E.isub(I)),w.iushrn(1),E.iushrn(1);h.cmp(g)>=0?(h.isub(g),l.isub(w),A.isub(E)):(g.isub(h),w.isub(l),E.isub(A))}return{a:w,b:E,gcd:g.iushln(m)}},n.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var h=this,g=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var l=new n(1),A=new n(0),w=g.clone();h.cmpn(1)>0&&g.cmpn(1)>0;){for(var E=0,m=1;!(h.words[0]&m)&&E<26;++E,m<<=1);if(E>0)for(h.iushrn(E);E-- >0;)l.isOdd()&&l.iadd(w),l.iushrn(1);for(var c=0,I=1;!(g.words[0]&I)&&c<26;++c,I<<=1);if(c>0)for(g.iushrn(c);c-- >0;)A.isOdd()&&A.iadd(w),A.iushrn(1);h.cmp(g)>=0?(h.isub(g),l.isub(A)):(g.isub(h),A.isub(l))}var M;return h.cmpn(1)===0?M=l:M=A,M.cmpn(0)<0&&M.iadd(a),M},n.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var h=this.clone(),g=a.clone();h.negative=0,g.negative=0;for(var l=0;h.isEven()&&g.isEven();l++)h.iushrn(1),g.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;g.isEven();)g.iushrn(1);var A=h.cmp(g);if(A<0){var w=h;h=g,g=w}else if(A===0||g.cmpn(1)===0)break;h.isub(g)}while(!0);return g.iushln(l)},n.prototype.invm=function(a){return this.egcd(a).a.umod(a)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(a){return this.words[0]&a},n.prototype.bincn=function(a){r(typeof a=="number");var h=a%26,g=(a-h)/26,l=1<<h;if(this.length<=g)return this._expand(g+1),this.words[g]|=l,this;for(var A=l,w=g;A!==0&&w<this.length;w++){var E=this.words[w]|0;E+=A,A=E>>>26,E&=67108863,this.words[w]=E}return A!==0&&(this.words[w]=A,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(a){var h=a<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var g;if(this.length>1)g=1;else{h&&(a=-a),r(a<=67108863,"Number is too big");var l=this.words[0]|0;g=l===a?0:l<a?-1:1}return this.negative!==0?-g|0:g},n.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var h=this.ucmp(a);return this.negative!==0?-h|0:h},n.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var h=0,g=this.length-1;g>=0;g--){var l=this.words[g]|0,A=a.words[g]|0;if(l!==A){l<A?h=-1:l>A&&(h=1);break}}return h},n.prototype.gtn=function(a){return this.cmpn(a)===1},n.prototype.gt=function(a){return this.cmp(a)===1},n.prototype.gten=function(a){return this.cmpn(a)>=0},n.prototype.gte=function(a){return this.cmp(a)>=0},n.prototype.ltn=function(a){return this.cmpn(a)===-1},n.prototype.lt=function(a){return this.cmp(a)===-1},n.prototype.lten=function(a){return this.cmpn(a)<=0},n.prototype.lte=function(a){return this.cmp(a)<=0},n.prototype.eqn=function(a){return this.cmpn(a)===0},n.prototype.eq=function(a){return this.cmp(a)===0},n.red=function(a){return new O(a)},n.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(a){return this.red=a,this},n.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},n.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},n.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},n.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},n.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},n.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},n.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},n.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var R={k256:null,p224:null,p192:null,p25519:null};function k(v,a){this.name=v,this.p=new n(a,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var a=new n(null);return a.words=new Array(Math.ceil(this.n/13)),a},k.prototype.ireduce=function(a){var h=a,g;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),g=h.bitLength();while(g>this.n);var l=g<this.n?-1:h.ucmp(this.p);return l===0?(h.words[0]=0,h.length=1):l>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},k.prototype.split=function(a,h){a.iushrn(this.n,0,h)},k.prototype.imulK=function(a){return a.imul(this.k)};function K(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(K,k),K.prototype.split=function(a,h){for(var g=4194303,l=Math.min(a.length,9),A=0;A<l;A++)h.words[A]=a.words[A];if(h.length=l,a.length<=9){a.words[0]=0,a.length=1;return}var w=a.words[9];for(h.words[h.length++]=w&g,A=10;A<a.length;A++){var E=a.words[A]|0;a.words[A-10]=(E&g)<<4|w>>>22,w=E}w>>>=22,a.words[A-10]=w,w===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var h=0,g=0;g<a.length;g++){var l=a.words[g]|0;h+=l*977,a.words[g]=h&67108863,h=l*64+(h/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function T(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(T,k);function L(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(L,k);function H(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(H,k),H.prototype.imulK=function(a){for(var h=0,g=0;g<a.length;g++){var l=(a.words[g]|0)*19+h,A=l&67108863;l>>>=26,a.words[g]=A,h=l}return h!==0&&(a.words[a.length++]=h),a},n._prime=function(a){if(R[a])return R[a];var h;if(a==="k256")h=new K;else if(a==="p224")h=new T;else if(a==="p192")h=new L;else if(a==="p25519")h=new H;else throw new Error("Unknown prime "+a);return R[a]=h,h};function O(v){if(typeof v=="string"){var a=n._prime(v);this.m=a.p,this.prime=a}else r(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}O.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},O.prototype._verify2=function(a,h){r((a.negative|h.negative)===0,"red works only with positives"),r(a.red&&a.red===h.red,"red works only with red numbers")},O.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},O.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},O.prototype.add=function(a,h){this._verify2(a,h);var g=a.add(h);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},O.prototype.iadd=function(a,h){this._verify2(a,h);var g=a.iadd(h);return g.cmp(this.m)>=0&&g.isub(this.m),g},O.prototype.sub=function(a,h){this._verify2(a,h);var g=a.sub(h);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},O.prototype.isub=function(a,h){this._verify2(a,h);var g=a.isub(h);return g.cmpn(0)<0&&g.iadd(this.m),g},O.prototype.shl=function(a,h){return this._verify1(a),this.imod(a.ushln(h))},O.prototype.imul=function(a,h){return this._verify2(a,h),this.imod(a.imul(h))},O.prototype.mul=function(a,h){return this._verify2(a,h),this.imod(a.mul(h))},O.prototype.isqr=function(a){return this.imul(a,a.clone())},O.prototype.sqr=function(a){return this.mul(a,a)},O.prototype.sqrt=function(a){if(a.isZero())return a.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var g=this.m.add(new n(1)).iushrn(2);return this.pow(a,g)}for(var l=this.m.subn(1),A=0;!l.isZero()&&l.andln(1)===0;)A++,l.iushrn(1);r(!l.isZero());var w=new n(1).toRed(this),E=w.redNeg(),m=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new n(2*c*c).toRed(this);this.pow(c,m).cmp(E)!==0;)c.redIAdd(E);for(var I=this.pow(c,l),M=this.pow(a,l.addn(1).iushrn(1)),D=this.pow(a,l),P=A;D.cmp(w)!==0;){for(var j=D,Y=0;j.cmp(w)!==0;Y++)j=j.redSqr();r(Y<P);var z=this.pow(I,new n(1).iushln(P-Y-1));M=M.redMul(z),I=z.redSqr(),D=D.redMul(I),P=Y}return M},O.prototype.invm=function(a){var h=a._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},O.prototype.pow=function(a,h){if(h.isZero())return new n(1).toRed(this);if(h.cmpn(1)===0)return a.clone();var g=4,l=new Array(1<<g);l[0]=new n(1).toRed(this),l[1]=a;for(var A=2;A<l.length;A++)l[A]=this.mul(l[A-1],a);var w=l[0],E=0,m=0,c=h.bitLength()%26;for(c===0&&(c=26),A=h.length-1;A>=0;A--){for(var I=h.words[A],M=c-1;M>=0;M--){var D=I>>M&1;if(w!==l[0]&&(w=this.sqr(w)),D===0&&E===0){m=0;continue}E<<=1,E|=D,m++,!(m!==g&&(A!==0||M!==0))&&(w=this.mul(w,l[E]),m=0,E=0)}c=26}return w},O.prototype.convertTo=function(a){var h=a.umod(this.m);return h===a?h.clone():h},O.prototype.convertFrom=function(a){var h=a.clone();return h.red=null,h},n.mont=function(a){return new G(a)};function G(v){O.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(G,O),G.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},G.prototype.convertFrom=function(a){var h=this.imod(a.mul(this.rinv));return h.red=null,h},G.prototype.imul=function(a,h){if(a.isZero()||h.isZero())return a.words[0]=0,a.length=1,a;var g=a.imul(h),l=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(l).iushrn(this.shift),w=A;return A.cmp(this.m)>=0?w=A.isub(this.m):A.cmpn(0)<0&&(w=A.iadd(this.m)),w._forceRed(this)},G.prototype.mul=function(a,h){if(a.isZero()||h.isZero())return new n(0)._forceRed(this);var g=a.mul(h),l=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(l).iushrn(this.shift),w=A;return A.cmp(this.m)>=0?w=A.isub(this.m):A.cmpn(0)<0&&(w=A.iadd(this.m)),w._forceRed(this)},G.prototype.invm=function(a){var h=this.imod(a._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(typeof RN>"u"||RN,mae)});var vae=X((O2t,wae)=>{b();var uOe=rQ(),hOe=Iae();wae.exports=function(e){return new Am(e)};var ic={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};ic.p224=ic.secp224r1;ic.p256=ic.secp256r1=ic.prime256v1;ic.p192=ic.secp192r1=ic.prime192v1;ic.p384=ic.secp384r1;ic.p521=ic.secp521r1;function Am(t){this.curveType=ic[t],this.curveType||(this.curveType={name:t}),this.curve=new uOe.ec(this.curveType.name),this.keys=void 0}Am.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};Am.prototype.computeSecret=function(t,e,r){e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e));var i=this.curve.keyFromPublic(t).getPublic(),n=i.mul(this.keys.getPrivate()).getX();return UN(n,r,this.curveType.byteLength)};Am.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),UN(r,t)};Am.prototype.getPrivateKey=function(t){return UN(this.keys.getPrivate(),t)};Am.prototype.setPublicKey=function(t,e){return e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e)),this.keys._importPublic(t),this};Am.prototype.setPrivateKey=function(t,e){e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e));var r=new hOe(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function UN(t,e,r){Array.isArray(t)||(t=t.toArray());var i=new N.Buffer(t);if(r&&i.length<r){var n=new N.Buffer(r-i.length);n.fill(0),i=N.Buffer.concat([n,i])}return e?i.toString(e):i}});var NN=X((q2t,bae)=>{b();var lOe=Vw(),FN=jr().Buffer;bae.exports=function(t,e){for(var r=FN.alloc(0),i=0,n;r.length<e;)n=pOe(i++),r=FN.concat([r,lOe("sha1").update(t).update(n).digest()]);return r.slice(0,e)};function pOe(t){var e=FN.allocUnsafe(4);return e.writeUInt32BE(t,0),e}});var PN=X((H2t,Eae)=>{b();Eae.exports=function(e,r){for(var i=e.length,n=-1;++n<i;)e[n]^=r[n];return e}});var AQ=X((Bae,ON)=>{b();(function(t,e){"use strict";function r(v,a){if(!v)throw new Error(a||"Assertion failed")}function i(v,a){v.super_=a;var h=function(){};h.prototype=a.prototype,v.prototype=new h,v.prototype.constructor=v}function n(v,a,h){if(n.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((a==="le"||a==="be")&&(h=a,a=10),this._init(v||0,a||10,h||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Vp().Buffer}catch{}n.isBN=function(a){return a instanceof n?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===n.wordSize&&Array.isArray(a.words)},n.max=function(a,h){return a.cmp(h)>0?a:h},n.min=function(a,h){return a.cmp(h)<0?a:h},n.prototype._init=function(a,h,g){if(typeof a=="number")return this._initNumber(a,h,g);if(typeof a=="object")return this._initArray(a,h,g);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),a=a.toString().replace(/\s+/g,"");var l=0;a[0]==="-"&&(l++,this.negative=1),l<a.length&&(h===16?this._parseHex(a,l,g):(this._parseBase(a,h,l),g==="le"&&this._initArray(this.toArray(),h,g)))},n.prototype._initNumber=function(a,h,g){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),h,g)},n.prototype._initArray=function(a,h,g){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var A,w,E=0;if(g==="be")for(l=a.length-1,A=0;l>=0;l-=3)w=a[l]|a[l-1]<<8|a[l-2]<<16,this.words[A]|=w<<E&67108863,this.words[A+1]=w>>>26-E&67108863,E+=24,E>=26&&(E-=26,A++);else if(g==="le")for(l=0,A=0;l<a.length;l+=3)w=a[l]|a[l+1]<<8|a[l+2]<<16,this.words[A]|=w<<E&67108863,this.words[A+1]=w>>>26-E&67108863,E+=24,E>=26&&(E-=26,A++);return this.strip()};function s(v,a){var h=v.charCodeAt(a);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function f(v,a,h){var g=s(v,h);return h-1>=a&&(g|=s(v,h-1)<<4),g}n.prototype._parseHex=function(a,h,g){this.length=Math.ceil((a.length-h)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var A=0,w=0,E;if(g==="be")for(l=a.length-1;l>=h;l-=2)E=f(a,h,l)<<A,this.words[w]|=E&67108863,A>=18?(A-=18,w+=1,this.words[w]|=E>>>26):A+=8;else{var m=a.length-h;for(l=m%2===0?h+1:h;l<a.length;l+=2)E=f(a,h,l)<<A,this.words[w]|=E&67108863,A>=18?(A-=18,w+=1,this.words[w]|=E>>>26):A+=8}this.strip()};function d(v,a,h,g){for(var l=0,A=Math.min(v.length,h),w=a;w<A;w++){var E=v.charCodeAt(w)-48;l*=g,E>=49?l+=E-49+10:E>=17?l+=E-17+10:l+=E}return l}n.prototype._parseBase=function(a,h,g){this.words=[0],this.length=1;for(var l=0,A=1;A<=67108863;A*=h)l++;l--,A=A/h|0;for(var w=a.length-g,E=w%l,m=Math.min(w,w-E)+g,c=0,I=g;I<m;I+=l)c=d(a,I,I+l,h),this.imuln(A),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(E!==0){var M=1;for(c=d(a,I,a.length,h),I=0;I<E;I++)M*=h;this.imuln(M),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},n.prototype.copy=function(a){a.words=new Array(this.length);for(var h=0;h<this.length;h++)a.words[h]=this.words[h];a.length=this.length,a.negative=this.negative,a.red=this.red},n.prototype.clone=function(){var a=new n(null);return this.copy(a),a},n.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(a,h){a=a||10,h=h|0||1;var g;if(a===16||a==="hex"){g="";for(var l=0,A=0,w=0;w<this.length;w++){var E=this.words[w],m=((E<<l|A)&16777215).toString(16);A=E>>>24-l&16777215,A!==0||w!==this.length-1?g=p[6-m.length]+m+g:g=m+g,l+=2,l>=26&&(l-=26,w--)}for(A!==0&&(g=A.toString(16)+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(a===(a|0)&&a>=2&&a<=36){var c=u[a],I=y[a];g="";var M=this.clone();for(M.negative=0;!M.isZero();){var D=M.modn(I).toString(a);M=M.idivn(I),M.isZero()?g=D+g:g=p[c-D.length]+D+g}for(this.isZero()&&(g="0"+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(a,h){return r(typeof o<"u"),this.toArrayLike(o,a,h)},n.prototype.toArray=function(a,h){return this.toArrayLike(Array,a,h)},n.prototype.toArrayLike=function(a,h,g){var l=this.byteLength(),A=g||Math.max(1,l);r(l<=A,"byte array longer than desired length"),r(A>0,"Requested array length <= 0"),this.strip();var w=h==="le",E=new a(A),m,c,I=this.clone();if(w){for(c=0;!I.isZero();c++)m=I.andln(255),I.iushrn(8),E[c]=m;for(;c<A;c++)E[c]=0}else{for(c=0;c<A-l;c++)E[c]=0;for(c=0;!I.isZero();c++)m=I.andln(255),I.iushrn(8),E[A-c-1]=m}return E},Math.clz32?n.prototype._countBits=function(a){return 32-Math.clz32(a)}:n.prototype._countBits=function(a){var h=a,g=0;return h>=4096&&(g+=13,h>>>=13),h>=64&&(g+=7,h>>>=7),h>=8&&(g+=4,h>>>=4),h>=2&&(g+=2,h>>>=2),g+h},n.prototype._zeroBits=function(a){if(a===0)return 26;var h=a,g=0;return h&8191||(g+=13,h>>>=13),h&127||(g+=7,h>>>=7),h&15||(g+=4,h>>>=4),h&3||(g+=2,h>>>=2),h&1||g++,g},n.prototype.bitLength=function(){var a=this.words[this.length-1],h=this._countBits(a);return(this.length-1)*26+h};function B(v){for(var a=new Array(v.bitLength()),h=0;h<a.length;h++){var g=h/26|0,l=h%26;a[h]=(v.words[g]&1<<l)>>>l}return a}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,h=0;h<this.length;h++){var g=this._zeroBits(this.words[h]);if(a+=g,g!==26)break}return a},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},n.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var h=0;h<a.length;h++)this.words[h]=this.words[h]|a.words[h];return this.strip()},n.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},n.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},n.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},n.prototype.iuand=function(a){var h;this.length>a.length?h=a:h=this;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]&a.words[g];return this.length=h.length,this.strip()},n.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},n.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},n.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},n.prototype.iuxor=function(a){var h,g;this.length>a.length?(h=this,g=a):(h=a,g=this);for(var l=0;l<g.length;l++)this.words[l]=h.words[l]^g.words[l];if(this!==h)for(;l<h.length;l++)this.words[l]=h.words[l];return this.length=h.length,this.strip()},n.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},n.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},n.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},n.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var h=Math.ceil(a/26)|0,g=a%26;this._expand(h),g>0&&h--;for(var l=0;l<h;l++)this.words[l]=~this.words[l]&67108863;return g>0&&(this.words[l]=~this.words[l]&67108863>>26-g),this.strip()},n.prototype.notn=function(a){return this.clone().inotn(a)},n.prototype.setn=function(a,h){r(typeof a=="number"&&a>=0);var g=a/26|0,l=a%26;return this._expand(g+1),h?this.words[g]=this.words[g]|1<<l:this.words[g]=this.words[g]&~(1<<l),this.strip()},n.prototype.iadd=function(a){var h;if(this.negative!==0&&a.negative===0)return this.negative=0,h=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,h=this.isub(a),a.negative=1,h._normSign();var g,l;this.length>a.length?(g=this,l=a):(g=a,l=this);for(var A=0,w=0;w<l.length;w++)h=(g.words[w]|0)+(l.words[w]|0)+A,this.words[w]=h&67108863,A=h>>>26;for(;A!==0&&w<g.length;w++)h=(g.words[w]|0)+A,this.words[w]=h&67108863,A=h>>>26;if(this.length=g.length,A!==0)this.words[this.length]=A,this.length++;else if(g!==this)for(;w<g.length;w++)this.words[w]=g.words[w];return this},n.prototype.add=function(a){var h;return a.negative!==0&&this.negative===0?(a.negative=0,h=this.sub(a),a.negative^=1,h):a.negative===0&&this.negative!==0?(this.negative=0,h=a.sub(this),this.negative=1,h):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},n.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var h=this.iadd(a);return a.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g=this.cmp(a);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,A;g>0?(l=this,A=a):(l=a,A=this);for(var w=0,E=0;E<A.length;E++)h=(l.words[E]|0)-(A.words[E]|0)+w,w=h>>26,this.words[E]=h&67108863;for(;w!==0&&E<l.length;E++)h=(l.words[E]|0)+w,w=h>>26,this.words[E]=h&67108863;if(w===0&&E<l.length&&l!==this)for(;E<l.length;E++)this.words[E]=l.words[E];return this.length=Math.max(this.length,E),l!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(a){return this.clone().isub(a)};function S(v,a,h){h.negative=a.negative^v.negative;var g=v.length+a.length|0;h.length=g,g=g-1|0;var l=v.words[0]|0,A=a.words[0]|0,w=l*A,E=w&67108863,m=w/67108864|0;h.words[0]=E;for(var c=1;c<g;c++){for(var I=m>>>26,M=m&67108863,D=Math.min(c,a.length-1),P=Math.max(0,c-v.length+1);P<=D;P++){var j=c-P|0;l=v.words[j]|0,A=a.words[P]|0,w=l*A+M,I+=w/67108864|0,M=w&67108863}h.words[c]=M|0,m=I|0}return m!==0?h.words[c]=m|0:h.length--,h.strip()}var C=function(a,h,g){var l=a.words,A=h.words,w=g.words,E=0,m,c,I,M=l[0]|0,D=M&8191,P=M>>>13,j=l[1]|0,Y=j&8191,z=j>>>13,$=l[2]|0,W=$&8191,ee=$>>>13,pe=l[3]|0,ne=pe&8191,se=pe>>>13,Le=l[4]|0,ce=Le&8191,fe=Le>>>13,bt=l[5]|0,ge=bt&8191,Ie=bt>>>13,mr=l[6]|0,ve=mr&8191,ye=mr>>>13,Nr=l[7]|0,Be=Nr&8191,we=Nr>>>13,qr=l[8]|0,Ce=qr&8191,me=qr>>>13,Ir=l[9]|0,be=Ir&8191,Se=Ir>>>13,sr=A[0]|0,xe=sr&8191,_e=sr>>>13,Zi=A[1]|0,Fe=Zi&8191,Qe=Zi>>>13,$i=A[2]|0,Oe=$i&8191,Ne=$i>>>13,Xi=A[3]|0,De=Xi&8191,Re=Xi>>>13,di=A[4]|0,Ke=di&8191,Pe=di>>>13,en=A[5]|0,Ue=en&8191,Me=en>>>13,tn=A[6]|0,ke=tn&8191,qe=tn>>>13,Li=A[7]|0,te=Li&8191,Z=Li>>>13,de=A[8]|0,ie=de&8191,oe=de>>>13,$e=A[9]|0,ue=$e&8191,he=$e>>>13;g.negative=a.negative^h.negative,g.length=19,m=Math.imul(D,xe),c=Math.imul(D,_e),c=c+Math.imul(P,xe)|0,I=Math.imul(P,_e);var Et=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Et>>>26)|0,Et&=67108863,m=Math.imul(Y,xe),c=Math.imul(Y,_e),c=c+Math.imul(z,xe)|0,I=Math.imul(z,_e),m=m+Math.imul(D,Fe)|0,c=c+Math.imul(D,Qe)|0,c=c+Math.imul(P,Fe)|0,I=I+Math.imul(P,Qe)|0;var ft=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(W,xe),c=Math.imul(W,_e),c=c+Math.imul(ee,xe)|0,I=Math.imul(ee,_e),m=m+Math.imul(Y,Fe)|0,c=c+Math.imul(Y,Qe)|0,c=c+Math.imul(z,Fe)|0,I=I+Math.imul(z,Qe)|0,m=m+Math.imul(D,Oe)|0,c=c+Math.imul(D,Ne)|0,c=c+Math.imul(P,Oe)|0,I=I+Math.imul(P,Ne)|0;var et=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(et>>>26)|0,et&=67108863,m=Math.imul(ne,xe),c=Math.imul(ne,_e),c=c+Math.imul(se,xe)|0,I=Math.imul(se,_e),m=m+Math.imul(W,Fe)|0,c=c+Math.imul(W,Qe)|0,c=c+Math.imul(ee,Fe)|0,I=I+Math.imul(ee,Qe)|0,m=m+Math.imul(Y,Oe)|0,c=c+Math.imul(Y,Ne)|0,c=c+Math.imul(z,Oe)|0,I=I+Math.imul(z,Ne)|0,m=m+Math.imul(D,De)|0,c=c+Math.imul(D,Re)|0,c=c+Math.imul(P,De)|0,I=I+Math.imul(P,Re)|0;var Ft=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,m=Math.imul(ce,xe),c=Math.imul(ce,_e),c=c+Math.imul(fe,xe)|0,I=Math.imul(fe,_e),m=m+Math.imul(ne,Fe)|0,c=c+Math.imul(ne,Qe)|0,c=c+Math.imul(se,Fe)|0,I=I+Math.imul(se,Qe)|0,m=m+Math.imul(W,Oe)|0,c=c+Math.imul(W,Ne)|0,c=c+Math.imul(ee,Oe)|0,I=I+Math.imul(ee,Ne)|0,m=m+Math.imul(Y,De)|0,c=c+Math.imul(Y,Re)|0,c=c+Math.imul(z,De)|0,I=I+Math.imul(z,Re)|0,m=m+Math.imul(D,Ke)|0,c=c+Math.imul(D,Pe)|0,c=c+Math.imul(P,Ke)|0,I=I+Math.imul(P,Pe)|0;var Ot=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(ge,xe),c=Math.imul(ge,_e),c=c+Math.imul(Ie,xe)|0,I=Math.imul(Ie,_e),m=m+Math.imul(ce,Fe)|0,c=c+Math.imul(ce,Qe)|0,c=c+Math.imul(fe,Fe)|0,I=I+Math.imul(fe,Qe)|0,m=m+Math.imul(ne,Oe)|0,c=c+Math.imul(ne,Ne)|0,c=c+Math.imul(se,Oe)|0,I=I+Math.imul(se,Ne)|0,m=m+Math.imul(W,De)|0,c=c+Math.imul(W,Re)|0,c=c+Math.imul(ee,De)|0,I=I+Math.imul(ee,Re)|0,m=m+Math.imul(Y,Ke)|0,c=c+Math.imul(Y,Pe)|0,c=c+Math.imul(z,Ke)|0,I=I+Math.imul(z,Pe)|0,m=m+Math.imul(D,Ue)|0,c=c+Math.imul(D,Me)|0,c=c+Math.imul(P,Ue)|0,I=I+Math.imul(P,Me)|0;var Mt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,m=Math.imul(ve,xe),c=Math.imul(ve,_e),c=c+Math.imul(ye,xe)|0,I=Math.imul(ye,_e),m=m+Math.imul(ge,Fe)|0,c=c+Math.imul(ge,Qe)|0,c=c+Math.imul(Ie,Fe)|0,I=I+Math.imul(Ie,Qe)|0,m=m+Math.imul(ce,Oe)|0,c=c+Math.imul(ce,Ne)|0,c=c+Math.imul(fe,Oe)|0,I=I+Math.imul(fe,Ne)|0,m=m+Math.imul(ne,De)|0,c=c+Math.imul(ne,Re)|0,c=c+Math.imul(se,De)|0,I=I+Math.imul(se,Re)|0,m=m+Math.imul(W,Ke)|0,c=c+Math.imul(W,Pe)|0,c=c+Math.imul(ee,Ke)|0,I=I+Math.imul(ee,Pe)|0,m=m+Math.imul(Y,Ue)|0,c=c+Math.imul(Y,Me)|0,c=c+Math.imul(z,Ue)|0,I=I+Math.imul(z,Me)|0,m=m+Math.imul(D,ke)|0,c=c+Math.imul(D,qe)|0,c=c+Math.imul(P,ke)|0,I=I+Math.imul(P,qe)|0;var mt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,m=Math.imul(Be,xe),c=Math.imul(Be,_e),c=c+Math.imul(we,xe)|0,I=Math.imul(we,_e),m=m+Math.imul(ve,Fe)|0,c=c+Math.imul(ve,Qe)|0,c=c+Math.imul(ye,Fe)|0,I=I+Math.imul(ye,Qe)|0,m=m+Math.imul(ge,Oe)|0,c=c+Math.imul(ge,Ne)|0,c=c+Math.imul(Ie,Oe)|0,I=I+Math.imul(Ie,Ne)|0,m=m+Math.imul(ce,De)|0,c=c+Math.imul(ce,Re)|0,c=c+Math.imul(fe,De)|0,I=I+Math.imul(fe,Re)|0,m=m+Math.imul(ne,Ke)|0,c=c+Math.imul(ne,Pe)|0,c=c+Math.imul(se,Ke)|0,I=I+Math.imul(se,Pe)|0,m=m+Math.imul(W,Ue)|0,c=c+Math.imul(W,Me)|0,c=c+Math.imul(ee,Ue)|0,I=I+Math.imul(ee,Me)|0,m=m+Math.imul(Y,ke)|0,c=c+Math.imul(Y,qe)|0,c=c+Math.imul(z,ke)|0,I=I+Math.imul(z,qe)|0,m=m+Math.imul(D,te)|0,c=c+Math.imul(D,Z)|0,c=c+Math.imul(P,te)|0,I=I+Math.imul(P,Z)|0;var kt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(Ce,xe),c=Math.imul(Ce,_e),c=c+Math.imul(me,xe)|0,I=Math.imul(me,_e),m=m+Math.imul(Be,Fe)|0,c=c+Math.imul(Be,Qe)|0,c=c+Math.imul(we,Fe)|0,I=I+Math.imul(we,Qe)|0,m=m+Math.imul(ve,Oe)|0,c=c+Math.imul(ve,Ne)|0,c=c+Math.imul(ye,Oe)|0,I=I+Math.imul(ye,Ne)|0,m=m+Math.imul(ge,De)|0,c=c+Math.imul(ge,Re)|0,c=c+Math.imul(Ie,De)|0,I=I+Math.imul(Ie,Re)|0,m=m+Math.imul(ce,Ke)|0,c=c+Math.imul(ce,Pe)|0,c=c+Math.imul(fe,Ke)|0,I=I+Math.imul(fe,Pe)|0,m=m+Math.imul(ne,Ue)|0,c=c+Math.imul(ne,Me)|0,c=c+Math.imul(se,Ue)|0,I=I+Math.imul(se,Me)|0,m=m+Math.imul(W,ke)|0,c=c+Math.imul(W,qe)|0,c=c+Math.imul(ee,ke)|0,I=I+Math.imul(ee,qe)|0,m=m+Math.imul(Y,te)|0,c=c+Math.imul(Y,Z)|0,c=c+Math.imul(z,te)|0,I=I+Math.imul(z,Z)|0,m=m+Math.imul(D,ie)|0,c=c+Math.imul(D,oe)|0,c=c+Math.imul(P,ie)|0,I=I+Math.imul(P,oe)|0;var Ct=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(be,xe),c=Math.imul(be,_e),c=c+Math.imul(Se,xe)|0,I=Math.imul(Se,_e),m=m+Math.imul(Ce,Fe)|0,c=c+Math.imul(Ce,Qe)|0,c=c+Math.imul(me,Fe)|0,I=I+Math.imul(me,Qe)|0,m=m+Math.imul(Be,Oe)|0,c=c+Math.imul(Be,Ne)|0,c=c+Math.imul(we,Oe)|0,I=I+Math.imul(we,Ne)|0,m=m+Math.imul(ve,De)|0,c=c+Math.imul(ve,Re)|0,c=c+Math.imul(ye,De)|0,I=I+Math.imul(ye,Re)|0,m=m+Math.imul(ge,Ke)|0,c=c+Math.imul(ge,Pe)|0,c=c+Math.imul(Ie,Ke)|0,I=I+Math.imul(Ie,Pe)|0,m=m+Math.imul(ce,Ue)|0,c=c+Math.imul(ce,Me)|0,c=c+Math.imul(fe,Ue)|0,I=I+Math.imul(fe,Me)|0,m=m+Math.imul(ne,ke)|0,c=c+Math.imul(ne,qe)|0,c=c+Math.imul(se,ke)|0,I=I+Math.imul(se,qe)|0,m=m+Math.imul(W,te)|0,c=c+Math.imul(W,Z)|0,c=c+Math.imul(ee,te)|0,I=I+Math.imul(ee,Z)|0,m=m+Math.imul(Y,ie)|0,c=c+Math.imul(Y,oe)|0,c=c+Math.imul(z,ie)|0,I=I+Math.imul(z,oe)|0,m=m+Math.imul(D,ue)|0,c=c+Math.imul(D,he)|0,c=c+Math.imul(P,ue)|0,I=I+Math.imul(P,he)|0;var wr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(wr>>>26)|0,wr&=67108863,m=Math.imul(be,Fe),c=Math.imul(be,Qe),c=c+Math.imul(Se,Fe)|0,I=Math.imul(Se,Qe),m=m+Math.imul(Ce,Oe)|0,c=c+Math.imul(Ce,Ne)|0,c=c+Math.imul(me,Oe)|0,I=I+Math.imul(me,Ne)|0,m=m+Math.imul(Be,De)|0,c=c+Math.imul(Be,Re)|0,c=c+Math.imul(we,De)|0,I=I+Math.imul(we,Re)|0,m=m+Math.imul(ve,Ke)|0,c=c+Math.imul(ve,Pe)|0,c=c+Math.imul(ye,Ke)|0,I=I+Math.imul(ye,Pe)|0,m=m+Math.imul(ge,Ue)|0,c=c+Math.imul(ge,Me)|0,c=c+Math.imul(Ie,Ue)|0,I=I+Math.imul(Ie,Me)|0,m=m+Math.imul(ce,ke)|0,c=c+Math.imul(ce,qe)|0,c=c+Math.imul(fe,ke)|0,I=I+Math.imul(fe,qe)|0,m=m+Math.imul(ne,te)|0,c=c+Math.imul(ne,Z)|0,c=c+Math.imul(se,te)|0,I=I+Math.imul(se,Z)|0,m=m+Math.imul(W,ie)|0,c=c+Math.imul(W,oe)|0,c=c+Math.imul(ee,ie)|0,I=I+Math.imul(ee,oe)|0,m=m+Math.imul(Y,ue)|0,c=c+Math.imul(Y,he)|0,c=c+Math.imul(z,ue)|0,I=I+Math.imul(z,he)|0;var ir=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ir>>>26)|0,ir&=67108863,m=Math.imul(be,Oe),c=Math.imul(be,Ne),c=c+Math.imul(Se,Oe)|0,I=Math.imul(Se,Ne),m=m+Math.imul(Ce,De)|0,c=c+Math.imul(Ce,Re)|0,c=c+Math.imul(me,De)|0,I=I+Math.imul(me,Re)|0,m=m+Math.imul(Be,Ke)|0,c=c+Math.imul(Be,Pe)|0,c=c+Math.imul(we,Ke)|0,I=I+Math.imul(we,Pe)|0,m=m+Math.imul(ve,Ue)|0,c=c+Math.imul(ve,Me)|0,c=c+Math.imul(ye,Ue)|0,I=I+Math.imul(ye,Me)|0,m=m+Math.imul(ge,ke)|0,c=c+Math.imul(ge,qe)|0,c=c+Math.imul(Ie,ke)|0,I=I+Math.imul(Ie,qe)|0,m=m+Math.imul(ce,te)|0,c=c+Math.imul(ce,Z)|0,c=c+Math.imul(fe,te)|0,I=I+Math.imul(fe,Z)|0,m=m+Math.imul(ne,ie)|0,c=c+Math.imul(ne,oe)|0,c=c+Math.imul(se,ie)|0,I=I+Math.imul(se,oe)|0,m=m+Math.imul(W,ue)|0,c=c+Math.imul(W,he)|0,c=c+Math.imul(ee,ue)|0,I=I+Math.imul(ee,he)|0;var ar=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(ar>>>26)|0,ar&=67108863,m=Math.imul(be,De),c=Math.imul(be,Re),c=c+Math.imul(Se,De)|0,I=Math.imul(Se,Re),m=m+Math.imul(Ce,Ke)|0,c=c+Math.imul(Ce,Pe)|0,c=c+Math.imul(me,Ke)|0,I=I+Math.imul(me,Pe)|0,m=m+Math.imul(Be,Ue)|0,c=c+Math.imul(Be,Me)|0,c=c+Math.imul(we,Ue)|0,I=I+Math.imul(we,Me)|0,m=m+Math.imul(ve,ke)|0,c=c+Math.imul(ve,qe)|0,c=c+Math.imul(ye,ke)|0,I=I+Math.imul(ye,qe)|0,m=m+Math.imul(ge,te)|0,c=c+Math.imul(ge,Z)|0,c=c+Math.imul(Ie,te)|0,I=I+Math.imul(Ie,Z)|0,m=m+Math.imul(ce,ie)|0,c=c+Math.imul(ce,oe)|0,c=c+Math.imul(fe,ie)|0,I=I+Math.imul(fe,oe)|0,m=m+Math.imul(ne,ue)|0,c=c+Math.imul(ne,he)|0,c=c+Math.imul(se,ue)|0,I=I+Math.imul(se,he)|0;var xt=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(xt>>>26)|0,xt&=67108863,m=Math.imul(be,Ke),c=Math.imul(be,Pe),c=c+Math.imul(Se,Ke)|0,I=Math.imul(Se,Pe),m=m+Math.imul(Ce,Ue)|0,c=c+Math.imul(Ce,Me)|0,c=c+Math.imul(me,Ue)|0,I=I+Math.imul(me,Me)|0,m=m+Math.imul(Be,ke)|0,c=c+Math.imul(Be,qe)|0,c=c+Math.imul(we,ke)|0,I=I+Math.imul(we,qe)|0,m=m+Math.imul(ve,te)|0,c=c+Math.imul(ve,Z)|0,c=c+Math.imul(ye,te)|0,I=I+Math.imul(ye,Z)|0,m=m+Math.imul(ge,ie)|0,c=c+Math.imul(ge,oe)|0,c=c+Math.imul(Ie,ie)|0,I=I+Math.imul(Ie,oe)|0,m=m+Math.imul(ce,ue)|0,c=c+Math.imul(ce,he)|0,c=c+Math.imul(fe,ue)|0,I=I+Math.imul(fe,he)|0;var nr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(nr>>>26)|0,nr&=67108863,m=Math.imul(be,Ue),c=Math.imul(be,Me),c=c+Math.imul(Se,Ue)|0,I=Math.imul(Se,Me),m=m+Math.imul(Ce,ke)|0,c=c+Math.imul(Ce,qe)|0,c=c+Math.imul(me,ke)|0,I=I+Math.imul(me,qe)|0,m=m+Math.imul(Be,te)|0,c=c+Math.imul(Be,Z)|0,c=c+Math.imul(we,te)|0,I=I+Math.imul(we,Z)|0,m=m+Math.imul(ve,ie)|0,c=c+Math.imul(ve,oe)|0,c=c+Math.imul(ye,ie)|0,I=I+Math.imul(ye,oe)|0,m=m+Math.imul(ge,ue)|0,c=c+Math.imul(ge,he)|0,c=c+Math.imul(Ie,ue)|0,I=I+Math.imul(Ie,he)|0;var cr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(cr>>>26)|0,cr&=67108863,m=Math.imul(be,ke),c=Math.imul(be,qe),c=c+Math.imul(Se,ke)|0,I=Math.imul(Se,qe),m=m+Math.imul(Ce,te)|0,c=c+Math.imul(Ce,Z)|0,c=c+Math.imul(me,te)|0,I=I+Math.imul(me,Z)|0,m=m+Math.imul(Be,ie)|0,c=c+Math.imul(Be,oe)|0,c=c+Math.imul(we,ie)|0,I=I+Math.imul(we,oe)|0,m=m+Math.imul(ve,ue)|0,c=c+Math.imul(ve,he)|0,c=c+Math.imul(ye,ue)|0,I=I+Math.imul(ye,he)|0;var pr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(be,te),c=Math.imul(be,Z),c=c+Math.imul(Se,te)|0,I=Math.imul(Se,Z),m=m+Math.imul(Ce,ie)|0,c=c+Math.imul(Ce,oe)|0,c=c+Math.imul(me,ie)|0,I=I+Math.imul(me,oe)|0,m=m+Math.imul(Be,ue)|0,c=c+Math.imul(Be,he)|0,c=c+Math.imul(we,ue)|0,I=I+Math.imul(we,he)|0;var Pr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(be,ie),c=Math.imul(be,oe),c=c+Math.imul(Se,ie)|0,I=Math.imul(Se,oe),m=m+Math.imul(Ce,ue)|0,c=c+Math.imul(Ce,he)|0,c=c+Math.imul(me,ue)|0,I=I+Math.imul(me,he)|0;var fr=(E+m|0)+((c&8191)<<13)|0;E=(I+(c>>>13)|0)+(fr>>>26)|0,fr&=67108863,m=Math.imul(be,ue),c=Math.imul(be,he),c=c+Math.imul(Se,ue)|0,I=Math.imul(Se,he);var Hr=(E+m|0)+((c&8191)<<13)|0;return E=(I+(c>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w[0]=Et,w[1]=ft,w[2]=et,w[3]=Ft,w[4]=Ot,w[5]=Mt,w[6]=mt,w[7]=kt,w[8]=Ct,w[9]=wr,w[10]=ir,w[11]=ar,w[12]=xt,w[13]=nr,w[14]=cr,w[15]=pr,w[16]=Pr,w[17]=fr,w[18]=Hr,E!==0&&(w[19]=E,g.length++),g};Math.imul||(C=S);function x(v,a,h){h.negative=a.negative^v.negative,h.length=v.length+a.length;for(var g=0,l=0,A=0;A<h.length-1;A++){var w=l;l=0;for(var E=g&67108863,m=Math.min(A,a.length-1),c=Math.max(0,A-v.length+1);c<=m;c++){var I=A-c,M=v.words[I]|0,D=a.words[c]|0,P=M*D,j=P&67108863;w=w+(P/67108864|0)|0,j=j+E|0,E=j&67108863,w=w+(j>>>26)|0,l+=w>>>26,w&=67108863}h.words[A]=E,g=w,w=l}return g!==0?h.words[A]=g:h.length--,h.strip()}function _(v,a,h){var g=new Q;return g.mulp(v,a,h)}n.prototype.mulTo=function(a,h){var g,l=this.length+a.length;return this.length===10&&a.length===10?g=C(this,a,h):l<63?g=S(this,a,h):l<1024?g=x(this,a,h):g=_(this,a,h),g};function Q(v,a){this.x=v,this.y=a}Q.prototype.makeRBT=function(a){for(var h=new Array(a),g=n.prototype._countBits(a)-1,l=0;l<a;l++)h[l]=this.revBin(l,g,a);return h},Q.prototype.revBin=function(a,h,g){if(a===0||a===g-1)return a;for(var l=0,A=0;A<h;A++)l|=(a&1)<<h-A-1,a>>=1;return l},Q.prototype.permute=function(a,h,g,l,A,w){for(var E=0;E<w;E++)l[E]=h[a[E]],A[E]=g[a[E]]},Q.prototype.transform=function(a,h,g,l,A,w){this.permute(w,a,h,g,l,A);for(var E=1;E<A;E<<=1)for(var m=E<<1,c=Math.cos(2*Math.PI/m),I=Math.sin(2*Math.PI/m),M=0;M<A;M+=m)for(var D=c,P=I,j=0;j<E;j++){var Y=g[M+j],z=l[M+j],$=g[M+j+E],W=l[M+j+E],ee=D*$-P*W;W=D*W+P*$,$=ee,g[M+j]=Y+$,l[M+j]=z+W,g[M+j+E]=Y-$,l[M+j+E]=z-W,j!==m&&(ee=c*D-I*P,P=c*P+I*D,D=ee)}},Q.prototype.guessLen13b=function(a,h){var g=Math.max(h,a)|1,l=g&1,A=0;for(g=g/2|0;g;g=g>>>1)A++;return 1<<A+1+l},Q.prototype.conjugate=function(a,h,g){if(!(g<=1))for(var l=0;l<g/2;l++){var A=a[l];a[l]=a[g-l-1],a[g-l-1]=A,A=h[l],h[l]=-h[g-l-1],h[g-l-1]=-A}},Q.prototype.normalize13b=function(a,h){for(var g=0,l=0;l<h/2;l++){var A=Math.round(a[2*l+1]/h)*8192+Math.round(a[2*l]/h)+g;a[l]=A&67108863,A<67108864?g=0:g=A/67108864|0}return a},Q.prototype.convert13b=function(a,h,g,l){for(var A=0,w=0;w<h;w++)A=A+(a[w]|0),g[2*w]=A&8191,A=A>>>13,g[2*w+1]=A&8191,A=A>>>13;for(w=2*h;w<l;++w)g[w]=0;r(A===0),r((A&-8192)===0)},Q.prototype.stub=function(a){for(var h=new Array(a),g=0;g<a;g++)h[g]=0;return h},Q.prototype.mulp=function(a,h,g){var l=2*this.guessLen13b(a.length,h.length),A=this.makeRBT(l),w=this.stub(l),E=new Array(l),m=new Array(l),c=new Array(l),I=new Array(l),M=new Array(l),D=new Array(l),P=g.words;P.length=l,this.convert13b(a.words,a.length,E,l),this.convert13b(h.words,h.length,I,l),this.transform(E,w,m,c,l,A),this.transform(I,w,M,D,l,A);for(var j=0;j<l;j++){var Y=m[j]*M[j]-c[j]*D[j];c[j]=m[j]*D[j]+c[j]*M[j],m[j]=Y}return this.conjugate(m,c,l),this.transform(m,c,P,w,l,A),this.conjugate(P,w,l),this.normalize13b(P,l),g.negative=a.negative^h.negative,g.length=a.length+h.length,g.strip()},n.prototype.mul=function(a){var h=new n(null);return h.words=new Array(this.length+a.length),this.mulTo(a,h)},n.prototype.mulf=function(a){var h=new n(null);return h.words=new Array(this.length+a.length),_(this,a,h)},n.prototype.imul=function(a){return this.clone().mulTo(a,this)},n.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var h=0,g=0;g<this.length;g++){var l=(this.words[g]|0)*a,A=(l&67108863)+(h&67108863);h>>=26,h+=l/67108864|0,h+=A>>>26,this.words[g]=A&67108863}return h!==0&&(this.words[g]=h,this.length++),this},n.prototype.muln=function(a){return this.clone().imuln(a)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(a){var h=B(a);if(h.length===0)return new n(1);for(var g=this,l=0;l<h.length&&h[l]===0;l++,g=g.sqr());if(++l<h.length)for(var A=g.sqr();l<h.length;l++,A=A.sqr())h[l]!==0&&(g=g.mul(A));return g},n.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26,l=67108863>>>26-h<<26-h,A;if(h!==0){var w=0;for(A=0;A<this.length;A++){var E=this.words[A]&l,m=(this.words[A]|0)-E<<h;this.words[A]=m|w,w=E>>>26-h}w&&(this.words[A]=w,this.length++)}if(g!==0){for(A=this.length-1;A>=0;A--)this.words[A+g]=this.words[A];for(A=0;A<g;A++)this.words[A]=0;this.length+=g}return this.strip()},n.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},n.prototype.iushrn=function(a,h,g){r(typeof a=="number"&&a>=0);var l;h?l=(h-h%26)/26:l=0;var A=a%26,w=Math.min((a-A)/26,this.length),E=67108863^67108863>>>A<<A,m=g;if(l-=w,l=Math.max(0,l),m){for(var c=0;c<w;c++)m.words[c]=this.words[c];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,c=0;c<this.length;c++)this.words[c]=this.words[c+w];else this.words[0]=0,this.length=1;var I=0;for(c=this.length-1;c>=0&&(I!==0||c>=l);c--){var M=this.words[c]|0;this.words[c]=I<<26-A|M>>>A,I=M&E}return m&&I!==0&&(m.words[m.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(a,h,g){return r(this.negative===0),this.iushrn(a,h,g)},n.prototype.shln=function(a){return this.clone().ishln(a)},n.prototype.ushln=function(a){return this.clone().iushln(a)},n.prototype.shrn=function(a){return this.clone().ishrn(a)},n.prototype.ushrn=function(a){return this.clone().iushrn(a)},n.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26,l=1<<h;if(this.length<=g)return!1;var A=this.words[g];return!!(A&l)},n.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,g=(a-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(h!==0&&g++,this.length=Math.min(g,this.length),h!==0){var l=67108863^67108863>>>h<<h;this.words[this.length-1]&=l}return this.strip()},n.prototype.maskn=function(a){return this.clone().imaskn(a)},n.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},n.prototype._iaddn=function(a){this.words[0]+=a;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},n.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},n.prototype.addn=function(a){return this.clone().iaddn(a)},n.prototype.subn=function(a){return this.clone().isubn(a)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(a,h,g){var l=a.length+g,A;this._expand(l);var w,E=0;for(A=0;A<a.length;A++){w=(this.words[A+g]|0)+E;var m=(a.words[A]|0)*h;w-=m&67108863,E=(w>>26)-(m/67108864|0),this.words[A+g]=w&67108863}for(;A<this.length-g;A++)w=(this.words[A+g]|0)+E,E=w>>26,this.words[A+g]=w&67108863;if(E===0)return this.strip();for(r(E===-1),E=0,A=0;A<this.length;A++)w=-(this.words[A]|0)+E,E=w>>26,this.words[A]=w&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(a,h){var g=this.length-a.length,l=this.clone(),A=a,w=A.words[A.length-1]|0,E=this._countBits(w);g=26-E,g!==0&&(A=A.ushln(g),l.iushln(g),w=A.words[A.length-1]|0);var m=l.length-A.length,c;if(h!=="mod"){c=new n(null),c.length=m+1,c.words=new Array(c.length);for(var I=0;I<c.length;I++)c.words[I]=0}var M=l.clone()._ishlnsubmul(A,1,m);M.negative===0&&(l=M,c&&(c.words[m]=1));for(var D=m-1;D>=0;D--){var P=(l.words[A.length+D]|0)*67108864+(l.words[A.length+D-1]|0);for(P=Math.min(P/w|0,67108863),l._ishlnsubmul(A,P,D);l.negative!==0;)P--,l.negative=0,l._ishlnsubmul(A,1,D),l.isZero()||(l.negative^=1);c&&(c.words[D]=P)}return c&&c.strip(),l.strip(),h!=="div"&&g!==0&&l.iushrn(g),{div:c||null,mod:l}},n.prototype.divmod=function(a,h,g){if(r(!a.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var l,A,w;return this.negative!==0&&a.negative===0?(w=this.neg().divmod(a,h),h!=="mod"&&(l=w.div.neg()),h!=="div"&&(A=w.mod.neg(),g&&A.negative!==0&&A.iadd(a)),{div:l,mod:A}):this.negative===0&&a.negative!==0?(w=this.divmod(a.neg(),h),h!=="mod"&&(l=w.div.neg()),{div:l,mod:w.mod}):this.negative&a.negative?(w=this.neg().divmod(a.neg(),h),h!=="div"&&(A=w.mod.neg(),g&&A.negative!==0&&A.isub(a)),{div:w.div,mod:A}):a.length>this.length||this.cmp(a)<0?{div:new n(0),mod:this}:a.length===1?h==="div"?{div:this.divn(a.words[0]),mod:null}:h==="mod"?{div:null,mod:new n(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new n(this.modn(a.words[0]))}:this._wordDiv(a,h)},n.prototype.div=function(a){return this.divmod(a,"div",!1).div},n.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},n.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},n.prototype.divRound=function(a){var h=this.divmod(a);if(h.mod.isZero())return h.div;var g=h.div.negative!==0?h.mod.isub(a):h.mod,l=a.ushrn(1),A=a.andln(1),w=g.cmp(l);return w<0||A===1&&w===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},n.prototype.modn=function(a){r(a<=67108863);for(var h=(1<<26)%a,g=0,l=this.length-1;l>=0;l--)g=(h*g+(this.words[l]|0))%a;return g},n.prototype.idivn=function(a){r(a<=67108863);for(var h=0,g=this.length-1;g>=0;g--){var l=(this.words[g]|0)+h*67108864;this.words[g]=l/a|0,h=l%a}return this.strip()},n.prototype.divn=function(a){return this.clone().idivn(a)},n.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var h=this,g=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var l=new n(1),A=new n(0),w=new n(0),E=new n(1),m=0;h.isEven()&&g.isEven();)h.iushrn(1),g.iushrn(1),++m;for(var c=g.clone(),I=h.clone();!h.isZero();){for(var M=0,D=1;!(h.words[0]&D)&&M<26;++M,D<<=1);if(M>0)for(h.iushrn(M);M-- >0;)(l.isOdd()||A.isOdd())&&(l.iadd(c),A.isub(I)),l.iushrn(1),A.iushrn(1);for(var P=0,j=1;!(g.words[0]&j)&&P<26;++P,j<<=1);if(P>0)for(g.iushrn(P);P-- >0;)(w.isOdd()||E.isOdd())&&(w.iadd(c),E.isub(I)),w.iushrn(1),E.iushrn(1);h.cmp(g)>=0?(h.isub(g),l.isub(w),A.isub(E)):(g.isub(h),w.isub(l),E.isub(A))}return{a:w,b:E,gcd:g.iushln(m)}},n.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var h=this,g=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var l=new n(1),A=new n(0),w=g.clone();h.cmpn(1)>0&&g.cmpn(1)>0;){for(var E=0,m=1;!(h.words[0]&m)&&E<26;++E,m<<=1);if(E>0)for(h.iushrn(E);E-- >0;)l.isOdd()&&l.iadd(w),l.iushrn(1);for(var c=0,I=1;!(g.words[0]&I)&&c<26;++c,I<<=1);if(c>0)for(g.iushrn(c);c-- >0;)A.isOdd()&&A.iadd(w),A.iushrn(1);h.cmp(g)>=0?(h.isub(g),l.isub(A)):(g.isub(h),A.isub(l))}var M;return h.cmpn(1)===0?M=l:M=A,M.cmpn(0)<0&&M.iadd(a),M},n.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var h=this.clone(),g=a.clone();h.negative=0,g.negative=0;for(var l=0;h.isEven()&&g.isEven();l++)h.iushrn(1),g.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;g.isEven();)g.iushrn(1);var A=h.cmp(g);if(A<0){var w=h;h=g,g=w}else if(A===0||g.cmpn(1)===0)break;h.isub(g)}while(!0);return g.iushln(l)},n.prototype.invm=function(a){return this.egcd(a).a.umod(a)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(a){return this.words[0]&a},n.prototype.bincn=function(a){r(typeof a=="number");var h=a%26,g=(a-h)/26,l=1<<h;if(this.length<=g)return this._expand(g+1),this.words[g]|=l,this;for(var A=l,w=g;A!==0&&w<this.length;w++){var E=this.words[w]|0;E+=A,A=E>>>26,E&=67108863,this.words[w]=E}return A!==0&&(this.words[w]=A,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(a){var h=a<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var g;if(this.length>1)g=1;else{h&&(a=-a),r(a<=67108863,"Number is too big");var l=this.words[0]|0;g=l===a?0:l<a?-1:1}return this.negative!==0?-g|0:g},n.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var h=this.ucmp(a);return this.negative!==0?-h|0:h},n.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var h=0,g=this.length-1;g>=0;g--){var l=this.words[g]|0,A=a.words[g]|0;if(l!==A){l<A?h=-1:l>A&&(h=1);break}}return h},n.prototype.gtn=function(a){return this.cmpn(a)===1},n.prototype.gt=function(a){return this.cmp(a)===1},n.prototype.gten=function(a){return this.cmpn(a)>=0},n.prototype.gte=function(a){return this.cmp(a)>=0},n.prototype.ltn=function(a){return this.cmpn(a)===-1},n.prototype.lt=function(a){return this.cmp(a)===-1},n.prototype.lten=function(a){return this.cmpn(a)<=0},n.prototype.lte=function(a){return this.cmp(a)<=0},n.prototype.eqn=function(a){return this.cmpn(a)===0},n.prototype.eq=function(a){return this.cmp(a)===0},n.red=function(a){return new O(a)},n.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(a){return this.red=a,this},n.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},n.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},n.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},n.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},n.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},n.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},n.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},n.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var R={k256:null,p224:null,p192:null,p25519:null};function k(v,a){this.name=v,this.p=new n(a,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var a=new n(null);return a.words=new Array(Math.ceil(this.n/13)),a},k.prototype.ireduce=function(a){var h=a,g;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),g=h.bitLength();while(g>this.n);var l=g<this.n?-1:h.ucmp(this.p);return l===0?(h.words[0]=0,h.length=1):l>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},k.prototype.split=function(a,h){a.iushrn(this.n,0,h)},k.prototype.imulK=function(a){return a.imul(this.k)};function K(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(K,k),K.prototype.split=function(a,h){for(var g=4194303,l=Math.min(a.length,9),A=0;A<l;A++)h.words[A]=a.words[A];if(h.length=l,a.length<=9){a.words[0]=0,a.length=1;return}var w=a.words[9];for(h.words[h.length++]=w&g,A=10;A<a.length;A++){var E=a.words[A]|0;a.words[A-10]=(E&g)<<4|w>>>22,w=E}w>>>=22,a.words[A-10]=w,w===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var h=0,g=0;g<a.length;g++){var l=a.words[g]|0;h+=l*977,a.words[g]=h&67108863,h=l*64+(h/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function T(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(T,k);function L(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(L,k);function H(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(H,k),H.prototype.imulK=function(a){for(var h=0,g=0;g<a.length;g++){var l=(a.words[g]|0)*19+h,A=l&67108863;l>>>=26,a.words[g]=A,h=l}return h!==0&&(a.words[a.length++]=h),a},n._prime=function(a){if(R[a])return R[a];var h;if(a==="k256")h=new K;else if(a==="p224")h=new T;else if(a==="p192")h=new L;else if(a==="p25519")h=new H;else throw new Error("Unknown prime "+a);return R[a]=h,h};function O(v){if(typeof v=="string"){var a=n._prime(v);this.m=a.p,this.prime=a}else r(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}O.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},O.prototype._verify2=function(a,h){r((a.negative|h.negative)===0,"red works only with positives"),r(a.red&&a.red===h.red,"red works only with red numbers")},O.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},O.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},O.prototype.add=function(a,h){this._verify2(a,h);var g=a.add(h);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},O.prototype.iadd=function(a,h){this._verify2(a,h);var g=a.iadd(h);return g.cmp(this.m)>=0&&g.isub(this.m),g},O.prototype.sub=function(a,h){this._verify2(a,h);var g=a.sub(h);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},O.prototype.isub=function(a,h){this._verify2(a,h);var g=a.isub(h);return g.cmpn(0)<0&&g.iadd(this.m),g},O.prototype.shl=function(a,h){return this._verify1(a),this.imod(a.ushln(h))},O.prototype.imul=function(a,h){return this._verify2(a,h),this.imod(a.imul(h))},O.prototype.mul=function(a,h){return this._verify2(a,h),this.imod(a.mul(h))},O.prototype.isqr=function(a){return this.imul(a,a.clone())},O.prototype.sqr=function(a){return this.mul(a,a)},O.prototype.sqrt=function(a){if(a.isZero())return a.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var g=this.m.add(new n(1)).iushrn(2);return this.pow(a,g)}for(var l=this.m.subn(1),A=0;!l.isZero()&&l.andln(1)===0;)A++,l.iushrn(1);r(!l.isZero());var w=new n(1).toRed(this),E=w.redNeg(),m=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new n(2*c*c).toRed(this);this.pow(c,m).cmp(E)!==0;)c.redIAdd(E);for(var I=this.pow(c,l),M=this.pow(a,l.addn(1).iushrn(1)),D=this.pow(a,l),P=A;D.cmp(w)!==0;){for(var j=D,Y=0;j.cmp(w)!==0;Y++)j=j.redSqr();r(Y<P);var z=this.pow(I,new n(1).iushln(P-Y-1));M=M.redMul(z),I=z.redSqr(),D=D.redMul(I),P=Y}return M},O.prototype.invm=function(a){var h=a._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},O.prototype.pow=function(a,h){if(h.isZero())return new n(1).toRed(this);if(h.cmpn(1)===0)return a.clone();var g=4,l=new Array(1<<g);l[0]=new n(1).toRed(this),l[1]=a;for(var A=2;A<l.length;A++)l[A]=this.mul(l[A-1],a);var w=l[0],E=0,m=0,c=h.bitLength()%26;for(c===0&&(c=26),A=h.length-1;A>=0;A--){for(var I=h.words[A],M=c-1;M>=0;M--){var D=I>>M&1;if(w!==l[0]&&(w=this.sqr(w)),D===0&&E===0){m=0;continue}E<<=1,E|=D,m++,!(m!==g&&(A!==0||M!==0))&&(w=this.mul(w,l[E]),m=0,E=0)}c=26}return w},O.prototype.convertTo=function(a){var h=a.umod(this.m);return h===a?h.clone():h},O.prototype.convertFrom=function(a){var h=a.clone();return h.red=null,h},n.mont=function(a){return new G(a)};function G(v){O.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(G,O),G.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},G.prototype.convertFrom=function(a){var h=this.imod(a.mul(this.rinv));return h.red=null,h},G.prototype.imul=function(a,h){if(a.isZero()||h.isZero())return a.words[0]=0,a.length=1,a;var g=a.imul(h),l=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(l).iushrn(this.shift),w=A;return A.cmp(this.m)>=0?w=A.isub(this.m):A.cmpn(0)<0&&(w=A.iadd(this.m)),w._forceRed(this)},G.prototype.mul=function(a,h){if(a.isZero()||h.isZero())return new n(0)._forceRed(this);var g=a.mul(h),l=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(l).iushrn(this.shift),w=A;return A.cmp(this.m)>=0?w=A.isub(this.m):A.cmpn(0)<0&&(w=A.iadd(this.m)),w._forceRed(this)},G.prototype.invm=function(a){var h=this.imod(a._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(typeof ON>"u"||ON,Bae)});var KN=X((z2t,xae)=>{b();var Cae=AQ(),AOe=jr().Buffer;function gOe(t,e){return AOe.from(t.toRed(Cae.mont(e.modulus)).redPow(new Cae(e.publicExponent)).fromRed().toArray())}xae.exports=gOe});var Dae=X((J2t,Qae)=>{b();var yOe=gB(),qN=My(),mOe=Vw(),Sae=NN(),_ae=PN(),LN=AQ(),IOe=KN(),wOe=O_(),Qd=jr().Buffer;Qae.exports=function(e,r,i){var n;e.padding?n=e.padding:i?n=1:n=4;var o=yOe(e),s;if(n===4)s=vOe(o,r);else if(n===1)s=bOe(o,r,i);else if(n===3){if(s=new LN(r),s.cmp(o.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return i?wOe(s,o):IOe(s,o)};function vOe(t,e){var r=t.modulus.byteLength(),i=e.length,n=mOe("sha1").update(Qd.alloc(0)).digest(),o=n.length,s=2*o;if(i>r-s-2)throw new Error("message too long");var f=Qd.alloc(r-i-s-2),d=r-o-1,p=qN(o),u=_ae(Qd.concat([n,f,Qd.alloc(1,1),e],d),Sae(p,d)),y=_ae(p,Sae(u,o));return new LN(Qd.concat([Qd.alloc(1),y,u],r))}function bOe(t,e,r){var i=e.length,n=t.modulus.byteLength();if(i>n-11)throw new Error("message too long");var o;return r?o=Qd.alloc(n-i-3,255):o=EOe(n-i-3),new LN(Qd.concat([Qd.from([0,r?1:2]),o,Qd.alloc(1),e],n))}function EOe(t){for(var e=Qd.allocUnsafe(t),r=0,i=qN(t*2),n=0,o;r<t;)n===i.length&&(i=qN(t*2),n=0),o=i[n++],o&&(e[r++]=o);return e}});var Uae=X((W2t,Rae)=>{b();var BOe=gB(),Mae=NN(),kae=PN(),Tae=AQ(),COe=O_(),xOe=Vw(),SOe=KN(),wB=jr().Buffer;Rae.exports=function(e,r,i){var n;e.padding?n=e.padding:i?n=1:n=4;var o=BOe(e),s=o.modulus.byteLength();if(r.length>s||new Tae(r).cmp(o.modulus)>=0)throw new Error("decryption error");var f;i?f=SOe(new Tae(r),o):f=COe(r,o);var d=wB.alloc(s-f.length);if(f=wB.concat([d,f],s),n===4)return _Oe(o,f);if(n===1)return QOe(o,f,i);if(n===3)return f;throw new Error("unknown padding")};function _Oe(t,e){var r=t.modulus.byteLength(),i=xOe("sha1").update(wB.alloc(0)).digest(),n=i.length;if(e[0]!==0)throw new Error("decryption error");var o=e.slice(1,n+1),s=e.slice(n+1),f=kae(o,Mae(s,n)),d=kae(s,Mae(f,r-n-1));if(DOe(i,d.slice(0,n)))throw new Error("decryption error");for(var p=n;d[p]===0;)p++;if(d[p++]!==1)throw new Error("decryption error");return d.slice(p)}function QOe(t,e,r){for(var i=e.slice(0,2),n=2,o=0;e[n++]!==0;)if(n>=e.length){o++;break}var s=e.slice(2,n-1);if((i.toString("hex")!=="0002"&&!r||i.toString("hex")!=="0001"&&r)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return e.slice(n)}function DOe(t,e){t=wB.from(t),e=wB.from(e);var r=0,i=t.length;t.length!==e.length&&(r++,i=Math.min(t.length,e.length));for(var n=-1;++n<i;)r+=t[n]^e[n];return r}});var Fae=X(gm=>{b();gm.publicEncrypt=Dae();gm.privateDecrypt=Uae();gm.privateEncrypt=function(e,r){return gm.publicEncrypt(e,r,!0)};gm.publicDecrypt=function(e,r){return gm.privateDecrypt(e,r,!0)}});var zae=X(vB=>{"use strict";b();function Nae(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var Oae=jr(),Pae=My(),Kae=Oae.Buffer,qae=Oae.kMaxLength,HN=globalThis.crypto||globalThis.msCrypto,Lae=Math.pow(2,32)-1;function Hae(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>Lae||t<0)throw new TypeError("offset must be a uint32");if(t>qae||t>e)throw new RangeError("offset out of range")}function Gae(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>Lae||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>qae)throw new RangeError("buffer too small")}HN&&HN.getRandomValues||!U.default.browser?(vB.randomFill=MOe,vB.randomFillSync=kOe):(vB.randomFill=Nae,vB.randomFillSync=Nae);function MOe(t,e,r,i){if(!Kae.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")i=e,e=0,r=t.length;else if(typeof r=="function")i=r,r=t.length-e;else if(typeof i!="function")throw new TypeError('"cb" argument must be a function');return Hae(e,t.length),Gae(r,e,t.length),jae(t,e,r,i)}function jae(t,e,r,i){if(U.default.browser){var n=t.buffer,o=new Uint8Array(n,e,r);if(HN.getRandomValues(o),i){U.default.nextTick(function(){i(null,t)});return}return t}if(i){Pae(r,function(f,d){if(f)return i(f);d.copy(t,e),i(null,t)});return}var s=Pae(r);return s.copy(t,e),t}function kOe(t,e,r){if(typeof e>"u"&&(e=0),!Kae.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return Hae(e,t.length),r===void 0&&(r=t.length-e),Gae(r,e,t.length),jae(t,e,r)}});var tv=X(br=>{"use strict";b();br.randomBytes=br.rng=br.pseudoRandomBytes=br.prng=My();br.createHash=br.Hash=Vw();br.createHmac=br.Hmac=R7();var TOe=are(),ROe=Object.keys(TOe),UOe=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(ROe);br.getHashes=function(){return UOe};var Yae=G7();br.pbkdf2=Yae.pbkdf2;br.pbkdf2Sync=Yae.pbkdf2Sync;var nh=Qie();br.Cipher=nh.Cipher;br.createCipher=nh.createCipher;br.Cipheriv=nh.Cipheriv;br.createCipheriv=nh.createCipheriv;br.Decipher=nh.Decipher;br.createDecipher=nh.createDecipher;br.Decipheriv=nh.Decipheriv;br.createDecipheriv=nh.createDecipheriv;br.getCiphers=nh.getCiphers;br.listCiphers=nh.listCiphers;var bB=Gie();br.DiffieHellmanGroup=bB.DiffieHellmanGroup;br.createDiffieHellmanGroup=bB.createDiffieHellmanGroup;br.getDiffieHellman=bB.getDiffieHellman;br.createDiffieHellman=bB.createDiffieHellman;br.DiffieHellman=bB.DiffieHellman;var gQ=yae();br.createSign=gQ.createSign;br.Sign=gQ.Sign;br.createVerify=gQ.createVerify;br.Verify=gQ.Verify;br.createECDH=vae();var yQ=Fae();br.publicEncrypt=yQ.publicEncrypt;br.privateEncrypt=yQ.privateEncrypt;br.publicDecrypt=yQ.publicDecrypt;br.privateDecrypt=yQ.privateDecrypt;var Jae=zae();br.randomFill=Jae.randomFill;br.randomFillSync=Jae.randomFillSync;br.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};br.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var ym=X((nBt,GN)=>{b();var FOe=on(),Vae=function(){var t=65536,e=globalThis.crypto||globalThis.msCrypto;function r(o,s){for(let f=0;f<s;f+=t)e.getRandomValues(new Uint8Array(o.buffer,f+o.byteOffset,Math.min(s-f,t)))}function i(o,s){new Uint8Array(o.buffer,o.byteOffset,s).set(e.randomBytes(s))}function n(){throw new Error("No secure random number generator available")}return e&&e.getRandomValues?r:sY!=null&&(e=tv(),e&&e.randomBytes)?i:n}();Object.defineProperty(GN.exports,"randombytes",{value:Vae});GN.exports.randombytes_buf=function(t){FOe(t,"out must be given"),Vae(t,t.byteLength)}});var Wae=X(()=>{b()});var jN=X((dBt,$ae)=>{b();function NOe(t){return new Uint8Array(t)}function POe(t){Zae(t),OOe().port1.postMessage(t.buffer,[t.buffer])}function Zae(t){t.fill(0)}var mQ;function OOe(){if(mQ)return mQ;var t=globalThis.MessageChannel;return t==null&&({MessageChannel:t}=Wae()),mQ=new t,mQ}$ae.exports={sodium_malloc:NOe,sodium_free:POe,sodium_memzero:Zae}});var mm=X((hBt,zN)=>{b();zN.exports={crypto_verify_16:KOe,crypto_verify_32:qOe,crypto_verify_64:LOe};function IQ(t,e,r,i,n){var o=0;for(let s=0;s<n;s++)o|=t[e+s]^r[i+s];return(1&o-1>>>8)-1}Object.defineProperty(zN.exports,"vn",{value:IQ});function KOe(t,e,r,i){return IQ(t,e,r,i,16)===0}function qOe(t,e,r,i){return IQ(t,e,r,i,32)===0}function LOe(t,e,r,i){return IQ(t,e,r,i,64)===0}});var YN=X((pBt,Xae)=>{b();var HOe=on(),{vn:GOe}=mm();function jOe(t){let e=t.byteLength;for(var r=1,i=0;i<e;i++)r+=t[i],t[i]=r,r>>=8}function zOe(t,e){return HOe(t.byteLength===e.byteLength,"buffers must be the same size"),GOe(t,0,e,0,t.byteLength)===0}function YOe(t){var e=0;for(let r=0;r<t.length;r++)e|=t[r];return e===0}Xae.exports={sodium_increment:jOe,sodium_memcmp:zOe,sodium_is_zero:YOe}});var ice=X((gBt,rce)=>{b();var tce=on(),vQ=Qy();rce.exports=$l;var wQ=128,ece=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function $l(){return this instanceof $l?(this.hh=new Int32Array(8),this.hl=new Int32Array(8),this.buffer=new Uint8Array(128),this.finalised=!1,this.bytesRead=0,this.pos=0,this.hh[0]=1779033703,this.hh[1]=3144134277,this.hh[2]=1013904242,this.hh[3]=2773480762,this.hh[4]=1359893119,this.hh[5]=2600822924,this.hh[6]=528734635,this.hh[7]=1541459225,this.hl[0]=4089235720,this.hl[1]=2227873595,this.hl[2]=4271175723,this.hl[3]=1595750129,this.hl[4]=2917565137,this.hl[5]=725511199,this.hl[6]=4215389547,this.hl[7]=327033209,this):new $l}$l.prototype.update=function(t,e){tce(this.finalised===!1,"Hash instance finalised");var[r,i]=JOe(t,e);this.bytesRead+=i;let n=i+this.pos&-128;this.buffer.set(r.subarray(0,wQ-this.pos),this.pos);let o=this.pos;return i-=wQ-this.pos,i>=0&&(bQ(this.hh,this.hl,this.buffer,128),this.pos=0),i>127&&(bQ(this.hh,this.hl,r.subarray(wQ-o,n-o),n-wQ),i%=128),this.buffer.set(r.subarray(r.byteLength-i)),this.pos=this.bytesRead&127,this.buffer.fill(0,this.pos),this};$l.prototype.digest=function(t,e=0){if(tce(this.finalised===!1,"Hash instance finalised"),this.finalised=!0,this.buffer.fill(0,this.pos),this.buffer[this.pos]=128,this.pos>111&&(bQ(this.hh,this.hl,this.buffer,128),this.buffer.fill(0),this.pos=0),JN(this.buffer,120,this.bytesRead/536870912|0,this.bytesRead<<3),bQ(this.hh,this.hl,this.buffer,128),t instanceof Uint8Array&&t.byteLength>63){for(let i=0;i<8;i++)JN(t,8*i+e,this.hh[i],this.hl[i]);return t}let r=new Uint8Array(64);for(let i=0;i<8;i++)JN(r,8*i,this.hh[i],this.hl[i]);return typeof t=="string"?vQ.toString(r,t):r};function JN(t,e,r,i){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=r&255,t[e+4]=i>>24&255,t[e+5]=i>>16&255,t[e+6]=i>>8&255,t[e+7]=i&255}function JOe(t,e){var r=vQ.from(t,e);return[r,r.byteLength]}function bQ(t,e,r,i){for(var n=new Int32Array(16),o=new Int32Array(16),s,f,d,p,u,y,B,S,C,x,_,Q,R,k,K,T,L,H,O,G,v,a,h,g,l,A,w=t[0],E=t[1],m=t[2],c=t[3],I=t[4],M=t[5],D=t[6],P=t[7],j=e[0],Y=e[1],z=e[2],$=e[3],W=e[4],ee=e[5],pe=e[6],ne=e[7],se=0;i>=128;){for(O=0;O<16;O++)G=8*O+se,n[O]=r[G+0]<<24|r[G+1]<<16|r[G+2]<<8|r[G+3],o[O]=r[G+4]<<24|r[G+5]<<16|r[G+6]<<8|r[G+7];for(O=0;O<80;O++)if(s=w,f=E,d=m,p=c,u=I,y=M,B=D,S=P,C=j,x=Y,_=z,Q=$,R=W,k=ee,K=pe,T=ne,v=P,a=ne,h=a&65535,g=a>>>16,l=v&65535,A=v>>>16,v=(I>>>14|W<<18)^(I>>>18|W<<14)^(W>>>9|I<<23),a=(W>>>14|I<<18)^(W>>>18|I<<14)^(I>>>9|W<<23),h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,v=I&M^~I&D,a=W&ee^~W&pe,h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,v=ece[O*2],a=ece[O*2+1],h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,v=n[O%16],a=o[O%16],h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,g+=h>>>16,l+=g>>>16,A+=l>>>16,L=l&65535|A<<16,H=h&65535|g<<16,v=L,a=H,h=a&65535,g=a>>>16,l=v&65535,A=v>>>16,v=(w>>>28|j<<4)^(j>>>2|w<<30)^(j>>>7|w<<25),a=(j>>>28|w<<4)^(w>>>2|j<<30)^(w>>>7|j<<25),h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,v=w&E^w&m^E&m,a=j&Y^j&z^Y&z,h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,g+=h>>>16,l+=g>>>16,A+=l>>>16,S=l&65535|A<<16,T=h&65535|g<<16,v=p,a=Q,h=a&65535,g=a>>>16,l=v&65535,A=v>>>16,v=L,a=H,h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,g+=h>>>16,l+=g>>>16,A+=l>>>16,p=l&65535|A<<16,Q=h&65535|g<<16,E=s,m=f,c=d,I=p,M=u,D=y,P=B,w=S,Y=C,z=x,$=_,W=Q,ee=R,pe=k,ne=K,j=T,O%16===15)for(G=0;G<16;G++)v=n[G],a=o[G],h=a&65535,g=a>>>16,l=v&65535,A=v>>>16,v=n[(G+9)%16],a=o[(G+9)%16],h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,L=n[(G+1)%16],H=o[(G+1)%16],v=(L>>>1|H<<31)^(L>>>8|H<<24)^L>>>7,a=(H>>>1|L<<31)^(H>>>8|L<<24)^(H>>>7|L<<25),h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,L=n[(G+14)%16],H=o[(G+14)%16],v=(L>>>19|H<<13)^(H>>>29|L<<3)^L>>>6,a=(H>>>19|L<<13)^(L>>>29|H<<3)^(H>>>6|L<<26),h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,g+=h>>>16,l+=g>>>16,A+=l>>>16,n[G]=l&65535|A<<16,o[G]=h&65535|g<<16;v=w,a=j,h=a&65535,g=a>>>16,l=v&65535,A=v>>>16,v=t[0],a=e[0],h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,g+=h>>>16,l+=g>>>16,A+=l>>>16,t[0]=w=l&65535|A<<16,e[0]=j=h&65535|g<<16,v=E,a=Y,h=a&65535,g=a>>>16,l=v&65535,A=v>>>16,v=t[1],a=e[1],h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,g+=h>>>16,l+=g>>>16,A+=l>>>16,t[1]=E=l&65535|A<<16,e[1]=Y=h&65535|g<<16,v=m,a=z,h=a&65535,g=a>>>16,l=v&65535,A=v>>>16,v=t[2],a=e[2],h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,g+=h>>>16,l+=g>>>16,A+=l>>>16,t[2]=m=l&65535|A<<16,e[2]=z=h&65535|g<<16,v=c,a=$,h=a&65535,g=a>>>16,l=v&65535,A=v>>>16,v=t[3],a=e[3],h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,g+=h>>>16,l+=g>>>16,A+=l>>>16,t[3]=c=l&65535|A<<16,e[3]=$=h&65535|g<<16,v=I,a=W,h=a&65535,g=a>>>16,l=v&65535,A=v>>>16,v=t[4],a=e[4],h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,g+=h>>>16,l+=g>>>16,A+=l>>>16,t[4]=I=l&65535|A<<16,e[4]=W=h&65535|g<<16,v=M,a=ee,h=a&65535,g=a>>>16,l=v&65535,A=v>>>16,v=t[5],a=e[5],h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,g+=h>>>16,l+=g>>>16,A+=l>>>16,t[5]=M=l&65535|A<<16,e[5]=ee=h&65535|g<<16,v=D,a=pe,h=a&65535,g=a>>>16,l=v&65535,A=v>>>16,v=t[6],a=e[6],h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,g+=h>>>16,l+=g>>>16,A+=l>>>16,t[6]=D=l&65535|A<<16,e[6]=pe=h&65535|g<<16,v=P,a=ne,h=a&65535,g=a>>>16,l=v&65535,A=v>>>16,v=t[7],a=e[7],h+=a&65535,g+=a>>>16,l+=v&65535,A+=v>>>16,g+=h>>>16,l+=g>>>16,A+=l>>>16,t[7]=P=l&65535|A<<16,e[7]=ne=h&65535|g<<16,se+=128,i-=128}}function EB(t){if(!(this instanceof EB))return new EB(t);this.pad=vQ.alloc(128),this.inner=$l(),this.outer=$l();let e=vQ.alloc(64);t.byteLength>128&&($l().update(t).digest(e),t=e),this.pad.fill(54);for(let r=0;r<t.byteLength;r++)this.pad[r]^=t[r];this.inner.update(this.pad),this.pad.fill(92);for(let r=0;r<t.byteLength;r++)this.pad[r]^=t[r];this.outer.update(this.pad),this.pad.fill(0),e.fill(0)}EB.prototype.update=function(t,e){return this.inner.update(t,e),this};EB.prototype.digest=function(t,e=0){return this.outer.update(this.inner.digest()),this.outer.digest(t,e)};$l.HMAC=EB});var oce=X((mBt,nce)=>{b();var VOe=(t,e)=>function(){return e||(0,t[Object.keys(t)[0]])((e={exports:{}}).exports,e),e.exports},WOe=(()=>{for(var t=new Uint8Array(128),e=0;e<64;e++)t[e<26?e+65:e<52?e+71:e<62?e-4:e*4-205]=e;return r=>{for(var i=r.length,n=new Uint8Array((i-(r[i-1]=="=")-(r[i-2]=="="))*3/4|0),o=0,s=0;o<i;){var f=t[r.charCodeAt(o++)],d=t[r.charCodeAt(o++)],p=t[r.charCodeAt(o++)],u=t[r.charCodeAt(o++)];n[s++]=f<<2|d>>4,n[s++]=d<<4|p>>2,n[s++]=p<<6|u}return n}})(),ZOe=VOe({"wasm-binary:./sha512.wat"(t,e){e.exports=WOe("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")}}),$Oe=ZOe(),XOe=new WebAssembly.Module($Oe);nce.exports=t=>new WebAssembly.Instance(XOe,t).exports});var sce=X((wBt,ZN)=>{b();var Sv=on(),BQ=Qy(),Xl=typeof WebAssembly<"u"&&oce()({imports:{debug:{log(...t){console.log(...t.map(e=>(e>>>0).toString(16).padStart(8,"0")))},log_tee(t){return console.log((t>>>0).toString(16).padStart(8,"0")),t}}}}),nc=0,EQ=[];ZN.exports=Gs;var eKe=ZN.exports.SHA512_BYTES=64,WN=80,VN=216,BB=128;function Gs(){if(!(this instanceof Gs))return new Gs;if(!Xl)throw new Error("WASM not loaded. Wait for Sha512.ready(cb)");EQ.length||(EQ.push(nc),nc+=VN),this.finalized=!1,this.digestLength=eKe,this.pointer=EQ.pop(),this.pos=0,this.wasm=Xl,this._memory=new Uint8Array(Xl.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+VN),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+VN)}Gs.prototype._realloc=function(t){Xl.memory.grow(Math.max(0,Math.ceil(Math.abs(t-this._memory.length)/65536))),this._memory=new Uint8Array(Xl.memory.buffer)};Gs.prototype.update=function(t,e){Sv(this.finalized===!1,"Hash instance finalized"),nc%8!==0&&(nc+=8-nc%8),Sv(nc%8===0,"input should be aligned for int64");let[r,i]=rKe(t,e);return Sv(r instanceof Uint8Array,"input must be Uint8Array or Buffer"),nc+t.length>this._memory.length&&this._realloc(nc+t.length),this._memory.fill(0,nc,nc+iKe(i,BB)-BB),this._memory.set(r.subarray(0,BB-this.pos),this.pointer+WN+this.pos),this._memory.set(r.subarray(BB-this.pos),nc),this.pos=this.pos+i&127,Xl.sha512(this.pointer,nc,i,0),this};Gs.prototype.digest=function(t,e=0){Sv(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,EQ.push(this.pointer);let r=this.pointer+WN+this.pos;this._memory.fill(0,r,this.pointer+WN+BB),Xl.sha512(this.pointer,nc,0,1);let i=this._memory.subarray(this.pointer,this.pointer+this.digestLength);if(!t)return i;if(typeof t=="string")return BQ.toString(i,t);Sv(t instanceof Uint8Array,"output must be Uint8Array or Buffer"),Sv(t.byteLength>=this.digestLength+e,"output must have at least 'SHA512_BYTES' bytes remaining");for(let n=0;n<this.digestLength;n++)t[n+e]=i[n];return t};Gs.WASM=Xl;Gs.WASM_SUPPORTED=typeof WebAssembly<"u";Gs.ready=function(t){return t||(t=tKe),Xl?(t(),Promise.resolve()):t(new Error("WebAssembly not supported"))};Gs.prototype.ready=Gs.ready;function CB(t){if(!(this instanceof CB))return new CB(t);this.pad=BQ.alloc(128),this.inner=Gs(),this.outer=Gs();let e=BQ.alloc(64);t.byteLength>128&&(Gs().update(t).digest(e),t=e),this.pad.fill(54);for(let r=0;r<t.byteLength;r++)this.pad[r]^=t[r];this.inner.update(this.pad),this.pad.fill(92);for(let r=0;r<t.byteLength;r++)this.pad[r]^=t[r];this.outer.update(this.pad),this.pad.fill(0),e.fill(0)}CB.prototype.update=function(t,e){return this.inner.update(t,e),this};CB.prototype.digest=function(t,e=0){return this.outer.update(this.inner.digest()),this.outer.digest(t,e)};Gs.HMAC=CB;function tKe(){}function rKe(t,e){var r=BQ.from(t,e);return[r,r.byteLength]}function iKe(t,e){return t+e-1&-e}});var $N=X((EBt,sA)=>{b();var nKe=ice(),CQ=sce(),ace=nKe;sA.exports=function(){return new ace};sA.exports.ready=function(t){CQ.ready(function(){t()})};sA.exports.WASM_SUPPORTED=CQ.SUPPORTED;sA.exports.WASM_LOADED=!1;var bBt=sA.exports.SHA512_BYTES=64;CQ.ready(function(t){t||(sA.exports.WASM_LOADED=!0,sA.exports=ace=CQ)})});var dce=X((CBt,fce)=>{b();var{crypto_verify_32:oKe}=mm(),cce=$N(),xQ=on(),XN=32,eP=32;function sKe(t,e,r){xQ(t.byteLength===XN,"out should be 'crypto_auth_BYTES' in length"),xQ(r.byteLength===eP,"key should be 'crypto_auth_KEYBYTES' in length");let i=new Uint8Array(64),n=cce.HMAC(r);n.update(e),n.digest(i),t.set(i.subarray(0,32))}function aKe(t,e,r){xQ(t.byteLength===XN,"h should be 'crypto_auth_BYTES' in length"),xQ(r.byteLength===eP,"key should be 'crypto_auth_KEYBYTES' in length");let i=cce.HMAC(r).update(e).digest();return oKe(t,0,i,0)}fce.exports={crypto_auth_BYTES:XN,crypto_auth_KEYBYTES:eP,crypto_auth:sKe,crypto_auth_verify:aKe}});var xB=X((SBt,hce)=>{b();var cKe=$N(),fKe=on();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var tP=64,dKe=tP;function uce(t,e,r){return fKe(t.byteLength===tP,"out must be 'crypto_hash_sha512_BYTES' bytes long"),cKe().update(e.subarray(0,r)).digest(t),0}function uKe(t,e,r){return uce(t,e,r)}hce.exports={crypto_hash:uKe,crypto_hash_sha512:uce,crypto_hash_sha512_BYTES:tP,crypto_hash_BYTES:dKe}});var nP=X((DBt,gce)=>{b();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var vf=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},QBt=new Uint8Array(16),lce=new Uint8Array(32);lce[0]=9;var hKe=vf(),lKe=vf([1]),pKe=vf([56129,1]),AKe=vf([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),gKe=vf([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),yKe=vf([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),mKe=vf([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),IKe=vf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function wKe(t,e,r){for(var i=0;i<16;i++)t[i]=e[i]+r[i]}function vKe(t,e,r){for(var i=0;i<16;i++)t[i]=e[i]-r[i]}function iP(t,e,r){var i,n,o=0,s=0,f=0,d=0,p=0,u=0,y=0,B=0,S=0,C=0,x=0,_=0,Q=0,R=0,k=0,K=0,T=0,L=0,H=0,O=0,G=0,v=0,a=0,h=0,g=0,l=0,A=0,w=0,E=0,m=0,c=0,I=r[0],M=r[1],D=r[2],P=r[3],j=r[4],Y=r[5],z=r[6],$=r[7],W=r[8],ee=r[9],pe=r[10],ne=r[11],se=r[12],Le=r[13],ce=r[14],fe=r[15];i=e[0],o+=i*I,s+=i*M,f+=i*D,d+=i*P,p+=i*j,u+=i*Y,y+=i*z,B+=i*$,S+=i*W,C+=i*ee,x+=i*pe,_+=i*ne,Q+=i*se,R+=i*Le,k+=i*ce,K+=i*fe,i=e[1],s+=i*I,f+=i*M,d+=i*D,p+=i*P,u+=i*j,y+=i*Y,B+=i*z,S+=i*$,C+=i*W,x+=i*ee,_+=i*pe,Q+=i*ne,R+=i*se,k+=i*Le,K+=i*ce,T+=i*fe,i=e[2],f+=i*I,d+=i*M,p+=i*D,u+=i*P,y+=i*j,B+=i*Y,S+=i*z,C+=i*$,x+=i*W,_+=i*ee,Q+=i*pe,R+=i*ne,k+=i*se,K+=i*Le,T+=i*ce,L+=i*fe,i=e[3],d+=i*I,p+=i*M,u+=i*D,y+=i*P,B+=i*j,S+=i*Y,C+=i*z,x+=i*$,_+=i*W,Q+=i*ee,R+=i*pe,k+=i*ne,K+=i*se,T+=i*Le,L+=i*ce,H+=i*fe,i=e[4],p+=i*I,u+=i*M,y+=i*D,B+=i*P,S+=i*j,C+=i*Y,x+=i*z,_+=i*$,Q+=i*W,R+=i*ee,k+=i*pe,K+=i*ne,T+=i*se,L+=i*Le,H+=i*ce,O+=i*fe,i=e[5],u+=i*I,y+=i*M,B+=i*D,S+=i*P,C+=i*j,x+=i*Y,_+=i*z,Q+=i*$,R+=i*W,k+=i*ee,K+=i*pe,T+=i*ne,L+=i*se,H+=i*Le,O+=i*ce,G+=i*fe,i=e[6],y+=i*I,B+=i*M,S+=i*D,C+=i*P,x+=i*j,_+=i*Y,Q+=i*z,R+=i*$,k+=i*W,K+=i*ee,T+=i*pe,L+=i*ne,H+=i*se,O+=i*Le,G+=i*ce,v+=i*fe,i=e[7],B+=i*I,S+=i*M,C+=i*D,x+=i*P,_+=i*j,Q+=i*Y,R+=i*z,k+=i*$,K+=i*W,T+=i*ee,L+=i*pe,H+=i*ne,O+=i*se,G+=i*Le,v+=i*ce,a+=i*fe,i=e[8],S+=i*I,C+=i*M,x+=i*D,_+=i*P,Q+=i*j,R+=i*Y,k+=i*z,K+=i*$,T+=i*W,L+=i*ee,H+=i*pe,O+=i*ne,G+=i*se,v+=i*Le,a+=i*ce,h+=i*fe,i=e[9],C+=i*I,x+=i*M,_+=i*D,Q+=i*P,R+=i*j,k+=i*Y,K+=i*z,T+=i*$,L+=i*W,H+=i*ee,O+=i*pe,G+=i*ne,v+=i*se,a+=i*Le,h+=i*ce,g+=i*fe,i=e[10],x+=i*I,_+=i*M,Q+=i*D,R+=i*P,k+=i*j,K+=i*Y,T+=i*z,L+=i*$,H+=i*W,O+=i*ee,G+=i*pe,v+=i*ne,a+=i*se,h+=i*Le,g+=i*ce,l+=i*fe,i=e[11],_+=i*I,Q+=i*M,R+=i*D,k+=i*P,K+=i*j,T+=i*Y,L+=i*z,H+=i*$,O+=i*W,G+=i*ee,v+=i*pe,a+=i*ne,h+=i*se,g+=i*Le,l+=i*ce,A+=i*fe,i=e[12],Q+=i*I,R+=i*M,k+=i*D,K+=i*P,T+=i*j,L+=i*Y,H+=i*z,O+=i*$,G+=i*W,v+=i*ee,a+=i*pe,h+=i*ne,g+=i*se,l+=i*Le,A+=i*ce,w+=i*fe,i=e[13],R+=i*I,k+=i*M,K+=i*D,T+=i*P,L+=i*j,H+=i*Y,O+=i*z,G+=i*$,v+=i*W,a+=i*ee,h+=i*pe,g+=i*ne,l+=i*se,A+=i*Le,w+=i*ce,E+=i*fe,i=e[14],k+=i*I,K+=i*M,T+=i*D,L+=i*P,H+=i*j,O+=i*Y,G+=i*z,v+=i*$,a+=i*W,h+=i*ee,g+=i*pe,l+=i*ne,A+=i*se,w+=i*Le,E+=i*ce,m+=i*fe,i=e[15],K+=i*I,T+=i*M,L+=i*D,H+=i*P,O+=i*j,G+=i*Y,v+=i*z,a+=i*$,h+=i*W,g+=i*ee,l+=i*pe,A+=i*ne,w+=i*se,E+=i*Le,m+=i*ce,c+=i*fe,o+=38*T,s+=38*L,f+=38*H,d+=38*O,p+=38*G,u+=38*v,y+=38*a,B+=38*h,S+=38*g,C+=38*l,x+=38*A,_+=38*w,Q+=38*E,R+=38*m,k+=38*c,n=1,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=y+n+65535,n=Math.floor(i/65536),y=i-n*65536,i=B+n+65535,n=Math.floor(i/65536),B=i-n*65536,i=S+n+65535,n=Math.floor(i/65536),S=i-n*65536,i=C+n+65535,n=Math.floor(i/65536),C=i-n*65536,i=x+n+65535,n=Math.floor(i/65536),x=i-n*65536,i=_+n+65535,n=Math.floor(i/65536),_=i-n*65536,i=Q+n+65535,n=Math.floor(i/65536),Q=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=k+n+65535,n=Math.floor(i/65536),k=i-n*65536,i=K+n+65535,n=Math.floor(i/65536),K=i-n*65536,o+=n-1+37*(n-1),n=1,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=y+n+65535,n=Math.floor(i/65536),y=i-n*65536,i=B+n+65535,n=Math.floor(i/65536),B=i-n*65536,i=S+n+65535,n=Math.floor(i/65536),S=i-n*65536,i=C+n+65535,n=Math.floor(i/65536),C=i-n*65536,i=x+n+65535,n=Math.floor(i/65536),x=i-n*65536,i=_+n+65535,n=Math.floor(i/65536),_=i-n*65536,i=Q+n+65535,n=Math.floor(i/65536),Q=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=k+n+65535,n=Math.floor(i/65536),k=i-n*65536,i=K+n+65535,n=Math.floor(i/65536),K=i-n*65536,o+=n-1+37*(n-1),t[0]=o,t[1]=s,t[2]=f,t[3]=d,t[4]=p,t[5]=u,t[6]=y,t[7]=B,t[8]=S,t[9]=C,t[10]=x,t[11]=_,t[12]=Q,t[13]=R,t[14]=k,t[15]=K}function pce(t,e){iP(t,e,e)}function Ace(t,e,r){for(var i,n=~(r-1),o=0;o<16;o++)i=n&(t[o]^e[o]),t[o]^=i,e[o]^=i}function bKe(t,e){var r,i,n,o=vf(),s=vf();for(r=0;r<16;r++)s[r]=e[r];for(rP(s),rP(s),rP(s),i=0;i<2;i++){for(o[0]=s[0]-65517,r=1;r<15;r++)o[r]=s[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=s[15]-32767-(o[14]>>16&1),n=o[15]>>16&1,o[14]&=65535,Ace(s,o,1-n)}for(r=0;r<16;r++)t[2*r]=s[r]&255,t[2*r+1]=s[r]>>8}function EKe(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function BKe(t,e){var r=vf(),i;for(i=0;i<16;i++)r[i]=e[i];for(i=253;i>=0;i--)pce(r,r),i!==2&&i!==4&&iP(r,r,e);for(i=0;i<16;i++)t[i]=r[i]}function rP(t){var e,r,i=1;for(e=0;e<16;e++)r=t[e]+i+65535,i=Math.floor(r/65536),t[e]=r-i*65536;t[0]+=i-1+37*(i-1)}gce.exports={gf:vf,A:wKe,Z:vKe,M:iP,S:pce,sel25519:Ace,pack25519:bKe,unpack25519:EKe,inv25519:BKe,gf0:hKe,gf1:lKe,_9:lce,_121665:pKe,D:AKe,D2:gKe,X:yKe,Y:mKe,I:IKe}});var SB=X((kBt,Ice)=>{b();var{_9:CKe,_121665:xKe,gf:_v,inv25519:SKe,pack25519:_Ke,unpack25519:QKe,sel25519:SQ,A:_Q,M:Im,Z:QQ,S:DQ}=nP(),sP=32,yce=32;Ice.exports={crypto_scalarmult:mce,crypto_scalarmult_base:DKe,crypto_scalarmult_BYTES:sP,crypto_scalarmult_SCALARBYTES:yce};function mce(t,e,r){oP(t,sP),oP(e,yce),oP(r,sP);var i=new Uint8Array(32),n=new Float64Array(80),o,s,f=_v(),d=_v(),p=_v(),u=_v(),y=_v(),B=_v();for(s=0;s<31;s++)i[s]=e[s];for(i[31]=e[31]&127|64,i[0]&=248,QKe(n,r),s=0;s<16;s++)d[s]=n[s],u[s]=f[s]=p[s]=0;for(f[0]=u[0]=1,s=254;s>=0;--s)o=i[s>>>3]>>>(s&7)&1,SQ(f,d,o),SQ(p,u,o),_Q(y,f,p),QQ(f,f,p),_Q(p,d,u),QQ(d,d,u),DQ(u,y),DQ(B,f),Im(f,p,f),Im(p,d,y),_Q(y,f,p),QQ(f,f,p),DQ(d,f),QQ(p,u,B),Im(f,p,xKe),_Q(f,f,u),Im(p,p,f),Im(f,u,B),Im(u,d,n),DQ(d,y),SQ(f,d,o),SQ(p,u,o);for(s=0;s<16;s++)n[s+16]=f[s],n[s+32]=p[s],n[s+48]=d[s],n[s+64]=u[s];var S=n.subarray(32),C=n.subarray(16);return SKe(S,S),Im(C,C,S),_Ke(t,C),0}function DKe(t,e){return mce(t,e,CKe)}function oP(t,e){if(!t||e&&t.length<e)throw new Error("Argument must be a buffer"+(e?" of length "+e:""))}});var vce=X((RBt,wce)=>{b();var MKe=(t,e)=>function(){return e||(0,t[Object.keys(t)[0]])((e={exports:{}}).exports,e),e.exports},kKe=(()=>{for(var t=new Uint8Array(128),e=0;e<64;e++)t[e<26?e+65:e<52?e+71:e<62?e-4:e*4-205]=e;return r=>{for(var i=r.length,n=new Uint8Array((i-(r[i-1]=="=")-(r[i-2]=="="))*3/4|0),o=0,s=0;o<i;){var f=t[r.charCodeAt(o++)],d=t[r.charCodeAt(o++)],p=t[r.charCodeAt(o++)],u=t[r.charCodeAt(o++)];n[s++]=f<<2|d>>4,n[s++]=d<<4|p>>2,n[s++]=p<<6|u}return n}})(),TKe=MKe({"wasm-binary:./blake2b.wat"(t,e){e.exports=kKe("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")}}),RKe=TKe(),UKe=WebAssembly.compile(RKe);wce.exports=async t=>(await WebAssembly.instantiate(await UKe,t)).exports});var Qce=X((PBt,oh)=>{b();var oc=on(),FKe=Qy(),t0=null,bce=typeof WebAssembly<"u"&&vce()().then(t=>{t0=t}),e0=64,MQ=[];oh.exports=js;var Ece=oh.exports.BYTES_MIN=16,Bce=oh.exports.BYTES_MAX=64,FBt=oh.exports.BYTES=32,Cce=oh.exports.KEYBYTES_MIN=16,xce=oh.exports.KEYBYTES_MAX=64,NBt=oh.exports.KEYBYTES=32,Sce=oh.exports.SALTBYTES=16,_ce=oh.exports.PERSONALBYTES=16;function js(t,e,r,i,n){if(!(this instanceof js))return new js(t,e,r,i,n);if(!t0)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");t||(t=32),n!==!0&&(oc(t>=Ece,"digestLength must be at least "+Ece+", was given "+t),oc(t<=Bce,"digestLength must be at most "+Bce+", was given "+t),e!=null&&(oc(e instanceof Uint8Array,"key must be Uint8Array or Buffer"),oc(e.length>=Cce,"key must be at least "+Cce+", was given "+e.length),oc(e.length<=xce,"key must be at least "+xce+", was given "+e.length)),r!=null&&(oc(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),oc(r.length===Sce,"salt must be exactly "+Sce+", was given "+r.length)),i!=null&&(oc(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),oc(i.length===_ce,"personal must be exactly "+_ce+", was given "+i.length))),MQ.length||(MQ.push(e0),e0+=216),this.digestLength=t,this.finalized=!1,this.pointer=MQ.pop(),this._memory=new Uint8Array(t0.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=e?e.length:0,this._memory[2]=1,this._memory[3]=1,r&&this._memory.set(r,32),i&&this._memory.set(i,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),t0.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),this._memory.fill(0,e0,e0+e.length),this._memory[this.pointer+200]=128)}js.prototype._realloc=function(t){t0.memory.grow(Math.max(0,Math.ceil(Math.abs(t-this._memory.length)/65536))),this._memory=new Uint8Array(t0.memory.buffer)};js.prototype.update=function(t){return oc(this.finalized===!1,"Hash instance finalized"),oc(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),e0+t.length>this._memory.length&&this._realloc(e0+t.length),this._memory.set(t,e0),t0.blake2b_update(this.pointer,e0,e0+t.length),this};js.prototype.digest=function(t){if(oc(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,MQ.push(this.pointer),t0.blake2b_final(this.pointer),!t||t==="binary")return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(typeof t=="string")return FKe.toString(this._memory,t,this.pointer+128,this.pointer+128+this.digestLength);oc(t instanceof Uint8Array&&t.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=this._memory[this.pointer+128+e];return t};js.prototype.final=js.prototype.digest;js.WASM=t0;js.SUPPORTED=typeof WebAssembly<"u";js.ready=function(t){return t||(t=NKe),bce?bce.then(()=>t(),t):t(new Error("WebAssembly not supported"))};js.prototype.ready=js.ready;js.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)};js.prototype.setPartialHash=function(t){this._memory.set(t,this.pointer)};function NKe(){}});var aP=X((LBt,zs)=>{b();var bf=on(),QB=Qce();function kQ(t,e,r){var i=t[e]+t[r],n=t[e+1]+t[r+1];i>=4294967296&&n++,t[e]=i,t[e+1]=n}function Dce(t,e,r,i){var n=t[e]+r;r<0&&(n+=4294967296);var o=t[e+1]+i;n>=4294967296&&o++,t[e]=n,t[e+1]=o}function Nce(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function aA(t,e,r,i,n,o){var s=_B[n],f=_B[n+1],d=_B[o],p=_B[o+1];kQ(dr,t,e),Dce(dr,t,s,f);var u=dr[i]^dr[t],y=dr[i+1]^dr[t+1];dr[i]=y,dr[i+1]=u,kQ(dr,r,i),u=dr[e]^dr[r],y=dr[e+1]^dr[r+1],dr[e]=u>>>24^y<<8,dr[e+1]=y>>>24^u<<8,kQ(dr,t,e),Dce(dr,t,d,p),u=dr[i]^dr[t],y=dr[i+1]^dr[t+1],dr[i]=u>>>16^y<<16,dr[i+1]=y>>>16^u<<16,kQ(dr,r,i),u=dr[e]^dr[r],y=dr[e+1]^dr[r+1],dr[e]=y>>>31^u<<1,dr[e+1]=u>>>31^y<<1}var Pce=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),PKe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],bs=new Uint8Array(PKe.map(function(t){return t*2})),dr=new Uint32Array(32),_B=new Uint32Array(32);function Oce(t,e){var r=0;for(r=0;r<16;r++)dr[r]=t.h[r],dr[r+16]=Pce[r];for(dr[24]=dr[24]^t.t,dr[25]=dr[25]^t.t/4294967296,e&&(dr[28]=~dr[28],dr[29]=~dr[29]),r=0;r<32;r++)_B[r]=Nce(t.b,4*r);for(r=0;r<12;r++)aA(0,8,16,24,bs[r*16+0],bs[r*16+1]),aA(2,10,18,26,bs[r*16+2],bs[r*16+3]),aA(4,12,20,28,bs[r*16+4],bs[r*16+5]),aA(6,14,22,30,bs[r*16+6],bs[r*16+7]),aA(0,10,20,30,bs[r*16+8],bs[r*16+9]),aA(2,12,22,24,bs[r*16+10],bs[r*16+11]),aA(4,14,16,26,bs[r*16+12],bs[r*16+13]),aA(6,8,18,28,bs[r*16+14],bs[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^dr[r]^dr[r+16]}var cA=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Qv(t,e,r,i){cA.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=t,cA[0]=t,e&&(cA[1]=e.length),cA[2]=1,cA[3]=1,r&&cA.set(r,32),i&&cA.set(i,48);for(var n=0;n<16;n++)this.h[n]=Pce[n]^Nce(cA,n*4);e&&(Kce(this,e),this.c=128)}Qv.prototype.update=function(t){return bf(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),Kce(this,t),this};Qv.prototype.digest=function(t){var e=!t||t==="binary"||t==="hex"?new Uint8Array(this.outlen):t;return bf(e instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),bf(e.length>=this.outlen,"out must have at least outlen bytes of space"),OKe(this,e),t==="hex"?KKe(e):e};Qv.prototype.final=Qv.prototype.digest;Qv.ready=function(t){QB.ready(function(){t()})};function Kce(t,e){for(var r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,Oce(t,!1),t.c=0),t.b[t.c++]=e[r]}function OKe(t,e){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;Oce(t,!0);for(var r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function KKe(t){for(var e="",r=0;r<t.length;r++)e+=qKe(t[r]);return e}function qKe(t){return t<16?"0"+t.toString(16):t.toString(16)}var LKe=Qv;zs.exports=function(e,r,i,n,o){return o!==!0&&(bf(e>=Mce,"outlen must be at least "+Mce+", was given "+e),bf(e<=kce,"outlen must be at most "+kce+", was given "+e),r!=null&&(bf(r instanceof Uint8Array,"key must be Uint8Array or Buffer"),bf(r.length>=Tce,"key must be at least "+Tce+", was given "+r.length),bf(r.length<=Rce,"key must be at most "+Rce+", was given "+r.length)),i!=null&&(bf(i instanceof Uint8Array,"salt must be Uint8Array or Buffer"),bf(i.length===Uce,"salt must be exactly "+Uce+", was given "+i.length)),n!=null&&(bf(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),bf(n.length===Fce,"personal must be exactly "+Fce+", was given "+n.length))),new LKe(e,r,i,n)};zs.exports.ready=function(t){QB.ready(function(){t()})};zs.exports.WASM_SUPPORTED=QB.SUPPORTED;zs.exports.WASM_LOADED=!1;var Mce=zs.exports.BYTES_MIN=16,kce=zs.exports.BYTES_MAX=64,KBt=zs.exports.BYTES=32,Tce=zs.exports.KEYBYTES_MIN=16,Rce=zs.exports.KEYBYTES_MAX=64,qBt=zs.exports.KEYBYTES=32,Uce=zs.exports.SALTBYTES=16,Fce=zs.exports.PERSONALBYTES=16;QB.ready(function(t){t||(zs.exports.WASM_LOADED=!0,zs.exports=QB)})});var TQ=X((GBt,Es)=>{b();var sc=aP();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");Es.exports.crypto_generichash_PRIMITIVE="blake2b";Es.exports.crypto_generichash_BYTES_MIN=sc.BYTES_MIN;Es.exports.crypto_generichash_BYTES_MAX=sc.BYTES_MAX;Es.exports.crypto_generichash_BYTES=sc.BYTES;Es.exports.crypto_generichash_KEYBYTES_MIN=sc.KEYBYTES_MIN;Es.exports.crypto_generichash_KEYBYTES_MAX=sc.KEYBYTES_MAX;Es.exports.crypto_generichash_KEYBYTES=sc.KEYBYTES;Es.exports.crypto_generichash_WASM_SUPPORTED=sc.WASM_SUPPORTED;Es.exports.crypto_generichash_WASM_LOADED=!1;Es.exports.crypto_generichash=function(t,e,r){sc(t.length,r).update(e).final(t)};Es.exports.crypto_generichash_ready=sc.ready;Es.exports.crypto_generichash_batch=function(t,e,r){for(var i=sc(t.length,r),n=0;n<e.length;n++)i.update(e[n]);i.final(t)};Es.exports.crypto_generichash_instance=function(t,e){return e==null&&(e=Es.exports.crypto_generichash_BYTES),sc(e,t)};sc.ready(function(t){Es.exports.crypto_generichash_WASM_LOADED=sc.WASM_LOADED})});var Lce=X((zBt,qce)=>{b();var HKe=(t,e)=>function(){return e||(0,t[Object.keys(t)[0]])((e={exports:{}}).exports,e),e.exports},GKe=(()=>{for(var t=new Uint8Array(128),e=0;e<64;e++)t[e<26?e+65:e<52?e+71:e<62?e-4:e*4-205]=e;return r=>{for(var i=r.length,n=new Uint8Array((i-(r[i-1]=="=")-(r[i-2]=="="))*3/4|0),o=0,s=0;o<i;){var f=t[r.charCodeAt(o++)],d=t[r.charCodeAt(o++)],p=t[r.charCodeAt(o++)],u=t[r.charCodeAt(o++)];n[s++]=f<<2|d>>4,n[s++]=d<<4|p>>2,n[s++]=p<<6|u}return n}})(),jKe=HKe({"wasm-binary:./xsalsa20.wat"(t,e){e.exports=GKe("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")}}),zKe=jKe(),YKe=new WebAssembly.Module(zKe);qce.exports=t=>new WebAssembly.Instance(YKe,t).exports});var fP=X((JBt,jce)=>{b();var DB=typeof WebAssembly<"u"&&Lce()(),UQ=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),sh=144,Dv=sh,RQ=[];jce.exports=ah;ah.NONCEBYTES=24;ah.KEYBYTES=32;ah.core_hsalsa20=Gce;ah.SIGMA=UQ;function ah(t,e){if(!(this instanceof ah))return new ah(t,e);if(!t||t.length<24)throw new Error("nonce must be at least 24 bytes");if(!e||e.length<32)throw new Error("key must be at least 32 bytes");this._xor=DB?new FQ(t,e):new cP(t,e)}ah.prototype.update=function(t,e){if(!t)throw new Error("input must be Uint8Array or Buffer");return e||(e=new Uint8Array(t.length)),t.length&&this._xor.update(t,e),e};ah.prototype.final=ah.prototype.finalize=function(){this._xor.finalize(),this._xor=null};function FQ(t,e){RQ.length||(RQ.push(sh),sh+=64),this._pointer=RQ.pop(),this._nonce=this._pointer+8,this._key=this._nonce+24,this._overflow=0,this._memory=new Uint8Array(DB.memory.buffer),this._memory.fill(0,this._pointer,this._pointer+8),this._memory.set(t,this._nonce),this._memory.set(e,this._key)}FQ.prototype.realloc=function(t){DB.memory.grow(Math.ceil(Math.abs(t-this._memory.length)/65536)),this._memory=new Uint8Array(DB.memory.buffer)};FQ.prototype.update=function(t,e){var r=this._overflow+t.length,i=sh+this._overflow;Dv=sh+r,Dv>=this._memory.length&&this.realloc(Dv),this._memory.set(t,i),DB.xsalsa20_xor(this._pointer,sh,sh,r,this._nonce,this._key),e.set(this._memory.subarray(i,sh+r)),this._overflow=r&63};FQ.prototype.finalize=function(){this._memory.fill(0,this._pointer,this._key+32),Dv>sh&&(this._memory.fill(0,sh,Dv),Dv=0),RQ.push(this._pointer)};function cP(t,e){this._s=new Uint8Array(32),this._z=new Uint8Array(16),this._overflow=0,Gce(this._s,t,e,UQ);for(var r=0;r<8;r++)this._z[r]=t[r+16]}cP.prototype.update=function(t,e){for(var r=new Uint8Array(64),i=0,n=this._overflow,o=t.length+this._overflow,s=this._z,f=-this._overflow,d=-this._overflow;o>=64;){for(Hce(r,s,this._s,UQ);n<64;n++)e[d+n]=t[f+n]^r[n];for(i=1,n=8;n<16;n++)i+=s[n]&255|0,s[n]=i&255,i>>>=8;o-=64,d+=64,f+=64,n=0}if(o>0)for(Hce(r,s,this._s,UQ);n<o;n++)e[d+n]=t[f+n]^r[n];this._overflow=o&63};cP.prototype.finalize=function(){this._s.fill(0),this._z.fill(0)};function Hce(t,e,r,i){for(var n=i[0]&255|(i[1]&255)<<8|(i[2]&255)<<16|(i[3]&255)<<24,o=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,s=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,f=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,d=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,p=i[4]&255|(i[5]&255)<<8|(i[6]&255)<<16|(i[7]&255)<<24,u=e[0]&255|(e[1]&255)<<8|(e[2]&255)<<16|(e[3]&255)<<24,y=e[4]&255|(e[5]&255)<<8|(e[6]&255)<<16|(e[7]&255)<<24,B=e[8]&255|(e[9]&255)<<8|(e[10]&255)<<16|(e[11]&255)<<24,S=e[12]&255|(e[13]&255)<<8|(e[14]&255)<<16|(e[15]&255)<<24,C=i[8]&255|(i[9]&255)<<8|(i[10]&255)<<16|(i[11]&255)<<24,x=r[16]&255|(r[17]&255)<<8|(r[18]&255)<<16|(r[19]&255)<<24,_=r[20]&255|(r[21]&255)<<8|(r[22]&255)<<16|(r[23]&255)<<24,Q=r[24]&255|(r[25]&255)<<8|(r[26]&255)<<16|(r[27]&255)<<24,R=r[28]&255|(r[29]&255)<<8|(r[30]&255)<<16|(r[31]&255)<<24,k=i[12]&255|(i[13]&255)<<8|(i[14]&255)<<16|(i[15]&255)<<24,K=n,T=o,L=s,H=f,O=d,G=p,v=u,a=y,h=B,g=S,l=C,A=x,w=_,E=Q,m=R,c=k,I,M=0;M<20;M+=2)I=K+w|0,O^=I<<7|I>>>25,I=O+K|0,h^=I<<9|I>>>23,I=h+O|0,w^=I<<13|I>>>19,I=w+h|0,K^=I<<18|I>>>14,I=G+T|0,g^=I<<7|I>>>25,I=g+G|0,E^=I<<9|I>>>23,I=E+g|0,T^=I<<13|I>>>19,I=T+E|0,G^=I<<18|I>>>14,I=l+v|0,m^=I<<7|I>>>25,I=m+l|0,L^=I<<9|I>>>23,I=L+m|0,v^=I<<13|I>>>19,I=v+L|0,l^=I<<18|I>>>14,I=c+A|0,H^=I<<7|I>>>25,I=H+c|0,a^=I<<9|I>>>23,I=a+H|0,A^=I<<13|I>>>19,I=A+a|0,c^=I<<18|I>>>14,I=K+H|0,T^=I<<7|I>>>25,I=T+K|0,L^=I<<9|I>>>23,I=L+T|0,H^=I<<13|I>>>19,I=H+L|0,K^=I<<18|I>>>14,I=G+O|0,v^=I<<7|I>>>25,I=v+G|0,a^=I<<9|I>>>23,I=a+v|0,O^=I<<13|I>>>19,I=O+a|0,G^=I<<18|I>>>14,I=l+g|0,A^=I<<7|I>>>25,I=A+l|0,h^=I<<9|I>>>23,I=h+A|0,g^=I<<13|I>>>19,I=g+h|0,l^=I<<18|I>>>14,I=c+m|0,w^=I<<7|I>>>25,I=w+c|0,E^=I<<9|I>>>23,I=E+w|0,m^=I<<13|I>>>19,I=m+E|0,c^=I<<18|I>>>14;K=K+n|0,T=T+o|0,L=L+s|0,H=H+f|0,O=O+d|0,G=G+p|0,v=v+u|0,a=a+y|0,h=h+B|0,g=g+S|0,l=l+C|0,A=A+x|0,w=w+_|0,E=E+Q|0,m=m+R|0,c=c+k|0,t[0]=K>>>0&255,t[1]=K>>>8&255,t[2]=K>>>16&255,t[3]=K>>>24&255,t[4]=T>>>0&255,t[5]=T>>>8&255,t[6]=T>>>16&255,t[7]=T>>>24&255,t[8]=L>>>0&255,t[9]=L>>>8&255,t[10]=L>>>16&255,t[11]=L>>>24&255,t[12]=H>>>0&255,t[13]=H>>>8&255,t[14]=H>>>16&255,t[15]=H>>>24&255,t[16]=O>>>0&255,t[17]=O>>>8&255,t[18]=O>>>16&255,t[19]=O>>>24&255,t[20]=G>>>0&255,t[21]=G>>>8&255,t[22]=G>>>16&255,t[23]=G>>>24&255,t[24]=v>>>0&255,t[25]=v>>>8&255,t[26]=v>>>16&255,t[27]=v>>>24&255,t[28]=a>>>0&255,t[29]=a>>>8&255,t[30]=a>>>16&255,t[31]=a>>>24&255,t[32]=h>>>0&255,t[33]=h>>>8&255,t[34]=h>>>16&255,t[35]=h>>>24&255,t[36]=g>>>0&255,t[37]=g>>>8&255,t[38]=g>>>16&255,t[39]=g>>>24&255,t[40]=l>>>0&255,t[41]=l>>>8&255,t[42]=l>>>16&255,t[43]=l>>>24&255,t[44]=A>>>0&255,t[45]=A>>>8&255,t[46]=A>>>16&255,t[47]=A>>>24&255,t[48]=w>>>0&255,t[49]=w>>>8&255,t[50]=w>>>16&255,t[51]=w>>>24&255,t[52]=E>>>0&255,t[53]=E>>>8&255,t[54]=E>>>16&255,t[55]=E>>>24&255,t[56]=m>>>0&255,t[57]=m>>>8&255,t[58]=m>>>16&255,t[59]=m>>>24&255,t[60]=c>>>0&255,t[61]=c>>>8&255,t[62]=c>>>16&255,t[63]=c>>>24&255}function Gce(t,e,r,i){for(var n=i[0]&255|(i[1]&255)<<8|(i[2]&255)<<16|(i[3]&255)<<24,o=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,s=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,f=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,d=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,p=i[4]&255|(i[5]&255)<<8|(i[6]&255)<<16|(i[7]&255)<<24,u=e[0]&255|(e[1]&255)<<8|(e[2]&255)<<16|(e[3]&255)<<24,y=e[4]&255|(e[5]&255)<<8|(e[6]&255)<<16|(e[7]&255)<<24,B=e[8]&255|(e[9]&255)<<8|(e[10]&255)<<16|(e[11]&255)<<24,S=e[12]&255|(e[13]&255)<<8|(e[14]&255)<<16|(e[15]&255)<<24,C=i[8]&255|(i[9]&255)<<8|(i[10]&255)<<16|(i[11]&255)<<24,x=r[16]&255|(r[17]&255)<<8|(r[18]&255)<<16|(r[19]&255)<<24,_=r[20]&255|(r[21]&255)<<8|(r[22]&255)<<16|(r[23]&255)<<24,Q=r[24]&255|(r[25]&255)<<8|(r[26]&255)<<16|(r[27]&255)<<24,R=r[28]&255|(r[29]&255)<<8|(r[30]&255)<<16|(r[31]&255)<<24,k=i[12]&255|(i[13]&255)<<8|(i[14]&255)<<16|(i[15]&255)<<24,K=n,T=o,L=s,H=f,O=d,G=p,v=u,a=y,h=B,g=S,l=C,A=x,w=_,E=Q,m=R,c=k,I,M=0;M<20;M+=2)I=K+w|0,O^=I<<7|I>>>25,I=O+K|0,h^=I<<9|I>>>23,I=h+O|0,w^=I<<13|I>>>19,I=w+h|0,K^=I<<18|I>>>14,I=G+T|0,g^=I<<7|I>>>25,I=g+G|0,E^=I<<9|I>>>23,I=E+g|0,T^=I<<13|I>>>19,I=T+E|0,G^=I<<18|I>>>14,I=l+v|0,m^=I<<7|I>>>25,I=m+l|0,L^=I<<9|I>>>23,I=L+m|0,v^=I<<13|I>>>19,I=v+L|0,l^=I<<18|I>>>14,I=c+A|0,H^=I<<7|I>>>25,I=H+c|0,a^=I<<9|I>>>23,I=a+H|0,A^=I<<13|I>>>19,I=A+a|0,c^=I<<18|I>>>14,I=K+H|0,T^=I<<7|I>>>25,I=T+K|0,L^=I<<9|I>>>23,I=L+T|0,H^=I<<13|I>>>19,I=H+L|0,K^=I<<18|I>>>14,I=G+O|0,v^=I<<7|I>>>25,I=v+G|0,a^=I<<9|I>>>23,I=a+v|0,O^=I<<13|I>>>19,I=O+a|0,G^=I<<18|I>>>14,I=l+g|0,A^=I<<7|I>>>25,I=A+l|0,h^=I<<9|I>>>23,I=h+A|0,g^=I<<13|I>>>19,I=g+h|0,l^=I<<18|I>>>14,I=c+m|0,w^=I<<7|I>>>25,I=w+c|0,E^=I<<9|I>>>23,I=E+w|0,m^=I<<13|I>>>19,I=m+E|0,c^=I<<18|I>>>14;t[0]=K>>>0&255,t[1]=K>>>8&255,t[2]=K>>>16&255,t[3]=K>>>24&255,t[4]=G>>>0&255,t[5]=G>>>8&255,t[6]=G>>>16&255,t[7]=G>>>24&255,t[8]=l>>>0&255,t[9]=l>>>8&255,t[10]=l>>>16&255,t[11]=l>>>24&255,t[12]=c>>>0&255,t[13]=c>>>8&255,t[14]=c>>>16&255,t[15]=c>>>24&255,t[16]=v>>>0&255,t[17]=v>>>8&255,t[18]=v>>>16&255,t[19]=v>>>24&255,t[20]=a>>>0&255,t[21]=a>>>8&255,t[22]=a>>>16&255,t[23]=a>>>24&255,t[24]=h>>>0&255,t[25]=h>>>8&255,t[26]=h>>>16&255,t[27]=h>>>24&255,t[28]=g>>>0&255,t[29]=g>>>8&255,t[30]=g>>>16&255,t[31]=g>>>24&255}});var NQ=X(r0=>{b();var zce=fP();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");r0.crypto_stream_KEYBYTES=32;r0.crypto_stream_NONCEBYTES=24;r0.crypto_stream_PRIMITIVE="xsalsa20";r0.crypto_stream_xsalsa20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER;r0.crypto_stream=function(t,e,r){t.fill(0),r0.crypto_stream_xor(t,t,e,r)};r0.crypto_stream_xor=function(t,e,r,i){let n=zce(r,i);n.update(e,t),n.final()};r0.crypto_stream_xor_instance=function(t,e){return new dP(t,e)};function dP(t,e){this._instance=zce(t,e)}dP.prototype.update=function(t,e){this._instance.update(e,t)};dP.prototype.final=function(){this._instance.finalize(),this._instance=null}});var OQ=X(($Bt,Yce)=>{b();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var PQ=function(t){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var e,r,i,n,o,s,f,d;e=t[0]&255|(t[1]&255)<<8,this.r[0]=e&8191,r=t[2]&255|(t[3]&255)<<8,this.r[1]=(e>>>13|r<<3)&8191,i=t[4]&255|(t[5]&255)<<8,this.r[2]=(r>>>10|i<<6)&7939,n=t[6]&255|(t[7]&255)<<8,this.r[3]=(i>>>7|n<<9)&8191,o=t[8]&255|(t[9]&255)<<8,this.r[4]=(n>>>4|o<<12)&255,this.r[5]=o>>>1&8190,s=t[10]&255|(t[11]&255)<<8,this.r[6]=(o>>>14|s<<2)&8191,f=t[12]&255|(t[13]&255)<<8,this.r[7]=(s>>>11|f<<5)&8065,d=t[14]&255|(t[15]&255)<<8,this.r[8]=(f>>>8|d<<8)&8191,this.r[9]=d>>>5&127,this.pad[0]=t[16]&255|(t[17]&255)<<8,this.pad[1]=t[18]&255|(t[19]&255)<<8,this.pad[2]=t[20]&255|(t[21]&255)<<8,this.pad[3]=t[22]&255|(t[23]&255)<<8,this.pad[4]=t[24]&255|(t[25]&255)<<8,this.pad[5]=t[26]&255|(t[27]&255)<<8,this.pad[6]=t[28]&255|(t[29]&255)<<8,this.pad[7]=t[30]&255|(t[31]&255)<<8};PQ.prototype.blocks=function(t,e,r){for(var i=this.fin?0:2048,n,o,s,f,d,p,u,y,B,S,C,x,_,Q,R,k,K,T,L,H=this.h[0],O=this.h[1],G=this.h[2],v=this.h[3],a=this.h[4],h=this.h[5],g=this.h[6],l=this.h[7],A=this.h[8],w=this.h[9],E=this.r[0],m=this.r[1],c=this.r[2],I=this.r[3],M=this.r[4],D=this.r[5],P=this.r[6],j=this.r[7],Y=this.r[8],z=this.r[9];r>=16;)n=t[e+0]&255|(t[e+1]&255)<<8,H+=n&8191,o=t[e+2]&255|(t[e+3]&255)<<8,O+=(n>>>13|o<<3)&8191,s=t[e+4]&255|(t[e+5]&255)<<8,G+=(o>>>10|s<<6)&8191,f=t[e+6]&255|(t[e+7]&255)<<8,v+=(s>>>7|f<<9)&8191,d=t[e+8]&255|(t[e+9]&255)<<8,a+=(f>>>4|d<<12)&8191,h+=d>>>1&8191,p=t[e+10]&255|(t[e+11]&255)<<8,g+=(d>>>14|p<<2)&8191,u=t[e+12]&255|(t[e+13]&255)<<8,l+=(p>>>11|u<<5)&8191,y=t[e+14]&255|(t[e+15]&255)<<8,A+=(u>>>8|y<<8)&8191,w+=y>>>5|i,B=0,S=B,S+=H*E,S+=O*(5*z),S+=G*(5*Y),S+=v*(5*j),S+=a*(5*P),B=S>>>13,S&=8191,S+=h*(5*D),S+=g*(5*M),S+=l*(5*I),S+=A*(5*c),S+=w*(5*m),B+=S>>>13,S&=8191,C=B,C+=H*m,C+=O*E,C+=G*(5*z),C+=v*(5*Y),C+=a*(5*j),B=C>>>13,C&=8191,C+=h*(5*P),C+=g*(5*D),C+=l*(5*M),C+=A*(5*I),C+=w*(5*c),B+=C>>>13,C&=8191,x=B,x+=H*c,x+=O*m,x+=G*E,x+=v*(5*z),x+=a*(5*Y),B=x>>>13,x&=8191,x+=h*(5*j),x+=g*(5*P),x+=l*(5*D),x+=A*(5*M),x+=w*(5*I),B+=x>>>13,x&=8191,_=B,_+=H*I,_+=O*c,_+=G*m,_+=v*E,_+=a*(5*z),B=_>>>13,_&=8191,_+=h*(5*Y),_+=g*(5*j),_+=l*(5*P),_+=A*(5*D),_+=w*(5*M),B+=_>>>13,_&=8191,Q=B,Q+=H*M,Q+=O*I,Q+=G*c,Q+=v*m,Q+=a*E,B=Q>>>13,Q&=8191,Q+=h*(5*z),Q+=g*(5*Y),Q+=l*(5*j),Q+=A*(5*P),Q+=w*(5*D),B+=Q>>>13,Q&=8191,R=B,R+=H*D,R+=O*M,R+=G*I,R+=v*c,R+=a*m,B=R>>>13,R&=8191,R+=h*E,R+=g*(5*z),R+=l*(5*Y),R+=A*(5*j),R+=w*(5*P),B+=R>>>13,R&=8191,k=B,k+=H*P,k+=O*D,k+=G*M,k+=v*I,k+=a*c,B=k>>>13,k&=8191,k+=h*m,k+=g*E,k+=l*(5*z),k+=A*(5*Y),k+=w*(5*j),B+=k>>>13,k&=8191,K=B,K+=H*j,K+=O*P,K+=G*D,K+=v*M,K+=a*I,B=K>>>13,K&=8191,K+=h*c,K+=g*m,K+=l*E,K+=A*(5*z),K+=w*(5*Y),B+=K>>>13,K&=8191,T=B,T+=H*Y,T+=O*j,T+=G*P,T+=v*D,T+=a*M,B=T>>>13,T&=8191,T+=h*I,T+=g*c,T+=l*m,T+=A*E,T+=w*(5*z),B+=T>>>13,T&=8191,L=B,L+=H*z,L+=O*Y,L+=G*j,L+=v*P,L+=a*D,B=L>>>13,L&=8191,L+=h*M,L+=g*I,L+=l*c,L+=A*m,L+=w*E,B+=L>>>13,L&=8191,B=(B<<2)+B|0,B=B+S|0,S=B&8191,B=B>>>13,C+=B,H=S,O=C,G=x,v=_,a=Q,h=R,g=k,l=K,A=T,w=L,e+=16,r-=16;this.h[0]=H,this.h[1]=O,this.h[2]=G,this.h[3]=v,this.h[4]=a,this.h[5]=h,this.h[6]=g,this.h[7]=l,this.h[8]=A,this.h[9]=w};PQ.prototype.finish=function(t,e){var r=new Uint16Array(10),i,n,o,s;if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(i=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=i,i=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=i*5,i=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=i,i=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=i,r[0]=this.h[0]+5,i=r[0]>>>13,r[0]&=8191,s=1;s<10;s++)r[s]=this.h[s]+i,i=r[s]>>>13,r[s]&=8191;for(r[9]-=8192,n=(i^1)-1,s=0;s<10;s++)r[s]&=n;for(n=~n,s=0;s<10;s++)this.h[s]=this.h[s]&n|r[s];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,o=this.h[0]+this.pad[0],this.h[0]=o&65535,s=1;s<8;s++)o=(this.h[s]+this.pad[s]|0)+(o>>>16)|0,this.h[s]=o&65535;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255};PQ.prototype.update=function(t,e,r){var i,n;if(this.leftover){for(n=16-this.leftover,n>r&&(n=r),i=0;i<n;i++)this.buffer[this.leftover+i]=t[e+i];if(r-=n,e+=n,this.leftover+=n,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(n=r-r%16,this.blocks(t,e,n),e+=n,r-=n),r){for(i=0;i<r;i++)this.buffer[this.leftover+i]=t[e+i];this.leftover+=r}};Yce.exports=PQ});var lP=X((eCt,Vce)=>{b();var Mv=on(),JKe=OQ(),{crypto_verify_16:VKe}=mm(),uP=16,hP=32,WKe="poly1305";Vce.exports={crypto_onetimeauth:Jce,crypto_onetimeauth_verify:ZKe,crypto_onetimeauth_BYTES:uP,crypto_onetimeauth_KEYBYTES:hP,crypto_onetimeauth_PRIMITIVE:WKe};function Jce(t,e,r){Mv(t.byteLength===uP,"mac must be 'crypto_onetimeauth_BYTES' bytes"),Mv(e.byteLength!=null,"msg must be buffer"),Mv(r.byteLength===hP,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var i=new JKe(r);i.update(e,0,e.byteLength),i.finish(t,0)}function ZKe(t,e,r){Mv(t.byteLength===uP,"mac must be 'crypto_onetimeauth_BYTES' bytes"),Mv(e.byteLength!=null,"msg must be buffer"),Mv(r.byteLength===hP,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var i=new Uint8Array(16);return Jce(i,e,r),VKe(t,0,i,0)}});var pP=X((rCt,rfe)=>{b();var Cn=on(),{crypto_stream:$Ke,crypto_stream_xor:Wce}=NQ(),{crypto_onetimeauth:XKe,crypto_onetimeauth_verify:eqe,crypto_onetimeauth_BYTES:KQ,crypto_onetimeauth_KEYBYTES:Zce}=lP(),wm=32,vm=24,kv=32,Dd=16,MB=16;rfe.exports={crypto_secretbox:$ce,crypto_secretbox_open:Xce,crypto_secretbox_detached:tqe,crypto_secretbox_open_detached:rqe,crypto_secretbox_easy:efe,crypto_secretbox_open_easy:tfe,crypto_secretbox_KEYBYTES:wm,crypto_secretbox_NONCEBYTES:vm,crypto_secretbox_ZEROBYTES:kv,crypto_secretbox_BOXZEROBYTES:Dd,crypto_secretbox_MACBYTES:MB};function $ce(t,e,r,i){Cn(t.byteLength===e.byteLength,"c must be 'm.byteLength' bytes");let n=e.byteLength;Cn(n>=kv,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),Cn(r.byteLength===vm,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Cn(i.byteLength===wm,"k must be 'crypto_secretbox_KEYBYTES' bytes"),Wce(t,e,r,i),XKe(t.subarray(Dd,Dd+KQ),t.subarray(Dd+KQ,t.byteLength),t.subarray(0,Zce)),t.fill(0,0,Dd)}function Xce(t,e,r,i){Cn(e.byteLength===t.byteLength,"c must be 'm.byteLength' bytes");let n=t.byteLength;Cn(n>=kv,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),Cn(r.byteLength===vm,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Cn(i.byteLength===wm,"k must be 'crypto_secretbox_KEYBYTES' bytes");let o=new Uint8Array(Zce);return $Ke(o,r,i),eqe(e.subarray(Dd,Dd+KQ),e.subarray(Dd+KQ,e.byteLength),o)===!1?!1:(Wce(t,e,r,i),t.fill(0,0,32),!0)}function tqe(t,e,r,i,n){Cn(t.byteLength===r.byteLength,"o must be 'msg.byteLength' bytes"),Cn(e.byteLength===MB,"mac must be 'crypto_secretbox_MACBYTES' bytes"),Cn(i.byteLength===vm,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Cn(n.byteLength===wm,"k must be 'crypto_secretbox_KEYBYTES' bytes");let o=new Uint8Array(r.byteLength+e.byteLength);return efe(o,r,i,n),e.set(o.subarray(0,e.byteLength)),t.set(o.subarray(e.byteLength)),!0}function rqe(t,e,r,i,n){Cn(e.byteLength===t.byteLength,"o must be 'msg.byteLength' bytes"),Cn(r.byteLength===MB,"mac must be 'crypto_secretbox_MACBYTES' bytes"),Cn(i.byteLength===vm,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Cn(n.byteLength===wm,"k must be 'crypto_secretbox_KEYBYTES' bytes");let o=new Uint8Array(e.byteLength+r.byteLength);return o.set(r),o.set(e,r.byteLength),tfe(t,o,i,n)}function efe(t,e,r,i){Cn(t.byteLength===e.byteLength+MB,"o must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),Cn(r.byteLength===vm,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Cn(i.byteLength===wm,"k must be 'crypto_secretbox_KEYBYTES' bytes");let n=new Uint8Array(kv+e.byteLength),o=new Uint8Array(n.byteLength);n.set(e,kv),$ce(o,n,r,i),t.set(o.subarray(Dd))}function tfe(t,e,r,i){Cn(e.byteLength===t.byteLength+MB,"box must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),Cn(r.byteLength===vm,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Cn(i.byteLength===wm,"k must be 'crypto_secretbox_KEYBYTES' bytes");let n=new Uint8Array(Dd+e.byteLength),o=new Uint8Array(n.byteLength);return n.set(e,Dd),Xce(o,n,r,i)===!1?!1:(t.set(o.subarray(kv)),!0)}});var ffe=X((nCt,cfe)=>{b();var{crypto_hash_sha512:iqe}=xB(),{crypto_scalarmult:AP,crypto_scalarmult_base:ife}=SB(),{randombytes:nqe}=ym(),{crypto_generichash_batch:nfe}=TQ(),{crypto_stream_xsalsa20_MESSAGEBYTES_MAX:oqe}=NQ(),{crypto_secretbox_open_easy:sqe,crypto_secretbox_easy:aqe,crypto_secretbox_detached:cqe,crypto_secretbox_open_detached:fqe}=pP(),Tv=fP(),i0=on(),fh=32,Rv=32,LQ=24,dqe=32,uqe=16,qQ=48,ofe=32,kB=32,ch=16,hqe=16,lqe=oqe-hqe;cfe.exports={crypto_box_easy:Iqe,crypto_box_open_easy:bqe,crypto_box_keypair:sfe,crypto_box_seed_keypair:pqe,crypto_box_seal:Aqe,crypto_box_seal_open:gqe,crypto_box_PUBLICKEYBYTES:fh,crypto_box_SECRETKEYBYTES:Rv,crypto_box_NONCEBYTES:LQ,crypto_box_ZEROBYTES:dqe,crypto_box_BOXZEROBYTES:uqe,crypto_box_SEALBYTES:qQ,crypto_box_SEEDBYTES:ofe,crypto_box_BEFORENMBYTES:kB,crypto_box_MACBYTES:ch};function sfe(t,e){return Ef(t,fh),Ef(e,Rv),nqe(e,32),ife(t,e)}function pqe(t,e,r){i0(t.byteLength===fh,"pk should be 'crypto_box_PUBLICKEYBYTES' bytes"),i0(e.byteLength===Rv,"sk should be 'crypto_box_SECRETKEYBYTES' bytes"),i0(e.byteLength===ofe,"sk should be 'crypto_box_SEEDBYTES' bytes");let i=new Uint8Array(64);return iqe(i,r,32),e.set(i.subarray(0,32)),i.fill(0),ife(t,e)}function Aqe(t,e,r){Ef(t,qQ+e.length),Ef(r,fh);var i=t.subarray(0,fh),n=new Uint8Array(Rv);sfe(i,n);var o=new Uint8Array(LQ);nfe(o,[i,r]);var s=new Uint8Array(fh);AP(s,n,r);var f=new Uint8Array(kB),d=new Uint8Array(16);Tv.core_hsalsa20(f,d,s,Tv.SIGMA),aqe(t.subarray(i.length),e,o,f),gP(n)}function gqe(t,e,r,i){Ef(e,qQ),Ef(t,e.length-qQ),Ef(r,fh),Ef(i,Rv);var n=e.subarray(0,fh),o=new Uint8Array(LQ);nfe(o,[n,r]);var s=new Uint8Array(fh);AP(s,i,n);var f=new Uint8Array(kB),d=new Uint8Array(16);return Tv.core_hsalsa20(f,d,s,Tv.SIGMA),sqe(t,e.subarray(n.length),o,f)}function afe(t,e,r){let i=new Uint8Array(16),n=new Uint8Array(32);return i0(AP(n,r,e)===0),Tv.core_hsalsa20(t,i,n,Tv.SIGMA),!0}function yqe(t,e,r,i,n){return cqe(t,e,r,i,n)}function mqe(t,e,r,i,n,o){Ef(e,ch),Ef(i,LQ),Ef(n,fh),Ef(o,Rv);let s=new Uint8Array(kB);i0(afe(s,n,o));let f=yqe(t,e,r,i,s);return gP(s),f}function Iqe(t,e,r,i,n){return i0(t.length>=e.length+ch,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),i0(e.length<=lqe,"m should be at most 'crypto_box_MESSAGEBYTES_MAX' bytes"),mqe(t.subarray(ch,e.length+ch),t.subarray(0,ch),e,r,i,n)}function wqe(t,e,r,i,n){return fqe(t,e,r,i,n)}function vqe(t,e,r,i,n,o){let s=new Uint8Array(kB);i0(afe(s,n,o));let f=wqe(t,e,r,i,s);return gP(s),f}function bqe(t,e,r,i,n){return i0(e.length>=t.length+ch,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),vqe(t,e.subarray(ch,t.length+ch),e.subarray(0,ch),r,i,n)}function Ef(t,e){if(!t||e&&t.length<e)throw new Error("Argument must be a buffer"+(e?" of length "+e:""))}function gP(t){for(let e=0;e<t.length;e++)t[e]=0}});var ufe=X((sCt,IP)=>{b();var GQ=on(),jQ=Qy();IP.exports=n0;var Eqe=IP.exports.SHA256_BYTES=32,yP=64,HQ=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Bqe(t,e,r,i){var n=((t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+e,o=((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)+i;return n+o<<0}function mP(t,e){var r,i,n,o,s,f,[d,p,u,y,B,S,C,x]=t;let _=new Uint32Array(64);for(let R=0;R<16;R++)_[R]=dfe(e[R]);for(let R=16;R<64;R++)_[R]=Bqe(_[R-2],_[R-7],_[R-15],_[R-16]);for(let R=0;R<64;R+=4)Q(R);t[0]=t[0]+d,t[1]=t[1]+p,t[2]=t[2]+u,t[3]=t[3]+y,t[4]=t[4]+B,t[5]=t[5]+S,t[6]=t[6]+C,t[7]=t[7]+x;function Q(R){r=B&S^~B&C,i=d&p^d&u^p&u,n=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),o=(B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7),s=x+r+o+_[R]+HQ[R],f=n+i,x=y+s,y=s+f,r=x&B^~x&S,i=y&d^y&p^d&p,n=(y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10),o=(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7),s=C+r+o+_[R+1]+HQ[R+1],f=n+i,C=u+s,u=s+f,r=C&x^~C&B,i=u&y^u&d^y&d,n=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),o=(C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7),s=S+r+o+_[R+2]+HQ[R+2],f=n+i,S=p+s,p=s+f,r=S&C^~S&x,i=p&u^p&y^u&y,n=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),o=(S>>>6|S<<26)^(S>>>11|S<<21)^(S>>>25|S<<7),s=B+r+o+_[R+3]+HQ[R+3],f=n+i,B=d+s,d=s+f}}function n0(){return this instanceof n0?(this.buffer=new ArrayBuffer(64),this.bytesRead=0,this.pos=0,this.digestLength=Eqe,this.finalised=!1,this.load=new Uint8Array(this.buffer),this.words=new Uint32Array(this.buffer),this.state=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this):new n0}n0.prototype.update=function(t,e){GQ(this.finalised===!1,"Hash instance finalised");var[r,i]=Cqe(t,e),n=0;for(this.bytesRead+=i;i>0&&(this.load.set(r.subarray(n,n+yP-this.pos),this.pos),n+=yP-this.pos,i-=yP-this.pos,!(i<0));)this.pos=0,mP(this.state,this.words);return this.pos=this.bytesRead&63,this.load.fill(0,this.pos),this};n0.prototype.digest=function(t,e=0){GQ(this.finalised===!1,"Hash instance finalised"),this.finalised=!0,this.load.fill(0,this.pos),this.load[this.pos]=128,this.pos>55&&(mP(this.state,this.words),this.words.fill(0),this.pos=0);let r=new DataView(this.buffer);r.setUint32(56,this.bytesRead/2**29),r.setUint32(60,this.bytesRead<<3),mP(this.state,this.words);let i=new Uint8Array(this.state.map(dfe).buffer);if(!t)return new Uint8Array(i);if(typeof t=="string")return jQ.toString(i,t);GQ(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),GQ(t.byteLength>=this.digestLength+e,"input not large enough for digest");for(let n=0;n<this.digestLength;n++)t[n+e]=i[n];return t};function TB(t){if(!(this instanceof TB))return new TB(t);this.pad=jQ.alloc(64),this.inner=n0(),this.outer=n0();let e=jQ.alloc(32);t.byteLength>64&&(n0().update(t).digest(e),t=e),this.pad.fill(54);for(let r=0;r<t.byteLength;r++)this.pad[r]^=t[r];this.inner.update(this.pad),this.pad.fill(92);for(let r=0;r<t.byteLength;r++)this.pad[r]^=t[r];this.outer.update(this.pad),this.pad.fill(0),e.fill(0)}TB.prototype.update=function(t,e){return this.inner.update(t,e),this};TB.prototype.digest=function(t,e=0){return this.outer.update(this.inner.digest()),this.outer.digest(t,e)};n0.HMAC=TB;function Cqe(t,e){var r=jQ.from(t,e);return[r,r.byteLength]}function dfe(t){var e=(t&16711935)>>>8|(t&16711935)<<24,r=(t&4278255360)<<8|(t&4278255360)>>>24;return e|r}});var lfe=X((cCt,hfe)=>{b();var xqe=(t,e)=>function(){return e||(0,t[Object.keys(t)[0]])((e={exports:{}}).exports,e),e.exports},Sqe=(()=>{for(var t=new Uint8Array(128),e=0;e<64;e++)t[e<26?e+65:e<52?e+71:e<62?e-4:e*4-205]=e;return r=>{for(var i=r.length,n=new Uint8Array((i-(r[i-1]=="=")-(r[i-2]=="="))*3/4|0),o=0,s=0;o<i;){var f=t[r.charCodeAt(o++)],d=t[r.charCodeAt(o++)],p=t[r.charCodeAt(o++)],u=t[r.charCodeAt(o++)];n[s++]=f<<2|d>>4,n[s++]=d<<4|p>>2,n[s++]=p<<6|u}return n}})(),_qe=xqe({"wasm-binary:./sha256.wat"(t,e){e.exports=Sqe("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")}}),Qqe=_qe(),Dqe=new WebAssembly.Module(Qqe);hfe.exports=t=>new WebAssembly.Instance(Dqe,t).exports});var pfe=X((dCt,bP)=>{b();var Uv=on(),YQ=Qy(),fA=typeof WebAssembly<"u"&&lfe()({imports:{debug:{log(...t){console.log(...t.map(e=>(e>>>0).toString(16).padStart(8,"0")))},log_tee(t){return console.log((t>>>0).toString(16).padStart(8,"0")),t}}}}),ac=0,zQ=[];bP.exports=Ys;var Mqe=bP.exports.SHA256_BYTES=32,vP=40,wP=108,RB=64;function Ys(){if(!(this instanceof Ys))return new Ys;if(!fA)throw new Error("WASM not loaded. Wait for Sha256.ready(cb)");zQ.length||(zQ.push(ac),ac+=wP),this.finalized=!1,this.digestLength=Mqe,this.pointer=zQ.pop(),this.pos=0,this._memory=new Uint8Array(fA.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+wP),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+wP)}Ys.prototype._realloc=function(t){fA.memory.grow(Math.max(0,Math.ceil(Math.abs(t-this._memory.length)/65536))),this._memory=new Uint8Array(fA.memory.buffer)};Ys.prototype.update=function(t,e){Uv(this.finalized===!1,"Hash instance finalized"),ac%4!==0&&(ac+=4-ac%4),Uv(ac%4===0,"input shoud be aligned for int32");let[r,i]=Tqe(t,e);return Uv(r instanceof Uint8Array,"input must be Uint8Array or Buffer"),ac+i>this._memory.length&&this._realloc(ac+t.length),this._memory.fill(0,ac,ac+Rqe(i,RB)-RB),this._memory.set(r.subarray(0,RB-this.pos),this.pointer+vP+this.pos),this._memory.set(r.subarray(RB-this.pos),ac),this.pos=this.pos+i&63,fA.sha256(this.pointer,ac,i,0),this};Ys.prototype.digest=function(t,e=0){Uv(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,zQ.push(this.pointer);let r=this.pointer+vP+this.pos;this._memory.fill(0,r,this.pointer+vP+RB),fA.sha256(this.pointer,ac,0,1);let i=this._memory.subarray(this.pointer,this.pointer+this.digestLength);if(!t)return i;if(typeof t=="string")return YQ.toString(i,t);Uv(t instanceof Uint8Array,"output must be Uint8Array or Buffer"),Uv(t.byteLength>=this.digestLength+e,"output must have at least 'SHA256_BYTES' bytes remaining");for(let n=0;n<this.digestLength;n++)t[n+e]=i[n];return t};Ys.WASM=fA;Ys.WASM_SUPPORTED=typeof WebAssembly<"u";Ys.ready=function(t){return t||(t=kqe),fA?(t(),Promise.resolve()):t(new Error("WebAssembly not supported"))};Ys.prototype.ready=Ys.ready;function UB(t){if(!(this instanceof UB))return new UB(t);this.pad=YQ.alloc(64),this.inner=Ys(),this.outer=Ys();let e=YQ.alloc(32);t.byteLength>64&&(Ys().update(t).digest(e),t=e),this.pad.fill(54);for(let r=0;r<t.byteLength;r++)this.pad[r]^=t[r];this.inner.update(this.pad),this.pad.fill(92);for(let r=0;r<t.byteLength;r++)this.pad[r]^=t[r];this.outer.update(this.pad),this.pad.fill(0),e.fill(0)}UB.prototype.update=function(t,e){return this.inner.update(t,e),this};UB.prototype.digest=function(t,e=0){return this.outer.update(this.inner.digest()),this.outer.digest(t,e)};Ys.HMAC=UB;function kqe(){}function Tqe(t,e){var r=YQ.from(t,e);return[r,r.byteLength]}function Rqe(t,e){return t+e-1&-e}});var gfe=X((lCt,dA)=>{b();var Uqe=ufe(),JQ=pfe(),Afe=Uqe;dA.exports=function(){return new Afe};dA.exports.ready=function(t){JQ.ready(function(){t()})};dA.exports.WASM_SUPPORTED=JQ.WASM_SUPPORTED;dA.exports.WASM_LOADED=!1;var hCt=dA.exports.SHA256_BYTES=32;JQ.ready(function(t){t||(dA.exports.WASM_LOADED=!0,dA.exports=Afe=JQ)})});var Ife=X((ACt,mfe)=>{b();var Fqe=gfe(),Nqe=on();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var yfe=32;function Pqe(t,e,r){return Nqe(t.byteLength===yfe,"out must be 'crypto_hash_sha256_BYTES' bytes long"),Fqe().update(e.subarray(0,r)).digest(t),0}mfe.exports={crypto_hash_sha256:Pqe,crypto_hash_sha256_BYTES:yfe}});var wfe=X((yCt,Js)=>{b();var VQ=on(),Oqe=ym().randombytes_buf,EP=aP();Js.exports.crypto_kdf_PRIMITIVE="blake2b";Js.exports.crypto_kdf_BYTES_MIN=16;Js.exports.crypto_kdf_BYTES_MAX=64;Js.exports.crypto_kdf_CONTEXTBYTES=8;Js.exports.crypto_kdf_KEYBYTES=32;function Kqe(t,e){var r=1,i=0;for(t[0]=e&255;++i<8&&(r*=256);)t[i]=e/r&255}Js.exports.crypto_kdf_derive_from_key=function(e,r,i,n){VQ(e.length>=Js.exports.crypto_kdf_BYTES_MIN,"subkey must be at least crypto_kdf_BYTES_MIN"),VQ(r>=0&&r<=9007199254740991,"subkey_id must be safe integer"),VQ(i.length>=Js.exports.crypto_kdf_CONTEXTBYTES,"context must be at least crypto_kdf_CONTEXTBYTES");var o=new Uint8Array(EP.PERSONALBYTES),s=new Uint8Array(EP.SALTBYTES);o.set(i,0,Js.exports.crypto_kdf_CONTEXTBYTES),Kqe(s,r);var f=Math.min(e.length,Js.exports.crypto_kdf_BYTES_MAX);EP(f,n.subarray(0,Js.exports.crypto_kdf_KEYBYTES),s,o,!0).final(e)};Js.exports.crypto_kdf_keygen=function(e){VQ(e.length>=Js.exports.crypto_kdf_KEYBYTES,"out.length must be crypto_kdf_KEYBYTES"),Oqe(e.subarray(0,Js.exports.crypto_kdf_KEYBYTES))}});var Bfe=X((ICt,Efe)=>{b();var{crypto_scalarmult_base:vfe}=SB(),{crypto_generichash:qqe}=TQ(),{randombytes_buf:Lqe}=ym(),FB=on(),bfe=32,BP=32,WQ=32;function Hqe(t,e){return FB(t.byteLength===BP,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),FB(e.byteLength===WQ,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),Lqe(e,WQ),vfe(t,e)}function Gqe(t,e,r){return FB(t.byteLength===BP,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),FB(e.byteLength===WQ,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),FB(r.byteLength===bfe,"seed must be 'crypto_kx_SEEDBYTES' bytes"),qqe(e,r),vfe(t,e)}Efe.exports={crypto_kx_keypair:Hqe,crypto_kx_seed_keypair:Gqe,crypto_kx_SEEDBYTES:bfe,crypto_kx_SECRETKEYBYTES:WQ,crypto_kx_PUBLICKEYBYTES:BP}});var Sfe=X((vCt,xfe)=>{b();var NB=on();xfe.exports=CP;var jqe=[1634760805,857760878,2036477234,1797285236];function CP(t,e,r){NB(e.byteLength===32),NB(t.byteLength===8||t.byteLength===12);let i=new Uint32Array(t.buffer,t.byteOffset,t.byteLength/4),n=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/4);r||(r=0),NB(r<Number.MAX_SAFE_INTEGER),this.finalized=!1,this.pos=0,this.state=new Uint32Array(16);for(let o=0;o<4;o++)this.state[o]=jqe[o];for(let o=0;o<8;o++)this.state[4+o]=n[o];return this.state[12]=r&4294967295,i.byteLength===8?(this.state[13]=(r&&0xffffffff00000000)>>32,this.state[14]=i[0],this.state[15]=i[1]):(this.state[13]=i[0],this.state[14]=i[1],this.state[15]=i[2]),this}CP.prototype.update=function(t,e){NB(!this.finalized,"cipher finalized."),NB(t.byteLength>=e.byteLength,"output cannot be shorter than input.");let r=e.length,i=this.pos%64;this.pos+=r;let n=0,o=Cfe(this.state);for(;i>0&&r>0;)t[n]=e[n++]^o[i],i=i+1&63,i||this.state[12]++,r--;for(;r>0;){if(o=Cfe(this.state),r<64){for(let s=0;s<r;s++)t[n]=e[n++]^o[i++],i&=63;return}for(;i<64;)t[n]=e[n++]^o[i++];this.state[12]++,i=0,r-=64}};CP.prototype.final=function(){this.state.fill(0),this.pos=0,this.finalized=!0};function Cfe(t){let e=new Uint32Array(16);for(let r=16;r--;)e[r]=t[r];for(let r=0;r<20;r+=2)uA(e,0,4,8,12),uA(e,1,5,9,13),uA(e,2,6,10,14),uA(e,3,7,11,15),uA(e,0,5,10,15),uA(e,1,6,11,12),uA(e,2,7,8,13),uA(e,3,4,9,14);for(let r=0;r<16;r++)e[r]+=t[r];return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function ZQ(t,e){return t<<e|t>>>32-e}function uA(t,e,r,i,n){t[e]+=t[r],t[n]^=t[e],t[n]=ZQ(t[n],16),t[i]+=t[n],t[r]^=t[i],t[r]=ZQ(t[r],12),t[e]+=t[r],t[n]^=t[e],t[n]=ZQ(t[n],8),t[i]+=t[n],t[r]^=t[i],t[r]=ZQ(t[r],7)}});var $Q=X(ui=>{b();var Bf=on(),Fv=Sfe();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");ui.crypto_stream_chacha20_KEYBYTES=32;ui.crypto_stream_chacha20_NONCEBYTES=8;ui.crypto_stream_chacha20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER;ui.crypto_stream_chacha20_ietf_KEYBYTES=32;ui.crypto_stream_chacha20_ietf_NONCEBYTES=12;ui.crypto_stream_chacha20_ietf_MESSAGEBYTES_MAX=2**32;ui.crypto_stream_chacha20=function(t,e,r){t.fill(0),ui.crypto_stream_chacha20_xor(t,t,e,r)};ui.crypto_stream_chacha20_xor=function(t,e,r,i){Bf(r.byteLength===ui.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),Bf(i.byteLength===ui.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");let n=new Fv(r,i);n.update(t,e),n.final()};ui.crypto_stream_chacha20_xor_ic=function(t,e,r,i,n){Bf(r.byteLength===ui.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),Bf(n.byteLength===ui.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");let o=new Fv(r,n,i);o.update(t,e),o.final()};ui.crypto_stream_chacha20_xor_instance=function(t,e){return Bf(t.byteLength===ui.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),Bf(e.byteLength===ui.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES"),new Fv(t,e)};ui.crypto_stream_chacha20_ietf=function(t,e,r){t.fill(0),ui.crypto_stream_chacha20_ietf_xor(t,t,e,r)};ui.crypto_stream_chacha20_ietf_xor=function(t,e,r,i){Bf(r.byteLength===ui.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),Bf(i.byteLength===ui.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");let n=new Fv(r,i);n.update(t,e),n.final()};ui.crypto_stream_chacha20_ietf_xor_ic=function(t,e,r,i,n){Bf(r.byteLength===ui.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),Bf(n.byteLength===ui.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");let o=new Fv(r,n,i);o.update(t,e),o.final()};ui.crypto_stream_chacha20_ietf_xor_instance=function(t,e){return Bf(t.byteLength===ui.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),Bf(e.byteLength===ui.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES"),new Fv(t,e)}});var Rfe=X((CCt,Tfe)=>{b();var{crypto_stream_chacha20_ietf:_fe,crypto_stream_chacha20_ietf_xor_ic:Qfe}=$Q(),{crypto_verify_16:zqe}=mm(),Dfe=OQ(),io=on(),PB=32,Yqe=0,OB=12,Md=16,KB=Number.MAX_SAFE_INTEGER,XQ=new Uint8Array(16);function Mfe(t,e,r,i,n,o){if(r===null)return Mfe(t,e,new Uint8Array(0),i,n,o);io(t.byteLength===e.byteLength+Md,"ciphertext should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' longer than message"),io(n.byteLength===OB,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),io(o.byteLength===PB,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),io(e.byteLength<=KB,"message is too large");let s=xP(t.subarray(0,e.byteLength),t.subarray(e.byteLength),e,r,i,n,o);return e.byteLength+s}function xP(t,e,r,i,n,o,s){if(i===null)return xP(t,e,r,new Uint8Array(0),n,o,s);io(t.byteLength===r.byteLength,"ciphertext should be same length than message"),io(o.byteLength===OB,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),io(s.byteLength===PB,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),io(r.byteLength<=KB,"message is too large"),io(e.byteLength<=Md,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");let f=new Uint8Array(64);var d=new Uint8Array(8);_fe(f,o,s);let p=new Dfe(f);return f.fill(0),p.update(i,0,i.byteLength),p.update(XQ,0,16-i.byteLength&15),Qfe(t,r,o,1,s),p.update(t,0,r.byteLength),p.update(XQ,0,16-r.byteLength&15),e4(d,0,i.byteLength),p.update(d,0,d.byteLength),e4(d,0,r.byteLength),p.update(d,0,d.byteLength),p.finish(e,0),d.fill(0),Md}function kfe(t,e,r,i,n,o){if(i===null)return kfe(t,e,r,new Uint8Array(0),n,o);if(io(t.byteLength===r.byteLength-Md,"message should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' shorter than ciphertext"),io(n.byteLength===OB,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),io(o.byteLength===PB,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),io(t.byteLength<=KB,"message is too large"),r.byteLength<Md)throw new Error("could not verify data");return SP(t,e,r.subarray(0,r.byteLength-Md),r.subarray(r.byteLength-Md),i,n,o),r.byteLength-Md}function SP(t,e,r,i,n,o,s){if(n===null)return SP(t,e,r,i,new Uint8Array(0),o,s);io(r.byteLength===t.byteLength,"message should be same length than ciphertext"),io(o.byteLength===OB,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),io(s.byteLength===PB,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),io(t.byteLength<=KB,"message is too large"),io(i.byteLength<=Md,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");let f=new Uint8Array(64),d=new Uint8Array(8),p=new Uint8Array(Md);_fe(f,o,s);let u=new Dfe(f);f.fill(0),u.update(n,0,n.byteLength),u.update(XQ,0,16-n.byteLength&15);let y=r.byteLength;u.update(r,0,y),u.update(XQ,0,16-y&15),e4(d,0,n.byteLength),u.update(d,0,d.byteLength),e4(d,0,y),u.update(d,0,d.byteLength),u.finish(p,0),io(p.byteLength===16);let B=zqe(p,0,i,0);if(p.fill(0),d.fill(0),!B)throw t.fill(0),new Error("could not verify data");Qfe(t,r,o,1,s)}function e4(t,e,r){t.fill(0,0,8);let i=new DataView(t.buffer,t.byteOffset,t.byteLength);i.setUint32(e,r&4294967295,!0),i.setUint32(e+4,r/2**32&4294967295,!0)}Tfe.exports={crypto_aead_chacha20poly1305_ietf_encrypt:Mfe,crypto_aead_chacha20poly1305_ietf_encrypt_detached:xP,crypto_aead_chacha20poly1305_ietf_decrypt:kfe,crypto_aead_chacha20poly1305_ietf_decrypt_detached:SP,crypto_aead_chacha20poly1305_ietf_ABYTES:Md,crypto_aead_chacha20poly1305_ietf_KEYBYTES:PB,crypto_aead_chacha20poly1305_ietf_NPUBBYTES:OB,crypto_aead_chacha20poly1305_ietf_NSECBYTES:Yqe,crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX:KB}});var Nfe=X((_Ct,Ffe)=>{b();var{sodium_malloc:SCt}=jN(),qB=on();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var Jqe=32,Ufe=16,Vqe=32,Wqe=16;function t4(t,e){return t&=4294967295,e&=4294967295,t<<e|t>>>32-e}function jo(t,e){qB(t instanceof Uint8Array,"src not byte array");let r=t[e];return r|=t[e+1]<<8,r|=t[e+2]<<16,r|=t[e+3]<<24,r}function o0(t,e,r){qB(t instanceof Uint8Array,"dest not byte array");var i=1,n=0;for(t[r]=e&255;++n<4&&(i*=256);)t[r+n]=e/i&255}function s0(t,e,r,i,n){t[e]+=t[r],t[n]=t4(t[n]^t[e],16),t[i]+=t[n],t[r]=t4(t[r]^t[i],12),t[e]+=t[r],t[n]=t4(t[n]^t[e],8),t[i]+=t[n],t[r]=t4(t[r]^t[i],7)}function Zqe(t,e,r,i){qB(t instanceof Uint8Array&&t.length===32,"out is not an array of 32 bytes"),qB(r instanceof Uint8Array&&r.length===32,"k is not an array of 32 bytes"),qB(i===null||i instanceof Uint8Array&&i.length===16,"c is not null or an array of 16 bytes");let n=0,o=new Uint32Array(16);for(i?(o[0]=jo(i,0),o[1]=jo(i,4),o[2]=jo(i,8),o[3]=jo(i,12)):(o[0]=1634760805,o[1]=857760878,o[2]=2036477234,o[3]=1797285236),o[4]=jo(r,0),o[5]=jo(r,4),o[6]=jo(r,8),o[7]=jo(r,12),o[8]=jo(r,16),o[9]=jo(r,20),o[10]=jo(r,24),o[11]=jo(r,28),o[12]=jo(e,0),o[13]=jo(e,4),o[14]=jo(e,8),o[15]=jo(e,12),n=0;n<10;n++)s0(o,0,4,8,12),s0(o,1,5,9,13),s0(o,2,6,10,14),s0(o,3,7,11,15),s0(o,0,5,10,15),s0(o,1,6,11,12),s0(o,2,7,8,13),s0(o,3,4,9,14);return o0(t,o[0],0),o0(t,o[1],4),o0(t,o[2],8),o0(t,o[3],12),o0(t,o[12],16),o0(t,o[13],20),o0(t,o[14],24),o0(t,o[15],28),0}function $qe(){return Jqe}function Xqe(){return Ufe}function eLe(){return Vqe}function tLe(){return Wqe}Ffe.exports={crypto_core_hchacha20_INPUTBYTES:Ufe,LOAD32_LE:jo,STORE32_LE:o0,QUARTERROUND:s0,crypto_core_hchacha20:Zqe,crypto_core_hchacha20_outputbytes:$qe,crypto_core_hchacha20_inputbytes:Xqe,crypto_core_hchacha20_keybytes:eLe,crypto_core_hchacha20_constbytes:tLe}});var Wfe=X((DCt,Vfe)=>{b();var Qa=on(),{randombytes_buf:Pfe}=ym(),{crypto_stream_chacha20_ietf:Ofe,crypto_stream_chacha20_ietf_xor:rLe,crypto_stream_chacha20_ietf_xor_ic:r4,crypto_stream_chacha20_ietf_KEYBYTES:LB}=$Q(),{crypto_core_hchacha20:Kfe,crypto_core_hchacha20_INPUTBYTES:qfe}=Nfe(),Lfe=OQ(),{sodium_increment:Hfe,sodium_is_zero:Gfe,sodium_memcmp:iLe}=YN(),jfe=16,kd=4,dh=8,nLe=32,Nv=nLe,oLe=24,i4=oLe,sLe=16,n4=1+sLe,zfe=Number.MAX_SAFE_INTEGER,aLe=Number.MAX_SAFE_INTEGER,cLe=1,fLe=new Uint8Array([0]),Yfe=new Uint8Array([1]),a4=new Uint8Array([2]),dLe=new Uint8Array([Yfe|a4]),bm=Nv+dh+kd+8,HB=0,Cf=Nv,hA=Cf+dh+kd,o4=new Uint8Array(16);function s4(t,e){let r=1,i=0;for(t[0]=e&255;++i<8&&(r*=256);)t[i]=e/r&255}function _P(t){Qa(t.byteLength===bm,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");let e=t.subarray(Cf,hA);for(let r=0;r<kd;r++)e[r]=0;e[0]=1}function uLe(t){Qa(t.length===Nv),Pfe(t)}function hLe(t,e,r){Qa(t.byteLength===bm,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),Qa(e instanceof Uint8Array&&e.length===i4,"out not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),Qa(r instanceof Uint8Array&&r.length===Nv,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");let i=t.subarray(HB,Cf),n=t.subarray(Cf,hA),o=t.subarray(hA);Pfe(e,i4),Kfe(i,e,r,null),_P(t);for(let s=0;s<dh;s++)n[s+kd]=e[s+qfe];o.fill(0)}function lLe(t,e,r){Qa(t.byteLength===bm,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),Qa(e instanceof Uint8Array&&e.length===i4,"_in not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),Qa(r instanceof Uint8Array&&r.length===Nv,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");let i=t.subarray(HB,Cf),n=t.subarray(Cf,hA),o=t.subarray(hA);Kfe(i,e,r,null),_P(t);for(let s=0;s<dh;s++)n[s+kd]=e[s+qfe];o.fill(0)}function QP(t){Qa(t.byteLength===bm,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");let e=t.subarray(HB,Cf),r=t.subarray(Cf,hA),i=new Uint8Array(LB+dh),n;for(n=0;n<LB;n++)i[n]=e[n];for(n=0;n<dh;n++)i[LB+n]=r[kd+n];for(rLe(i,i,r,e),n=0;n<LB;n++)e[n]=i[n];for(n=0;n<dh;n++)r[kd+n]=i[LB+n];_P(t)}function pLe(t,e,r,i,n){Qa(t.byteLength===bm,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),i||(i=new Uint8Array(0));let o=t.subarray(HB,Cf),s=t.subarray(Cf,hA),f=new Uint8Array(64),d=new Uint8Array(8);Qa(zfe<=aLe),Ofe(f,s,o);let p=new Lfe(f);f.fill(0),p.update(i,0,i.byteLength),p.update(o4,0,16-i.byteLength&15),f[0]=n[0],r4(f,f,s,1,o),p.update(f,0,f.byteLength),e[0]=f[0];let u=e.subarray(1,e.byteLength);r4(u,r,s,2,o),p.update(u,0,r.byteLength),p.update(o4,0,16-f.byteLength+r.byteLength&15),s4(d,i.byteLength),p.update(d,0,d.byteLength),s4(d,f.byteLength+r.byteLength),p.update(d,0,d.byteLength);let y=e.subarray(1+r.byteLength,e.byteLength);return p.finish(y,0),Qa(jfe>=dh),Jfe(s.subarray(kd,s.length),y,dh),Hfe(s),(n[0]&a4||Gfe(s.subarray(0,kd)))&&QP(t),n4+r.byteLength}function ALe(t,e,r,i,n){Qa(t.byteLength===bm,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),n||(n=new Uint8Array(0));let o=t.subarray(HB,Cf),s=t.subarray(Cf,hA),f=new Uint8Array(64),d=new Uint8Array(8),p=new Uint8Array(jfe);Qa(i.byteLength>=n4,"ciphertext is too short.");let u=i.byteLength-n4;Ofe(f,s,o);let y=new Lfe(f);f.fill(0),y.update(n,0,n.byteLength),y.update(o4,0,16-n.byteLength&15),f.fill(0),f[0]=i[0],r4(f,f,s,1,o),r[0]=f[0],f[0]=i[0],y.update(f,0,f.byteLength);let B=i.subarray(1,i.length);y.update(B,0,u),y.update(o4,0,16-f.byteLength+u&15),s4(d,n.byteLength),y.update(d,0,d.byteLength),s4(d,f.byteLength+e.byteLength),y.update(d,0,d.byteLength),y.finish(p,0);let S=i.subarray(1+u,i.length);if(!iLe(p,S))throw p.fill(0),new Error("MAC could not be verified.");return r4(e,B.subarray(0,e.length),s,2,o),Jfe(s.subarray(kd,s.length),p,dh),Hfe(s),(r&a4||Gfe(s.subarray(0,kd)))&&QP(t),u}function Jfe(t,e,r){for(let i=0;i<r;i++)t[i]^=e[i]}Vfe.exports={crypto_secretstream_xchacha20poly1305_keygen:uLe,crypto_secretstream_xchacha20poly1305_init_push:hLe,crypto_secretstream_xchacha20poly1305_init_pull:lLe,crypto_secretstream_xchacha20poly1305_rekey:QP,crypto_secretstream_xchacha20poly1305_push:pLe,crypto_secretstream_xchacha20poly1305_pull:ALe,crypto_secretstream_xchacha20poly1305_STATEBYTES:bm,crypto_secretstream_xchacha20poly1305_ABYTES:n4,crypto_secretstream_xchacha20poly1305_HEADERBYTES:i4,crypto_secretstream_xchacha20poly1305_KEYBYTES:Nv,crypto_secretstream_xchacha20poly1305_MESSAGEBYTES_MAX:zfe,crypto_secretstream_xchacha20poly1305_TAGBYTES:cLe,crypto_secretstream_xchacha20poly1305_TAG_MESSAGE:fLe,crypto_secretstream_xchacha20poly1305_TAG_PUSH:Yfe,crypto_secretstream_xchacha20poly1305_TAG_REKEY:a4,crypto_secretstream_xchacha20poly1305_TAG_FINAL:dLe}});var $fe=X((kCt,Zfe)=>{b();var gLe=(t,e)=>function(){return e||(0,t[Object.keys(t)[0]])((e={exports:{}}).exports,e),e.exports},yLe=(()=>{for(var t=new Uint8Array(128),e=0;e<64;e++)t[e<26?e+65:e<52?e+71:e<62?e-4:e*4-205]=e;return r=>{for(var i=r.length,n=new Uint8Array((i-(r[i-1]=="=")-(r[i-2]=="="))*3/4|0),o=0,s=0;o<i;){var f=t[r.charCodeAt(o++)],d=t[r.charCodeAt(o++)],p=t[r.charCodeAt(o++)],u=t[r.charCodeAt(o++)];n[s++]=f<<2|d>>4,n[s++]=d<<4|p>>2,n[s++]=p<<6|u}return n}})(),mLe=gLe({"wasm-binary:./siphash24.wat"(t,e){e.exports=yLe("AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=")}}),ILe=mLe(),wLe=new WebAssembly.Module(ILe);Zfe.exports=t=>new WebAssembly.Instance(wLe,t).exports});var tde=X((RCt,ede)=>{b();ede.exports=vLe;function c4(t,e){var r=t.l+e.l,i={h:t.h+e.h+(r/2>>>31)>>>0,l:r>>>0};t.h=i.h,t.l=i.l}function Bs(t,e){t.h^=e.h,t.h>>>=0,t.l^=e.l,t.l>>>=0}function f4(t,e){var r={h:t.h<<e|t.l>>>32-e,l:t.l<<e|t.h>>>32-e};t.h=r.h,t.l=r.l}function Xfe(t){var e=t.l;t.l=t.h,t.h=e}function lA(t,e,r,i){c4(t,e),c4(r,i),f4(e,13),f4(i,16),Bs(e,t),Bs(i,r),Xfe(t),c4(r,e),c4(t,i),f4(e,17),f4(i,21),Bs(e,r),Bs(i,t),Xfe(r)}function Pv(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function vLe(t,e,r){var i={h:Pv(r,4),l:Pv(r,0)},n={h:Pv(r,12),l:Pv(r,8)},o={h:i.h,l:i.l},s=i,f={h:n.h,l:n.l},d=n,p,u=0,y=e.length,B=y-7,S=new Uint8Array(new ArrayBuffer(8));for(Bs(o,{h:1936682341,l:1886610805}),Bs(f,{h:1685025377,l:1852075885}),Bs(s,{h:1819895653,l:1852142177}),Bs(d,{h:1952801890,l:2037671283});u<B;)p={h:Pv(e,u+4),l:Pv(e,u)},Bs(d,p),lA(o,f,s,d),lA(o,f,s,d),Bs(o,p),u+=8;S[7]=y;for(var C=0;u<y;)S[C++]=e[u++];for(;C<7;)S[C++]=0;p={h:S[7]<<24|S[6]<<16|S[5]<<8|S[4],l:S[3]<<24|S[2]<<16|S[1]<<8|S[0]},Bs(d,p),lA(o,f,s,d),lA(o,f,s,d),Bs(o,p),Bs(s,{h:0,l:255}),lA(o,f,s,d),lA(o,f,s,d),lA(o,f,s,d),lA(o,f,s,d);var x=o;Bs(x,f),Bs(x,s),Bs(x,d),t[0]=x.l&255,t[1]=x.l>>8&255,t[2]=x.l>>16&255,t[3]=x.l>>24&255,t[4]=x.h&255,t[5]=x.h>>8&255,t[6]=x.h>>16&255,t[7]=x.h>>24&255}});var sde=X((FCt,ode)=>{b();var rde=on(),pA=typeof WebAssembly<"u"&&$fe()(),bLe=tde();ode.exports=GB;var ide=GB.BYTES=8,nde=GB.KEYBYTES=16;GB.WASM_SUPPORTED=!!pA;GB.WASM_LOADED=!!pA;var Ov=new Uint8Array(pA?pA.memory.buffer:0);function GB(t,e,r,i){return r||(r=new Uint8Array(8)),i!==!0&&(rde(r.length>=ide,"output must be at least "+ide),rde(e.length>=nde,"key must be at least "+nde)),pA?(t.length+24>Ov.length&&ELe(t.length+24),Ov.set(e,8),Ov.set(t,24),pA.siphash(24,t.length),r.set(Ov.subarray(0,8))):bLe(r,t,e),r}function ELe(t){pA.memory.grow(Math.max(0,Math.ceil(Math.abs(t-Ov.length)/65536))),Ov=new Uint8Array(pA.memory.buffer)}});var ade=X(Em=>{b();var jB=sde();if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");Em.crypto_shorthash_PRIMITIVE="siphash24";Em.crypto_shorthash_BYTES=jB.BYTES;Em.crypto_shorthash_KEYBYTES=jB.KEYBYTES;Em.crypto_shorthash_WASM_SUPPORTED=jB.WASM_SUPPORTED;Em.crypto_shorthash_WASM_LOADED=jB.WASM_LOADED;Em.crypto_shorthash=BLe;function BLe(t,e,r,i){jB(e,r,t,i)}});var Bde=X((KCt,Ede)=>{b();var{crypto_verify_32:pde}=mm(),{crypto_hash:qv}=xB(),{gf:Dt,gf0:cde,gf1:u4,D:CLe,D2:xLe,X:fde,Y:dde,I:SLe,A:Bm,Z:Cm,M:Ui,S:Kv,sel25519:_Le,pack25519:Lv,inv25519:Ade,unpack25519:QLe}=nP(),{randombytes:DLe}=ym(),{crypto_scalarmult_BYTES:ude}=SB(),{crypto_hash_sha512_BYTES:MLe}=xB(),DP=on(),h4=32,TP=64,RP=32,gde=64,uh=gde,l4=h4,UP=TP,yde=RP;Ede.exports={crypto_sign_keypair:mde,crypto_sign_seed_keypair:TLe,crypto_sign:wde,crypto_sign_detached:RLe,crypto_sign_open:vde,crypto_sign_verify_detached:ULe,crypto_sign_BYTES:uh,crypto_sign_PUBLICKEYBYTES:l4,crypto_sign_SECRETKEYBYTES:UP,crypto_sign_SEEDBYTES:yde,crypto_sign_ed25519_PUBLICKEYBYTES:h4,crypto_sign_ed25519_SECRETKEYBYTES:TP,crypto_sign_ed25519_SEEDBYTES:RP,crypto_sign_ed25519_BYTES:gde,crypto_sign_ed25519_pk_to_curve25519:PLe,crypto_sign_ed25519_sk_to_curve25519:qLe,crypto_sign_ed25519_sk_to_pk:KLe,unpackneg:PP,pack:p4};function AA(t,e){for(let r=0;r<16;r++)t[r]=e[r]|0}function kLe(t,e){var r=Dt(),i;for(i=0;i<16;i++)r[i]=e[i];for(i=250;i>=0;i--)Kv(r,r),i!==1&&Ui(r,r,e);for(i=0;i<16;i++)t[i]=r[i]}function MP(t,e){var r=Dt(),i=Dt(),n=Dt(),o=Dt(),s=Dt(),f=Dt(),d=Dt(),p=Dt(),u=Dt();Cm(r,t[1],t[0]),Cm(u,e[1],e[0]),Ui(r,r,u),Bm(i,t[0],t[1]),Bm(u,e[0],e[1]),Ui(i,i,u),Ui(n,t[3],e[3]),Ui(n,n,xLe),Ui(o,t[2],e[2]),Bm(o,o,o),Cm(s,i,r),Cm(f,o,n),Bm(d,o,n),Bm(p,i,r),Ui(t[0],s,f),Ui(t[1],p,d),Ui(t[2],d,f),Ui(t[3],s,p)}function hde(t,e,r){var i;for(i=0;i<4;i++)_Le(t[i],e[i],r)}function p4(t,e){var r=Dt(),i=Dt(),n=Dt();Ade(n,e[2]),Ui(r,e[0],n),Ui(i,e[1],n),Lv(t,i),t[31]^=bde(r)<<7}function FP(t,e,r){var i=[Dt(e[0]),Dt(e[1]),Dt(e[2]),Dt(e[3])],n,o;for(AA(t[0],cde),AA(t[1],u4),AA(t[2],u4),AA(t[3],cde),o=255;o>=0;--o)n=r[o/8|0]>>(o&7)&1,hde(t,i,n),MP(i,t),MP(t,t),hde(t,i,n)}function NP(t,e){var r=[Dt(),Dt(),Dt(),Dt()];AA(r[0],fde),AA(r[1],dde),AA(r[2],u4),Ui(r[3],fde,dde),FP(t,r,e)}function mde(t,e,r){Da(t,l4),Da(e,UP);var i=new Uint8Array(64),n=[Dt(),Dt(),Dt(),Dt()],o;for(r||DLe(e,32),qv(i,e,32),i[0]&=248,i[31]&=127,i[31]|=64,NP(n,i),p4(t,n),o=0;o<32;o++)e[o+32]=t[o]}function TLe(t,e,r){return Da(r,yde),e.set(r),mde(t,e,!0)}var d4=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Ide(t,e){var r,i,n,o;for(i=63;i>=32;--i){for(r=0,n=i-32,o=i-12;n<o;++n)e[n]+=r-16*e[i]*d4[n-(i-32)],r=e[n]+128>>8,e[n]-=r*256;e[n]+=r,e[i]=0}for(r=0,n=0;n<32;n++)e[n]+=r-(e[31]>>4)*d4[n],r=e[n]>>8,e[n]&=255;for(n=0;n<32;n++)e[n]-=r*d4[n];for(i=0;i<32;i++)e[i+1]+=e[i]>>8,t[i]=e[i]&255}function kP(t){var e=new Float64Array(64);for(let r=0;r<64;r++)e[r]=t[r];for(let r=0;r<64;r++)t[r]=0;Ide(t,e)}function wde(t,e,r){Da(t,uh+e.length),Da(e,0),Da(r,UP);var i=e.length,n=new Uint8Array(64),o=new Uint8Array(64),s=new Uint8Array(64),f,d,p=new Float64Array(64),u=[Dt(),Dt(),Dt(),Dt()];qv(n,r,32),n[0]&=248,n[31]&=127,n[31]|=64;var y=i+64;for(f=0;f<i;f++)t[64+f]=e[f];for(f=0;f<32;f++)t[32+f]=n[32+f];for(qv(s,t.subarray(32),i+32),kP(s),NP(u,s),p4(t,u),f=32;f<64;f++)t[f]=r[f];for(qv(o,t,i+64),kP(o),f=0;f<64;f++)p[f]=0;for(f=0;f<32;f++)p[f]=s[f];for(f=0;f<32;f++)for(d=0;d<32;d++)p[f+d]+=o[f]*n[d];return Ide(t.subarray(32),p),y}function RLe(t,e,r){var i=new Uint8Array(e.length+uh);wde(i,e,r);for(let n=0;n<uh;n++)t[n]=i[n]}function PP(t,e){var r=Dt(),i=Dt(),n=Dt(),o=Dt(),s=Dt(),f=Dt(),d=Dt();return AA(t[2],u4),QLe(t[1],e),Kv(n,t[1]),Ui(o,n,CLe),Cm(n,n,t[2]),Bm(o,t[2],o),Kv(s,o),Kv(f,s),Ui(d,f,s),Ui(r,d,n),Ui(r,r,o),kLe(r,r),Ui(r,r,n),Ui(r,r,o),Ui(r,r,o),Ui(t[0],r,o),Kv(i,t[0]),Ui(i,i,o),lde(i,n)||Ui(t[0],t[0],SLe),Kv(i,t[0]),Ui(i,i,o),lde(i,n)?(bde(t[0])===e[31]>>7&&Cm(t[0],Dt(),t[0]),Ui(t[3],t[0],t[1]),!0):!1}function vde(t,e,r){Da(t,e.length-uh),Da(e,uh),Da(r,l4);var i=e.length,n=new Uint8Array(e.length),o,s,f=new Uint8Array(32),d=new Uint8Array(64),p=[Dt(),Dt(),Dt(),Dt()],u=[Dt(),Dt(),Dt(),Dt()];if(s=-1,i<64||!PP(u,r))return!1;for(o=0;o<i;o++)n[o]=e[o];for(o=0;o<32;o++)n[o+32]=r[o];if(qv(d,n,i),kP(d),FP(p,u,d),NP(u,e.subarray(32)),MP(p,u),p4(f,p),i-=64,!pde(e,0,f,0)){for(o=0;o<i;o++)n[o]=0;return!1}for(o=0;o<i;o++)t[o]=e[o+64];return s=i,!0}function ULe(t,e,r){Da(t,uh);var i=new Uint8Array(e.length+uh),n=0;for(n=0;n<uh;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+uh]=e[n];return vde(e,i,r)}function bde(t){var e=new Uint8Array(32);return Lv(e,t),e[0]&1}function lde(t,e){var r=new Uint8Array(32),i=new Uint8Array(32);return Lv(r,t),Lv(i,e),pde(r,0,i,0)}function FLe(t,e){FP(t,e,d4)}function NLe(t){var e=[Dt(),Dt(),Dt(),Dt()];FLe(e,t);var r=0;for(let i=0;i<16;i++)r|=e[0][i]&65535;return r===0}function PLe(t,e){Da(t,l4),Da(e,h4);var r=[Dt(),Dt(),Dt(),Dt()],i=Dt([1]),n=Dt([1]);DP(OLe(e)&&PP(r,e)&&NLe(r),"Cannot convert key: bad point");for(let o=0;o<r.length;o++)Lv(t,r[o]);return Cm(n,n,r[1]),Bm(i,i,r[1]),Ade(n,n),Ui(i,i,n),Lv(t,i),0}function OLe(t){Uint8Array.from([]);var e=[Uint8Array.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([38,232,149,143,194,178,39,176,69,195,244,137,242,239,152,240,213,223,172,5,211,198,51,57,177,56,2,136,109,83,252,5]),Uint8Array.from([199,23,106,112,61,77,216,79,186,60,11,118,13,16,103,15,42,32,83,250,44,57,204,198,78,199,253,119,146,172,3,122]),Uint8Array.from([236,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([237,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([238,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127])],r=new Uint8Array(7),i;Da(e,7);for(let o=0;o<e.length;o++)for(i=0;i<31;i++)r[o]|=t[i]^e[o][i];for(let o=0;o<e.length;o++)r[o]|=t[i]&127^e[o][i];var n=0;for(let o=0;o<e.length;o++)n|=r[o]-1;return(n>>8&1)===0}function KLe(t,e){return Da(t,h4),t.set(e.subarray(RP)),t}function qLe(t,e){DP(t&&t.byteLength===ude,"curveSk must be 'crypto_sign_SECRETKEYBYTES' long"),DP(e&&e.byteLength===TP,"edSk must be 'crypto_sign_ed25519_SECRETKEYBYTES' long");var r=new Uint8Array(MLe);return qv(r,e,32),r[0]&=248,r[31]&=127,r[31]|=64,t.set(r.subarray(0,ude)),r.fill(0),t}function Da(t,e,r="Argument"){if(!t||e&&t.length<e)throw new Error(r+" must be a buffer"+(e?" of length "+e:""))}});var xde=X((LCt,Cde)=>{"use strict";b();Yn(ym());Yn(jN());Yn(YN());Yn(mm());Yn(dce());Yn(ffe());Yn(TQ());Yn(xB());Yn(Ife());Yn(wfe());Yn(Bfe());Yn(Rfe());Yn(lP());Yn(SB());Yn(pP());Yn(Wfe());Yn(ade());Yn(Bde());Yn(NQ());Yn($Q());function Yn(t){Object.keys(t).forEach(function(e){Cde.exports[e]=t[e]})}});var OP=X((GCt,Sde)=>{b();Sde.exports=xde()});var $de=X((a0,Zde)=>{b();var Wde=typeof self<"u"?self:a0,E4=function(){function t(){this.fetch=!1,this.DOMException=Wde.DOMException}return t.prototype=Wde,new t}();(function(t){var e=function(r){var i={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function n(v){return v&&DataView.prototype.isPrototypeOf(v)}if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(v){return v&&o.indexOf(Object.prototype.toString.call(v))>-1};function f(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(v))throw new TypeError("Invalid character in header field name");return v.toLowerCase()}function d(v){return typeof v!="string"&&(v=String(v)),v}function p(v){var a={next:function(){var h=v.shift();return{done:h===void 0,value:h}}};return i.iterable&&(a[Symbol.iterator]=function(){return a}),a}function u(v){this.map={},v instanceof u?v.forEach(function(a,h){this.append(h,a)},this):Array.isArray(v)?v.forEach(function(a){this.append(a[0],a[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(a){this.append(a,v[a])},this)}u.prototype.append=function(v,a){v=f(v),a=d(a);var h=this.map[v];this.map[v]=h?h+", "+a:a},u.prototype.delete=function(v){delete this.map[f(v)]},u.prototype.get=function(v){return v=f(v),this.has(v)?this.map[v]:null},u.prototype.has=function(v){return this.map.hasOwnProperty(f(v))},u.prototype.set=function(v,a){this.map[f(v)]=d(a)},u.prototype.forEach=function(v,a){for(var h in this.map)this.map.hasOwnProperty(h)&&v.call(a,this.map[h],h,this)},u.prototype.keys=function(){var v=[];return this.forEach(function(a,h){v.push(h)}),p(v)},u.prototype.values=function(){var v=[];return this.forEach(function(a){v.push(a)}),p(v)},u.prototype.entries=function(){var v=[];return this.forEach(function(a,h){v.push([h,a])}),p(v)},i.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);function y(v){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}function B(v){return new Promise(function(a,h){v.onload=function(){a(v.result)},v.onerror=function(){h(v.error)}})}function S(v){var a=new FileReader,h=B(a);return a.readAsArrayBuffer(v),h}function C(v){var a=new FileReader,h=B(a);return a.readAsText(v),h}function x(v){for(var a=new Uint8Array(v),h=new Array(a.length),g=0;g<a.length;g++)h[g]=String.fromCharCode(a[g]);return h.join("")}function _(v){if(v.slice)return v.slice(0);var a=new Uint8Array(v.byteLength);return a.set(new Uint8Array(v)),a.buffer}function Q(){return this.bodyUsed=!1,this._initBody=function(v){this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:i.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:i.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():i.arrayBuffer&&i.blob&&n(v)?(this._bodyArrayBuffer=_(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||s(v))?this._bodyArrayBuffer=_(v):this._bodyText=v=Object.prototype.toString.call(v):this._bodyText="",this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var v=y(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(S)}),this.text=function(){var v=y(this);if(v)return v;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function k(v){var a=v.toUpperCase();return R.indexOf(a)>-1?a:v}function K(v,a){a=a||{};var h=a.body;if(v instanceof K){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,a.headers||(this.headers=new u(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!h&&v._bodyInit!=null&&(h=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=a.credentials||this.credentials||"same-origin",(a.headers||!this.headers)&&(this.headers=new u(a.headers)),this.method=k(a.method||this.method||"GET"),this.mode=a.mode||this.mode||null,this.signal=a.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&h)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(h)}K.prototype.clone=function(){return new K(this,{body:this._bodyInit})};function T(v){var a=new FormData;return v.trim().split("&").forEach(function(h){if(h){var g=h.split("="),l=g.shift().replace(/\+/g," "),A=g.join("=").replace(/\+/g," ");a.append(decodeURIComponent(l),decodeURIComponent(A))}}),a}function L(v){var a=new u,h=v.replace(/\r?\n[\t ]+/g," ");return h.split(/\r?\n/).forEach(function(g){var l=g.split(":"),A=l.shift().trim();if(A){var w=l.join(":").trim();a.append(A,w)}}),a}Q.call(K.prototype);function H(v,a){a||(a={}),this.type="default",this.status=a.status===void 0?200:a.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in a?a.statusText:"OK",this.headers=new u(a.headers),this.url=a.url||"",this._initBody(v)}Q.call(H.prototype),H.prototype.clone=function(){return new H(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},H.error=function(){var v=new H(null,{status:0,statusText:""});return v.type="error",v};var O=[301,302,303,307,308];H.redirect=function(v,a){if(O.indexOf(a)===-1)throw new RangeError("Invalid status code");return new H(null,{status:a,headers:{location:v}})},r.DOMException=t.DOMException;try{new r.DOMException}catch{r.DOMException=function(a,h){this.message=a,this.name=h;var g=Error(a);this.stack=g.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function G(v,a){return new Promise(function(h,g){var l=new K(v,a);if(l.signal&&l.signal.aborted)return g(new r.DOMException("Aborted","AbortError"));var A=new XMLHttpRequest;function w(){A.abort()}A.onload=function(){var E={status:A.status,statusText:A.statusText,headers:L(A.getAllResponseHeaders()||"")};E.url="responseURL"in A?A.responseURL:E.headers.get("X-Request-URL");var m="response"in A?A.response:A.responseText;h(new H(m,E))},A.onerror=function(){g(new TypeError("Network request failed"))},A.ontimeout=function(){g(new TypeError("Network request failed"))},A.onabort=function(){g(new r.DOMException("Aborted","AbortError"))},A.open(l.method,l.url,!0),l.credentials==="include"?A.withCredentials=!0:l.credentials==="omit"&&(A.withCredentials=!1),"responseType"in A&&i.blob&&(A.responseType="blob"),l.headers.forEach(function(E,m){A.setRequestHeader(m,E)}),l.signal&&(l.signal.addEventListener("abort",w),A.onreadystatechange=function(){A.readyState===4&&l.signal.removeEventListener("abort",w)}),A.send(typeof l._bodyInit>"u"?null:l._bodyInit)})}return G.polyfill=!0,t.fetch||(t.fetch=G,t.Headers=u,t.Request=K,t.Response=H),r.Headers=u,r.Request=K,r.Response=H,r.fetch=G,Object.defineProperty(r,"__esModule",{value:!0}),r}({})})(E4);E4.fetch.ponyfill=!0;delete E4.fetch.polyfill;var Gv=E4;a0=Gv.fetch;a0.default=Gv.fetch;a0.fetch=Gv.fetch;a0.Headers=Gv.Headers;a0.Request=Gv.Request;a0.Response=Gv.Response;Zde.exports=a0});var eue=X((B4,Xde)=>{b();(function(t,e){typeof B4=="object"&&typeof Xde<"u"?e(B4):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.hashwasm={}))})(B4,function(t){"use strict";function e(V,re,ae,le){function je(Ve){return Ve instanceof ae?Ve:new ae(function(tt){tt(Ve)})}return new(ae||(ae=Promise))(function(Ve,tt){function dt(si){try{pn(le.next(si))}catch(yo){tt(yo)}}function Vt(si){try{pn(le.throw(si))}catch(yo){tt(yo)}}function pn(si){si.done?Ve(si.value):je(si.value).then(dt,Vt)}pn((le=le.apply(V,re||[])).next())})}class r{constructor(){this.mutex=Promise.resolve()}lock(){let re=()=>{};return this.mutex=this.mutex.then(()=>new Promise(re)),new Promise(ae=>{re=ae})}dispatch(re){return e(this,void 0,void 0,function*(){let ae=yield this.lock();try{return yield Promise.resolve(re())}finally{ae()}})}}var i;function n(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis}let o=n(),s=(i=o.Buffer)!==null&&i!==void 0?i:null,f=o.TextEncoder?new o.TextEncoder:null;function d(V,re){return String.fromCharCode(...V.subarray(0,re))}function p(V,re){return(V&15)+(V>>6|V>>3&8)<<4|(re&15)+(re>>6|re>>3&8)}function u(V,re){let ae=re.length>>1;for(let le=0;le<ae;le++){let je=le<<1;V[le]=p(re.charCodeAt(je),re.charCodeAt(je+1))}}function y(V,re){if(V.length!==re.length*2)return!1;for(let ae=0;ae<re.length;ae++){let le=ae<<1;if(re[ae]!==p(V.charCodeAt(le),V.charCodeAt(le+1)))return!1}return!0}let B=87,S=48;function C(V,re,ae){let le=0;for(let je=0;je<ae;je++){let Ve=re[je]>>>4;V[le++]=Ve>9?Ve+B:Ve+S,Ve=re[je]&15,V[le++]=Ve>9?Ve+B:Ve+S}return String.fromCharCode.apply(null,V)}let x=s!==null?V=>{if(typeof V=="string"){let re=s.from(V,"utf8");return new Uint8Array(re.buffer,re.byteOffset,re.length)}if(s.isBuffer(V))return new Uint8Array(V.buffer,V.byteOffset,V.length);if(ArrayBuffer.isView(V))return new Uint8Array(V.buffer,V.byteOffset,V.byteLength);throw new Error("Invalid data type!")}:V=>{if(typeof V=="string")return f.encode(V);if(ArrayBuffer.isView(V))return new Uint8Array(V.buffer,V.byteOffset,V.byteLength);throw new Error("Invalid data type!")},_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q=new Uint8Array(256);for(let V=0;V<_.length;V++)Q[_.charCodeAt(V)]=V;function R(V,re=!0){let ae=V.length,le=ae%3,je=[],Ve=ae-le;for(let tt=0;tt<Ve;tt+=3){let dt=(V[tt]<<16&16711680)+(V[tt+1]<<8&65280)+(V[tt+2]&255),Vt=_.charAt(dt>>18&63)+_.charAt(dt>>12&63)+_.charAt(dt>>6&63)+_.charAt(dt&63);je.push(Vt)}if(le===1){let tt=V[ae-1],dt=_.charAt(tt>>2),Vt=_.charAt(tt<<4&63);je.push(`${dt}${Vt}`),re&&je.push("==")}else if(le===2){let tt=(V[ae-2]<<8)+V[ae-1],dt=_.charAt(tt>>10),Vt=_.charAt(tt>>4&63),pn=_.charAt(tt<<2&63);je.push(`${dt}${Vt}${pn}`),re&&je.push("=")}return je.join("")}function k(V){let re=Math.floor(V.length*.75),ae=V.length;return V[ae-1]==="="&&(re-=1,V[ae-2]==="="&&(re-=1)),re}function K(V){let re=k(V),ae=V.length,le=new Uint8Array(re),je=0;for(let Ve=0;Ve<ae;Ve+=4){let tt=Q[V.charCodeAt(Ve)],dt=Q[V.charCodeAt(Ve+1)],Vt=Q[V.charCodeAt(Ve+2)],pn=Q[V.charCodeAt(Ve+3)];le[je]=tt<<2|dt>>4,je+=1,le[je]=(dt&15)<<4|Vt>>2,je+=1,le[je]=(Vt&3)<<6|pn&63,je+=1}return le}let T=16*1024,L=4,H=new r,O=new Map;function G(V,re){return e(this,void 0,void 0,function*(){let ae=null,le=null,je=!1;if(typeof WebAssembly>"u")throw new Error("WebAssembly is not supported in this environment!");let Ve=(Qr,ai=0)=>{le.set(Qr,ai)},tt=()=>le,dt=()=>ae.exports,Vt=Qr=>{ae.exports.Hash_SetMemorySize(Qr);let ai=ae.exports.Hash_GetBuffer(),Ns=ae.exports.memory.buffer;le=new Uint8Array(Ns,ai,Qr)},pn=()=>new DataView(ae.exports.memory.buffer).getUint32(ae.exports.STATE_SIZE,!0),si=H.dispatch(()=>e(this,void 0,void 0,function*(){if(!O.has(V.name)){let ai=K(V.data),Ns=WebAssembly.compile(ai);O.set(V.name,Ns)}let Qr=yield O.get(V.name);ae=yield WebAssembly.instantiate(Qr,{})})),yo=()=>e(this,void 0,void 0,function*(){ae||(yield si);let Qr=ae.exports.Hash_GetBuffer(),ai=ae.exports.memory.buffer;le=new Uint8Array(ai,Qr,T)}),Fs=(Qr=null)=>{je=!0,ae.exports.Hash_Init(Qr)},Xh=Qr=>{let ai=0;for(;ai<Qr.length;){let Ns=Qr.subarray(ai,ai+T);ai+=Ns.length,le.set(Ns),ae.exports.Hash_Update(Ns.length)}},el=Qr=>{if(!je)throw new Error("update() called before init()");let ai=x(Qr);Xh(ai)},Xf=new Uint8Array(re*2),Ap=(Qr,ai=null)=>{if(!je)throw new Error("digest() called before init()");return je=!1,ae.exports.Hash_Final(ai),Qr==="binary"?le.slice(0,re):C(Xf,le,re)},Pg=()=>{if(!je)throw new Error("save() can only be called after init() and before digest()");let Qr=ae.exports.Hash_GetState(),ai=pn(),Ns=ae.exports.memory.buffer,Og=new Uint8Array(Ns,Qr,ai),BE=new Uint8Array(L+ai);return u(BE,V.hash),BE.set(Og,L),BE},yu=Qr=>{if(!(Qr instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");let ai=ae.exports.Hash_GetState(),Ns=pn(),Og=L+Ns,BE=ae.exports.memory.buffer;if(Qr.length!==Og)throw new Error(`Bad state length (expected ${Og} bytes, got ${Qr.length})`);if(!y(V.hash,Qr.subarray(0,L)))throw new Error("This state was written by an incompatible hash implementation");let ABe=Qr.subarray(L);new Uint8Array(BE,ai,Ns).set(ABe),je=!0},mu=Qr=>typeof Qr=="string"?Qr.length<T/4:Qr.byteLength<T,tl=mu;switch(V.name){case"argon2":case"scrypt":tl=()=>!0;break;case"blake2b":case"blake2s":tl=(Qr,ai)=>ai<=512&&mu(Qr);break;case"blake3":tl=(Qr,ai)=>ai===0&&mu(Qr);break;case"xxhash64":case"xxhash3":case"xxhash128":tl=()=>!1;break}let EE=(Qr,ai=null,Ns=null)=>{if(!tl(Qr,ai))return Fs(ai),el(Qr),Ap("hex",Ns);let Og=x(Qr);return le.set(Og),ae.exports.Hash_Calculate(Og.length,ai,Ns),C(Xf,le,re)};return yield yo(),{getMemory:tt,writeMemory:Ve,getExports:dt,setMemorySize:Vt,init:Fs,update:el,digest:Ap,save:Pg,load:yu,calculate:EE,hashLength:re}})}var v="adler32",a="AGFzbQEAAAABDANgAAF/YAAAYAF/AAMHBgABAgEAAgQFAXABAQEFBAEBAgIGDgJ/AUGAiQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAELSGFzaF9VcGRhdGUAAgpIYXNoX0ZpbmFsAAMNSGFzaF9HZXRTdGF0ZQAEDkhhc2hfQ2FsY3VsYXRlAAUKU1RBVEVfU0laRQMBCoAIBgUAQYAJCwoAQQBBATYChAgL9gYBBn9BACgChAgiAUH//wNxIQIgAUEQdiEDAkACQCAAQQFHDQAgAkEALQCACWoiAUGPgHxqIAEgAUHw/wNLGyIBIANqIgRBEHQiBUGAgDxqIAUgBEHw/wNLGyABciEBDAELAkACQAJAAkACQCAAQRBJDQBBgAkhBiAAQbArSQ0BQYAJIQYDQEEAIQUDQCAGIAVqIgEoAgAiBEH/AXEgAmoiAiADaiACIARBCHZB/wFxaiICaiACIARBEHZB/wFxaiICaiACIARBGHZqIgJqIAIgAUEEaigCACIEQf8BcWoiAmogAiAEQQh2Qf8BcWoiAmogAiAEQRB2Qf8BcWoiAmogAiAEQRh2aiICaiACIAFBCGooAgAiBEH/AXFqIgJqIAIgBEEIdkH/AXFqIgJqIAIgBEEQdkH/AXFqIgJqIAIgBEEYdmoiBGogBCABQQxqKAIAIgFB/wFxaiIEaiAEIAFBCHZB/wFxaiIEaiAEIAFBEHZB/wFxaiIEaiAEIAFBGHZqIgJqIQMgBUEQaiIFQbArRw0ACyADQfH/A3AhAyACQfH/A3AhAiAGQbAraiEGIABB0FRqIgBBrytLDQALIABFDQQgAEEPSw0BDAILAkAgAEUNAEEAIQEDQCACIAFBgAlqLQAAaiICIANqIQMgACABQQFqIgFHDQALCyACQY+AfGogAiACQfD/A0sbIANB8f8DcEEQdHIhAQwECwNAIAYoAgAiAUH/AXEgAmoiBCADaiAEIAFBCHZB/wFxaiIEaiAEIAFBEHZB/wFxaiIEaiAEIAFBGHZqIgRqIAQgBkEEaigCACIBQf8BcWoiBGogBCABQQh2Qf8BcWoiBGogBCABQRB2Qf8BcWoiBGogBCABQRh2aiIEaiAEIAZBCGooAgAiAUH/AXFqIgRqIAQgAUEIdkH/AXFqIgRqIAQgAUEQdkH/AXFqIgRqIAQgAUEYdmoiBGogBCAGQQxqKAIAIgFB/wFxaiIEaiAEIAFBCHZB/wFxaiIEaiAEIAFBEHZB/wFxaiIEaiAEIAFBGHZqIgJqIQMgBkEQaiEGIABBcGoiAEEPSw0ACyAARQ0BCwNAIAIgBi0AAGoiAiADaiEDIAZBAWohBiAAQX9qIgANAAsLIANB8f8DcCEDIAJB8f8DcCECCyACIANBEHRyIQELQQAgATYChAgLMgEBf0EAQQAoAoQIIgBBGHQgAEEIdEGAgPwHcXIgAEEIdkGA/gNxIABBGHZycjYCgAkLBQBBhAgLPABBAEEBNgKECCAAEAJBAEEAKAKECCIAQRh0IABBCHRBgID8B3FyIABBCHZBgP4DcSAAQRh2cnI2AoAJCwsVAgBBgAgLBAQAAAAAQYQICwQBAAAA",h="321174b4",g={name:v,data:a,hash:h};function l(V,re,ae){return e(this,void 0,void 0,function*(){let le=yield V.lock(),je=yield G(re,ae);return le(),je})}let A=new r,w=null;function E(V){if(w===null)return l(A,g,4).then(re=>(w=re,w.calculate(V)));try{let re=w.calculate(V);return Promise.resolve(re)}catch(re){return Promise.reject(re)}}function m(){return G(g,4).then(V=>{V.init();let re={init:()=>(V.init(),re),update:ae=>(V.update(ae),re),digest:ae=>V.digest(ae),save:()=>V.save(),load:ae=>(V.load(ae),re),blockSize:4,digestSize:4};return re})}var c="blake2b",I="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",M="68afc9cf",D={name:c,data:I,hash:M};let P=new r,j=null;function Y(V){return!Number.isInteger(V)||V<8||V>512||V%8!==0?new Error("Invalid variant! Valid values: 8, 16, ..., 512"):null}function z(V,re){return V|re<<16}function $(V,re=512,ae=null){if(Y(re))return Promise.reject(Y(re));let le=null,je=re;if(ae!==null){if(le=x(ae),le.length>64)return Promise.reject(new Error("Max key length is 64 bytes"));je=z(re,le.length)}let Ve=re/8;if(j===null||j.hashLength!==Ve)return l(P,D,Ve).then(tt=>(j=tt,je>512&&j.writeMemory(le),j.calculate(V,je)));try{je>512&&j.writeMemory(le);let tt=j.calculate(V,je);return Promise.resolve(tt)}catch(tt){return Promise.reject(tt)}}function W(V=512,re=null){if(Y(V))return Promise.reject(Y(V));let ae=null,le=V;if(re!==null){if(ae=x(re),ae.length>64)return Promise.reject(new Error("Max key length is 64 bytes"));le=z(V,ae.length)}let je=V/8;return G(D,je).then(Ve=>{le>512&&Ve.writeMemory(ae),Ve.init(le);let tt={init:le>512?()=>(Ve.writeMemory(ae),Ve.init(le),tt):()=>(Ve.init(le),tt),update:dt=>(Ve.update(dt),tt),digest:dt=>Ve.digest(dt),save:()=>Ve.save(),load:dt=>(Ve.load(dt),tt),blockSize:128,digestSize:je};return tt})}var ee="argon2",pe="AGFzbQEAAAABKQVgAX8Bf2AAAX9gEH9/f39/f39/f39/f39/f38AYAR/f39/AGACf38AAwYFAAECAwQEBQFwAQEBBQYBAQKAgAIGCAF/AUGQqAQLB0EEBm1lbW9yeQIAEkhhc2hfU2V0TWVtb3J5U2l6ZQAADkhhc2hfR2V0QnVmZmVyAAEOSGFzaF9DYWxjdWxhdGUABArXMwVbAQF/QQAhAQJAIABBACgCgAhrIgBFDQACQCAAQRB2IABBgIB8cSAASWoiAEAAQX9HDQBB/wEhAQwBC0EAIQFBAEEAKQOACCAAQRB0rXw3A4AICyABQRh0QRh1C2oBAn8CQEEAKAKICCIADQBBAD8AQRB0IgA2AogIQYCAIEEAKAKACGsiAUUNAAJAIAFBEHYgAUGAgHxxIAFJaiIAQABBf0cNAEEADwtBAEEAKQOACCAAQRB0rXw3A4AIQQAoAogIIQALIAALnA8BA34gACAEKQMAIhAgACkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDCAQIAwpAwCFIhBCIIkiETcDACAIIBEgCCkDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAEIBAgBCkDAIUiEEIoiSIRNwMAIAAgESAAKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAMIBAgDCkDAIUiEEIwiSIRNwMAIAggESAIKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAEIBAgBCkDAIVCAYk3AwAgASAFKQMAIhAgASkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDSAQIA0pAwCFIhBCIIkiETcDACAJIBEgCSkDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAFIBAgBSkDAIUiEEIoiSIRNwMAIAEgESABKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACANIBAgDSkDAIUiEEIwiSIRNwMAIAkgESAJKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAFIBAgBSkDAIVCAYk3AwAgAiAGKQMAIhAgAikDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDiAQIA4pAwCFIhBCIIkiETcDACAKIBEgCikDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAGIBAgBikDAIUiEEIoiSIRNwMAIAIgESACKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAOIBAgDikDAIUiEEIwiSIRNwMAIAogESAKKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAGIBAgBikDAIVCAYk3AwAgAyAHKQMAIhAgAykDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDyAQIA8pAwCFIhBCIIkiETcDACALIBEgCykDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAHIBAgBykDAIUiEEIoiSIRNwMAIAMgESADKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAPIBAgDykDAIUiEEIwiSIRNwMAIAsgESALKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAHIBAgBykDAIVCAYk3AwAgACAFKQMAIhAgACkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDyAQIA8pAwCFIhBCIIkiETcDACAKIBEgCikDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAFIBAgBSkDAIUiEEIoiSIRNwMAIAAgESAAKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAPIBAgDykDAIUiEEIwiSIRNwMAIAogESAKKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAFIBAgBSkDAIVCAYk3AwAgASAGKQMAIhAgASkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDCAQIAwpAwCFIhBCIIkiETcDACALIBEgCykDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAGIBAgBikDAIUiEEIoiSIRNwMAIAEgESABKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAMIBAgDCkDAIUiEEIwiSIRNwMAIAsgESALKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAGIBAgBikDAIVCAYk3AwAgAiAHKQMAIhAgAikDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDSAQIA0pAwCFIhBCIIkiETcDACAIIBEgCCkDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAHIBAgBykDAIUiEEIoiSIRNwMAIAIgESACKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACANIBAgDSkDAIUiEEIwiSIRNwMAIAggESAIKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAHIBAgBykDAIVCAYk3AwAgAyAEKQMAIhAgAykDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDiAQIA4pAwCFIhBCIIkiETcDACAJIBEgCSkDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAEIBAgBCkDAIUiEEIoiSIRNwMAIAMgESADKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAOIBAgDikDAIUiEEIwiSIRNwMAIAkgESAJKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAEIBAgBCkDAIVCAYk3AwALhxoBAX9BACEEQQAgAikDACABKQMAhTcDkAhBACACKQMIIAEpAwiFNwOYCEEAIAIpAxAgASkDEIU3A6AIQQAgAikDGCABKQMYhTcDqAhBACACKQMgIAEpAyCFNwOwCEEAIAIpAyggASkDKIU3A7gIQQAgAikDMCABKQMwhTcDwAhBACACKQM4IAEpAziFNwPICEEAIAIpA0AgASkDQIU3A9AIQQAgAikDSCABKQNIhTcD2AhBACACKQNQIAEpA1CFNwPgCEEAIAIpA1ggASkDWIU3A+gIQQAgAikDYCABKQNghTcD8AhBACACKQNoIAEpA2iFNwP4CEEAIAIpA3AgASkDcIU3A4AJQQAgAikDeCABKQN4hTcDiAlBACACKQOAASABKQOAAYU3A5AJQQAgAikDiAEgASkDiAGFNwOYCUEAIAIpA5ABIAEpA5ABhTcDoAlBACACKQOYASABKQOYAYU3A6gJQQAgAikDoAEgASkDoAGFNwOwCUEAIAIpA6gBIAEpA6gBhTcDuAlB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",ne="59aa4fb4",se={name:ee,data:pe,hash:ne};function Le(V,re,ae){let le=[`m=${re.memorySize}`,`t=${re.iterations}`,`p=${re.parallelism}`].join(",");return`$argon2${re.hashType}$v=19$${le}$${R(V,!1)}$${R(ae,!1)}`}let ce=new DataView(new ArrayBuffer(4));function fe(V){return ce.setInt32(0,V,!0),new Uint8Array(ce.buffer)}function bt(V,re,ae){return e(this,void 0,void 0,function*(){if(ae<=64){let Vt=yield W(ae*8);return Vt.update(fe(ae)),Vt.update(re),Vt.digest("binary")}let le=Math.ceil(ae/32)-2,je=new Uint8Array(ae);V.init(),V.update(fe(ae)),V.update(re);let Ve=V.digest("binary");je.set(Ve.subarray(0,32),0);for(let Vt=1;Vt<le;Vt++)V.init(),V.update(Ve),Ve=V.digest("binary"),je.set(Ve.subarray(0,32),Vt*32);let tt=ae-32*le,dt;return tt===64?(dt=V,dt.init()):dt=yield W(tt*8),dt.update(Ve),Ve=dt.digest("binary"),je.set(Ve.subarray(0,tt),le*32),je})}function ge(V){switch(V){case"d":return 0;case"i":return 1;default:return 2}}function Ie(V){return e(this,void 0,void 0,function*(){let{parallelism:re,iterations:ae,hashLength:le}=V,je=x(V.password),Ve=x(V.salt),tt=19,dt=ge(V.hashType),{memorySize:Vt}=V,[pn,si]=yield Promise.all([G(se,1024),W(512)]);pn.setMemorySize(Vt*1024+1024);let yo=new Uint8Array(24),Fs=new DataView(yo.buffer);Fs.setInt32(0,re,!0),Fs.setInt32(4,le,!0),Fs.setInt32(8,Vt,!0),Fs.setInt32(12,ae,!0),Fs.setInt32(16,tt,!0),Fs.setInt32(20,dt,!0),pn.writeMemory(yo,Vt*1024),si.init(),si.update(yo),si.update(fe(je.length)),si.update(je),si.update(fe(Ve.length)),si.update(Ve),si.update(fe(0)),si.update(fe(0));let el=Math.floor(Vt/(re*4))*4,Xf=new Uint8Array(72),Ap=si.digest("binary");Xf.set(Ap);for(let mu=0;mu<re;mu++){Xf.set(fe(0),64),Xf.set(fe(mu),68);let tl=mu*el,EE=yield bt(si,Xf,1024);pn.writeMemory(EE,tl*1024),tl+=1,Xf.set(fe(1),64),EE=yield bt(si,Xf,1024),pn.writeMemory(EE,tl*1024)}let Pg=new Uint8Array(1024);u(Pg,pn.calculate(new Uint8Array([]),Vt));let yu=yield bt(si,Pg,le);if(V.outputType==="hex"){let mu=new Uint8Array(le*2);return C(mu,yu,le)}return V.outputType==="encoded"?Le(Ve,V,yu):yu})}let mr=V=>{if(!V||typeof V!="object")throw new Error("Invalid options parameter. It requires an object.");if(!V.password)throw new Error("Password must be specified");if(V.password=x(V.password),V.password.length<1)throw new Error("Password must be specified");if(!V.salt)throw new Error("Salt must be specified");if(V.salt=x(V.salt),V.salt.length<8)throw new Error("Salt should be at least 8 bytes long");if(!Number.isInteger(V.iterations)||V.iterations<1)throw new Error("Iterations should be a positive number");if(!Number.isInteger(V.parallelism)||V.parallelism<1)throw new Error("Parallelism should be a positive number");if(!Number.isInteger(V.hashLength)||V.hashLength<4)throw new Error("Hash length should be at least 4 bytes.");if(!Number.isInteger(V.memorySize))throw new Error("Memory size should be specified.");if(V.memorySize<8*V.parallelism)throw new Error("Memory size should be at least 8 * parallelism.");if(V.outputType===void 0&&(V.outputType="hex"),!["hex","binary","encoded"].includes(V.outputType))throw new Error(`Insupported output type ${V.outputType}. Valid values: ['hex', 'binary', 'encoded']`)};function ve(V){return e(this,void 0,void 0,function*(){return mr(V),Ie(Object.assign(Object.assign({},V),{hashType:"i"}))})}function ye(V){return e(this,void 0,void 0,function*(){return mr(V),Ie(Object.assign(Object.assign({},V),{hashType:"id"}))})}function Nr(V){return e(this,void 0,void 0,function*(){return mr(V),Ie(Object.assign(Object.assign({},V),{hashType:"d"}))})}let Be=(V,re)=>{let ae=/^\$argon2(id|i|d)\$v=([0-9]+)\$((?:[mtp]=[0-9]+,){2}[mtp]=[0-9]+)\$([A-Za-z0-9+/]+)\$([A-Za-z0-9+/]+)$/,le=re.match(ae);if(!le)throw new Error("Invalid hash");let[,je,Ve,tt,dt,Vt]=le;if(Ve!=="19")throw new Error(`Unsupported version: ${Ve}`);let pn={},si={m:"memorySize",p:"parallelism",t:"iterations"};return tt.split(",").forEach(yo=>{let[Fs,Xh]=yo.split("=");pn[si[Fs]]=parseInt(Xh,10)}),Object.assign(Object.assign({},pn),{password:V,hashType:je,salt:K(dt),hashLength:k(Vt),outputType:"encoded"})},we=V=>{if(!V||typeof V!="object")throw new Error("Invalid options parameter. It requires an object.");if(V.hash===void 0||typeof V.hash!="string")throw new Error("Hash should be specified")};function qr(V){return e(this,void 0,void 0,function*(){we(V);let re=Be(V.password,V.hash);mr(re);let ae=V.hash.lastIndexOf("$")+1;return(yield Ie(re)).substring(ae)===V.hash.substring(ae)})}var Ce="blake2s",me="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",Ir="0f570f49",be={name:Ce,data:me,hash:Ir};let Se=new r,sr=null;function xe(V){return!Number.isInteger(V)||V<8||V>256||V%8!==0?new Error("Invalid variant! Valid values: 8, 16, ..., 256"):null}function _e(V,re){return V|re<<16}function Zi(V,re=256,ae=null){if(xe(re))return Promise.reject(xe(re));let le=null,je=re;if(ae!==null){if(le=x(ae),le.length>32)return Promise.reject(new Error("Max key length is 32 bytes"));je=_e(re,le.length)}let Ve=re/8;if(sr===null||sr.hashLength!==Ve)return l(Se,be,Ve).then(tt=>(sr=tt,je>512&&sr.writeMemory(le),sr.calculate(V,je)));try{je>512&&sr.writeMemory(le);let tt=sr.calculate(V,je);return Promise.resolve(tt)}catch(tt){return Promise.reject(tt)}}function Fe(V=256,re=null){if(xe(V))return Promise.reject(xe(V));let ae=null,le=V;if(re!==null){if(ae=x(re),ae.length>32)return Promise.reject(new Error("Max key length is 32 bytes"));le=_e(V,ae.length)}let je=V/8;return G(be,je).then(Ve=>{le>512&&Ve.writeMemory(ae),Ve.init(le);let tt={init:le>512?()=>(Ve.writeMemory(ae),Ve.init(le),tt):()=>(Ve.init(le),tt),update:dt=>(Ve.update(dt),tt),digest:dt=>Ve.digest(dt),save:()=>Ve.save(),load:dt=>(Ve.load(dt),tt),blockSize:64,digestSize:je};return tt})}var Qe="blake3",$i="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FWogFCAfc0EZdyIVaiIUIBhqIB0gFHNBEHciFCAlaiIYIBVzQRR3IhVqIhkgFHNBGHciFCAYaiIYaiIdICBzQRR3Ih9qIiA2AgAgACAXICQgHHNBGHciHCAeaiIeIBtzQRl3IhtqIAFqIgEgFmogASAUc0EQdyIBICtqIhQgG3NBFHciFmoiFyABc0EYdyIBNgI4IAAgGCAVc0EZdyIVIC5qIANqIgMgE2ogAyAcc0EQdyIDIAIgImoiAmoiIiAVc0EUdyIVaiITNgIEIAAgASAUaiIBNgIkIAAgAiAFc0EZdyICIBlqICFqIgUgGmogBSAnc0EQdyIFIB5qIhQgAnNBFHciAmoiGjYCCCAAICAgEnNBGHciEiAdaiIhNgIoIAAgEyADc0EYdyIDNgIwIAAgASAWc0EZdzYCECAAIBogBXNBGHciATYCNCAAICEgH3NBGXc2AhQgACABIBRqIgE2AiAgACADICJqIgUgFXNBGXc2AhggACASNgI8IAAgASACc0EZdzYCHCAAIBc2AgwgACAFNgIsC7cDAwR/A34FfyMAQdABayIBJAACQCAAe6ciAkEALQCQigEiA08NACABQShqIQQDQCABQQApA4CJASIANwMAIAFBACkDiIkBIgU3AwggAUEAKQOQiQEiBjcDECABQQApA5iJASIHNwMYIAEgA0EFdCIDQdGJAWoiCCkDADcDKCABIANB2YkBaiIJKQMANwMwIAEgA0HhiQFqIgopAwA3AzggASADQemJAWoiCykDADcDQEEALQCKigEhDCABQcAAOgBoIAEgDEEEciIMOgBpIAFCADcDICABIANB8YkBaikDADcDSCABIANB+YkBaikDADcDUCABIANBgYoBaikDADcDWCABIANBiYoBaikDADcDYCABIAc3A4gBIAEgBjcDgAEgASAFNwN4IAEgADcDcCABQZABaiABQfAAaiAEQcAAQgAgDBADIAsgASkDyAEgASkDqAGFNwMAIAogASkDwAEgASkDoAGFNwMAIAkgASkDuAEgASkDmAGFNwMAIAggASkDsAEgASkDkAGFNwMAQQBBAC0AkIoBQX9qIgM6AJCKASACIANB/wFxIgNJDQALCyABQdABaiQAC/oLBAR/BH4GfwF+IwBB0AJrIgUkAAJAAkAgAUGACEsNAEEAIQYgASEHQQAhCAJAIAFB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IQwDQCABQbABaiABIAsgCUH/AXEgCCACQQhyQf8BcRADIAEgASkD2AEiDSABKQO4AYU3A3ggASABKQPgASIOIAEpA8ABhTcDgAEgASAGIAEpA+gBIg+FNwOoASABIAUgDoU3A6ABIAEgBCANhTcDmAEgASADIAEpA9ABIg2FNwOQASABIA8gASkDyAGFNwOIASAAQcAAIABBwABJGyIQQX9qIQkgASANIAEpA7ABhSINNwNwIA2nIREgCiEHIAwhAgJAA0AgAiAROgAAIAlFDQEgCUF/aiEJIAJBAWohAiAHLQAAIREgB0EBaiEHDAALCyAAIBBrIgBFDQIgDCAQaiEMIAhCAXwhCCABKQMIIQQgASkDACEDIAEpAxghBiABKQMQIQUgAS0AaSECIAEtAGghCQwACwsCQAJAAkBBAC0AiYoBIglBBnRBAEEALQCIigEiDGtGDQAgAUHgAGpBACkDgIoBNwMAIAFB2ABqQQApA/iJATcDACABQdAAakEAKQPwiQE3AwAgAUHIAGpBACkD6IkBNwMAIAFBwABqQQApA+CJATcDACABQThqQQApA9iJATcDACABQTBqQQApA9CJATcDACABQQApA8iJATcDKCABQQApA8CJASIINwMgIAFBACkDuIkBIg03AxggAUEAKQOwiQEiDjcDECABQQApA6iJASIPNwMIIAFBACkDoIkBIgM3AwBBAC0AiooBIQcgAUHuAGogAUG0AWovAQA7AQAgASABKAGwATYBaiABIAw6AGggASAHIAlFckECciIJOgBpDAELIAFB4ABqIAJBfmoiAkEFdCIJQcmKAWopAwA3AwAgAUHYAGogCUHBigFqKQMANwMAIAFB0ABqIAlBuYoBaikDADcDACABQcgAaiAJQbGKAWopAwA3AwBBwAAhDCABQcAAaiAJQamKAWopAwA3AwAgAUE4aiAJQaGKAWopAwA3AwAgAUEwaiAJQZmKAWopAwA3AwBCACEIIAFCADcDICABQQApA5iJASINNwMYIAFBACkDkIkBIg43AxAgAUEAKQOIiQEiDzcDCCABQQApA4CJASIDNwMAIAEgCUGRigFqKQMANwMoQQAtAIqKASEJIAFB7gBqIAFBsAFqQQRqLwEAOwEAIAEgASgBsAE2AWogASAJQQRyIgk6AGkgAUHAADoAaCACRQ0BCyACQX9qIgdBBXQiEUGRigFqKQMAIQQgEUGZigFqKQMAIQUgEUGhigFqKQMAIQYgEUGpigFqKQMAIRIgASANNwOIASABIA43A4ABIAEgDzcDeCABIAM3A3AgAUGwAWogAUHwAGogAUEoaiIQIAwgCCAJQf8BcRADIAFBwAA6AGggASASNwNAIAEgBjcDOCABIAU3AzAgASAENwMoIAFCADcDICABQQApA5iJASIINwMYIAFBACkDkIkBIg03AxAgAUEAKQOIiQEiDjcDCCABQQApA4CJASIPNwMAIAFBAC0AiooBQQRyIgk6AGkgASABKQPoASABKQPIAYU3A2AgASABKQPgASABKQPAAYU3A1ggASABKQPYASABKQO4AYU3A1AgASABKQPQASABKQOwAYU3A0ggAUHuAGogAUGwAWpBBGoiDC8BADsBACABIAEoAbABNgFqIAdFDQAgAUHqAGohESACQQV0QemJAWohAgNAIAJBaGopAwAhAyACQXBqKQMAIQQgAkF4aikDACEFIAIpAwAhBiABIAg3A4gBIAEgDTcDgAEgASAONwN4IAEgDzcDcCABQbABaiABQfAAaiAQQcAAQgAgCUH/AXEQAyABQcAAOgBoIAEgBjcDQCABIAU3AzggASAENwMwIAEgAzcDKCABQgA3AyAgAUEAKQOYiQEiCDcDGCABQQApA5CJASINNwMQIAFBACkDiIkBIg43AwggAUEAKQOAiQEiDzcDACABQQAtAIqKAUEEciIJOgBpIAEgASkD6AEgASkDyAGFNwNgIAEgASkD4AEgASkDwAGFNwNYIAEgASkD2AEgASkDuAGFNwNQIAEgASkD0AEgASkDsAGFNwNIIBFBBGogDC8BADsBACARIAEoAbABNgEAIAJBYGohAiAHQX9qIgcNAAsLIAFB8ABqQQFyIQogAUEoaiELQgAhCEGACSEMQcAAIQIDQCABQbABaiABIAsgAkH/AXEgCCAJQQhyQf8BcRADIAEgASkD2AEiDSABKQO4AYU3A3ggASABKQPgASIOIAEpA8ABhTcDgAEgASABKQPoASIPIAEpA8gBhTcDiAEgASABKQMAIAEpA9ABIgOFNwOQASABIA0gASkDCIU3A5gBIAEgDiABKQMQhTcDoAEgASADIAEpA7ABhSINNwNwIAEgDyABKQMYhTcDqAEgAEHAACAAQcAASRsiEEF/aiECIA2nIREgCiEHIAwhCQJAA0AgCSAROgAAIAJFDQEgAkF/aiECIAlBAWohCSAHLQAAIREgB0EBaiEHDAALCyAAIBBrIgBFDQEgDCAQaiEMIAhCAXwhCCABLQBpIQkgAS0AaCECDAALCyABQfABaiQAC6MCAQR+AkACQCAAQSBGDQBCq7OP/JGjs/DbACEBQv+kuYjFkdqCm38hAkLy5rvjo6f9p6V/IQNC58yn0NbQ67O7fyEEQQAhAAwBC0EAKQOYCSEBQQApA5AJIQJBACkDiAkhA0EAKQOACSEEQRAhAAtBACAAOgCKigFBAEIANwOAigFBAEIANwP4iQFBAEIANwPwiQFBAEIANwPoiQFBAEIANwPgiQFBAEIANwPYiQFBAEIANwPQiQFBAEIANwPIiQFBAEIANwPAiQFBACABNwO4iQFBACACNwOwiQFBACADNwOoiQFBACAENwOgiQFBACABNwOYiQFBACACNwOQiQFBACADNwOIiQFBACAENwOAiQFBAEEAOgCQigFBAEEAOwGIigELBgAgABABCwYAIAAQBgsGAEGAiQELqwIBBH4CQAJAIAFBIEYNAEKrs4/8kaOz8NsAIQNC/6S5iMWR2oKbfyEEQvLmu+Ojp/2npX8hBULnzKfQ1tDrs7t/IQZBACEBDAELQQApA5gJIQNBACkDkAkhBEEAKQOICSEFQQApA4AJIQZBECEBC0EAIAE6AIqKAUEAQgA3A4CKAUEAQgA3A/iJAUEAQgA3A/CJAUEAQgA3A+iJAUEAQgA3A+CJAUEAQgA3A9iJAUEAQgA3A9CJAUEAQgA3A8iJAUEAQgA3A8CJAUEAIAM3A7iJAUEAIAQ3A7CJAUEAIAU3A6iJAUEAIAY3A6CJAUEAIAM3A5iJAUEAIAQ3A5CJAUEAIAU3A4iJAUEAIAY3A4CJAUEAQQA6AJCKAUEAQQA7AYiKASAAEAEgAhAGCwsLAQBBgAgLBHgHAAA=",Oe="e8655383",Ne={name:Qe,data:$i,hash:Oe};let Xi=new r,De=null;function Re(V){return!Number.isInteger(V)||V<8||V%8!==0?new Error("Invalid variant! Valid values: 8, 16, ..."):null}function di(V,re=256,ae=null){if(Re(re))return Promise.reject(Re(re));let le=null,je=0;if(ae!==null){if(le=x(ae),le.length!==32)return Promise.reject(new Error("Key length must be exactly 32 bytes"));je=32}let Ve=re/8,tt=Ve;if(De===null||De.hashLength!==Ve)return l(Xi,Ne,Ve).then(dt=>(De=dt,je===32&&De.writeMemory(le),De.calculate(V,je,tt)));try{je===32&&De.writeMemory(le);let dt=De.calculate(V,je,tt);return Promise.resolve(dt)}catch(dt){return Promise.reject(dt)}}function Ke(V=256,re=null){if(Re(V))return Promise.reject(Re(V));let ae=null,le=0;if(re!==null){if(ae=x(re),ae.length!==32)return Promise.reject(new Error("Key length must be exactly 32 bytes"));le=32}let je=V/8,Ve=je;return G(Ne,je).then(tt=>{le===32&&tt.writeMemory(ae),tt.init(le);let dt={init:le===32?()=>(tt.writeMemory(ae),tt.init(le),dt):()=>(tt.init(le),dt),update:Vt=>(tt.update(Vt),dt),digest:Vt=>tt.digest(Vt,Ve),save:()=>tt.save(),load:Vt=>(tt.load(Vt),dt),blockSize:64,digestSize:je};return dt})}var Pe="crc32",en="AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwgHAAEBAQIAAwQFAXABAQEFBAEBAgIGDgJ/AUGQyQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAILSGFzaF9VcGRhdGUAAwpIYXNoX0ZpbmFsAAQNSGFzaF9HZXRTdGF0ZQAFDkhhc2hfQ2FsY3VsYXRlAAYKU1RBVEVfU0laRQMBCq0HBwUAQYAJC8MDAQN/QYCJASEBQQAhAgNAIAFBAEEAQQBBAEEAQQBBAEEAIAJBAXFrIABxIAJBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzNgIAIAFBBGohASACQQFqIgJBgAJHDQALQQAhAANAIABBhJEBaiAAQYSJAWooAgAiAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhJkBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEoQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYSpAWogAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhLEBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEuQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYTBAWogAkH/AXFBAnRBgIkBaigCACACQQh2czYCACAAQQRqIgBB/AdHDQALCycAAkBBACgCgMkBIABGDQAgABABQQAgADYCgMkBC0EAQQA2AoTJAQuhAgEDf0EAKAKEyQFBf3MhAUGACSECAkAgAEEISQ0AQYAJIQIDQCACQQRqKAIAIgNBDnZB/AdxQYCRAWooAgAgA0EWdkH8B3FBgIkBaigCAHMgA0EGdkH8B3FBgJkBaigCAHMgA0H/AXFBAnRBgKEBaigCAHMgAigCACABcyIBQRZ2QfwHcUGAqQFqKAIAcyABQQ52QfwHcUGAsQFqKAIAcyABQQZ2QfwHcUGAuQFqKAIAcyABQf8BcUECdEGAwQFqKAIAcyEBIAJBCGohAiAAQXhqIgBBB0sNAAsLAkAgAEUNAANAIAFB/wFxIAItAABzQQJ0QYCJAWooAgAgAUEIdnMhASACQQFqIQIgAEF/aiIADQALC0EAIAFBf3M2AoTJAQszAQF/QQBBACgChMkBIgBBGHQgAEEIdEGAgPwHcXIgAEEIdkGA/gNxIABBGHZycjYCgAkLBgBBhMkBC1oAAkBBACgCgMkBIAFGDQAgARABQQAgATYCgMkBC0EAQQA2AoTJASAAEANBAEEAKAKEyQEiAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyNgKACQsLCwEAQYAICwQEAAAA",Ue="749723dc",Me={name:Pe,data:en,hash:Ue};let tn=new r,ke=null;function qe(V){if(ke===null)return l(tn,Me,4).then(re=>(ke=re,ke.calculate(V,3988292384)));try{let re=ke.calculate(V,3988292384);return Promise.resolve(re)}catch(re){return Promise.reject(re)}}function Li(){return G(Me,4).then(V=>{V.init(3988292384);let re={init:()=>(V.init(3988292384),re),update:ae=>(V.update(ae),re),digest:ae=>V.digest(ae),save:()=>V.save(),load:ae=>(V.load(ae),re),blockSize:4,digestSize:4};return re})}let te=new r,Z=null;function de(V){if(Z===null)return l(te,Me,4).then(re=>(Z=re,Z.calculate(V,2197175160)));try{let re=Z.calculate(V,2197175160);return Promise.resolve(re)}catch(re){return Promise.reject(re)}}function ie(){return G(Me,4).then(V=>{V.init(2197175160);let re={init:()=>(V.init(2197175160),re),update:ae=>(V.update(ae),re),digest:ae=>V.digest(ae),save:()=>V.save(),load:ae=>(V.load(ae),re),blockSize:4,digestSize:4};return re})}var oe="md4",$e="AGFzbQEAAAABEgRgAAF/YAAAYAF/AGACf38BfwMIBwABAgMBAAIEBQFwAQEBBQQBAQICBg4CfwFBoIoFC38AQYAICwdwCAZtZW1vcnkCAA5IYXNoX0dldEJ1ZmZlcgAACUhhc2hfSW5pdAABC0hhc2hfVXBkYXRlAAIKSGFzaF9GaW5hbAAEDUhhc2hfR2V0U3RhdGUABQ5IYXNoX0NhbGN1bGF0ZQAGClNUQVRFX1NJWkUDAQqXEQcFAEGACQstAEEAQv6568XpjpWZEDcCkIkBQQBCgcaUupbx6uZvNwKIiQFBAEIANwKAiQEL6AIBA39BAEEAKAKAiQEiASAAakH/////AXEiAjYCgIkBQQAoAoSJASEDAkAgAiABTw0AQQAgA0EBaiIDNgKEiQELQQAgAyAAQR12ajYChIkBAkACQAJAAkACQAJAIAFBP3EiAw0AQYAJIQIMAQtBwAAgA2siAiAASw0BIANBGGohA0EAIQEDQCADIAFqQYCJAWogAUGACWotAAA6AAAgAyABQQFqIgFqQdgARw0AC0GYiQFBwAAQAxogACACayEAIAJBgAlqIQILIABBwABPDQEgACEDDAILIABFDQJBACEBIANBmIkBakEALQCACToAACAAQQFGDQIgA0GZiQFqIQMgAEF/aiECA0AgAyABaiABQYEJai0AADoAACACIAFBAWoiAUcNAAwDCwsgAEE/cSEDIAIgAEFAcRADIQILIANFDQBBACEBA0AgAUGYiQFqIAIgAWotAAA6AAAgAyABQQFqIgFHDQALCwuYCwEXf0EAKAKUiQEhAkEAKAKQiQEhA0EAKAKMiQEhBEEAKAKIiQEhBQNAIABBHGooAgAiBiAAQRRqKAIAIgcgAEEYaigCACIIIABBEGooAgAiCSAAQSxqKAIAIgogAEEoaigCACILIABBJGooAgAiDCAAQSBqKAIAIg0gCyAIIABBCGooAgAiDiADaiAAQQRqKAIAIg8gAmogBCADIAJzcSACcyAFaiAAKAIAIhBqQQN3IhEgBCADc3EgA3NqQQd3IhIgESAEc3EgBHNqQQt3IhNqIBIgB2ogESAJaiAAQQxqKAIAIhQgBGogEyASIBFzcSARc2pBE3ciESATIBJzcSASc2pBA3ciEiARIBNzcSATc2pBB3ciEyASIBFzcSARc2pBC3ciFWogEyAMaiASIA1qIBEgBmogFSATIBJzcSASc2pBE3ciESAVIBNzcSATc2pBA3ciEiARIBVzcSAVc2pBB3ciEyASIBFzcSARc2pBC3ciFSAAQThqKAIAIhZqIBMgAEE0aigCACIXaiASIABBMGooAgAiGGogESAKaiAVIBMgEnNxIBJzakETdyISIBUgE3NxIBNzakEDdyITIBIgFXNxIBVzakEHdyIVIBMgEnNxIBJzakELdyIRaiAJIBVqIBAgE2ogEiAAQTxqKAIAIglqIBEgFSATc3EgE3NqQRN3IhIgESAVcnEgESAVcXJqQZnzidQFakEDdyITIBIgEXJxIBIgEXFyakGZ84nUBWpBBXciESATIBJycSATIBJxcmpBmfOJ1AVqQQl3IhVqIAcgEWogDyATaiAYIBJqIBUgESATcnEgESATcXJqQZnzidQFakENdyISIBUgEXJxIBUgEXFyakGZ84nUBWpBA3ciESASIBVycSASIBVxcmpBmfOJ1AVqQQV3IhMgESAScnEgESAScXJqQZnzidQFakEJdyIVaiAIIBNqIA4gEWogFyASaiAVIBMgEXJxIBMgEXFyakGZ84nUBWpBDXciESAVIBNycSAVIBNxcmpBmfOJ1AVqQQN3IhIgESAVcnEgESAVcXJqQZnzidQFakEFdyITIBIgEXJxIBIgEXFyakGZ84nUBWpBCXciFWogBiATaiAUIBJqIBYgEWogFSATIBJycSATIBJxcmpBmfOJ1AVqQQ13IhEgFSATcnEgFSATcXJqQZnzidQFakEDdyISIBEgFXJxIBEgFXFyakGZ84nUBWpBBXciEyASIBFycSASIBFxcmpBmfOJ1AVqQQl3IhVqIBAgEmogCSARaiAVIBMgEnJxIBMgEnFyakGZ84nUBWpBDXciBiAVcyISIBNzakGh1+f2BmpBA3ciESAGcyANIBNqIBIgEXNqQaHX5/YGakEJdyISc2pBodfn9gZqQQt3IhNqIA4gEWogEyAScyAYIAZqIBIgEXMgE3NqQaHX5/YGakEPdyIRc2pBodfn9gZqQQN3IhUgEXMgCyASaiARIBNzIBVzakGh1+f2BmpBCXciEnNqQaHX5/YGakELdyITaiAPIBVqIBMgEnMgFiARaiASIBVzIBNzakGh1+f2BmpBD3ciEXNqQaHX5/YGakEDdyIVIBFzIAwgEmogESATcyAVc2pBodfn9gZqQQl3IhJzakGh1+f2BmpBC3ciE2ogFCAVaiATIBJzIBcgEWogEiAVcyATc2pBodfn9gZqQQ93IhFzakGh1+f2BmpBA3ciFSARcyAKIBJqIBEgE3MgFXNqQaHX5/YGakEJdyISc2pBodfn9gZqQQt3IhMgA2ohAyAJIBFqIBIgFXMgE3NqQaHX5/YGakEPdyAEaiEEIBIgAmohAiAVIAVqIQUgAEHAAGohACABQUBqIgENAAtBACACNgKUiQFBACADNgKQiQFBACAENgKMiQFBACAFNgKIiQEgAAuhAgEDf0EAKAKAiQEiAEE/cSIBQZiJAWpBgAE6AAACQAJAAkAgAUE/cyICQQdLDQACQCACRQ0AIAFBmYkBaiEAA0AgAEEAOgAAIABBAWohACACQX9qIgINAAsLQcAAIQJBmIkBQcAAEAMaQQAhAAwBCyACQQhGDQEgAUEBaiEACyAAQY+JAWohAQNAIAEgAmpBADoAACACQXdqIQAgAkF/aiECIABBAEoNAAtBACgCgIkBIQALQQAgAEEVdjoA04kBQQAgAEENdjoA0okBQQAgAEEFdjoA0YkBQQAgAEEDdCICOgDQiQFBACACNgKAiQFBAEEAKAKEiQE2AtSJAUGYiQFBwAAQAxpBAEEAKQKIiQE3A4AJQQBBACkCkIkBNwOICQsGAEGAiQELMwBBAEL+uevF6Y6VmRA3ApCJAUEAQoHGlLqW8ermbzcCiIkBQQBCADcCgIkBIAAQAhAECwsLAQBBgAgLBJgAAAA=",ue="1bf01052",he={name:oe,data:$e,hash:ue};let Et=new r,ft=null;function et(V){if(ft===null)return l(Et,he,16).then(re=>(ft=re,ft.calculate(V)));try{let re=ft.calculate(V);return Promise.resolve(re)}catch(re){return Promise.reject(re)}}function Ft(){return G(he,16).then(V=>{V.init();let re={init:()=>(V.init(),re),update:ae=>(V.update(ae),re),digest:ae=>V.digest(ae),save:()=>V.save(),load:ae=>(V.load(ae),re),blockSize:64,digestSize:16};return re})}var Ot="md5",Mt="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",mt="9b0fac7d",kt={name:Ot,data:Mt,hash:mt};let Ct=new r,wr=null;function ir(V){if(wr===null)return l(Ct,kt,16).then(re=>(wr=re,wr.calculate(V)));try{let re=wr.calculate(V);return Promise.resolve(re)}catch(re){return Promise.reject(re)}}function ar(){return G(kt,16).then(V=>{V.init();let re={init:()=>(V.init(),re),update:ae=>(V.update(ae),re),digest:ae=>V.digest(ae),save:()=>V.save(),load:ae=>(V.load(ae),re),blockSize:64,digestSize:16};return re})}var xt="sha1",nr="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",cr="40d92e5d",pr={name:xt,data:nr,hash:cr};let Pr=new r,fr=null;function Hr(V){if(fr===null)return l(Pr,pr,20).then(re=>(fr=re,fr.calculate(V)));try{let re=fr.calculate(V);return Promise.resolve(re)}catch(re){return Promise.reject(re)}}function pu(){return G(pr,20).then(V=>{V.init();let re={init:()=>(V.init(),re),update:ae=>(V.update(ae),re),digest:ae=>V.digest(ae),save:()=>V.save(),load:ae=>(V.load(ae),re),blockSize:64,digestSize:20};return re})}var Au="sha3",Lc="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",ap="ec266d91",ya={name:Au,data:Lc,hash:ap};let cp=new r,$h=null;function Hc(V){return[224,256,384,512].includes(V)?null:new Error("Invalid variant! Valid values: 224, 256, 384, 512")}function Jk(V,re=512){if(Hc(re))return Promise.reject(Hc(re));let ae=re/8;if($h===null||$h.hashLength!==ae)return l(cp,ya,ae).then(le=>($h=le,$h.calculate(V,re,6)));try{let le=$h.calculate(V,re,6);return Promise.resolve(le)}catch(le){return Promise.reject(le)}}function Vk(V=512){if(Hc(V))return Promise.reject(Hc(V));let re=V/8;return G(ya,re).then(ae=>{ae.init(V);let le={init:()=>(ae.init(V),le),update:je=>(ae.update(je),le),digest:je=>ae.digest(je,6),save:()=>ae.save(),load:je=>(ae.load(je),le),blockSize:200-2*re,digestSize:re};return le})}let g8=new r,Zf=null;function gu(V){return[224,256,384,512].includes(V)?null:new Error("Invalid variant! Valid values: 224, 256, 384, 512")}function y8(V,re=512){if(gu(re))return Promise.reject(gu(re));let ae=re/8;if(Zf===null||Zf.hashLength!==ae)return l(g8,ya,ae).then(le=>(Zf=le,Zf.calculate(V,re,1)));try{let le=Zf.calculate(V,re,1);return Promise.resolve(le)}catch(le){return Promise.reject(le)}}function Fg(V=512){if(gu(V))return Promise.reject(gu(V));let re=V/8;return G(ya,re).then(ae=>{ae.init(V);let le={init:()=>(ae.init(V),le),update:je=>(ae.update(je),le),digest:je=>ae.digest(je,1),save:()=>ae.save(),load:je=>(ae.load(je),le),blockSize:200-2*re,digestSize:re};return le})}var Wk="sha256",m8="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",Zk="817d957e",ma={name:Wk,data:m8,hash:Zk};let fp=new r,dp=null;function VI(V){if(dp===null)return l(fp,ma,28).then(re=>(dp=re,dp.calculate(V,224)));try{let re=dp.calculate(V,224);return Promise.resolve(re)}catch(re){return Promise.reject(re)}}function up(){return G(ma,28).then(V=>{V.init(224);let re={init:()=>(V.init(224),re),update:ae=>(V.update(ae),re),digest:ae=>V.digest(ae),save:()=>V.save(),load:ae=>(V.load(ae),re),blockSize:64,digestSize:28};return re})}let zz=new r,$f=null;function Ng(V){if($f===null)return l(zz,ma,32).then(re=>($f=re,$f.calculate(V,256)));try{let re=$f.calculate(V,256);return Promise.resolve(re)}catch(re){return Promise.reject(re)}}function IE(){return G(ma,32).then(V=>{V.init(256);let re={init:()=>(V.init(256),re),update:ae=>(V.update(ae),re),digest:ae=>V.digest(ae),save:()=>V.save(),load:ae=>(V.load(ae),re),blockSize:64,digestSize:32};return re})}var $k="sha512",Xk="AGFzbQEAAAABEQRgAAF/YAF/AGACf38AYAAAAwgHAAEBAgMAAgQFAXABAQEFBAEBAgIGDgJ/AUHQigULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAELSGFzaF9VcGRhdGUAAgpIYXNoX0ZpbmFsAAQNSGFzaF9HZXRTdGF0ZQAFDkhhc2hfQ2FsY3VsYXRlAAYKU1RBVEVfU0laRQMBCvhnBwUAQYAJC5sCAEEAQgA3A4CKAUEAQTBBwAAgAEGAA0YiABs2AsiKAUEAQqSf6ffbg9LaxwBC+cL4m5Gjs/DbACAAGzcDwIoBQQBCp5/mp9bBi4ZbQuv6htq/tfbBHyAAGzcDuIoBQQBCkargwvbQktqOf0Kf2PnZwpHagpt/IAAbNwOwigFBAEKxloD+/8zJmecAQtGFmu/6z5SH0QAgABs3A6iKAUEAQrmyubiPm/uXFULx7fT4paf9p6V/IAAbNwOgigFBAEKXusODo6vArJF/Qqvw0/Sv7ry3PCAAGzcDmIoBQQBCh6rzs6Olis3iAEK7zqqm2NDrs7t/IAAbNwOQigFBAELYvZaI3Kvn3UtCiJLznf/M+YTqACAAGzcDiIoBC4MCAgF+Bn9BAEEAKQOAigEiASAArXw3A4CKAQJAAkACQCABp0H/AHEiAg0AQYAJIQIMAQsCQCAAQYABIAJrIgMgAyAASyIEGyIFRQ0AIAJBgIkBaiEGQQAhAkEAIQcDQCAGIAJqIAJBgAlqLQAAOgAAIAUgB0EBaiIHQf8BcSICSw0ACwsgBA0BQYiKAUGAiQEQAyAAIANrIQAgA0GACWohAgsCQCAAQYABSQ0AA0BBiIoBIAIQAyACQYABaiECIABBgH9qIgBB/wBLDQALCyAARQ0AQQAhB0EAIQUDQCAHQYCJAWogAiAHai0AADoAACAAIAVBAWoiBUH/AXEiB0sNAAsLC9xXAVZ+IAAgASkDCCICQjiGIAJCKIZCgICAgICAwP8Ag4QgAkIYhkKAgICAgOA/gyACQgiGQoCAgIDwH4OEhCACQgiIQoCAgPgPgyACQhiIQoCA/AeDhCACQiiIQoD+A4MgAkI4iISEhCIDQjiJIANCB4iFIANCP4mFIAEpAwAiAkI4hiACQiiGQoCAgICAgMD/AIOEIAJCGIZCgICAgIDgP4MgAkIIhkKAgICA8B+DhIQgAkIIiEKAgID4D4MgAkIYiEKAgPwHg4QgAkIoiEKA/gODIAJCOIiEhIQiBHwgASkDSCICQjiGIAJCKIZCgICAgICAwP8Ag4QgAkIYhkKAgICAgOA/gyACQgiGQoCAgIDwH4OEhCACQgiIQoCAgPgPgyACQhiIQoCA/AeDhCACQiiIQoD+A4MgAkI4iISEhCIFfCABKQNwIgJCOIYgAkIohkKAgICAgIDA/wCDhCACQhiGQoCAgICA4D+DIAJCCIZCgICAgPAfg4SEIAJCCIhCgICA+A+DIAJCGIhCgID8B4OEIAJCKIhCgP4DgyACQjiIhISEIgZCA4kgBkIGiIUgBkItiYV8IgdCOIkgB0IHiIUgB0I/iYUgASkDeCICQjiGIAJCKIZCgICAgICAwP8Ag4QgAkIYhkKAgICAgOA/gyACQgiGQoCAgIDwH4OEhCACQgiIQoCAgPgPgyACQhiIQoCA/AeDhCACQiiIQoD+A4MgAkI4iISEhCIIfCAFQjiJIAVCB4iFIAVCP4mFIAEpA0AiAkI4hiACQiiGQoCAgICAgMD/AIOEIAJCGIZCgICAgIDgP4MgAkIIhkKAgICA8B+DhIQgAkIIiEKAgID4D4MgAkIYiEKAgPwHg4QgAkIoiEKA/gODIAJCOIiEhIQiCXwgASkDECICQjiGIAJCKIZCgICAgICAwP8Ag4QgAkIYhkKAgICAgOA/gyACQgiGQoCAgIDwH4OEhCACQgiIQoCAgPgPgyACQhiIQoCA/AeDhCACQiiIQoD+A4MgAkI4iISEhCIKQjiJIApCB4iFIApCP4mFIAN8IAEpA1AiAkI4hiACQiiGQoCAgICAgMD/AIOEIAJCGIZCgICAgIDgP4MgAkIIhkKAgICA8B+DhIQgAkIIiEKAgID4D4MgAkIYiEKAgPwHg4QgAkIoiEKA/gODIAJCOIiEhIQiC3wgCEIDiSAIQgaIhSAIQi2JhXwiDHwgASkDOCICQjiGIAJCKIZCgICAgICAwP8Ag4QgAkIYhkKAgICAgOA/gyACQgiGQoCAgIDwH4OEhCACQgiIQoCAgPgPgyACQhiIQoCA/AeDhCACQiiIQoD+A4MgAkI4iISEhCINQjiJIA1CB4iFIA1CP4mFIAEpAzAiAkI4hiACQiiGQoCAgICAgMD/AIOEIAJCGIZCgICAgIDgP4MgAkIIhkKAgICA8B+DhIQgAkIIiEKAgID4D4MgAkIYiEKAgPwHg4QgAkIoiEKA/gODIAJCOIiEhIQiDnwgCHwgASkDKCICQjiGIAJCKIZCgICAgICAwP8Ag4QgAkIYhkKAgICAgOA/gyACQgiGQoCAgIDwH4OEhCACQgiIQoCAgPgPgyACQhiIQoCA/AeDhCACQiiIQoD+A4MgAkI4iISEhCIPQjiJIA9CB4iFIA9CP4mFIAEpAyAiAkI4hiACQiiGQoCAgICAgMD/AIOEIAJCGIZCgICAgIDgP4MgAkIIhkKAgICA8B+DhIQgAkIIiEKAgID4D4MgAkIYiEKAgPwHg4QgAkIoiEKA/gODIAJCOIiEhIQiEHwgASkDaCICQjiGIAJCKIZCgICAgICAwP8Ag4QgAkIYhkKAgICAgOA/gyACQgiGQoCAgIDwH4OEhCACQgiIQoCAgPgPgyACQhiIQoCA/AeDhCACQiiIQoD+A4MgAkI4iISEhCIRfCABKQMYIgJCOIYgAkIohkKAgICAgIDA/wCDhCACQhiGQoCAgICA4D+DIAJCCIZCgICAgPAfg4SEIAJCCIhCgICA+A+DIAJCGIhCgID8B4OEIAJCKIhCgP4DgyACQjiIhISEIhJCOIkgEkIHiIUgEkI/iYUgCnwgASkDWCICQjiGIAJCKIZCgICAgICAwP8Ag4QgAkIYhkKAgICAgOA/gyACQgiGQoCAgIDwH4OEhCACQgiIQoCAgPgPgyACQhiIQoCA/AeDhCACQiiIQoD+A4MgAkI4iISEhCITfCAHQgOJIAdCBoiFIAdCLYmFfCIUQgOJIBRCBoiFIBRCLYmFfCIVQgOJIBVCBoiFIBVCLYmFfCIWQgOJIBZCBoiFIBZCLYmFfCIXfCAGQjiJIAZCB4iFIAZCP4mFIBF8IBZ8IAEpA2AiAkI4hiACQiiGQoCAgICAgMD/AIOEIAJCGIZCgICAgIDgP4MgAkIIhkKAgICA8B+DhIQgAkIIiEKAgID4D4MgAkIYiEKAgPwHg4QgAkIoiEKA/gODIAJCOIiEhIQiGEI4iSAYQgeIhSAYQj+JhSATfCAVfCALQjiJIAtCB4iFIAtCP4mFIAV8IBR8IAlCOIkgCUIHiIUgCUI/iYUgDXwgB3wgDkI4iSAOQgeIhSAOQj+JhSAPfCAGfCAQQjiJIBBCB4iFIBBCP4mFIBJ8IBh8IAxCA4kgDEIGiIUgDEItiYV8IhlCA4kgGUIGiIUgGUItiYV8IhpCA4kgGkIGiIUgGkItiYV8IhtCA4kgG0IGiIUgG0ItiYV8IhxCA4kgHEIGiIUgHEItiYV8Ih1CA4kgHUIGiIUgHUItiYV8Ih5CA4kgHkIGiIUgHkItiYV8Ih9COIkgH0IHiIUgH0I/iYUgCEI4iSAIQgeIhSAIQj+JhSAGfCAbfCARQjiJIBFCB4iFIBFCP4mFIBh8IBp8IBNCOIkgE0IHiIUgE0I/iYUgC3wgGXwgF0IDiSAXQgaIhSAXQi2JhXwiIEIDiSAgQgaIhSAgQi2JhXwiIUIDiSAhQgaIhSAhQi2JhXwiInwgF0I4iSAXQgeIhSAXQj+JhSAbfCAMQjiJIAxCB4iFIAxCP4mFIAd8IBx8ICJCA4kgIkIGiIUgIkItiYV8IiN8IBZCOIkgFkIHiIUgFkI/iYUgGnwgInwgFUI4iSAVQgeIhSAVQj+JhSAZfCAhfCAUQjiJIBRCB4iFIBRCP4mFIAx8ICB8IB9CA4kgH0IGiIUgH0ItiYV8IiRCA4kgJEIGiIUgJEItiYV8IiVCA4kgJUIGiIUgJUItiYV8IiZCA4kgJkIGiIUgJkItiYV8Iid8IB5COIkgHkIHiIUgHkI/iYUgIXwgJnwgHUI4iSAdQgeIhSAdQj+JhSAgfCAlfCAcQjiJIBxCB4iFIBxCP4mFIBd8ICR8IBtCOIkgG0IHiIUgG0I/iYUgFnwgH3wgGkI4iSAaQgeIhSAaQj+JhSAVfCAefCAZQjiJIBlCB4iFIBlCP4mFIBR8IB18ICNCA4kgI0IGiIUgI0ItiYV8IihCA4kgKEIGiIUgKEItiYV8IilCA4kgKUIGiIUgKUItiYV8IipCA4kgKkIGiIUgKkItiYV8IitCA4kgK0IGiIUgK0ItiYV8IixCA4kgLEIGiIUgLEItiYV8Ii1CA4kgLUIGiIUgLUItiYV8Ii5COIkgLkIHiIUgLkI/iYUgIkI4iSAiQgeIhSAiQj+JhSAefCAqfCAhQjiJICFCB4iFICFCP4mFIB18ICl8ICBCOIkgIEIHiIUgIEI/iYUgHHwgKHwgJ0IDiSAnQgaIhSAnQi2JhXwiL0IDiSAvQgaIhSAvQi2JhXwiMEIDiSAwQgaIhSAwQi2JhXwiMXwgJ0I4iSAnQgeIhSAnQj+JhSAqfCAjQjiJICNCB4iFICNCP4mFIB98ICt8IDFCA4kgMUIGiIUgMUItiYV8IjJ8ICZCOIkgJkIHiIUgJkI/iYUgKXwgMXwgJUI4iSAlQgeIhSAlQj+JhSAofCAwfCAkQjiJICRCB4iFICRCP4mFICN8IC98IC5CA4kgLkIGiIUgLkItiYV8IjNCA4kgM0IGiIUgM0ItiYV8IjRCA4kgNEIGiIUgNEItiYV8IjVCA4kgNUIGiIUgNUItiYV8IjZ8IC1COIkgLUIHiIUgLUI/iYUgMHwgNXwgLEI4iSAsQgeIhSAsQj+JhSAvfCA0fCArQjiJICtCB4iFICtCP4mFICd8IDN8ICpCOIkgKkIHiIUgKkI/iYUgJnwgLnwgKUI4iSApQgeIhSApQj+JhSAlfCAtfCAoQjiJIChCB4iFIChCP4mFICR8ICx8IDJCA4kgMkIGiIUgMkItiYV8IjdCA4kgN0IGiIUgN0ItiYV8IjhCA4kgOEIGiIUgOEItiYV8IjlCA4kgOUIGiIUgOUItiYV8IjpCA4kgOkIGiIUgOkItiYV8IjtCA4kgO0IGiIUgO0ItiYV8IjxCA4kgPEIGiIUgPEItiYV8Ij1COIkgPUIHiIUgPUI/iYUgMUI4iSAxQgeIhSAxQj+JhSAtfCA5fCAwQjiJIDBCB4iFIDBCP4mFICx8IDh8IC9COIkgL0IHiIUgL0I/iYUgK3wgN3wgNkIDiSA2QgaIhSA2Qi2JhXwiPkIDiSA+QgaIhSA+Qi2JhXwiP0IDiSA/QgaIhSA/Qi2JhXwiQHwgNkI4iSA2QgeIhSA2Qj+JhSA5fCAyQjiJIDJCB4iFIDJCP4mFIC58IDp8IEBCA4kgQEIGiIUgQEItiYV8IkF8IDVCOIkgNUIHiIUgNUI/iYUgOHwgQHwgNEI4iSA0QgeIhSA0Qj+JhSA3fCA/fCAzQjiJIDNCB4iFIDNCP4mFIDJ8ID58ID1CA4kgPUIGiIUgPUItiYV8IkJCA4kgQkIGiIUgQkItiYV8IkNCA4kgQ0IGiIUgQ0ItiYV8IkRCA4kgREIGiIUgREItiYV8IkV8IDxCOIkgPEIHiIUgPEI/iYUgP3wgRHwgO0I4iSA7QgeIhSA7Qj+JhSA+fCBDfCA6QjiJIDpCB4iFIDpCP4mFIDZ8IEJ8IDlCOIkgOUIHiIUgOUI/iYUgNXwgPXwgOEI4iSA4QgeIhSA4Qj+JhSA0fCA8fCA3QjiJIDdCB4iFIDdCP4mFIDN8IDt8IEFCA4kgQUIGiIUgQUItiYV8IkZCA4kgRkIGiIUgRkItiYV8IkdCA4kgR0IGiIUgR0ItiYV8IkhCA4kgSEIGiIUgSEItiYV8IklCA4kgSUIGiIUgSUItiYV8IkpCA4kgSkIGiIUgSkItiYV8IktCA4kgS0IGiIUgS0ItiYV8IkwgSiBCIDwgOiA4IDIgMCAnICUgHyAdIBsgGSAIIBMgDSAAKQMgIk0gEnwgACkDKCJOIAp8IAApAzAiTyADfCAAKQM4IlAgTUIyiSBNQi6JhSBNQheJhXwgTyBOhSBNgyBPhXwgBHxCotyiuY3zi8XCAHwiUSAAKQMYIlJ8IgMgTiBNhYMgToV8IANCMokgA0IuiYUgA0IXiYV8Qs3LvZ+SktGb8QB8IlMgACkDECJUfCIKIAMgTYWDIE2FfCAKQjKJIApCLomFIApCF4mFfEKv9rTi/vm+4LV/fCJVIAApAwgiVnwiEiAKIAOFgyADhXwgEkIyiSASQi6JhSASQheJhXxCvLenjNj09tppfCJXIAApAwAiAnwiBHwgDiASfCAPIAp8IAMgEHwgBCASIAqFgyAKhXwgBEIyiSAEQi6JhSAEQheJhXxCuOqimr/LsKs5fCIQIFQgViAChYMgViACg4UgAkIkiSACQh6JhSACQhmJhXwgUXwiA3wiDSAEIBKFgyAShXwgDUIyiSANQi6JhSANQheJhXxCmaCXsJu+xPjZAHwiUSADQiSJIANCHomFIANCGYmFIAMgAoUgVoMgAyACg4V8IFN8Igp8Ig4gDSAEhYMgBIV8IA5CMokgDkIuiYUgDkIXiYV8Qpuf5fjK1OCfkn98IlMgCkIkiSAKQh6JhSAKQhmJhSAKIAOFIAKDIAogA4OFfCBVfCISfCIEIA4gDYWDIA2FfCAEQjKJIARCLomFIARCF4mFfEKYgrbT3dqXjqt/fCJVIBJCJIkgEkIeiYUgEkIZiYUgEiAKhSADgyASIAqDhXwgV3wiA3wiD3wgCyAEfCAFIA58IAkgDXwgDyAEIA6FgyAOhXwgD0IyiSAPQi6JhSAPQheJhXxCwoSMmIrT6oNYfCIFIANCJIkgA0IeiYUgA0IZiYUgAyAShSAKgyADIBKDhXwgEHwiCnwiDSAPIASFgyAEhXwgDUIyiSANQi6JhSANQheJhXxCvt/Bq5Tg1sESfCILIApCJIkgCkIeiYUgCkIZiYUgCiADhSASgyAKIAODhXwgUXwiEnwiBCANIA+FgyAPhXwgBEIyiSAEQi6JhSAEQheJhXxCjOWS9+S34ZgkfCITIBJCJIkgEkIeiYUgEkIZiYUgEiAKhSADgyASIAqDhXwgU3wiA3wiDiAEIA2FgyANhXwgDkIyiSAOQi6JhSAOQheJhXxC4un+r724n4bVAHwiCSADQiSJIANCHomFIANCGYmFIAMgEoUgCoMgAyASg4V8IFV8Igp8Ig98IAYgDnwgESAEfCAYIA18IA8gDiAEhYMgBIV8IA9CMokgD0IuiYUgD0IXiYV8Qu+S7pPPrpff8gB8IhEgCkIkiSAKQh6JhSAKQhmJhSAKIAOFIBKDIAogA4OFfCAFfCIGfCISIA8gDoWDIA6FfCASQjKJIBJCLomFIBJCF4mFfEKxrdrY47+s74B/fCIOIAZCJIkgBkIeiYUgBkIZiYUgBiAKhSADgyAGIAqDhXwgC3wiCHwiBCASIA+FgyAPhXwgBEIyiSAEQi6JhSAEQheJhXxCtaScrvLUge6bf3wiDyAIQiSJIAhCHomFIAhCGYmFIAggBoUgCoMgCCAGg4V8IBN8IgN8IgogBCAShYMgEoV8IApCMokgCkIuiYUgCkIXiYV8QpTNpPvMrvzNQXwiBSADQiSJIANCHomFIANCGYmFIAMgCIUgBoMgAyAIg4V8IAl8IgZ8Ig18IBQgCnwgDCAEfCANIAogBIWDIASFIBJ8IAd8IA1CMokgDUIuiYUgDUIXiYV8QtKVxfeZuNrNZHwiEiAGQiSJIAZCHomFIAZCGYmFIAYgA4UgCIMgBiADg4V8IBF8Igd8IgwgDSAKhYMgCoV8IAxCMokgDEIuiYUgDEIXiYV8QuPLvMLj8JHfb3wiCiAHQiSJIAdCHomFIAdCGYmFIAcgBoUgA4MgByAGg4V8IA58Igh8IhQgDCANhYMgDYV8IBRCMokgFEIuiYUgFEIXiYV8QrWrs9zouOfgD3wiBCAIQiSJIAhCHomFIAhCGYmFIAggB4UgBoMgCCAHg4V8IA98IgZ8IhkgFCAMhYMgDIV8IBlCMokgGUIuiYUgGUIXiYV8QuW4sr3HuaiGJHwiDSAGQiSJIAZCHomFIAZCGYmFIAYgCIUgB4MgBiAIg4V8IAV8Igd8IgN8IBYgGXwgGiAUfCAMIBV8IAMgGSAUhYMgFIV8IANCMokgA0IuiYUgA0IXiYV8QvWErMn1jcv0LXwiGiAHQiSJIAdCHomFIAdCGYmFIAcgBoUgCIMgByAGg4V8IBJ8Igh8IgwgAyAZhYMgGYV8IAxCMokgDEIuiYUgDEIXiYV8QoPJm/WmlaG6ygB8IhkgCEIkiSAIQh6JhSAIQhmJhSAIIAeFIAaDIAggB4OFfCAKfCIGfCIUIAwgA4WDIAOFfCAUQjKJIBRCLomFIBRCF4mFfELU94fqy7uq2NwAfCIbIAZCJIkgBkIeiYUgBkIZiYUgBiAIhSAHgyAGIAiDhXwgBHwiB3wiFSAUIAyFgyAMhXwgFUIyiSAVQi6JhSAVQheJhXxCtafFmKib4vz2AHwiAyAHQiSJIAdCHomFIAdCGYmFIAcgBoUgCIMgByAGg4V8IA18Igh8IhZ8ICAgFXwgHCAUfCAXIAx8IBYgFSAUhYMgFIV8IBZCMokgFkIuiYUgFkIXiYV8Qqu/m/OuqpSfmH98IhcgCEIkiSAIQh6JhSAIQhmJhSAIIAeFIAaDIAggB4OFfCAafCIGfCIMIBYgFYWDIBWFfCAMQjKJIAxCLomFIAxCF4mFfEKQ5NDt0s3xmKh/fCIaIAZCJIkgBkIeiYUgBkIZiYUgBiAIhSAHgyAGIAiDhXwgGXwiB3wiFCAMIBaFgyAWhXwgFEIyiSAUQi6JhSAUQheJhXxCv8Lsx4n5yYGwf3wiGSAHQiSJIAdCHomFIAdCGYmFIAcgBoUgCIMgByAGg4V8IBt8Igh8IhUgFCAMhYMgDIV8IBVCMokgFUIuiYUgFUIXiYV8QuSdvPf7+N+sv398IhsgCEIkiSAIQh6JhSAIQhmJhSAIIAeFIAaDIAggB4OFfCADfCIGfCIWfCAiIBV8IB4gFHwgISAMfCAWIBUgFIWDIBSFfCAWQjKJIBZCLomFIBZCF4mFfELCn6Lts/6C8EZ8IhwgBkIkiSAGQh6JhSAGQhmJhSAGIAiFIAeDIAYgCIOFfCAXfCIHfCIMIBYgFYWDIBWFfCAMQjKJIAxCLomFIAxCF4mFfEKlzqqY+ajk01V8IhcgB0IkiSAHQh6JhSAHQhmJhSAHIAaFIAiDIAcgBoOFfCAafCIIfCIUIAwgFoWDIBaFfCAUQjKJIBRCLomFIBRCF4mFfELvhI6AnuqY5QZ8IhogCEIkiSAIQh6JhSAIQhmJhSAIIAeFIAaDIAggB4OFfCAZfCIGfCIVIBQgDIWDIAyFfCAVQjKJIBVCLomFIBVCF4mFfELw3LnQ8KzKlBR8IhkgBkIkiSAGQh6JhSAGQhmJhSAGIAiFIAeDIAYgCIOFfCAbfCIHfCIWfCAoIBV8ICQgFHwgFiAVIBSFgyAUhSAMfCAjfCAWQjKJIBZCLomFIBZCF4mFfEL838i21NDC2yd8IhsgB0IkiSAHQh6JhSAHQhmJhSAHIAaFIAiDIAcgBoOFfCAcfCIIfCIMIBYgFYWDIBWFfCAMQjKJIAxCLomFIAxCF4mFfEKmkpvhhafIjS58IhwgCEIkiSAIQh6JhSAIQhmJhSAIIAeFIAaDIAggB4OFfCAXfCIGfCIUIAwgFoWDIBaFfCAUQjKJIBRCLomFIBRCF4mFfELt1ZDWxb+bls0AfCIXIAZCJIkgBkIeiYUgBkIZiYUgBiAIhSAHgyAGIAiDhXwgGnwiB3wiFSAUIAyFgyAMhXwgFUIyiSAVQi6JhSAVQheJhXxC3+fW7Lmig5zTAHwiGiAHQiSJIAdCHomFIAdCGYmFIAcgBoUgCIMgByAGg4V8IBl8Igh8IhZ8ICogFXwgJiAUfCAMICl8IBYgFSAUhYMgFIV8IBZCMokgFkIuiYUgFkIXiYV8Qt7Hvd3I6pyF5QB8IhkgCEIkiSAIQh6JhSAIQhmJhSAIIAeFIAaDIAggB4OFfCAbfCIGfCIMIBYgFYWDIBWFfCAMQjKJIAxCLomFIAxCF4mFfEKo5d7js9eCtfYAfCIbIAZCJIkgBkIeiYUgBkIZiYUgBiAIhSAHgyAGIAiDhXwgHHwiB3wiFCAMIBaFgyAWhXwgFEIyiSAUQi6JhSAUQheJhXxC5t22v+SlsuGBf3wiHCAHQiSJIAdCHomFIAdCGYmFIAcgBoUgCIMgByAGg4V8IBd8Igh8IhUgFCAMhYMgDIV8IBVCMokgFUIuiYUgFUIXiYV8QrvqiKTRkIu5kn98IhcgCEIkiSAIQh6JhSAIQhmJhSAIIAeFIAaDIAggB4OFfCAafCIGfCIWfCAsIBV8IC8gFHwgKyAMfCAWIBUgFIWDIBSFfCAWQjKJIBZCLomFIBZCF4mFfELkhsTnlJT636J/fCIaIAZCJIkgBkIeiYUgBkIZiYUgBiAIhSAHgyAGIAiDhXwgGXwiB3wiDCAWIBWFgyAVhXwgDEIyiSAMQi6JhSAMQheJhXxCgeCI4rvJmY2of3wiGSAHQiSJIAdCHomFIAdCGYmFIAcgBoUgCIMgByAGg4V8IBt8Igh8IhQgDCAWhYMgFoV8IBRCMokgFEIuiYUgFEIXiYV8QpGv4oeN7uKlQnwiGyAIQiSJIAhCHomFIAhCGYmFIAggB4UgBoMgCCAHg4V8IBx8IgZ8IhUgFCAMhYMgDIV8IBVCMokgFUIuiYUgFUIXiYV8QrD80rKwtJS2R3wiHCAGQiSJIAZCHomFIAZCGYmFIAYgCIUgB4MgBiAIg4V8IBd8Igd8IhZ8IC4gFXwgMSAUfCAtIAx8IBYgFSAUhYMgFIV8IBZCMokgFkIuiYUgFkIXiYV8Qpikvbedg7rJUXwiFyAHQiSJIAdCHomFIAdCGYmFIAcgBoUgCIMgByAGg4V8IBp8Igh8IgwgFiAVhYMgFYV8IAxCMokgDEIuiYUgDEIXiYV8QpDSlqvFxMHMVnwiGiAIQiSJIAhCHomFIAhCGYmFIAggB4UgBoMgCCAHg4V8IBl8IgZ8IhQgDCAWhYMgFoV8IBRCMokgFEIuiYUgFEIXiYV8QqrAxLvVsI2HdHwiGSAGQiSJIAZCHomFIAZCGYmFIAYgCIUgB4MgBiAIg4V8IBt8Igd8IhUgFCAMhYMgDIV8IBVCMokgFUIuiYUgFUIXiYV8Qrij75WDjqi1EHwiGyAHQiSJIAdCHomFIAdCGYmFIAcgBoUgCIMgByAGg4V8IBx8Igh8IhZ8IDQgFXwgNyAUfCAWIBUgFIWDIBSFIAx8IDN8IBZCMokgFkIuiYUgFkIXiYV8Qsihy8brorDSGXwiHCAIQiSJIAhCHomFIAhCGYmFIAggB4UgBoMgCCAHg4V8IBd8IgZ8IgwgFiAVhYMgFYV8IAxCMokgDEIuiYUgDEIXiYV8QtPWhoqFgdubHnwiFyAGQiSJIAZCHomFIAZCGYmFIAYgCIUgB4MgBiAIg4V8IBp8Igd8IhQgDCAWhYMgFoV8IBRCMokgFEIuiYUgFEIXiYV8QpnXu/zN6Z2kJ3wiGiAHQiSJIAdCHomFIAdCGYmFIAcgBoUgCIMgByAGg4V8IBl8Igh8IhUgFCAMhYMgDIV8IBVCMokgFUIuiYUgFUIXiYV8QqiR7Yzelq/YNHwiGSAIQiSJIAhCHomFIAhCGYmFIAggB4UgBoMgCCAHg4V8IBt8IgZ8IhZ8IDYgFXwgOSAUfCAMIDV8IBYgFSAUhYMgFIV8IBZCMokgFkIuiYUgFkIXiYV8QuO0pa68loOOOXwiGyAGQiSJIAZCHomFIAZCGYmFIAYgCIUgB4MgBiAIg4V8IBx8Igd8IgwgFiAVhYMgFYV8IAxCMokgDEIuiYUgDEIXiYV8QsuVhpquyarszgB8IhwgB0IkiSAHQh6JhSAHQhmJhSAHIAaFIAiDIAcgBoOFfCAXfCIIfCIUIAwgFoWDIBaFfCAUQjKJIBRCLomFIBRCF4mFfELzxo+798myztsAfCIXIAhCJIkgCEIeiYUgCEIZiYUgCCAHhSAGgyAIIAeDhXwgGnwiBnwiFSAUIAyFgyAMhXwgFUIyiSAVQi6JhSAVQheJhXxCo/HKtb3+m5foAHwiGiAGQiSJIAZCHomFIAZCGYmFIAYgCIUgB4MgBiAIg4V8IBl8Igd8IhZ8ID8gFXwgOyAUfCA+IAx8IBYgFSAUhYMgFIV8IBZCMokgFkIuiYUgFkIXiYV8Qvzlvu/l3eDH9AB8IhkgB0IkiSAHQh6JhSAHQhmJhSAHIAaFIAiDIAcgBoOFfCAbfCIIfCIMIBYgFYWDIBWFfCAMQjKJIAxCLomFIAxCF4mFfELg3tyY9O3Y0vgAfCIbIAhCJIkgCEIeiYUgCEIZiYUgCCAHhSAGgyAIIAeDhXwgHHwiBnwiFCAMIBaFgyAWhXwgFEIyiSAUQi6JhSAUQheJhXxC8tbCj8qCnuSEf3wiHCAGQiSJIAZCHomFIAZCGYmFIAYgCIUgB4MgBiAIg4V8IBd8Igd8IhUgFCAMhYMgDIV8IBVCMokgFUIuiYUgFUIXiYV8QuzzkNOBwcDjjH98IhcgB0IkiSAHQh6JhSAHQhmJhSAHIAaFIAiDIAcgBoOFfCAafCIIfCIWfCBBIBV8ID0gFHwgQCAMfCAWIBUgFIWDIBSFfCAWQjKJIBZCLomFIBZCF4mFfEKovIybov+/35B/fCIaIAhCJIkgCEIeiYUgCEIZiYUgCCAHhSAGgyAIIAeDhXwgGXwiBnwiDCAWIBWFgyAVhXwgDEIyiSAMQi6JhSAMQheJhXxC6fuK9L2dm6ikf3wiGSAGQiSJIAZCHomFIAZCGYmFIAYgCIUgB4MgBiAIg4V8IBt8Igd8IhQgDCAWhYMgFoV8IBRCMokgFEIuiYUgFEIXiYV8QpXymZb7/uj8vn98IhsgB0IkiSAHQh6JhSAHQhmJhSAHIAaFIAiDIAcgBoOFfCAcfCIIfCIVIBQgDIWDIAyFfCAVQjKJIBVCLomFIBVCF4mFfEKrpsmbrp7euEZ8IhwgCEIkiSAIQh6JhSAIQhmJhSAIIAeFIAaDIAggB4OFfCAXfCIGfCIWIBUgFIWDIBSFIAx8IEZ8IBZCMokgFkIuiYUgFkIXiYV8QpzDmdHu2c+TSnwiFyAGQiSJIAZCHomFIAZCGYmFIAYgCIUgB4MgBiAIg4V8IBp8Igd8IgwgSHwgRCAWfCBHIBV8IEMgFHwgDCAWIBWFgyAVhXwgDEIyiSAMQi6JhSAMQheJhXxCh4SDjvKYrsNRfCIaIAdCJIkgB0IeiYUgB0IZiYUgByAGhSAIgyAHIAaDhXwgGXwiCHwiFCAMIBaFgyAWhXwgFEIyiSAUQi6JhSAUQheJhXxCntaD7+y6n+1qfCIdIAhCJIkgCEIeiYUgCEIZiYUgCCAHhSAGgyAIIAeDhXwgG3wiBnwiFSAUIAyFgyAMhXwgFUIyiSAVQi6JhSAVQheJhXxC+KK78/7v0751fCIbIAZCJIkgBkIeiYUgBkIZiYUgBiAIhSAHgyAGIAiDhXwgHHwiB3wiDCAVIBSFgyAUhXwgDEIyiSAMQi6JhSAMQheJhXxCut/dkKf1mfgGfCIcIAdCJIkgB0IeiYUgB0IZiYUgByAGhSAIgyAHIAaDhXwgF3wiCHwiFnwgPkI4iSA+QgeIhSA+Qj+JhSA6fCBGfCBFQgOJIEVCBoiFIEVCLYmFfCIZIAx8IEkgFXwgRSAUfCAWIAwgFYWDIBWFfCAWQjKJIBZCLomFIBZCF4mFfEKmsaKW2rjfsQp8Ih4gCEIkiSAIQh6JhSAIQhmJhSAIIAeFIAaDIAggB4OFfCAafCIGfCIUIBYgDIWDIAyFfCAUQjKJIBRCLomFIBRCF4mFfEKum+T3y4DmnxF8Ih8gBkIkiSAGQh6JhSAGQhmJhSAGIAiFIAeDIAYgCIOFfCAdfCIHfCIMIBQgFoWDIBaFfCAMQjKJIAxCLomFIAxCF4mFfEKbjvGY0ebCuBt8Ih0gB0IkiSAHQh6JhSAHQhmJhSAHIAaFIAiDIAcgBoOFfCAbfCIIfCIVIAwgFIWDIBSFfCAVQjKJIBVCLomFIBVCF4mFfEKE+5GY0v7d7Sh8IhsgCEIkiSAIQh6JhSAIQhmJhSAIIAeFIAaDIAggB4OFfCAcfCIGfCIWfCBAQjiJIEBCB4iFIEBCP4mFIDx8IEh8ID9COIkgP0IHiIUgP0I/iYUgO3wgR3wgGUIDiSAZQgaIhSAZQi2JhXwiF0IDiSAXQgaIhSAXQi2JhXwiGiAVfCBLIAx8IBcgFHwgFiAVIAyFgyAMhXwgFkIyiSAWQi6JhSAWQheJhXxCk8mchrTvquUyfCIMIAZCJIkgBkIeiYUgBkIZiYUgBiAIhSAHgyAGIAiDhXwgHnwiB3wiFCAWIBWFgyAVhXwgFEIyiSAUQi6JhSAUQheJhXxCvP2mrqHBr888fCIcIAdCJIkgB0IeiYUgB0IZiYUgByAGhSAIgyAHIAaDhXwgH3wiCHwiFSAUIBaFgyAWhXwgFUIyiSAVQi6JhSAVQheJhXxCzJrA4Mn42Y7DAHwiHiAIQiSJIAhCHomFIAhCGYmFIAggB4UgBoMgCCAHg4V8IB18IgZ8IhYgFSAUhYMgFIV8IBZCMokgFkIuiYUgFkIXiYV8QraF+dnsl/XizAB8Ih0gBkIkiSAGQh6JhSAGQhmJhSAGIAiFIAeDIAYgCIOFfCAbfCIHfCIXIFB8NwM4IAAgUiAHQiSJIAdCHomFIAdCGYmFIAcgBoUgCIMgByAGg4V8IAx8IghCJIkgCEIeiYUgCEIZiYUgCCAHhSAGgyAIIAeDhXwgHHwiBkIkiSAGQh6JhSAGQhmJhSAGIAiFIAeDIAYgCIOFfCAefCIHQiSJIAdCHomFIAdCGYmFIAcgBoUgCIMgByAGg4V8IB18Igx8NwMYIAAgTyBBQjiJIEFCB4iFIEFCP4mFID18IEl8IBpCA4kgGkIGiIUgGkItiYV8IhogFHwgFyAWIBWFgyAVhXwgF0IyiSAXQi6JhSAXQheJhXxCqvyV48+zyr/ZAHwiGyAIfCIUfDcDMCAAIFQgDEIkiSAMQh6JhSAMQhmJhSAMIAeFIAaDIAwgB4OFfCAbfCIIfDcDECAAIE4gQkI4iSBCQgeIhSBCQj+JhSBBfCAZfCBMQgOJIExCBoiFIExCLYmFfCAVfCAUIBcgFoWDIBaFfCAUQjKJIBRCLomFIBRCF4mFfELs9dvWs/Xb5d8AfCIZIAZ8IhV8NwMoIAAgViAIQiSJIAhCHomFIAhCGYmFIAggDIUgB4MgCCAMg4V8IBl8IgZ8NwMIIAAgTSBGQjiJIEZCB4iFIEZCP4mFIEJ8IEp8IBpCA4kgGkIGiIUgGkItiYV8IBZ8IBUgFCAXhYMgF4V8IBVCMokgFUIuiYUgFUIXiYV8QpewndLEsYai7AB8IhQgB3x8NwMgIAAgAiAGQiSJIAZCHomFIAZCGYmFIAYgCIUgDIMgBiAIg4V8IBR8fDcDAAvFCQIBfgR/QQApA4CKASIAp0EDdkEPcSIBQQN0QYCJAWoiAiACKQMAQn8gAEIDhkI4gyIAhkJ/hYNCgAEgAIaFNwMAIAFBAWohAgJAIAFBDkkNAAJAIAJBD0cNAEEAQgA3A/iJAQtBiIoBQYCJARADQQAhAgsgAkEDdCEBA0AgAUGAiQFqQgA3AwAgAUEIaiIBQfgARw0AC0EAQQApA4CKASIAQjuGIABCK4ZCgICAgICAwP8Ag4QgAEIbhkKAgICAgOA/gyAAQguGQoCAgIDwH4OEhCAAQgWIQoCAgPgPgyAAQhWIQoCA/AeDhCAAQiWIQoD+A4MgAEIDhkI4iISEhDcD+IkBQYiKAUGAiQEQA0EAQQApA8CKASIAQjiGIABCKIZCgICAgICAwP8Ag4QgAEIYhkKAgICAgOA/gyAAQgiGQoCAgIDwH4OEhCAAQgiIQoCAgPgPgyAAQhiIQoCA/AeDhCAAQiiIQoD+A4MgAEI4iISEhDcDwIoBQQBBACkDuIoBIgBCOIYgAEIohkKAgICAgIDA/wCDhCAAQhiGQoCAgICA4D+DIABCCIZCgICAgPAfg4SEIABCCIhCgICA+A+DIABCGIhCgID8B4OEIABCKIhCgP4DgyAAQjiIhISENwO4igFBAEEAKQOwigEiAEI4hiAAQiiGQoCAgICAgMD/AIOEIABCGIZCgICAgIDgP4MgAEIIhkKAgICA8B+DhIQgAEIIiEKAgID4D4MgAEIYiEKAgPwHg4QgAEIoiEKA/gODIABCOIiEhIQ3A7CKAUEAQQApA6iKASIAQjiGIABCKIZCgICAgICAwP8Ag4QgAEIYhkKAgICAgOA/gyAAQgiGQoCAgIDwH4OEhCAAQgiIQoCAgPgPgyAAQhiIQoCA/AeDhCAAQiiIQoD+A4MgAEI4iISEhDcDqIoBQQBBACkDoIoBIgBCOIYgAEIohkKAgICAgIDA/wCDhCAAQhiGQoCAgICA4D+DIABCCIZCgICAgPAfg4SEIABCCIhCgICA+A+DIABCGIhCgID8B4OEIABCKIhCgP4DgyAAQjiIhISENwOgigFBAEEAKQOYigEiAEI4hiAAQiiGQoCAgICAgMD/AIOEIABCGIZCgICAgIDgP4MgAEIIhkKAgICA8B+DhIQgAEIIiEKAgID4D4MgAEIYiEKAgPwHg4QgAEIoiEKA/gODIABCOIiEhIQ3A5iKAUEAQQApA5CKASIAQjiGIABCKIZCgICAgICAwP8Ag4QgAEIYhkKAgICAgOA/gyAAQgiGQoCAgIDwH4OEhCAAQgiIQoCAgPgPgyAAQhiIQoCA/AeDhCAAQiiIQoD+A4MgAEI4iISEhDcDkIoBQQBBACkDiIoBIgBCOIYgAEIohkKAgICAgIDA/wCDhCAAQhiGQoCAgICA4D+DIABCCIZCgICAgPAfg4SEIABCCIhCgICA+A+DIABCGIhCgID8B4OEIABCKIhCgP4DgyAAQjiIhISEIgA3A4iKAQJAQQAoAsiKASIDRQ0AQQAgADwAgAkgA0EBRg0AIABCCIinIQRBASEBQQEhAgNAIAFBgAlqIAQ6AAAgAyACQQFqIgJB/wFxIgFNDQEgAUGIigFqLQAAIQQMAAsLCwYAQYCJAQuhAgBBAEIANwOAigFBAEEwQcAAIAFBgANGIgEbNgLIigFBAEKkn+n324PS2scAQvnC+JuRo7Pw2wAgARs3A8CKAUEAQqef5qfWwYuGW0Lr+obav7X2wR8gARs3A7iKAUEAQpGq4ML20JLajn9Cn9j52cKR2oKbfyABGzcDsIoBQQBCsZaA/v/MyZnnAELRhZrv+s+Uh9EAIAEbNwOoigFBAEK5srm4j5v7lxVC8e30+KWn/aelfyABGzcDoIoBQQBCl7rDg6OrwKyRf0Kr8NP0r+68tzwgARs3A5iKAUEAQoeq87OjpYrN4gBCu86qptjQ67O7fyABGzcDkIoBQQBC2L2WiNyr591LQoiS853/zPmE6gAgARs3A4iKASAAEAIQBAsLCwEAQYAICwTQAAAA",eT="a5d1ca7c",wE={name:$k,data:Xk,hash:eT};let Yz=new r,vE=null;function Jz(V){if(vE===null)return l(Yz,wE,48).then(re=>(vE=re,vE.calculate(V,384)));try{let re=vE.calculate(V,384);return Promise.resolve(re)}catch(re){return Promise.reject(re)}}function Vz(){return G(wE,48).then(V=>{V.init(384);let re={init:()=>(V.init(384),re),update:ae=>(V.update(ae),re),digest:ae=>V.digest(ae),save:()=>V.save(),load:ae=>(V.load(ae),re),blockSize:128,digestSize:48};return re})}let Wz=new r,bE=null;function n2e(V){if(bE===null)return l(Wz,wE,64).then(re=>(bE=re,bE.calculate(V,512)));try{let re=bE.calculate(V,512);return Promise.resolve(re)}catch(re){return Promise.reject(re)}}function o2e(){return G(wE,64).then(V=>{V.init(512);let re={init:()=>(V.init(512),re),update:ae=>(V.update(ae),re),digest:ae=>V.digest(ae),save:()=>V.save(),load:ae=>(V.load(ae),re),blockSize:128,digestSize:64};return re})}var s2e="xxhash32",a2e="AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwcGAAEBAgADBAUBcAEBAQUEAQECAgYOAn8BQbCJBQt/AEGACAsHcAgGbWVtb3J5AgAOSGFzaF9HZXRCdWZmZXIAAAlIYXNoX0luaXQAAQtIYXNoX1VwZGF0ZQACCkhhc2hfRmluYWwAAw1IYXNoX0dldFN0YXRlAAQOSGFzaF9DYWxjdWxhdGUABQpTVEFURV9TSVpFAwEKswkGBQBBgAkLTQBBAEIANwOoiQFBACAANgKIiQFBACAAQc+Moo4GajYCjIkBQQAgAEH3lK+veGo2AoSJAUEAIABBqIiNoQJqNgKAiQFBAEEANgKgiQELswUBBn8CQCAARQ0AQQBBACkDqIkBIACtfDcDqIkBAkBBACgCoIkBIgEgAGpBD0sNAEEAIAFBAWo2AqCJASABQZCJAWpBAC0AgAk6AAAgAEEBRg0BQQEhAgNAQQBBACgCoIkBIgFBAWo2AqCJASABQZCJAWogAkGACWotAAA6AAAgACACQQFqIgJHDQAMAgsLIABB8AhqIQMCQAJAIAENAEEAKAKMiQEhAUEAKAKIiQEhBEEAKAKEiQEhBUEAKAKAiQEhBkGACSECDAELQYAJIQICQCABQQ9LDQBBgAkhAgNAIAItAAAhBEEAIAFBAWo2AqCJASABQZCJAWogBDoAACACQQFqIQJBACgCoIkBIgFBEEkNAAsLQQBBACgCkIkBQfeUr694bEEAKAKAiQFqQQ13QbHz3fF5bCIGNgKAiQFBAEEAKAKUiQFB95Svr3hsQQAoAoSJAWpBDXdBsfPd8XlsIgU2AoSJAUEAQQAoApiJAUH3lK+veGxBACgCiIkBakENd0Gx893xeWwiBDYCiIkBQQBBACgCnIkBQfeUr694bEEAKAKMiQFqQQ13QbHz3fF5bCIBNgKMiQELIABBgAlqIQACQCACIANLDQADQCACKAIAQfeUr694bCAGakENd0Gx893xeWwhBiACQQxqKAIAQfeUr694bCABakENd0Gx893xeWwhASACQQhqKAIAQfeUr694bCAEakENd0Gx893xeWwhBCACQQRqKAIAQfeUr694bCAFakENd0Gx893xeWwhBSACQRBqIgIgA00NAAsLQQAgATYCjIkBQQAgBDYCiIkBQQAgBTYChIkBQQAgBjYCgIkBQQAgACACayIBNgKgiQEgAUUNAEEAIQEDQCABQZCJAWogAiABai0AADoAACABQQFqIgFBACgCoIkBSQ0ACwsLzAICAX4Gf0EAKQOoiQEiAKchAQJAAkAgAEIQVA0AQQAoAoSJAUEHd0EAKAKAiQFBAXdqQQAoAoiJAUEMd2pBACgCjIkBQRJ3aiECDAELQQAoAoiJAUGxz9myAWohAgsgAiABaiECQZCJASEBQQAoAqCJASIDQZCJAWohBAJAIANBBEgNAEGQiQEhBQNAIAUoAgBBvdzKlXxsIAJqQRF3Qa/W074CbCECIAVBCGohBiAFQQRqIgEhBSAGIARNDQALCwJAIAEgBEYNACADQZCJAWohBQNAIAEtAABBsc/ZsgFsIAJqQQt3QbHz3fF5bCECIAUgAUEBaiIBRw0ACwtBACACQQ92IAJzQfeUr694bCIBQQ12IAFzQb3cypV8bCIBQRB2IAFzIgFBGHQgAUEIdEGAgPwHcXIgAUEIdkGA/gNxIAFBGHZycq03A4AJCwYAQYCJAQtTAEEAQgA3A6iJAUEAIAE2AoiJAUEAIAFBz4yijgZqNgKMiQFBACABQfeUr694ajYChIkBQQAgAUGoiI2hAmo2AoCJAUEAQQA2AqCJASAAEAIQAwsLCwEAQYAICwQwAAAA",c2e="5b6a5062",Zz={name:s2e,data:a2e,hash:c2e};let f2e=new r,I8=null;function w8(V){return!Number.isInteger(V)||V<0||V>4294967295?new Error("Seed must be a valid 32-bit long unsigned integer."):null}function d2e(V,re=0){if(w8(re))return Promise.reject(w8(re));if(I8===null)return l(f2e,Zz,4).then(ae=>(I8=ae,I8.calculate(V,re)));try{let ae=I8.calculate(V,re);return Promise.resolve(ae)}catch(ae){return Promise.reject(ae)}}function u2e(V=0){return w8(V)?Promise.reject(w8(V)):G(Zz,4).then(re=>{re.init(V);let ae={init:()=>(re.init(V),ae),update:le=>(re.update(le),ae),digest:le=>re.digest(le),save:()=>re.save(),load:le=>(re.load(le),ae),blockSize:16,digestSize:4};return ae})}var h2e="xxhash64",l2e="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",p2e="bc315b2a",$z={name:h2e,data:l2e,hash:p2e};let A2e=new r,WI=null,v8=new ArrayBuffer(8);function hp(V){return!Number.isInteger(V)||V<0||V>4294967295?new Error("Seed must be given as two valid 32-bit long unsigned integers (lo + high)."):null}function tT(V,re,ae){let le=new DataView(V);le.setUint32(0,re,!0),le.setUint32(4,ae,!0)}function g2e(V,re=0,ae=0){if(hp(re))return Promise.reject(hp(re));if(hp(ae))return Promise.reject(hp(ae));if(WI===null)return l(A2e,$z,8).then(le=>(WI=le,tT(v8,re,ae),WI.writeMemory(new Uint8Array(v8)),WI.calculate(V)));try{tT(v8,re,ae),WI.writeMemory(new Uint8Array(v8));let le=WI.calculate(V);return Promise.resolve(le)}catch(le){return Promise.reject(le)}}function y2e(V=0,re=0){return hp(V)?Promise.reject(hp(V)):hp(re)?Promise.reject(hp(re)):G($z,8).then(ae=>{let le=new ArrayBuffer(8);tT(le,V,re),ae.writeMemory(new Uint8Array(le)),ae.init();let je={init:()=>(ae.writeMemory(new Uint8Array(le)),ae.init(),je),update:Ve=>(ae.update(Ve),je),digest:Ve=>ae.digest(Ve),save:()=>ae.save(),load:Ve=>(ae.load(Ve),je),blockSize:32,digestSize:8};return je})}var m2e="xxhash3",I2e="AGFzbQEAAAABJAZgAAF/YAR/f39/AGAHf39/f39/fwBgA39/fgF+YAAAYAF/AAMMCwABAgMDAwQFBAAEBAUBcAEBAQUEAQECAgYOAn8BQcCOBQt/AEHACQsHcAgGbWVtb3J5AgAOSGFzaF9HZXRCdWZmZXIAAAlIYXNoX0luaXQABgtIYXNoX1VwZGF0ZQAHCkhhc2hfRmluYWwACA1IYXNoX0dldFN0YXRlAAkOSGFzaF9DYWxjdWxhdGUACgpTVEFURV9TSVpFAwEK+joLBQBBgAoL7wMBEH4CQCADRQ0AIAFBOGohASACQThqIQIgACkDMCEEIAApAzghBSAAKQMgIQYgACkDKCEHIAApAxAhCCAAKQMYIQkgACkDACEKIAApAwghCwNAIAcgAUFoaikDACIMfCACQXBqKQMAIAFBcGopAwAiDYUiB0IgiCAHQv////8Pg358IQcgCSABQVhqKQMAIg58IAJBYGopAwAgAUFgaikDACIPhSIJQiCIIAlC/////w+DfnwhCSALIAFBSGopAwAiEHwgAkFQaikDACABQVBqKQMAIhGFIgtCIIggC0L/////D4N+fCELIAJBeGopAwAgAUF4aikDACIShSITQiCIIBNC/////w+DfiAEfCABKQMAIhN8IQQgAkFoaikDACAMhSIMQiCIIAxC/////w+DfiAGfCANfCEGIAJBWGopAwAgDoUiDEIgiCAMQv////8Pg34gCHwgD3whCCACQUhqKQMAIBCFIgxCIIggDEL/////D4N+IAp8IBF8IQogBSASfCACKQMAIBOFIgVCIIggBUL/////D4N+fCEFIAFBwABqIQEgAkEIaiECIANBf2oiAw0ACyAAIAk3AxggACAKNwMAIAAgCzcDCCAAIAc3AyggACAINwMQIAAgBTcDOCAAIAY3AyAgACAENwMwCwveAgIBfwF+AkAgAiABKAIAIgdrIgIgBEsNACAAIAMgBSAHQQN0aiACEAEgACAAKQMAIgggBSAGaiIHKQMAhSAIQi+IhUKx893xCX43AwAgACAAKQMIIgggBykDCIUgCEIviIVCsfPd8Ql+NwMIIAAgACkDECIIIAcpAxCFIAhCL4iFQrHz3fEJfjcDECAAIAApAxgiCCAHKQMYhSAIQi+IhUKx893xCX43AxggACAAKQMgIgggBykDIIUgCEIviIVCsfPd8Ql+NwMgIAAgACkDKCIIIAcpAyiFIAhCL4iFQrHz3fEJfjcDKCAAIAApAzAiCCAHKQMwhSAIQi+IhUKx893xCX43AzAgACAAKQM4IgggBykDOIUgCEIviIVCsfPd8Ql+NwM4IAAgAyACQQZ0aiAFIAQgAmsiBxABIAEgBzYCAA8LIAAgAyAFIAdBA3RqIAQQASABIAcgBGo2AgAL3QQBBH4CQCAAQQlJDQBBACkDgIwBIAEpAyAgASkDGIUgAnyFIgNCOIYgA0IohkKAgICAgIDA/wCDhCADQhiGQoCAgICA4D+DIANCCIZCgICAgPAfg4SEIANCCIhCgICA+A+DIANCGIhCgID8B4OEIANCKIhCgP4DgyADQjiIhISEIACtfCAAQfiLAWopAwAgASkDMCABKQMohSACfYUiAnwgAkL/////D4MiBCADQiCIIgV+IgZC/////w+DIAJCIIgiAiADQv////8PgyIDfnwgBCADfiIDQiCIfCIEQiCGIANC/////w+DhCAGQiCIIAIgBX58IARCIIh8hXwiA0IliCADhUL5893xmfKZqxZ+IgNCIIggA4UPCwJAIABBBEkNACABKQMQIAEpAwiFIAKnIgFBGHQgAUEIdEGAgPwHcXIgAUEIdkGA/gNxIAFBGHZycq1CIIYgAoV9QQA1AoCMAUIghiAAQfyLAWo1AgCEhSIDQhiJIAOFIANCMYmFQqW+4/TRjIfZn39+IgNCI4ggAK18IAOFQqW+4/TRjIfZn39+IgNCHIggA4UPCwJAIABFDQAgASgCBCABKAIAc60gAnwiA0EALQCAjAFBEHQgAEEIdHIgAEEBdkGAjAFqLQAAQRh0ciAAQf+LAWotAAByrYUgA0IhiIVCz9bTvtLHq9lCfiIDQh2IIAOFQvnz3fGZ9pmrFn4iA0IgiCADhQ8LIAEpAzggAoUgASkDQIUiA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC94IAQZ+IACtQoeVr6+Ytt6bnn9+IQMCQCAAQSFJDQACQCAAQcEASQ0AAkAgAEHhAEkNACABKQNoIAJ9QQApA7iMAYUiBEL/////D4MiBSABKQNgIAJ8QQApA7CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgA3wgASkDeCACfSAAQciLAWopAwCFIgNC/////w+DIgQgASkDcCACfCAAQcCLAWopAwCFIgVCIIgiBn4iB0L/////D4MgA0IgiCIDIAVC/////w+DIgV+fCAEIAV+IgRCIIh8IgVCIIYgBEL/////D4OEIAdCIIggAyAGfnwgBUIgiHyFfCEDCyABKQNIIAJ9QQApA6iMAYUiBEL/////D4MiBSABKQNAIAJ8QQApA6CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgA3wgASkDWCACfSAAQdiLAWopAwCFIgNC/////w+DIgQgASkDUCACfCAAQdCLAWopAwCFIgVCIIgiBn4iB0L/////D4MgA0IgiCIDIAVC/////w+DIgV+fCAEIAV+IgRCIIh8IgVCIIYgBEL/////D4OEIAdCIIggAyAGfnwgBUIgiHyFfCEDCyABKQMoIAJ9QQApA5iMAYUiBEL/////D4MiBSABKQMgIAJ8QQApA5CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgA3wgASkDOCACfSAAQeiLAWopAwCFIgNC/////w+DIgQgASkDMCACfCAAQeCLAWopAwCFIgVCIIgiBn4iB0L/////D4MgA0IgiCIDIAVC/////w+DIgV+fCAEIAV+IgRCIIh8IgVCIIYgBEL/////D4OEIAdCIIggAyAGfnwgBUIgiHyFfCEDCyABKQMIIAJ9QQApA4iMAYUiBEL/////D4MiBSABKQMAIAJ8QQApA4CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgA3wgASkDGCACfSAAQfiLAWopAwCFIgNC/////w+DIgQgASkDECACfCAAQfCLAWopAwCFIgJCIIgiBX4iBkL/////D4MgA0IgiCIDIAJC/////w+DIgJ+fCAEIAJ+IgJCIIh8IgRCIIYgAkL/////D4OEIAZCIIggAyAFfnwgBEIgiHyFfCICQiWIIAKFQvnz3fGZ8pmrFn4iAkIgiCAChQuICwQBfwV+An8BfkEAIQMgASkDeCACfUEAKQP4jAGFIgRC/////w+DIgUgASkDcCACfEEAKQPwjAGFIgZCIIgiB34iCEL/////D4MgBEIgiCIEIAZC/////w+DIgZ+fCAFIAZ+IgVCIIh8IgZCIIYgBUL/////D4OEIAhCIIggBCAHfnwgBkIgiHyFIAEpA2ggAn1BACkD6IwBhSIEQv////8PgyIFIAEpA2AgAnxBACkD4IwBhSIGQiCIIgd+IghC/////w+DIARCIIgiBCAGQv////8PgyIGfnwgBSAGfiIFQiCIfCIGQiCGIAVC/////w+DhCAIQiCIIAQgB358IAZCIIh8hSABKQNYIAJ9QQApA9iMAYUiBEL/////D4MiBSABKQNQIAJ8QQApA9CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgASkDSCACfUEAKQPIjAGFIgRC/////w+DIgUgASkDQCACfEEAKQPAjAGFIgZCIIgiB34iCEL/////D4MgBEIgiCIEIAZC/////w+DIgZ+fCAFIAZ+IgVCIIh8IgZCIIYgBUL/////D4OEIAhCIIggBCAHfnwgBkIgiHyFIAEpAzggAn1BACkDuIwBhSIEQv////8PgyIFIAEpAzAgAnxBACkDsIwBhSIGQiCIIgd+IghC/////w+DIARCIIgiBCAGQv////8PgyIGfnwgBSAGfiIFQiCIfCIGQiCGIAVC/////w+DhCAIQiCIIAQgB358IAZCIIh8hSABKQMoIAJ9QQApA6iMAYUiBEL/////D4MiBSABKQMgIAJ8QQApA6CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgASkDGCACfUEAKQOYjAGFIgRC/////w+DIgUgASkDECACfEEAKQOQjAGFIgZCIIgiB34iCEL/////D4MgBEIgiCIEIAZC/////w+DIgZ+fCAFIAZ+IgVCIIh8IgZCIIYgBUL/////D4OEIAhCIIggBCAHfnwgBkIgiHyFIAEpAwggAn1BACkDiIwBhSIEQv////8PgyIFIAEpAwAgAnxBACkDgIwBhSIGQiCIIgd+IghC/////w+DIARCIIgiBCAGQv////8PgyIGfnwgBSAGfiIFQiCIfCIGQiCGIAVC/////w+DhCAIQiCIIAQgB358IAZCIIh8hSAArUKHla+vmLbem55/fnx8fHx8fHx8IgRCJYggBIVC+fPd8ZnymasWfiIEQiCIIASFIQQgAEEQbSEJAkAgAEGQAUgNACAJQQkgCUEJShtBeGohCQNAIAEgA2oiCkELaikDACACfSADQYiNAWopAwCFIgVC/////w+DIgYgCkEDaikDACACfCADQYCNAWopAwCFIgdCIIgiCH4iC0L/////D4MgBUIgiCIFIAdC/////w+DIgd+fCAGIAd+IgZCIIh8IgdCIIYgBkL/////D4OEIAtCIIggBSAIfnwgB0IgiHyFIAR8IQQgA0EQaiEDIAlBf2oiCQ0ACwsgASkDfyACfSAAQfiLAWopAwCFIgVC/////w+DIgYgASkDdyACfCAAQfCLAWopAwCFIgJCIIgiB34iCEL/////D4MgBUIgiCIFIAJC/////w+DIgJ+fCAGIAJ+IgJCIIh8IgZCIIYgAkL/////D4OEIAhCIIggBSAHfnwgBkIgiHyFIAR8IgJCJYggAoVC+fPd8ZnymasWfiICQiCIIAKFC98FAgF+AX8CQAJAQQApA4AKIgBQRQ0AQYAIIQFCACEADAELAkBBACkDoI4BIABSDQBBACEBDAELQQAhAUEAQq+v79e895Kg/gAgAH03A/iLAUEAIABCxZbr+djShYIofDcD8IsBQQBCj/Hjja2P9JhOIAB9NwPoiwFBACAAQqus+MXV79HQfHw3A+CLAUEAQtOt1LKShbW0nn8gAH03A9iLAUEAIABCl5r0jvWWvO3JAHw3A9CLAUEAQsWDgv2v/8SxayAAfTcDyIsBQQAgAELqi7OdyOb09UN8NwPAiwFBAELIv/rLnJveueQAIAB9NwO4iwFBACAAQoqjgd/Ume2sMXw3A7CLAUEAQvm57738+MKnHSAAfTcDqIsBQQAgAEKo9dv7s5ynmj98NwOgiwFBAEK4sry3lNW31lggAH03A5iLAUEAIABC8cihuqm0w/zOAHw3A5CLAUEAQoihl9u445SXo38gAH03A4iLAUEAIABCvNDI2pvysIBLfDcDgIsBQQBC4OvAtJ7QjpPMACAAfTcD+IoBQQAgAEK4kZii9/6Qko5/fDcD8IoBQQBCgrXB7sf5v7khIAB9NwPoigFBACAAQsvzmffEmfDy+AB8NwPgigFBAELygJGl+vbssx8gAH03A9iKAUEAIABC3qm3y76Q5MtbfDcD0IoBQQBC/IKE5PK+yNYcIAB9NwPIigFBACAAQrj9s8uzhOmlvn98NwPAigELQQBCADcDkI4BQQBCADcDiI4BQQBCADcDgI4BQQAgATYCsI4BQQAgADcDoI4BQQBCsfPd8Qk3A7iKAUEAQsXP2bLx5brqJzcDsIoBQQBC95Svrwg3A6iKAUEAQuPcypX8zvL1hX83A6CKAUEAQvnz3fGZ9pmrFjcDmIoBQQBCz9bTvtLHq9lCNwOQigFBAEKHla+vmLbem55/NwOIigFBAEK93MqVDDcDgIoBQQBCkICAgIAQNwOYjgELwAUBBX9BAEEAKQOQjgEgAK18NwOQjgECQAJAQQAoAoCOASIBIABqIgJBgAJLDQAgAUGAjAFqIQNBgAohBAJAAkAgAEEITw0AIAAhAQwBCyAAIQEDQCADIAQpAwA3AwAgA0EIaiEDIARBCGohBCABQXhqIgFBB0sNAAsLIAFFDQEDQCADIAQtAAA6AAAgA0EBaiEDIARBAWohBCABQX9qIgENAAtBACgCgI4BIABqIQIMAQtBgAohAyAAQYAKaiECQQAoArCOASIEQcCKASAEGyEAAkAgAUUNACABQYCMAWohA0GACiEEAkACQEGAAiABayIFQQhPDQAgBSEBDAELIAUhAQNAIAMgBCkDADcDACADQQhqIQMgBEEIaiEEIAFBeGoiAUEHSw0ACwsCQCABRQ0AA0AgAyAELQAAOgAAIANBAWohAyAEQQFqIQQgAUF/aiIBDQALC0GAigFBiI4BQQAoApiOAUGAjAFBBCAAQQAoApyOARACQQBBADYCgI4BIAVBgApqIQMLAkAgA0GAAmogAk8NACACQYB+aiEEA0BBgIoBQYiOAUEAKAKYjgEgA0EEIABBACgCnI4BEAIgA0GAAmoiAyAESQ0AC0EAIANBQGopAwA3A8CNAUEAIANBSGopAwA3A8iNAUEAIANBUGopAwA3A9CNAUEAIANBWGopAwA3A9iNAUEAIANBYGopAwA3A+CNAUEAIANBaGopAwA3A+iNAUEAIANBcGopAwA3A/CNAUEAIANBeGopAwA3A/iNAQtBgIwBIQQCQAJAIAIgA2siAkEITw0AIAIhAQwBCyACIQEDQCAEIAMpAwA3AwAgBEEIaiEEIANBCGohAyABQXhqIgFBB0sNAAsLIAFFDQADQCAEIAMtAAA6AAAgBEEBaiEEIANBAWohAyABQX9qIgENAAsLQQAgAjYCgI4BC6oQBQR/AX4Cfwp+An8jACIAIQEgAEGAAWtBQHEiAiQAQQAoArCOASIAQcCKASAAGyEDAkACQEEAKQOQjgEiBELxAVQNACACQQApA4CKATcDACACQQApA4iKATcDCCACQQApA5CKATcDECACQQApA5iKATcDGCACQQApA6CKATcDICACQQApA6iKATcDKCACQQApA7CKATcDMCACQQApA7iKATcDOAJAAkBBACgCgI4BIgVBwABJDQAgAkEAKAKIjgE2AkAgAiACQcAAakEAKAKYjgFBgIwBIAVBf2pBBnYgA0EAKAKcjgEQAiACIAIpAwhBACgCgI4BIgBBwIsBaikDACIEfCADQQAoApyOAWoiBkEBaikDACAAQciLAWopAwAiB4UiCEIgiCAIQv////8Pg358Igk3AwggAiACKQMYIABB0IsBaikDACIIfCAGQRFqKQMAIABB2IsBaikDACIKhSILQiCIIAtC/////w+DfnwiDDcDGCACIAcgBCAGQXlqKQMAhSIEQiCIIARC/////w+DfiACKQMAfHwiDTcDACACIAogCCAGQQlqKQMAhSIEQiCIIARC/////w+DfiACKQMQfHwiDjcDECAGQRlqKQMAIQQgAikDICEHIAIgAikDKCAAQeCLAWopAwAiCHwgBkEhaikDACAAQeiLAWopAwAiCoUiC0IgiCALQv////8Pg358Ig83AyggAiAKIAcgBCAIhSIEQiCIIARC/////w+Dfnx8IhA3AyAgAiACKQM4IABB8IsBaikDACIEfCAGQTFqKQMAIABB+IsBaikDACIHhSIIQiCIIAhC/////w+Dfnw3AzggByAEIAZBKWopAwCFIgRCIIggBEL/////D4N+IAIpAzB8fCEEDAELQcAAIAVrIRECQAJAAkAgBUE4TQ0AQYCOASARayEGIAJBwABqIQUgESEADAELQQAhEiARIQADQCACQcAAaiASaiAFIBJqQcCNAWopAwA3AwAgEkEIaiESIABBeGoiAEEHSw0ACyAFIBJqIgZBwABGDQEgBkHAjQFqIQYgAkHAAGogEmohBQsDQCAFIAYtAAA6AAAgBUEBaiEFIAZBAWohBiAAQX9qIgANAAtBACgCgI4BIQULIAJBwABqIBFqIQZBgIwBIQACQCAFQQhJDQBBgIwBIQADQCAGIAApAwA3AwAgBkEIaiEGIABBCGohACAFQXhqIgVBB0sNAAsLAkAgBUUNAANAIAYgAC0AADoAACAGQQFqIQYgAEEBaiEAIAVBf2oiBQ0ACwsgAiACKQMIIAIpA0AiBHwgA0EAKAKcjgFqIgBBAWopAwAgAikDSCIHhSIIQiCIIAhC/////w+DfnwiCTcDCCACIAIpAxggAikDUCIIfCAAQRFqKQMAIAIpA1giCoUiC0IgiCALQv////8Pg358Igw3AxggAiAHIAQgAEF5aikDAIUiBEIgiCAEQv////8Pg34gAikDAHx8Ig03AwAgAiAKIAggAEEJaikDAIUiBEIgiCAEQv////8Pg34gAikDEHx8Ig43AxAgAEEZaikDACEEIAIpAyAhByACIAIpAyggAikDYCIIfCAAQSFqKQMAIAIpA2giCoUiC0IgiCALQv////8Pg358Ig83AyggAiAKIAcgBCAIhSIEQiCIIARC/////w+Dfnx8IhA3AyAgAiACKQM4IAIpA3AiBHwgAEExaikDACACKQN4IgeFIghCIIggCEL/////D4N+fDcDOCAHIAQgAEEpaikDAIUiBEIgiCAEQv////8Pg34gAikDMHx8IQQLIAIgBDcDMCADKQNDIAIpAziFIgdC/////w+DIgggAykDOyAEhSIEQiCIIgp+IgtC/////w+DIAdCIIgiByAEQv////8PgyIEfnwgCCAEfiIEQiCIfCIIQiCGIARC/////w+DhCALQiCIIAcgCn58IAhCIIh8hSADKQMzIA+FIgRC/////w+DIgcgAykDKyAQhSIIQiCIIgp+IgtC/////w+DIARCIIgiBCAIQv////8PgyIIfnwgByAIfiIHQiCIfCIIQiCGIAdC/////w+DhCALQiCIIAQgCn58IAhCIIh8hSADKQMjIAyFIgRC/////w+DIgcgAykDGyAOhSIIQiCIIgp+IgtC/////w+DIARCIIgiBCAIQv////8PgyIIfnwgByAIfiIHQiCIfCIIQiCGIAdC/////w+DhCALQiCIIAQgCn58IAhCIIh8hSADKQMTIAmFIgRC/////w+DIgcgAykDCyANhSIIQiCIIgp+IgtC/////w+DIARCIIgiBCAIQv////8PgyIIfnwgByAIfiIHQiCIfCIIQiCGIAdC/////w+DhCALQiCIIAQgCn58IAhCIIh8hUEAKQOQjgFCh5Wvr5i23puef358fHx8IgRCJYggBIVC+fPd8ZnymasWfiIEQiCIIASFIQQMAQsgBKchAAJAQQApA6COASIEUA0AAkAgAEEQSw0AIABBgAggBBADIQQMAgsCQCAAQYABSw0AIABBgAggBBAEIQQMAgsgAEGACCAEEAUhBAwBCwJAIABBEEsNACAAIANCABADIQQMAQsCQCAAQYABSw0AIAAgA0IAEAQhBAwBCyAAIANCABAFIQQLQQAgBEI4hiAEQiiGQoCAgICAgMD/AIOEIARCGIZCgICAgIDgP4MgBEIIhkKAgICA8B+DhIQgBEIIiEKAgID4D4MgBEIYiEKAgPwHg4QgBEIoiEKA/gODIARCOIiEhIQ3A4AKIAEkAAsGAEGAigELAgALC8wBAQBBgAgLxAG4/mw5I6RLvnwBgSz3Ia0c3tRt6YOQl9tyQKSkt7NnH8t55k7MwOV4glrQfcz/ciG4CEZ090MkjuA1kOaBOiZMPChSu5HDAMuI0GWLG1Muo3FkSJeiDflOOBnvRqnerNio+nY/45w0P/ncu8fHC08dilHgS820WTHIn37J2XhzZOrFrIM00+vDxYGg//oTY+sXDd1Rt/DaSdMWVSYp1GieKxa+WH1HofyP+LjRetAxzkXLOo+VFgQor9f7yrtLQH5AAgAA",w2e="187bc2c6",Xz={name:m2e,data:I2e,hash:w2e};let v2e=new r,ZI=null,b8=new ArrayBuffer(8);function lp(V){return!Number.isInteger(V)||V<0||V>4294967295?new Error("Seed must be given as two valid 32-bit long unsigned integers (lo + high)."):null}function rT(V,re,ae){let le=new DataView(V);le.setUint32(0,re,!0),le.setUint32(4,ae,!0)}function b2e(V,re=0,ae=0){if(lp(re))return Promise.reject(lp(re));if(lp(ae))return Promise.reject(lp(ae));if(ZI===null)return l(v2e,Xz,8).then(le=>(ZI=le,rT(b8,re,ae),ZI.writeMemory(new Uint8Array(b8)),ZI.calculate(V)));try{rT(b8,re,ae),ZI.writeMemory(new Uint8Array(b8));let le=ZI.calculate(V);return Promise.resolve(le)}catch(le){return Promise.reject(le)}}function E2e(V=0,re=0){return lp(V)?Promise.reject(lp(V)):lp(re)?Promise.reject(lp(re)):G(Xz,8).then(ae=>{let le=new ArrayBuffer(8);rT(le,V,re),ae.writeMemory(new Uint8Array(le)),ae.init();let je={init:()=>(ae.writeMemory(new Uint8Array(le)),ae.init(),je),update:Ve=>(ae.update(Ve),je),digest:Ve=>ae.digest(Ve),save:()=>ae.save(),load:Ve=>(ae.load(Ve),je),blockSize:512,digestSize:8};return je})}var B2e="xxhash128",C2e="AGFzbQEAAAABKwdgAAF/YAR/f39/AGAHf39/f39/fwBgA39/fgF+YAR/f39+AGAAAGABfwADDQwAAQIDBAQEBQYFAAUEBQFwAQEBBQQBAQICBg4CfwFBwI4FC38AQcAJCwdwCAZtZW1vcnkCAA5IYXNoX0dldEJ1ZmZlcgAACUhhc2hfSW5pdAAHC0hhc2hfVXBkYXRlAAgKSGFzaF9GaW5hbAAJDUhhc2hfR2V0U3RhdGUACg5IYXNoX0NhbGN1bGF0ZQALClNUQVRFX1NJWkUDAQrKRgwFAEGACgvvAwEQfgJAIANFDQAgAUE4aiEBIAJBOGohAiAAKQMwIQQgACkDOCEFIAApAyAhBiAAKQMoIQcgACkDECEIIAApAxghCSAAKQMAIQogACkDCCELA0AgByABQWhqKQMAIgx8IAJBcGopAwAgAUFwaikDACINhSIHQiCIIAdC/////w+DfnwhByAJIAFBWGopAwAiDnwgAkFgaikDACABQWBqKQMAIg+FIglCIIggCUL/////D4N+fCEJIAsgAUFIaikDACIQfCACQVBqKQMAIAFBUGopAwAiEYUiC0IgiCALQv////8Pg358IQsgAkF4aikDACABQXhqKQMAIhKFIhNCIIggE0L/////D4N+IAR8IAEpAwAiE3whBCACQWhqKQMAIAyFIgxCIIggDEL/////D4N+IAZ8IA18IQYgAkFYaikDACAOhSIMQiCIIAxC/////w+DfiAIfCAPfCEIIAJBSGopAwAgEIUiDEIgiCAMQv////8Pg34gCnwgEXwhCiAFIBJ8IAIpAwAgE4UiBUIgiCAFQv////8Pg358IQUgAUHAAGohASACQQhqIQIgA0F/aiIDDQALIAAgCTcDGCAAIAo3AwAgACALNwMIIAAgBzcDKCAAIAg3AxAgACAFNwM4IAAgBjcDICAAIAQ3AzALC94CAgF/AX4CQCACIAEoAgAiB2siAiAESw0AIAAgAyAFIAdBA3RqIAIQASAAIAApAwAiCCAFIAZqIgcpAwCFIAhCL4iFQrHz3fEJfjcDACAAIAApAwgiCCAHKQMIhSAIQi+IhUKx893xCX43AwggACAAKQMQIgggBykDEIUgCEIviIVCsfPd8Ql+NwMQIAAgACkDGCIIIAcpAxiFIAhCL4iFQrHz3fEJfjcDGCAAIAApAyAiCCAHKQMghSAIQi+IhUKx893xCX43AyAgACAAKQMoIgggBykDKIUgCEIviIVCsfPd8Ql+NwMoIAAgACkDMCIIIAcpAzCFIAhCL4iFQrHz3fEJfjcDMCAAIAApAzgiCCAHKQM4hSAIQi+IhUKx893xCX43AzggACADIAJBBnRqIAUgBCACayIHEAEgASAHNgIADwsgACADIAUgB0EDdGogBBABIAEgByAEajYCAAvtAwEFfiABKQM4IAApAziFIgNC/////w+DIgQgASkDMCAAKQMwhSIFQiCIIgZ+IgdC/////w+DIANCIIgiAyAFQv////8PgyIFfnwgBCAFfiIEQiCIfCIFQiCGIARC/////w+DhCAHQiCIIAMgBn58IAVCIIh8hSABKQMoIAApAyiFIgNC/////w+DIgQgASkDICAAKQMghSIFQiCIIgZ+IgdC/////w+DIANCIIgiAyAFQv////8PgyIFfnwgBCAFfiIEQiCIfCIFQiCGIARC/////w+DhCAHQiCIIAMgBn58IAVCIIh8hSABKQMYIAApAxiFIgNC/////w+DIgQgASkDECAAKQMQhSIFQiCIIgZ+IgdC/////w+DIANCIIgiAyAFQv////8PgyIFfnwgBCAFfiIEQiCIfCIFQiCGIARC/////w+DhCAHQiCIIAMgBn58IAVCIIh8hSABKQMIIAApAwiFIgNC/////w+DIgQgASkDACAAKQMAhSIFQiCIIgZ+IgdC/////w+DIANCIIgiAyAFQv////8PgyIFfnwgBCAFfiIEQiCIfCIFQiCGIARC/////w+DhCAHQiCIIAMgBn58IAVCIIh8hSACfHx8fCICQiWIIAKFQvnz3fGZ8pmrFn4iAkIgiCAChQvCCAEFfgJAIAFBCUkNACAAQQApA4CMASACKQMoIAIpAyCFIAN9hSABQfiLAWopAwAiBIUiBUIgiCIGQoeVr68IfiIHQv////8PgyAFQv////8PgyIFQrHz3fEJfnwgBUKHla+vCH4iBUIgiHwiCEIghiAFQv////8Pg4QgAUF/aq1CNoZ8IAQgAikDOCACKQMwhSADfIUiA0L/////D4NC95Svrwh+IANCgICAgHCDfCAGQrHz3fEJfnwgB0IgiHwgCEIgiHwiA0I4hiADQiiGQoCAgICAgMD/AIOEIANCGIZCgICAgIDgP4MgA0IIhkKAgICA8B+DhIQgA0IIiEKAgID4D4MgA0IYiEKAgPwHg4QgA0IoiEKA/gODIANCOIiEhISFIgRCIIgiBULP1tO+An4iBkL/////D4MgBEL/////D4MiBEK93MqVDH58IARCz9bTvgJ+IgdCIIh8IgRCBYhC////P4MgBEIghiAHQv////8Pg4SFQvnz3fGZ8pmrFn4iB0IgiCAHhTcDACAAIAVCvdzKlQx+IANCz9bTvtLHq9lCfnwgBkIgiHwgBEIgiHwiA0IliCADhUL5893xmfKZqxZ+IgNCIIggA4U3AwgPCwJAIAFBBEkNACAAIAIpAxggAikDEIUgA6ciAkEYdCACQQh0QYCA/AdxciACQQh2QYD+A3EgAkEYdnJyrUIghiADhXwgAUH8iwFqNQIAQiCGQQA1AoCMAYSFIgNCIIgiBCABQQJ0QYeVr694aq0iBX4iBkIgiCAEQrHz3fEJfnwgBkL/////D4MgA0L/////D4MiA0Kx893xCX58IAMgBX4iA0IgiHwiBEIgiHwgBEIghiADQv////8Pg4QiBEIBhnwiA0IliCADhUL5893xmfKZqxZ+IgVCIIggBYU3AwggACADQgOIIASFIgNCI4ggA4VCpb7j9NGMh9mff34iA0IciCADhTcDAA8LAkAgAUUNACAAIAIoAgQgAigCAHOtIAN8IgRBAC0AgIwBQRB0IAFBCHRyIAFBAXZBgIwBai0AAEEYdHIgAUH/iwFqLQAAciIBrYUgBEIhiIVCz9bTvtLHq9lCfiIEQh2IIASFQvnz3fGZ9pmrFn4iBEIgiCAEhTcDACAAIAIoAgwgAigCCHOtIAN9IgMgAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyQQ13rYUgA0IhiIVCz9bTvtLHq9lCfiIDQh2IIAOFQvnz3fGZ9pmrFn4iA0IgiCADhTcDCA8LIAAgAikDUCADhSACKQNYhSIEQiGIIASFQs/W077Sx6vZQn4iBEIdiCAEhUL5893xmfaZqxZ+IgRCIIggBIU3AwggACACKQNAIAOFIAIpA0iFIgNCIYggA4VCz9bTvtLHq9lCfiIDQh2IIAOFQvnz3fGZ9pmrFn4iA0IgiCADhTcDAAunCgEKfiABrSIEQoeVr6+Ytt6bnn9+IQUCQAJAIAFBIU8NAEIAIQYMAQtCACEHAkAgAUHBAEkNAEIAIQcCQCABQeEASQ0AIAIpA3ggA30gAUHIiwFqKQMAIgiFIgdC/////w+DIgkgAikDcCADfCABQcCLAWopAwAiCoUiC0IgiCIMfiINQiCIIAdCIIgiByAMfnwgDUL/////D4MgByALQv////8PgyILfnwgCSALfiIHQiCIfCIJQiCIfEEAKQO4jAEiC0EAKQOwjAEiDHyFIAlCIIYgB0L/////D4OEhSEHIAIpA2ggA30gC4UiCUL/////D4MiCyACKQNgIAN8IAyFIgxCIIgiDX4iBkL/////D4MgCUIgiCIJIAxC/////w+DIgx+fCALIAx+IgtCIIh8IgxCIIYgC0L/////D4OEIAZCIIggCSANfnwgDEIgiHyFIAV8IAggCnyFIQULIAIpA1ggA30gAUHYiwFqKQMAIgiFIglC/////w+DIgogAikDUCADfCABQdCLAWopAwAiC4UiDEIgiCINfiIGQv////8PgyAJQiCIIgkgDEL/////D4MiDH58IAogDH4iCkIgiHwiDEIghiAKQv////8Pg4QgBkIgiCAJIA1+fCAMQiCIfIUgB3xBACkDqIwBIglBACkDoIwBIgp8hSEHIAIpA0ggA30gCYUiCUL/////D4MiDCACKQNAIAN8IAqFIgpCIIgiDX4iBkL/////D4MgCUIgiCIJIApC/////w+DIgp+fCAMIAp+IgpCIIh8IgxCIIYgCkL/////D4OEIAZCIIggCSANfnwgDEIgiHyFIAV8IAggC3yFIQULIAIpAzggA30gAUHoiwFqKQMAIgiFIglC/////w+DIgogAikDMCADfCABQeCLAWopAwAiC4UiDEIgiCINfiIGQv////8PgyAJQiCIIgkgDEL/////D4MiDH58IAogDH4iCkIgiHwiDEIghiAKQv////8Pg4QgBkIgiCAJIA1+fCAMQiCIfIUgB3xBACkDmIwBIgdBACkDkIwBIgl8hSEGIAIpAyggA30gB4UiB0L/////D4MiCiACKQMgIAN8IAmFIglCIIgiDH4iDUL/////D4MgB0IgiCIHIAlC/////w+DIgl+fCAKIAl+IglCIIh8IgpCIIYgCUL/////D4OEIA1CIIggByAMfnwgCkIgiHyFIAV8IAggC3yFIQULIAAgAikDGCADfSABQfiLAWopAwAiB4UiCEL/////D4MiCSACKQMQIAN8IAFB8IsBaikDACIKhSILQiCIIgx+Ig1C/////w+DIAhCIIgiCCALQv////8PgyILfnwgCSALfiIJQiCIfCILQiCGIAlC/////w+DhCANQiCIIAggDH58IAtCIIh8hSAGfEEAKQOIjAEiCEEAKQOAjAEiCXyFIgsgAikDCCADfSAIhSIIQv////8PgyIMIAIpAwAgA3wgCYUiCUIgiCINfiIGQv////8PgyAIQiCIIgggCUL/////D4MiCX58IAwgCX4iCUIgiHwiDEIghiAJQv////8Pg4QgBkIgiCAIIA1+fCAMQiCIfIUgBXwgByAKfIUiBXwiB0IliCAHhUL5893xmfKZqxZ+IgdCIIggB4U3AwAgAEIAIAVCh5Wvr5i23puef34gBCADfULP1tO+0ser2UJ+fCALQuPcypX8zvL1hX9+fCIDQiWIIAOFQvnz3fGZ8pmrFn4iA0IgiCADhX03AwgLiQ8DAX8UfgJ/QQAhBCACKQN4IAN9QQApA/iMASIFhSIGQv////8PgyIHIAIpA3AgA3xBACkD8IwBIgiFIglCIIgiCn4iC0L/////D4MgBkIgiCIGIAlC/////w+DIgl+fCAHIAl+IgdCIIh8IglCIIYgB0L/////D4OEIAtCIIggBiAKfnwgCUIgiHyFIAIpA1ggA31BACkD2IwBIgeFIgZC/////w+DIgkgAikDUCADfEEAKQPQjAEiCoUiC0IgiCIMfiINQv////8PgyAGQiCIIgYgC0L/////D4MiC358IAkgC34iCUIgiHwiC0IghiAJQv////8Pg4QgDUIgiCAGIAx+fCALQiCIfIUgAikDOCADfUEAKQO4jAEiCYUiBkL/////D4MiCyACKQMwIAN8QQApA7CMASIMhSINQiCIIg5+Ig9C/////w+DIAZCIIgiBiANQv////8PgyINfnwgCyANfiILQiCIfCINQiCGIAtC/////w+DhCAPQiCIIAYgDn58IA1CIIh8hSACKQMYIAN9QQApA5iMASILhSIGQv////8PgyINIAIpAxAgA3xBACkDkIwBIg6FIg9CIIgiEH4iEUL/////D4MgBkIgiCIGIA9C/////w+DIg9+fCANIA9+Ig1CIIh8Ig9CIIYgDUL/////D4OEIBFCIIggBiAQfnwgD0IgiHyFQQApA4iMASINQQApA4CMASIPfIV8QQApA6iMASIQQQApA6CMASIRfIV8QQApA8iMASISQQApA8CMASITfIV8QQApA+iMASIUQQApA+CMASIVfIUiBkIliCAGhUL5893xmfKZqxZ+IgZCIIggBoUhBiACKQNoIAN9IBSFIhRC/////w+DIhYgAikDYCADfCAVhSIVQiCIIhd+IhhC/////w+DIBRCIIgiFCAVQv////8PgyIVfnwgFiAVfiIVQiCIfCIWQiCGIBVC/////w+DhCAYQiCIIBQgF358IBZCIIh8hSACKQNIIAN9IBKFIhJC/////w+DIhQgAikDQCADfCAThSITQiCIIhV+IhZC/////w+DIBJCIIgiEiATQv////8PgyITfnwgFCATfiITQiCIfCIUQiCGIBNC/////w+DhCAWQiCIIBIgFX58IBRCIIh8hSACKQMoIAN9IBCFIhBC/////w+DIhIgAikDICADfCARhSIRQiCIIhN+IhRC/////w+DIBBCIIgiECARQv////8PgyIRfnwgEiARfiIRQiCIfCISQiCGIBFC/////w+DhCAUQiCIIBAgE358IBJCIIh8hSACKQMIIAN9IA2FIg1C/////w+DIhAgAikDACADfCAPhSIPQiCIIhF+IhJC/////w+DIA1CIIgiDSAPQv////8PgyIPfnwgECAPfiIPQiCIfCIQQiCGIA9C/////w+DhCASQiCIIA0gEX58IBBCIIh8hSABrSIPQoeVr6+Ytt6bnn9+fCALIA58hXwgCSAMfIV8IAcgCnyFfCAFIAh8hSIFQiWIIAWFQvnz3fGZ8pmrFn4iBUIgiCAFhSEFIAFBIG0hGQJAIAFBoAFIDQAgGUEFIBlBBUobQXxqIRoDQCACIARqIhlBG2opAwAgA30gBEGYjQFqKQMAIgeFIghC/////w+DIgkgGUETaikDACADfCAEQZCNAWopAwAiCoUiC0IgiCIMfiINQv////8PgyAIQiCIIgggC0L/////D4MiC358IAkgC34iCUIgiHwiC0IghiAJQv////8Pg4QgDUIgiCAIIAx+fCALQiCIfIUgBnwgBEGIjQFqKQMAIgggBEGAjQFqKQMAIgl8hSEGIBlBC2opAwAgA30gCIUiCEL/////D4MiCyAZQQNqKQMAIAN8IAmFIglCIIgi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QXBqKQMANwPwjQFBACADQXhqKQMANwP4jQELQYCMASEEAkACQCACIANrIgJBCE8NACACIQEMAQsgAiEBA0AgBCADKQMANwMAIARBCGohBCADQQhqIQMgAUF4aiIBQQdLDQALCyABRQ0AA0AgBCADLQAAOgAAIARBAWohBCADQQFqIQMgAUF/aiIBDQALC0EAIAI2AoCOAQvcDgUEfwF+An8EfgJ/IwAiACEBIABBgAFrQUBxIgAkAEEAKAKwjgEiAkHAigEgAhshAwJAAkBBACkDkI4BIgRC8QFUDQAgAEEAKQOAigE3AwAgAEEAKQOIigE3AwggAEEAKQOQigE3AxAgAEEAKQOYigE3AxggAEEAKQOgigE3AyAgAEEAKQOoigE3AyggAEEAKQOwigE3AzAgAEEAKQO4igE3AzgCQAJAQQAoAoCOASIFQcAASQ0AIABBACgCiI4BNgJAIAAgAEHAAGpBACgCmI4BQYCMASAFQX9qQQZ2IANBACgCnI4BEAIgACAAKQMIQQAoAoCOASICQcCLAWopAwAiBHwgA0EAKAKcjgFqIgZBAWopAwAgAkHIiwFqKQMAIgeFIghCIIggCEL/////D4N+fDcDCCAAIAApAxggAkHQiwFqKQMAIgh8IAZBEWopAwAgAkHYiwFqKQMAIgmFIgpCIIggCkL/////D4N+fDcDGCAAIAcgBCAGQXlqKQMAhSIEQiCIIARC/////w+DfiAAKQMAfHw3AwAgACAJIAggBkEJaikDAIUiBEIgiCAEQv////8Pg34gACkDEHx8NwMQIAZBGWopAwAhBCAAKQMgIQcgACAAKQMoIAJB4IsBaikDACIIfCAGQSFqKQMAIAJB6IsBaikDACIJhSIKQiCIIApC/////w+Dfnw3AyggACAJIAcgBCAIhSIEQiCIIARC/////w+Dfnx8NwMgIAAgACkDOCACQfCLAWopAwAiBHwgBkExaikDACACQfiLAWopAwAiB4UiCEIgiCAIQv////8Pg358NwM4IAAgByAEIAZBKWopAwCFIgRCIIggBEL/////D4N+IAApAzB8fDcDMAwBC0HAACAFayELAkACQAJAIAVBOE0NAEGAjgEgC2shBiAAQcAAaiEFIAshAgwBC0EAIQwgCyECA0AgAEHAAGogDGogBSAMakHAjQFqKQMANwMAIAxBCGohDCACQXhqIgJBB0sNAAsgBSAMaiIGQcAARg0BIAZBwI0BaiEGIABBwABqIAxqIQULA0AgBSAGLQAAOgAAIAVBAWohBSAGQQFqIQYgAkF/aiICDQALQQAoAoCOASEFCyAAQcAAaiALaiEGQYCMASECAkAgBUEISQ0AQYCMASECA0AgBiACKQMANwMAIAZBCGohBiACQQhqIQIgBUF4aiIFQQdLDQALCwJAIAVFDQADQCAGIAItAAA6AAAgBkEBaiEGIAJBAWohAiAFQX9qIgUNAAsLIAAgACkDCCAAKQNAIgR8IANBACgCnI4BaiICQQFqKQMAIAApA0giB4UiCEIgiCAIQv////8Pg358NwMIIAAgACkDGCAAKQNQIgh8IAJBEWopAwAgACkDWCIJhSIKQiCIIApC/////w+Dfnw3AxggACAHIAQgAkF5aikDAIUiBEIgiCAEQv////8Pg34gACkDAHx8NwMAIAAgCSAIIAJBCWopAwCFIgRCIIggBEL/////D4N+IAApAxB8fDcDECACQRlqKQMAIQQgACkDICEHIAAgACkDKCAAKQNgIgh8IAJBIWopAwAgACkDaCIJhSIKQiCIIApC/////w+Dfnw3AyggACAJIAcgBCAIhSIEQiCIIARC/////w+Dfnx8NwMgIAAgACkDOCAAKQNwIgR8IAJBMWopAwAgACkDeCIHhSIIQiCIIAhC/////w+Dfnw3AzggACAHIAQgAkEpaikDAIUiBEIgiCAEQv////8Pg34gACkDMHx8NwMwCyAAIAAgA0ELakEAKQOQjgEiBEKHla+vmLbem55/fhADNwNAIAAgACADQQAoApyOAWpBdWogBELP1tO+0ser2UJ+Qn+FEAM3A0gMAQsgBKchAgJAQQApA6COASIEUA0AAkAgAkEQSw0AIABBwABqIAJBgAggBBAEDAILAkAgAkGAAUsNACAAQcAAaiACQYAIIAQQBQwCCyAAQcAAaiACQYAIIAQQBgwBCwJAIAJBEEsNACAAQcAAaiACIANCABAEDAELAkAgAkGAAUsNACAAQcAAaiACIANCABAFDAELIABBwABqIAIgA0IAEAYLQQAgAEH4AGopAwA3A8AKQQAgAEHwAGopAwA3A7gKQQAgAEHoAGopAwA3A7AKQQAgAEHgAGopAwA3A6gKQQAgAEHYAGopAwA3A6AKQQAgAEHQAGopAwA3A5gKQQAgACkDSCIEQjiGIARCKIZCgICAgICAwP8Ag4QgBEIYhkKAgICAgOA/gyAEQgiGQoCAgIDwH4OEhCAEQgiIQoCAgPgPgyAEQhiIQoCA/AeDhCAEQiiIQoD+A4MgBEI4iISEhCIENwOACkEAIAQ3A5AKQQAgACkDQCIEQjiGIARCKIZCgICAgICAwP8Ag4QgBEIYhkKAgICAgOA/gyAEQgiGQoCAgIDwH4OEhCAEQgiIQoCAgPgPgyAEQhiIQoCA/AeDhCAEQiiIQoD+A4MgBEI4iISEhDcDiAogASQACwYAQYCKAQsCAAsLzAEBAEGACAvEAbj+bDkjpEu+fAGBLPchrRze1G3pg5CX23JApKS3s2cfy3nmTszA5XiCWtB9zP9yIbgIRnT3QySO4DWQ5oE6Jkw8KFK7kcMAy4jQZYsbUy6jcWRIl6IN+U44Ge9Gqd6s2Kj6dj/jnDQ/+dy7x8cLTx2KUeBLzbRZMciffsnZeHNk6sWsgzTT68PFgaD/+hNj6xcN3VG38NpJ0xZVJinUaJ4rFr5YfUeh/I/4uNF60DHORcs6j5UWBCiv1/vKu0tAfkACAAA=",x2e="e8e3fcf8",eY={name:B2e,data:C2e,hash:x2e};let S2e=new r,$I=null,E8=new ArrayBuffer(8);function pp(V){return!Number.isInteger(V)||V<0||V>4294967295?new Error("Seed must be given as two valid 32-bit long unsigned integers (lo + high)."):null}function iT(V,re,ae){let le=new DataView(V);le.setUint32(0,re,!0),le.setUint32(4,ae,!0)}function _2e(V,re=0,ae=0){if(pp(re))return Promise.reject(pp(re));if(pp(ae))return Promise.reject(pp(ae));if($I===null)return l(S2e,eY,16).then(le=>($I=le,iT(E8,re,ae),$I.writeMemory(new Uint8Array(E8)),$I.calculate(V)));try{iT(E8,re,ae),$I.writeMemory(new Uint8Array(E8));let le=$I.calculate(V);return Promise.resolve(le)}catch(le){return Promise.reject(le)}}function Q2e(V=0,re=0){return pp(V)?Promise.reject(pp(V)):pp(re)?Promise.reject(pp(re)):G(eY,16).then(ae=>{let le=new ArrayBuffer(8);iT(le,V,re),ae.writeMemory(new Uint8Array(le)),ae.init();let je={init:()=>(ae.writeMemory(new Uint8Array(le)),ae.init(),je),update:Ve=>(ae.update(Ve),je),digest:Ve=>ae.digest(Ve),save:()=>ae.save(),load:Ve=>(ae.load(Ve),je),blockSize:512,digestSize:16};return je})}var D2e="ripemd160",M2e="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",k2e="42f1de39",tY={name:D2e,data:M2e,hash:k2e};let T2e=new r,B8=null;function R2e(V){if(B8===null)return l(T2e,tY,20).then(re=>(B8=re,B8.calculate(V)));try{let re=B8.calculate(V);return Promise.resolve(re)}catch(re){return Promise.reject(re)}}function U2e(){return G(tY,20).then(V=>{V.init();let re={init:()=>(V.init(),re),update:ae=>(V.update(ae),re),digest:ae=>V.digest(ae),save:()=>V.save(),load:ae=>(V.load(ae),re),blockSize:64,digestSize:20};return re})}function F2e(V,re){let{blockSize:ae}=V,le=x(re);if(le.length>ae){V.update(le);let je=V.digest("binary");return V.init(),je}return new Uint8Array(le.buffer,le.byteOffset,le.length)}function N2e(V,re){V.init();let{blockSize:ae}=V,le=F2e(V,re),je=new Uint8Array(ae);je.set(le);let Ve=new Uint8Array(ae);for(let dt=0;dt<ae;dt++){let Vt=je[dt];Ve[dt]=Vt^92,je[dt]=Vt^54}V.update(je);let tt={init:()=>(V.init(),V.update(je),tt),update:dt=>(V.update(dt),tt),digest:dt=>{let Vt=V.digest("binary");return V.init(),V.update(Ve),V.update(Vt),V.digest(dt)},save:()=>{throw new Error("save() not supported")},load:()=>{throw new Error("load() not supported")},blockSize:V.blockSize,digestSize:V.digestSize};return tt}function rY(V,re){if(!V||!V.then)throw new Error('Invalid hash function is provided! Usage: createHMAC(createMD5(), "key").');return V.then(ae=>N2e(ae,re))}function P2e(V,re,ae,le,je){return e(this,void 0,void 0,function*(){let Ve=new Uint8Array(le),tt=new Uint8Array(re.length+4),dt=new DataView(tt.buffer),Vt=x(re),pn=new Uint8Array(Vt.buffer,Vt.byteOffset,Vt.length);tt.set(pn);let si=0,yo=V.digestSize,Fs=Math.ceil(le/yo),Xh=null,el=null;for(let Ap=1;Ap<=Fs;Ap++){dt.setUint32(re.length,Ap),V.init(),V.update(tt),Xh=V.digest("binary"),el=Xh.slice();for(let Pg=1;Pg<ae;Pg++){V.init(),V.update(el),el=V.digest("binary");for(let yu=0;yu<yo;yu++)Xh[yu]^=el[yu]}Ve.set(Xh.subarray(0,le-si),si),si+=yo}if(je==="binary")return Ve;let Xf=new Uint8Array(le*2);return C(Xf,Ve,le)})}let O2e=V=>{if(!V||typeof V!="object")throw new Error("Invalid options parameter. It requires an object.");if(!V.hashFunction||!V.hashFunction.then)throw new Error('Invalid hash function is provided! Usage: pbkdf2("password", "salt", 1000, 32, createSHA1()).');if(!Number.isInteger(V.iterations)||V.iterations<1)throw new Error("Iterations should be a positive number");if(!Number.isInteger(V.hashLength)||V.hashLength<1)throw new Error("Hash length should be a positive number");if(V.outputType===void 0&&(V.outputType="hex"),!["hex","binary"].includes(V.outputType))throw new Error(`Insupported output type ${V.outputType}. Valid values: ['hex', 'binary']`)};function nT(V){return e(this,void 0,void 0,function*(){O2e(V);let re=yield rY(V.hashFunction,V.password);return P2e(re,V.salt,V.iterations,V.hashLength,V.outputType)})}var K2e="scrypt",q2e="AGFzbQEAAAABIwZgAX8Bf2AAAX9gBX9/fn9/AGAEf39/fwBgAX8AYAN/f38AAwcGAAECAwQFBAUBcAEBAQUGAQECgIACBggBfwFBkIgECwc5BAZtZW1vcnkCABJIYXNoX1NldE1lbW9yeVNpemUAAA5IYXNoX0dldEJ1ZmZlcgABBnNjcnlwdAAFCpcmBlsBAX9BACEBAkAgAEEAKAKACGsiAEUNAAJAIABBEHYgAEGAgHxxIABJaiIAQABBf0cNAEH/ASEBDAELQQAhAUEAQQApA4AIIABBEHStfDcDgAgLIAFBGHRBGHULagECfwJAQQAoAogIIgANAEEAPwBBEHQiADYCiAhBgIAgQQAoAoAIayIBRQ0AAkAgAUEQdiABQYCAfHEgAUlqIgBAAEF/Rw0AQQAPC0EAQQApA4AIIABBEHStfDcDgAhBACgCiAghAAsgAAu5EAMMfwl+An8gAUEFdCEFIAQgAUEIdGohBiAEIAFBB3QiB2ohCAJAAkACQAJAIAFFDQBBACEJIAAhCiAEIQsDQCALIAooAgA2AgAgCkEEaiEKIAtBBGohCyAJQQFqIgkgBUkNAAsgAlANAiABQQh0IQxBACENIAMhDgNAQQAhCSABIQ8DQCAOIAlqIgogBCAJaiILKQMANwMAIApBCGogC0EIaikDADcDACAKQRBqIAtBEGopAwA3AwAgCkEYaiALQRhqKQMANwMAIApBIGogC0EgaikDADcDACAKQShqIAtBKGopAwA3AwAgCkEwaiALQTBqKQMANwMAIApBOGogC0E4aikDADcDACAKQcAAaiALQcAAaikDADcDACAKQcgAaiALQcgAaikDADcDACAKQdAAaiALQdAAaikDADcDACAKQdgAaiALQdgAaikDADcDACAKQeAAaiALQeAAaikDADcDACAKQegAaiALQegAaikDADcDACAKQfAAaiALQfAAaikDADcDACAKQfgAaiALQfgAaikDADcDACAJQYABaiEJIA9Bf2oiDw0ACyAEIAggBiABEAMgDiEJIAQhDyABIRADQCAJIAdqIgogDyAHaiILKQMANwMAIApBCGogC0EIaikDADcDACAKQRBqIAtBEGopAwA3AwAgCkEYaiALQRhqKQMANwMAIApBIGogC0EgaikDADcDACAKQShqIAtBKGopAwA3AwAgCkEwaiALQTBqKQMANwMAIApBOGogC0E4aikDADcDACAKQcAAaiALQcAAaikDADcDACAKQcgAaiALQcgAaikDADcDACAKQdAAaiALQdAAaikDADcDACAKQdgAaiALQdgAaikDADcDACAKQeAAaiALQeAAaikDADcDACAKQegAaiALQegAaikDADcDACAKQfAAaiALQfAAaikDADcDACAKQfgAaiALQfgAaikDADcDACAJQYABaiEJIA9BgAFqIQ8gEEF/aiIQDQALIAggBCAGIAEQAyAOIAxqIQ4gDUECaiINrSACVA0ADAILCyACUA0CIAhBQGoiCikDOCERIAopAzAhEiAKKQMoIRMgCikDICEUIAopAxghFSAKKQMQIRYgCikDCCEXIAopAwAhGEECIQoDQCAKrSEZIApBAmohCiAZIAJUDQALIAYgETcDOCAGIBI3AzAgBiATNwMoIAYgFDcDICAGIBU3AxggBiAWNwMQIAYgFzcDCCAGIBg3AwALAkAgAUUNACAHQUBqIgogCGohGiACp0F/aiEOIAogBGohGyABQQd0IQ1BACEMA0AgAyANIBsoAgAgDnFsaiEHQQAhCSABIQ8DQCAEIAlqIgogCikDACAHIAlqIgspAwCFNwMAIApBCGoiECAQKQMAIAtBCGopAwCFNwMAIApBEGoiECAQKQMAIAtBEGopAwCFNwMAIApBGGoiECAQKQMAIAtBGGopAwCFNwMAIApBIGoiECAQKQMAIAtBIGopAwCFNwMAIApBKGoiECAQKQMAIAtBKGopAwCFNwMAIApBMGoiECAQKQMAIAtBMGopAwCFNwMAIApBOGoiECAQKQMAIAtBOGopAwCFNwMAIApBwABqIhAgECkDACALQcAAaikDAIU3AwAgCkHIAGoiECAQKQMAIAtByABqKQMAhTcDACAKQdAAaiIQIBApAwAgC0HQAGopAwCFNwMAIApB2ABqIhAgECkDACALQdgAaikDAIU3AwAgCkHgAGoiECAQKQMAIAtB4ABqKQMAhTcDACAKQegAaiIQIBApAwAgC0HoAGopAwCFNwMAIApB8ABqIhAgECkDACALQfAAaikDAIU3AwAgCkH4AGoiCiAKKQMAIAtB+ABqKQMAhTcDACAJQYABaiEJIA9Bf2oiDw0ACyAEIAggBiABEAMgAyANIBooAgAgDnFsaiEHQQAhCSABIQ8DQCAIIAlqIgogCikDACAHIAlqIgspAwCFNwMAIApBCGoiECAQKQMAIAtBCGopAwCFNwMAIApBEGoiECAQKQMAIAtBEGopAwCFNwMAIApBGGoiECAQKQMAIAtBGGopAwCFNwMAIApBIGoiECAQKQMAIAtBIGopAwCFNwMAIApBKGoiECAQKQMAIAtBKGopAwCFNwMAIApBMGoiECAQKQMAIAtBMGopAwCFNwMAIApBOGoiECAQKQMAIAtBOGopAwCFNwMAIApBwABqIhAgECkDACALQcAAaikDAIU3AwAgCkHIAGoiECAQKQMAIAtByABqKQMAhTcDACAKQdAAaiIQIBApAwAgC0HQAGopAwCFNwMAIApB2ABqIhAgECkDACALQdgAaikDAIU3AwAgCkHgAGoiECAQKQMAIAtB4ABqKQMAhTcDACAKQegAaiIQIBApAwAgC0HoAGopAwCFNwMAIApB8ABqIhAgECkDACALQfAAaikDAIU3AwAgCkH4AGoiCiAKKQMAIAtB+ABqKQMAhTcDACAJQYABaiEJIA9Bf2oiDw0ACyAIIAQgBiABEAMgDEECaiIMrSACVA0ADAILCyAIQUBqIgopAzghESAKKQMwIRIgCikDKCETIAopAyAhFCAKKQMYIRUgCikDECEWIAopAwghFyAKKQMAIRhBAiEKA0AgCq0hGSAKQQJqIQogGSACVA0ACyAGIBE3AzggBiASNwMwIAYgEzcDKCAGIBQ3AyAgBiAVNwMYIAYgFjcDECAGIBc3AwggBiAYNwMACyABRQ0AQQAhCgNAIAAgBCgCADYCACAAQQRqIQAgBEEEaiEEIApBAWoiCiAFSQ0ACwsL4wUDAX8IfgJ/IAIgA0EHdCAAakFAaiIEKQMAIgU3AwAgAiAEKQMIIgY3AwggAiAEKQMQIgc3AxAgAiAEKQMYIgg3AxggAiAEKQMgIgk3AyAgAiAEKQMoIgo3AyggAiAEKQMwIgs3AzAgAiAEKQM4Igw3AzgCQCADRQ0AIANBAXQhDSAAQfgAaiEEIANBBnQhDkECIQADQCACIAUgBEGIf2opAwCFNwMAIAIgBiAEQZB/aikDAIU3AwggAiAHIARBmH9qKQMAhTcDECACIAggBEGgf2opAwCFNwMYIAIgCSAEQah/aikDAIU3AyAgAiAKIARBsH9qKQMAhTcDKCACIAsgBEG4f2opAwCFNwMwIAIgDCAEQUBqKQMAhTcDOCACEAQgASACKQMANwMAIAFBCGogAikDCDcDACABQRBqIAIpAxA3AwAgAUEYaiACKQMYNwMAIAFBIGogAikDIDcDACABQShqIAIpAyg3AwAgAUEwaiACKQMwNwMAIAFBOGogAikDODcDACACIAIpAwAgBEFIaikDAIU3AwAgAiACKQMIIARBUGopAwCFNwMIIAIgAikDECAEQVhqKQMAhTcDECACIAIpAxggBEFgaikDAIU3AxggAiACKQMgIARBaGopAwCFNwMgIAIgAikDKCAEQXBqKQMAhTcDKCACIAIpAzAgBEF4aikDAIU3AzAgAiACKQM4IAQpAwCFNwM4IAIQBCABIA5qIgMgAikDADcDACADQQhqIAIpAwg3AwAgA0EQaiACKQMQNwMAIANBGGogAikDGDcDACADQSBqIAIpAyA3AwAgA0EoaiACKQMoNwMAIANBMGogAikDMDcDACADQThqIAIpAzg3AwAgACANTw0BIARBgAFqIQQgAUHAAGohASAAQQJqIQAgAikDOCEMIAIpAzAhCyACKQMoIQogAikDICEJIAIpAxghCCACKQMQIQcgAikDCCEGIAIpAwAhBQwACwsLug0IAX4BfwF+AX8BfgF/AX4SfyAAIAAoAgQgACkDKCIBQiCIpyICIAApAzgiA0IgiKciBGpBB3cgACkDCCIFQiCIp3MiBiAEakEJdyAAKQMYIgdCIIincyIIIAZqQQ13IAJzIgkgB6ciCiABpyILakEHdyADp3MiAiALakEJdyAFp3MiDCACakENdyAKcyINIAxqQRJ3IAtzIg4gACkDACIBQiCIpyIPIAApAxAiA0IgiKciEGpBB3cgACkDICIFQiCIp3MiC2pBB3dzIgogCSAIakESdyAEcyIRIAJqQQd3IAApAzAiB6ciCSABpyISakEHdyADp3MiBCASakEJdyAFp3MiEyAEakENdyAJcyIUcyIJIBFqQQl3IAsgEGpBCXcgB0IgiKdzIhVzIhYgCWpBDXcgAnMiFyAWakESdyARcyIRakEHdyAGIBQgE2pBEncgEnMiEmpBB3cgFSALakENdyAPcyIUcyICIBJqQQl3IAxzIg8gAmpBDXcgBnMiGHMiBiARakEJdyAIIA0gFCAVakESdyAQcyIQIARqQQd3cyIMIBBqQQl3cyIIcyIVIAZqQQ13IApzIhQgDCAKIA5qQQl3IBNzIhMgCmpBDXcgC3MiGSATakESdyAOcyIKakEHdyAXcyILIApqQQl3IA9zIg4gC2pBDXcgDHMiFyAOakESdyAKcyINIAIgCCAMakENdyAEcyIMIAhqQRJ3IBBzIghqQQd3IBlzIgpqQQd3cyIEIBQgFWpBEncgEXMiECALakEHdyAJIBggD2pBEncgEnMiEWpBB3cgDHMiDCARakEJdyATcyISIAxqQQ13IAlzIg9zIgkgEGpBCXcgCiAIakEJdyAWcyITcyIWIAlqQQ13IAtzIhQgFmpBEncgEHMiEGpBB3cgBiAPIBJqQRJ3IBFzIhFqQQd3IBMgCmpBDXcgAnMiC3MiAiARakEJdyAOcyIOIAJqQQ13IAZzIhhzIgYgEGpBCXcgFSAXIAsgE2pBEncgCHMiCCAMakEHd3MiCyAIakEJd3MiE3MiFSAGakENdyAEcyIXIAsgBCANakEJdyAScyISIARqQQ13IApzIhkgEmpBEncgDXMiBGpBB3cgFHMiCiAEakEJdyAOcyIPIApqQQ13IAtzIhQgD2pBEncgBHMiDSACIBMgC2pBDXcgDHMiDCATakESdyAIcyIIakEHdyAZcyILakEHd3MiBCAXIBVqQRJ3IBBzIhAgCmpBB3cgCSAYIA5qQRJ3IBFzIg5qQQd3IAxzIgwgDmpBCXcgEnMiESAMakENdyAJcyIXcyIJIBBqQQl3IAsgCGpBCXcgFnMiEnMiEyAJakENdyAKcyIYIBNqQRJ3IBBzIhBqQQd3IAYgFyARakESdyAOcyIKakEHdyASIAtqQQ13IAJzIhdzIgIgCmpBCXcgD3MiDiACakENdyAGcyIWcyIGIAkgFiAOakESdyAKcyIWakEHdyAVIBQgFyASakESdyAIcyIIIAxqQQd3cyIKIAhqQQl3cyISIApqQQ13IAxzIg9zIgwgFmpBCXcgBCANakEJdyARcyIRcyIVIAxqQQ13IAlzIhQgFWpBEncgFnMiCWpBB3cgAiAPIBJqQRJ3IAhzIghqQQd3IBEgBGpBDXcgC3MiD3MiCyAIakEJdyATcyITIAtqQQ13IAJzIhdzIhZqNgIEIAAgACgCCCAWIAlqQQl3IAogDyARakESdyANcyIRakEHdyAYcyICIBFqQQl3IA5zIg5zIg9qNgIIIAAgACgCDCAPIBZqQQ13IAZzIg1qNgIMIAAgACgCECAGIBBqQQl3IBJzIhIgDiACakENdyAKcyIYIBcgE2pBEncgCHMiCiAMakEHd3MiCCAKakEJd3MiFiAIakENdyAMcyIMajYCECAAIAAoAgAgDSAPakESdyAJc2o2AgAgACAAKAIUIAwgFmpBEncgCnNqNgIUIAAgACgCGCAIajYCGCAAIAAoAhwgFmo2AhwgACAAKAIgIBIgBmpBDXcgBHMiCSAYIA5qQRJ3IBFzIgYgC2pBB3dzIgogBmpBCXcgFXMiBGo2AiAgACAAKAIkIAQgCmpBDXcgC3MiC2o2AiQgACAAKAIoIAsgBGpBEncgBnNqNgIoIAAgACgCLCAKajYCLCAAIAAoAjAgCSASakESdyAQcyIGIAJqQQd3IBRzIgtqNgIwIAAgACgCNCALIAZqQQl3IBNzIgpqNgI0IAAgACgCOCAKIAtqQQ13IAJzIgJqNgI4IAAgACgCPCACIApqQRJ3IAZzajYCPAtyAwF/AX4CfwJAIAJFDQBBACgCiAgiAyAAIAGtIgQgAyAAQQd0IgUgAmxqIgMgAyAFIAFsaiIGEAIgAkEBRg0AIAJBf2ohASAFIQIDQEEAKAKICCACaiAAIAQgAyAGEAIgAiAFaiECIAFBf2oiAQ0ACwsL",L2e="d96fb75f",H2e={name:K2e,data:q2e,hash:L2e};function G2e(V){return e(this,void 0,void 0,function*(){let{costFactor:re,blockSize:ae,parallelism:le,hashLength:je}=V,Ve=IE(),tt=yield nT({password:V.password,salt:V.salt,iterations:1,hashLength:128*ae*le,hashFunction:Ve,outputType:"binary"}),dt=yield G(H2e,0),Vt=128*ae*re,pn=256*ae;dt.setMemorySize(tt.length+Vt+pn),dt.writeMemory(tt,0),dt.getExports().scrypt(ae,re,le);let si=dt.getMemory().subarray(0,128*ae*le),yo=yield nT({password:V.password,salt:si,iterations:1,hashLength:je,hashFunction:Ve,outputType:"binary"});if(V.outputType==="hex"){let Fs=new Uint8Array(je*2);return C(Fs,yo,je)}return yo})}let j2e=V=>V&&!(V&V-1),z2e=V=>{if(!V||typeof V!="object")throw new Error("Invalid options parameter. It requires an object.");if(!Number.isInteger(V.blockSize)||V.blockSize<1)throw new Error("Block size should be a positive number");if(!Number.isInteger(V.costFactor)||V.costFactor<2||!j2e(V.costFactor))throw new Error("Cost factor should be a power of 2, greater than 1");if(!Number.isInteger(V.parallelism)||V.parallelism<1)throw new Error("Parallelism should be a positive number");if(!Number.isInteger(V.hashLength)||V.hashLength<1)throw new Error("Hash length should be a positive number.");if(V.outputType===void 0&&(V.outputType="hex"),!["hex","binary"].includes(V.outputType))throw new Error(`Insupported output type ${V.outputType}. Valid values: ['hex', 'binary']`)};function Y2e(V){return e(this,void 0,void 0,function*(){return z2e(V),G2e(V)})}var J2e="bcrypt",V2e="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",W2e="9f4c7b9e",iY={name:J2e,data:V2e,hash:W2e};function Z2e(V){return e(this,void 0,void 0,function*(){let{costFactor:re,password:ae,salt:le}=V,je=yield G(iY,0);je.writeMemory(x(le),0);let Ve=x(ae);je.writeMemory(Ve,16);let tt=V.outputType==="encoded"?1:0;je.getExports().bcrypt(Ve.length,re,tt);let dt=je.getMemory();if(V.outputType==="encoded")return d(dt,60);if(V.outputType==="hex"){let Vt=new Uint8Array(48);return C(Vt,dt,24)}return dt.slice(0,24)})}let $2e=V=>{if(!V||typeof V!="object")throw new Error("Invalid options parameter. It requires an object.");if(!Number.isInteger(V.costFactor)||V.costFactor<4||V.costFactor>31)throw new Error("Cost factor should be a number between 4 and 31");if(V.password=x(V.password),V.password.length<1)throw new Error("Password should be at least 1 byte long");if(V.password.length>72)throw new Error("Password should be at most 72 bytes long");if(V.salt=x(V.salt),V.salt.length!==16)throw new Error("Salt should be 16 bytes long");if(V.outputType===void 0&&(V.outputType="encoded"),!["hex","binary","encoded"].includes(V.outputType))throw new Error(`Insupported output type ${V.outputType}. Valid values: ['hex', 'binary', 'encoded']`)};function X2e(V){return e(this,void 0,void 0,function*(){return $2e(V),Z2e(V)})}let eBe=V=>!(!/^\$2[axyb]\$[0-3][0-9]\$[./A-Za-z0-9]{53}$/.test(V)||V[4]==="0"&&parseInt(V[5],10)<4||V[4]==="3"&&parseInt(V[5],10)>1),tBe=V=>{if(!V||typeof V!="object")throw new Error("Invalid options parameter. It requires an object.");if(V.hash===void 0||typeof V.hash!="string")throw new Error("Hash should be specified");if(V.hash.length!==60)throw new Error("Hash should be 60 bytes long");if(!eBe(V.hash))throw new Error("Invalid hash");if(V.password=x(V.password),V.password.length<1)throw new Error("Password should be at least 1 byte long");if(V.password.length>72)throw new Error("Password should be at most 72 bytes long")};function rBe(V){return e(this,void 0,void 0,function*(){tBe(V);let{hash:re,password:ae}=V,le=yield G(iY,0);le.writeMemory(x(re),0);let je=x(ae);return le.writeMemory(je,60),!!le.getExports().bcrypt_verify(je.length)})}var iBe="whirlpool",nBe="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",oBe="358808f8",nY={name:iBe,data:nBe,hash:oBe};let sBe=new r,C8=null;function aBe(V){if(C8===null)return l(sBe,nY,64).then(re=>(C8=re,C8.calculate(V)));try{let re=C8.calculate(V);return Promise.resolve(re)}catch(re){return Promise.reject(re)}}function cBe(){return G(nY,64).then(V=>{V.init();let re={init:()=>(V.init(),re),update:ae=>(V.update(ae),re),digest:ae=>V.digest(ae),save:()=>V.save(),load:ae=>(V.load(ae),re),blockSize:64,digestSize:64};return re})}var fBe="sm3",dBe="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",uBe="6e6f46ad",oY={name:fBe,data:dBe,hash:uBe};let hBe=new r,x8=null;function lBe(V){if(x8===null)return l(hBe,oY,32).then(re=>(x8=re,x8.calculate(V)));try{let re=x8.calculate(V);return Promise.resolve(re)}catch(re){return Promise.reject(re)}}function pBe(){return G(oY,32).then(V=>{V.init();let re={init:()=>(V.init(),re),update:ae=>(V.update(ae),re),digest:ae=>V.digest(ae),save:()=>V.save(),load:ae=>(V.load(ae),re),blockSize:64,digestSize:32};return re})}t.adler32=E,t.argon2Verify=qr,t.argon2d=Nr,t.argon2i=ve,t.argon2id=ye,t.bcrypt=X2e,t.bcryptVerify=rBe,t.blake2b=$,t.blake2s=Zi,t.blake3=di,t.crc32=qe,t.crc32c=de,t.createAdler32=m,t.createBLAKE2b=W,t.createBLAKE2s=Fe,t.createBLAKE3=Ke,t.createCRC32=Li,t.createCRC32C=ie,t.createHMAC=rY,t.createKeccak=Fg,t.createMD4=Ft,t.createMD5=ar,t.createRIPEMD160=U2e,t.createSHA1=pu,t.createSHA224=up,t.createSHA256=IE,t.createSHA3=Vk,t.createSHA384=Vz,t.createSHA512=o2e,t.createSM3=pBe,t.createWhirlpool=cBe,t.createXXHash128=Q2e,t.createXXHash3=E2e,t.createXXHash32=u2e,t.createXXHash64=y2e,t.keccak=y8,t.md4=et,t.md5=ir,t.pbkdf2=nT,t.ripemd160=R2e,t.scrypt=Y2e,t.sha1=Hr,t.sha224=VI,t.sha256=Ng,t.sha3=Jk,t.sha384=Jz,t.sha512=n2e,t.sm3=lBe,t.whirlpool=aBe,t.xxhash128=_2e,t.xxhash3=b2e,t.xxhash32=d2e,t.xxhash64=g2e,Object.defineProperty(t,"__esModule",{value:!0})})});var iue=X((Xxt,rue)=>{b();var tue=$de(),gHe=eue(),$P=ni().Buffer;rue.exports=class{static randomHexString(){let e=Math.floor(Math.random()*Math.floor(500)),r=[...Array(e)].map(()=>Math.floor(Math.random()*16).toString(16)).join("");return $P.from(r).toString("hex")}static async submitIonRequestUntilSuccess(e,r,i){let n;for(;n===void 0;)n=await this.submitIonRequest(e,r,i)}static async submitIonRequest(e,r,i){console.log(`Getting challenge from: ${e}`);let n=await tue(e,{mode:"cors"});if(!n.ok)throw new Error("Get challenge service not available");let o=await n.json();console.log(o);let s=o.challengeNonce,f=o.largestAllowedHash,d=o.validDurationInMinutes*60*1e3,p="",u="";console.log(`Solving for body:
${i}`);let y=Date.now();do u=this.randomHexString(),p=await gHe.argon2id({password:$P.from(u,"hex").toString()+i,salt:$P.from(s,"hex"),parallelism:1,iterations:1,memorySize:1e3,hashLength:32,outputType:"hex"}),console.log(p),console.log(f);while(p>f&&Date.now()-y<d);if(Date.now()-y>d)return;console.log("3");let B=await tue(r,{method:"POST",mode:"cors",body:i,headers:{"Challenge-Nonce":s,"Answer-Nonce":u,"Content-Type":"application/json"}});if(B.status>=500)console.log(`Unexpected 5xx response: ${await B.text()}`);else if(B.status>=400)console.log(`Bed request: ${await B.text()}`),console.log("Retrying with new challenge and difficulty");else if(B.status>=300)console.log(`Unexpected 3xx response: ${await B.text()}`);else{console.log("Successful registration");let S=await B.text();return console.log(S),S}}}});var sue=X((C4,oue)=>{b();(function(t,e){typeof C4=="object"&&typeof oue<"u"?e(C4):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(C4,function(t){"use strict";function e(){for(var te=arguments.length,Z=Array(te),de=0;de<te;de++)Z[de]=arguments[de];if(Z.length>1){Z[0]=Z[0].slice(0,-1);for(var ie=Z.length-1,oe=1;oe<ie;++oe)Z[oe]=Z[oe].slice(1,-1);return Z[ie]=Z[ie].slice(1),Z.join("")}else return Z[0]}function r(te){return"(?:"+te+")"}function i(te){return te===void 0?"undefined":te===null?"null":Object.prototype.toString.call(te).split(" ").pop().split("]").shift().toLowerCase()}function n(te){return te.toUpperCase()}function o(te){return te!=null?te instanceof Array?te:typeof te.length!="number"||te.split||te.setInterval||te.call?[te]:Array.prototype.slice.call(te):[]}function s(te,Z){var de=te;if(Z)for(var ie in Z)de[ie]=Z[ie];return de}function f(te){var Z="[A-Za-z]",de="[\\x0D]",ie="[0-9]",oe="[\\x22]",$e=e(ie,"[A-Fa-f]"),ue="[\\x0A]",he="[\\x20]",Et=r(r("%[EFef]"+$e+"%"+$e+$e+"%"+$e+$e)+"|"+r("%[89A-Fa-f]"+$e+"%"+$e+$e)+"|"+r("%"+$e+$e)),ft="[\\:\\/\\?\\#\\[\\]\\@]",et="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ft=e(ft,et),Ot=te?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Mt=te?"[\\uE000-\\uF8FF]":"[]",mt=e(Z,ie,"[\\-\\.\\_\\~]",Ot),kt=r(Z+e(Z,ie,"[\\+\\-\\.]")+"*"),Ct=r(r(Et+"|"+e(mt,et,"[\\:]"))+"*"),wr=r(r("25[0-5]")+"|"+r("2[0-4]"+ie)+"|"+r("1"+ie+ie)+"|"+r("[1-9]"+ie)+"|"+ie),ir=r(r("25[0-5]")+"|"+r("2[0-4]"+ie)+"|"+r("1"+ie+ie)+"|"+r("0?[1-9]"+ie)+"|0?0?"+ie),ar=r(ir+"\\."+ir+"\\."+ir+"\\."+ir),xt=r($e+"{1,4}"),nr=r(r(xt+"\\:"+xt)+"|"+ar),cr=r(r(xt+"\\:")+"{6}"+nr),pr=r("\\:\\:"+r(xt+"\\:")+"{5}"+nr),Pr=r(r(xt)+"?\\:\\:"+r(xt+"\\:")+"{4}"+nr),fr=r(r(r(xt+"\\:")+"{0,1}"+xt)+"?\\:\\:"+r(xt+"\\:")+"{3}"+nr),Hr=r(r(r(xt+"\\:")+"{0,2}"+xt)+"?\\:\\:"+r(xt+"\\:")+"{2}"+nr),pu=r(r(r(xt+"\\:")+"{0,3}"+xt)+"?\\:\\:"+xt+"\\:"+nr),Au=r(r(r(xt+"\\:")+"{0,4}"+xt)+"?\\:\\:"+nr),Lc=r(r(r(xt+"\\:")+"{0,5}"+xt)+"?\\:\\:"+xt),ap=r(r(r(xt+"\\:")+"{0,6}"+xt)+"?\\:\\:"),ya=r([cr,pr,Pr,fr,Hr,pu,Au,Lc,ap].join("|")),cp=r(r(mt+"|"+Et)+"+"),$h=r(ya+"\\%25"+cp),Hc=r(ya+r("\\%25|\\%(?!"+$e+"{2})")+cp),Jk=r("[vV]"+$e+"+\\."+e(mt,et,"[\\:]")+"+"),Vk=r("\\["+r(Hc+"|"+ya+"|"+Jk)+"\\]"),g8=r(r(Et+"|"+e(mt,et))+"*"),Zf=r(Vk+"|"+ar+"(?!"+g8+")|"+g8),gu=r(ie+"*"),y8=r(r(Ct+"@")+"?"+Zf+r("\\:"+gu)+"?"),Fg=r(Et+"|"+e(mt,et,"[\\:\\@]")),Wk=r(Fg+"*"),m8=r(Fg+"+"),Zk=r(r(Et+"|"+e(mt,et,"[\\@]"))+"+"),ma=r(r("\\/"+Wk)+"*"),fp=r("\\/"+r(m8+ma)+"?"),dp=r(Zk+ma),VI=r(m8+ma),up="(?!"+Fg+")",zz=r(ma+"|"+fp+"|"+dp+"|"+VI+"|"+up),$f=r(r(Fg+"|"+e("[\\/\\?]",Mt))+"*"),Ng=r(r(Fg+"|[\\/\\?]")+"*"),IE=r(r("\\/\\/"+y8+ma)+"|"+fp+"|"+VI+"|"+up),$k=r(kt+"\\:"+IE+r("\\?"+$f)+"?"+r("\\#"+Ng)+"?"),Xk=r(r("\\/\\/"+y8+ma)+"|"+fp+"|"+dp+"|"+up),eT=r(Xk+r("\\?"+$f)+"?"+r("\\#"+Ng)+"?"),wE=r($k+"|"+eT),Yz=r(kt+"\\:"+IE+r("\\?"+$f)+"?"),vE="^("+kt+")\\:"+r(r("\\/\\/("+r("("+Ct+")@")+"?("+Zf+")"+r("\\:("+gu+")")+"?)")+"?("+ma+"|"+fp+"|"+VI+"|"+up+")")+r("\\?("+$f+")")+"?"+r("\\#("+Ng+")")+"?$",Jz="^(){0}"+r(r("\\/\\/("+r("("+Ct+")@")+"?("+Zf+")"+r("\\:("+gu+")")+"?)")+"?("+ma+"|"+fp+"|"+dp+"|"+up+")")+r("\\?("+$f+")")+"?"+r("\\#("+Ng+")")+"?$",Vz="^("+kt+")\\:"+r(r("\\/\\/("+r("("+Ct+")@")+"?("+Zf+")"+r("\\:("+gu+")")+"?)")+"?("+ma+"|"+fp+"|"+VI+"|"+up+")")+r("\\?("+$f+")")+"?$",Wz="^"+r("\\#("+Ng+")")+"?$",bE="^"+r("("+Ct+")@")+"?("+Zf+")"+r("\\:("+gu+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",Z,ie,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",mt,et),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",mt,et),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",mt,et),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",mt,et),"g"),NOT_QUERY:new RegExp(e("[^\\%]",mt,et,"[\\:\\@\\/\\?]",Mt),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",mt,et,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",mt,et),"g"),UNRESERVED:new RegExp(mt,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",mt,Ft),"g"),PCT_ENCODED:new RegExp(Et,"g"),IPV4ADDRESS:new RegExp("^("+ar+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ya+")"+r(r("\\%25|\\%(?!"+$e+"{2})")+"("+cp+")")+"?\\]?$")}}var d=f(!1),p=f(!0),u=function(){function te(Z,de){var ie=[],oe=!0,$e=!1,ue=void 0;try{for(var he=Z[Symbol.iterator](),Et;!(oe=(Et=he.next()).done)&&(ie.push(Et.value),!(de&&ie.length===de));oe=!0);}catch(ft){$e=!0,ue=ft}finally{try{!oe&&he.return&&he.return()}finally{if($e)throw ue}}return ie}return function(Z,de){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return te(Z,de);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(te){if(Array.isArray(te)){for(var Z=0,de=Array(te.length);Z<te.length;Z++)de[Z]=te[Z];return de}else return Array.from(te)},B=2147483647,S=36,C=1,x=26,_=38,Q=700,R=72,k=128,K="-",T=/^xn--/,L=/[^\0-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},G=S-C,v=Math.floor,a=String.fromCharCode;function h(te){throw new RangeError(O[te])}function g(te,Z){for(var de=[],ie=te.length;ie--;)de[ie]=Z(te[ie]);return de}function l(te,Z){var de=te.split("@"),ie="";de.length>1&&(ie=de[0]+"@",te=de[1]),te=te.replace(H,".");var oe=te.split("."),$e=g(oe,Z).join(".");return ie+$e}function A(te){for(var Z=[],de=0,ie=te.length;de<ie;){var oe=te.charCodeAt(de++);if(oe>=55296&&oe<=56319&&de<ie){var $e=te.charCodeAt(de++);($e&64512)==56320?Z.push(((oe&1023)<<10)+($e&1023)+65536):(Z.push(oe),de--)}else Z.push(oe)}return Z}var w=function(Z){return String.fromCodePoint.apply(String,y(Z))},E=function(Z){return Z-48<10?Z-22:Z-65<26?Z-65:Z-97<26?Z-97:S},m=function(Z,de){return Z+22+75*(Z<26)-((de!=0)<<5)},c=function(Z,de,ie){var oe=0;for(Z=ie?v(Z/Q):Z>>1,Z+=v(Z/de);Z>G*x>>1;oe+=S)Z=v(Z/G);return v(oe+(G+1)*Z/(Z+_))},I=function(Z){var de=[],ie=Z.length,oe=0,$e=k,ue=R,he=Z.lastIndexOf(K);he<0&&(he=0);for(var Et=0;Et<he;++Et)Z.charCodeAt(Et)>=128&&h("not-basic"),de.push(Z.charCodeAt(Et));for(var ft=he>0?he+1:0;ft<ie;){for(var et=oe,Ft=1,Ot=S;;Ot+=S){ft>=ie&&h("invalid-input");var Mt=E(Z.charCodeAt(ft++));(Mt>=S||Mt>v((B-oe)/Ft))&&h("overflow"),oe+=Mt*Ft;var mt=Ot<=ue?C:Ot>=ue+x?x:Ot-ue;if(Mt<mt)break;var kt=S-mt;Ft>v(B/kt)&&h("overflow"),Ft*=kt}var Ct=de.length+1;ue=c(oe-et,Ct,et==0),v(oe/Ct)>B-$e&&h("overflow"),$e+=v(oe/Ct),oe%=Ct,de.splice(oe++,0,$e)}return String.fromCodePoint.apply(String,de)},M=function(Z){var de=[];Z=A(Z);var ie=Z.length,oe=k,$e=0,ue=R,he=!0,Et=!1,ft=void 0;try{for(var et=Z[Symbol.iterator](),Ft;!(he=(Ft=et.next()).done);he=!0){var Ot=Ft.value;Ot<128&&de.push(a(Ot))}}catch(Hc){Et=!0,ft=Hc}finally{try{!he&&et.return&&et.return()}finally{if(Et)throw ft}}var Mt=de.length,mt=Mt;for(Mt&&de.push(K);mt<ie;){var kt=B,Ct=!0,wr=!1,ir=void 0;try{for(var ar=Z[Symbol.iterator](),xt;!(Ct=(xt=ar.next()).done);Ct=!0){var nr=xt.value;nr>=oe&&nr<kt&&(kt=nr)}}catch(Hc){wr=!0,ir=Hc}finally{try{!Ct&&ar.return&&ar.return()}finally{if(wr)throw ir}}var cr=mt+1;kt-oe>v((B-$e)/cr)&&h("overflow"),$e+=(kt-oe)*cr,oe=kt;var pr=!0,Pr=!1,fr=void 0;try{for(var Hr=Z[Symbol.iterator](),pu;!(pr=(pu=Hr.next()).done);pr=!0){var Au=pu.value;if(Au<oe&&++$e>B&&h("overflow"),Au==oe){for(var Lc=$e,ap=S;;ap+=S){var ya=ap<=ue?C:ap>=ue+x?x:ap-ue;if(Lc<ya)break;var cp=Lc-ya,$h=S-ya;de.push(a(m(ya+cp%$h,0))),Lc=v(cp/$h)}de.push(a(m(Lc,0))),ue=c($e,cr,mt==Mt),$e=0,++mt}}}catch(Hc){Pr=!0,fr=Hc}finally{try{!pr&&Hr.return&&Hr.return()}finally{if(Pr)throw fr}}++$e,++oe}return de.join("")},D=function(Z){return l(Z,function(de){return T.test(de)?I(de.slice(4).toLowerCase()):de})},P=function(Z){return l(Z,function(de){return L.test(de)?"xn--"+M(de):de})},j={version:"2.1.0",ucs2:{decode:A,encode:w},decode:I,encode:M,toASCII:P,toUnicode:D},Y={};function z(te){var Z=te.charCodeAt(0),de=void 0;return Z<16?de="%0"+Z.toString(16).toUpperCase():Z<128?de="%"+Z.toString(16).toUpperCase():Z<2048?de="%"+(Z>>6|192).toString(16).toUpperCase()+"%"+(Z&63|128).toString(16).toUpperCase():de="%"+(Z>>12|224).toString(16).toUpperCase()+"%"+(Z>>6&63|128).toString(16).toUpperCase()+"%"+(Z&63|128).toString(16).toUpperCase(),de}function $(te){for(var Z="",de=0,ie=te.length;de<ie;){var oe=parseInt(te.substr(de+1,2),16);if(oe<128)Z+=String.fromCharCode(oe),de+=3;else if(oe>=194&&oe<224){if(ie-de>=6){var $e=parseInt(te.substr(de+4,2),16);Z+=String.fromCharCode((oe&31)<<6|$e&63)}else Z+=te.substr(de,6);de+=6}else if(oe>=224){if(ie-de>=9){var ue=parseInt(te.substr(de+4,2),16),he=parseInt(te.substr(de+7,2),16);Z+=String.fromCharCode((oe&15)<<12|(ue&63)<<6|he&63)}else Z+=te.substr(de,9);de+=9}else Z+=te.substr(de,3),de+=3}return Z}function W(te,Z){function de(ie){var oe=$(ie);return oe.match(Z.UNRESERVED)?oe:ie}return te.scheme&&(te.scheme=String(te.scheme).replace(Z.PCT_ENCODED,de).toLowerCase().replace(Z.NOT_SCHEME,"")),te.userinfo!==void 0&&(te.userinfo=String(te.userinfo).replace(Z.PCT_ENCODED,de).replace(Z.NOT_USERINFO,z).replace(Z.PCT_ENCODED,n)),te.host!==void 0&&(te.host=String(te.host).replace(Z.PCT_ENCODED,de).toLowerCase().replace(Z.NOT_HOST,z).replace(Z.PCT_ENCODED,n)),te.path!==void 0&&(te.path=String(te.path).replace(Z.PCT_ENCODED,de).replace(te.scheme?Z.NOT_PATH:Z.NOT_PATH_NOSCHEME,z).replace(Z.PCT_ENCODED,n)),te.query!==void 0&&(te.query=String(te.query).replace(Z.PCT_ENCODED,de).replace(Z.NOT_QUERY,z).replace(Z.PCT_ENCODED,n)),te.fragment!==void 0&&(te.fragment=String(te.fragment).replace(Z.PCT_ENCODED,de).replace(Z.NOT_FRAGMENT,z).replace(Z.PCT_ENCODED,n)),te}function ee(te){return te.replace(/^0*(.*)/,"$1")||"0"}function pe(te,Z){var de=te.match(Z.IPV4ADDRESS)||[],ie=u(de,2),oe=ie[1];return oe?oe.split(".").map(ee).join("."):te}function ne(te,Z){var de=te.match(Z.IPV6ADDRESS)||[],ie=u(de,3),oe=ie[1],$e=ie[2];if(oe){for(var ue=oe.toLowerCase().split("::").reverse(),he=u(ue,2),Et=he[0],ft=he[1],et=ft?ft.split(":").map(ee):[],Ft=Et.split(":").map(ee),Ot=Z.IPV4ADDRESS.test(Ft[Ft.length-1]),Mt=Ot?7:8,mt=Ft.length-Mt,kt=Array(Mt),Ct=0;Ct<Mt;++Ct)kt[Ct]=et[Ct]||Ft[mt+Ct]||"";Ot&&(kt[Mt-1]=pe(kt[Mt-1],Z));var wr=kt.reduce(function(cr,pr,Pr){if(!pr||pr==="0"){var fr=cr[cr.length-1];fr&&fr.index+fr.length===Pr?fr.length++:cr.push({index:Pr,length:1})}return cr},[]),ir=wr.sort(function(cr,pr){return pr.length-cr.length})[0],ar=void 0;if(ir&&ir.length>1){var xt=kt.slice(0,ir.index),nr=kt.slice(ir.index+ir.length);ar=xt.join(":")+"::"+nr.join(":")}else ar=kt.join(":");return $e&&(ar+="%"+$e),ar}else return te}var se=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Le="".match(/(){0}/)[1]===void 0;function ce(te){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de={},ie=Z.iri!==!1?p:d;Z.reference==="suffix"&&(te=(Z.scheme?Z.scheme+":":"")+"//"+te);var oe=te.match(se);if(oe){Le?(de.scheme=oe[1],de.userinfo=oe[3],de.host=oe[4],de.port=parseInt(oe[5],10),de.path=oe[6]||"",de.query=oe[7],de.fragment=oe[8],isNaN(de.port)&&(de.port=oe[5])):(de.scheme=oe[1]||void 0,de.userinfo=te.indexOf("@")!==-1?oe[3]:void 0,de.host=te.indexOf("//")!==-1?oe[4]:void 0,de.port=parseInt(oe[5],10),de.path=oe[6]||"",de.query=te.indexOf("?")!==-1?oe[7]:void 0,de.fragment=te.indexOf("#")!==-1?oe[8]:void 0,isNaN(de.port)&&(de.port=te.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?oe[4]:void 0)),de.host&&(de.host=ne(pe(de.host,ie),ie)),de.scheme===void 0&&de.userinfo===void 0&&de.host===void 0&&de.port===void 0&&!de.path&&de.query===void 0?de.reference="same-document":de.scheme===void 0?de.reference="relative":de.fragment===void 0?de.reference="absolute":de.reference="uri",Z.reference&&Z.reference!=="suffix"&&Z.reference!==de.reference&&(de.error=de.error||"URI is not a "+Z.reference+" reference.");var $e=Y[(Z.scheme||de.scheme||"").toLowerCase()];if(!Z.unicodeSupport&&(!$e||!$e.unicodeSupport)){if(de.host&&(Z.domainHost||$e&&$e.domainHost))try{de.host=j.toASCII(de.host.replace(ie.PCT_ENCODED,$).toLowerCase())}catch(ue){de.error=de.error||"Host's domain name can not be converted to ASCII via punycode: "+ue}W(de,d)}else W(de,ie);$e&&$e.parse&&$e.parse(de,Z)}else de.error=de.error||"URI can not be parsed.";return de}function fe(te,Z){var de=Z.iri!==!1?p:d,ie=[];return te.userinfo!==void 0&&(ie.push(te.userinfo),ie.push("@")),te.host!==void 0&&ie.push(ne(pe(String(te.host),de),de).replace(de.IPV6ADDRESS,function(oe,$e,ue){return"["+$e+(ue?"%25"+ue:"")+"]"})),(typeof te.port=="number"||typeof te.port=="string")&&(ie.push(":"),ie.push(String(te.port))),ie.length?ie.join(""):void 0}var bt=/^\.\.?\//,ge=/^\/\.(\/|$)/,Ie=/^\/\.\.(\/|$)/,mr=/^\/?(?:.|\n)*?(?=\/|$)/;function ve(te){for(var Z=[];te.length;)if(te.match(bt))te=te.replace(bt,"");else if(te.match(ge))te=te.replace(ge,"/");else if(te.match(Ie))te=te.replace(Ie,"/"),Z.pop();else if(te==="."||te==="..")te="";else{var de=te.match(mr);if(de){var ie=de[0];te=te.slice(ie.length),Z.push(ie)}else throw new Error("Unexpected dot segment condition")}return Z.join("")}function ye(te){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de=Z.iri?p:d,ie=[],oe=Y[(Z.scheme||te.scheme||"").toLowerCase()];if(oe&&oe.serialize&&oe.serialize(te,Z),te.host&&!de.IPV6ADDRESS.test(te.host)){if(Z.domainHost||oe&&oe.domainHost)try{te.host=Z.iri?j.toUnicode(te.host):j.toASCII(te.host.replace(de.PCT_ENCODED,$).toLowerCase())}catch(he){te.error=te.error||"Host's domain name can not be converted to "+(Z.iri?"Unicode":"ASCII")+" via punycode: "+he}}W(te,de),Z.reference!=="suffix"&&te.scheme&&(ie.push(te.scheme),ie.push(":"));var $e=fe(te,Z);if($e!==void 0&&(Z.reference!=="suffix"&&ie.push("//"),ie.push($e),te.path&&te.path.charAt(0)!=="/"&&ie.push("/")),te.path!==void 0){var ue=te.path;!Z.absolutePath&&(!oe||!oe.absolutePath)&&(ue=ve(ue)),$e===void 0&&(ue=ue.replace(/^\/\//,"/%2F")),ie.push(ue)}return te.query!==void 0&&(ie.push("?"),ie.push(te.query)),te.fragment!==void 0&&(ie.push("#"),ie.push(te.fragment)),ie.join("")}function Nr(te,Z){var de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ie=arguments[3],oe={};return ie||(te=ce(ye(te,de),de),Z=ce(ye(Z,de),de)),de=de||{},!de.tolerant&&Z.scheme?(oe.scheme=Z.scheme,oe.userinfo=Z.userinfo,oe.host=Z.host,oe.port=Z.port,oe.path=ve(Z.path||""),oe.query=Z.query):(Z.userinfo!==void 0||Z.host!==void 0||Z.port!==void 0?(oe.userinfo=Z.userinfo,oe.host=Z.host,oe.port=Z.port,oe.path=ve(Z.path||""),oe.query=Z.query):(Z.path?(Z.path.charAt(0)==="/"?oe.path=ve(Z.path):((te.userinfo!==void 0||te.host!==void 0||te.port!==void 0)&&!te.path?oe.path="/"+Z.path:te.path?oe.path=te.path.slice(0,te.path.lastIndexOf("/")+1)+Z.path:oe.path=Z.path,oe.path=ve(oe.path)),oe.query=Z.query):(oe.path=te.path,Z.query!==void 0?oe.query=Z.query:oe.query=te.query),oe.userinfo=te.userinfo,oe.host=te.host,oe.port=te.port),oe.scheme=te.scheme),oe.fragment=Z.fragment,oe}function Be(te,Z,de){var ie=s({scheme:"null"},de);return ye(Nr(ce(te,ie),ce(Z,ie),ie,!0),ie)}function we(te,Z){return typeof te=="string"?te=ye(ce(te,Z),Z):i(te)==="object"&&(te=ce(ye(te,Z),Z)),te}function qr(te,Z,de){return typeof te=="string"?te=ye(ce(te,de),de):i(te)==="object"&&(te=ye(te,de)),typeof Z=="string"?Z=ye(ce(Z,de),de):i(Z)==="object"&&(Z=ye(Z,de)),te===Z}function Ce(te,Z){return te&&te.toString().replace(!Z||!Z.iri?d.ESCAPE:p.ESCAPE,z)}function me(te,Z){return te&&te.toString().replace(!Z||!Z.iri?d.PCT_ENCODED:p.PCT_ENCODED,$)}var Ir={scheme:"http",domainHost:!0,parse:function(Z,de){return Z.host||(Z.error=Z.error||"HTTP URIs must have a host."),Z},serialize:function(Z,de){var ie=String(Z.scheme).toLowerCase()==="https";return(Z.port===(ie?443:80)||Z.port==="")&&(Z.port=void 0),Z.path||(Z.path="/"),Z}},be={scheme:"https",domainHost:Ir.domainHost,parse:Ir.parse,serialize:Ir.serialize};function Se(te){return typeof te.secure=="boolean"?te.secure:String(te.scheme).toLowerCase()==="wss"}var sr={scheme:"ws",domainHost:!0,parse:function(Z,de){var ie=Z;return ie.secure=Se(ie),ie.resourceName=(ie.path||"/")+(ie.query?"?"+ie.query:""),ie.path=void 0,ie.query=void 0,ie},serialize:function(Z,de){if((Z.port===(Se(Z)?443:80)||Z.port==="")&&(Z.port=void 0),typeof Z.secure=="boolean"&&(Z.scheme=Z.secure?"wss":"ws",Z.secure=void 0),Z.resourceName){var ie=Z.resourceName.split("?"),oe=u(ie,2),$e=oe[0],ue=oe[1];Z.path=$e&&$e!=="/"?$e:void 0,Z.query=ue,Z.resourceName=void 0}return Z.fragment=void 0,Z}},xe={scheme:"wss",domainHost:sr.domainHost,parse:sr.parse,serialize:sr.serialize},_e={},Zi=!0,Fe="[A-Za-z0-9\\-\\.\\_\\~"+(Zi?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Qe="[0-9A-Fa-f]",$i=r(r("%[EFef]"+Qe+"%"+Qe+Qe+"%"+Qe+Qe)+"|"+r("%[89A-Fa-f]"+Qe+"%"+Qe+Qe)+"|"+r("%"+Qe+Qe)),Oe="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Ne="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Xi=e(Ne,'[\\"\\\\]'),De="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Re=new RegExp(Fe,"g"),di=new RegExp($i,"g"),Ke=new RegExp(e("[^]",Oe,"[\\.]",'[\\"]',Xi),"g"),Pe=new RegExp(e("[^]",Fe,De),"g"),en=Pe;function Ue(te){var Z=$(te);return Z.match(Re)?Z:te}var Me={scheme:"mailto",parse:function(Z,de){var ie=Z,oe=ie.to=ie.path?ie.path.split(","):[];if(ie.path=void 0,ie.query){for(var $e=!1,ue={},he=ie.query.split("&"),Et=0,ft=he.length;Et<ft;++Et){var et=he[Et].split("=");switch(et[0]){case"to":for(var Ft=et[1].split(","),Ot=0,Mt=Ft.length;Ot<Mt;++Ot)oe.push(Ft[Ot]);break;case"subject":ie.subject=me(et[1],de);break;case"body":ie.body=me(et[1],de);break;default:$e=!0,ue[me(et[0],de)]=me(et[1],de);break}}$e&&(ie.headers=ue)}ie.query=void 0;for(var mt=0,kt=oe.length;mt<kt;++mt){var Ct=oe[mt].split("@");if(Ct[0]=me(Ct[0]),de.unicodeSupport)Ct[1]=me(Ct[1],de).toLowerCase();else try{Ct[1]=j.toASCII(me(Ct[1],de).toLowerCase())}catch(wr){ie.error=ie.error||"Email address's domain name can not be converted to ASCII via punycode: "+wr}oe[mt]=Ct.join("@")}return ie},serialize:function(Z,de){var ie=Z,oe=o(Z.to);if(oe){for(var $e=0,ue=oe.length;$e<ue;++$e){var he=String(oe[$e]),Et=he.lastIndexOf("@"),ft=he.slice(0,Et).replace(di,Ue).replace(di,n).replace(Ke,z),et=he.slice(Et+1);try{et=de.iri?j.toUnicode(et):j.toASCII(me(et,de).toLowerCase())}catch(mt){ie.error=ie.error||"Email address's domain name can not be converted to "+(de.iri?"Unicode":"ASCII")+" via punycode: "+mt}oe[$e]=ft+"@"+et}ie.path=oe.join(",")}var Ft=Z.headers=Z.headers||{};Z.subject&&(Ft.subject=Z.subject),Z.body&&(Ft.body=Z.body);var Ot=[];for(var Mt in Ft)Ft[Mt]!==_e[Mt]&&Ot.push(Mt.replace(di,Ue).replace(di,n).replace(Pe,z)+"="+Ft[Mt].replace(di,Ue).replace(di,n).replace(en,z));return Ot.length&&(ie.query=Ot.join("&")),ie}},tn=/^([^\:]+)\:(.*)/,ke={scheme:"urn",parse:function(Z,de){var ie=Z.path&&Z.path.match(tn),oe=Z;if(ie){var $e=de.scheme||oe.scheme||"urn",ue=ie[1].toLowerCase(),he=ie[2],Et=$e+":"+(de.nid||ue),ft=Y[Et];oe.nid=ue,oe.nss=he,oe.path=void 0,ft&&(oe=ft.parse(oe,de))}else oe.error=oe.error||"URN can not be parsed.";return oe},serialize:function(Z,de){var ie=de.scheme||Z.scheme||"urn",oe=Z.nid,$e=ie+":"+(de.nid||oe),ue=Y[$e];ue&&(Z=ue.serialize(Z,de));var he=Z,Et=Z.nss;return he.path=(oe||de.nid)+":"+Et,he}},qe=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Li={scheme:"urn:uuid",parse:function(Z,de){var ie=Z;return ie.uuid=ie.nss,ie.nss=void 0,!de.tolerant&&(!ie.uuid||!ie.uuid.match(qe))&&(ie.error=ie.error||"UUID is not valid."),ie},serialize:function(Z,de){var ie=Z;return ie.nss=(Z.uuid||"").toLowerCase(),ie}};Y[Ir.scheme]=Ir,Y[be.scheme]=be,Y[sr.scheme]=sr,Y[xe.scheme]=xe,Y[Me.scheme]=Me,Y[ke.scheme]=ke,Y[Li.scheme]=Li,t.SCHEMES=Y,t.pctEncChar=z,t.pctDecChars=$,t.parse=ce,t.removeDotSegments=ve,t.serialize=ye,t.resolveComponents=Nr,t.resolve=Be,t.normalize=we,t.equal=qr,t.escapeComponent=Ce,t.unescapeComponent=me,Object.defineProperty(t,"__esModule",{value:!0})})});var cue=X((O3t,aue)=>{"use strict";b();aue.exports=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((n,o,s)=>`${n}${s===0?"":","}${t(o===void 0||typeof o=="symbol"?null:o)}`,"")}]`:`{${Object.keys(e).sort().reduce((i,n)=>{if(e[n]===void 0||typeof e[n]=="symbol")return i;let o=i.length===0?"":",";return`${i}${o}${t(n)}:${t(e[n])}`},"")}}`}});var uue=X((G3t,due)=>{"use strict";b();function vHe(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var n=t.charAt(i),o=n.charCodeAt(0);if(e[o]!==255)throw new TypeError(n+" is ambiguous");e[o]=i}var s=t.length,f=t.charAt(0),d=Math.log(s)/Math.log(256),p=Math.log(256)/Math.log(s);function u(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length===0)return"";for(var C=0,x=0,_=0,Q=S.length;_!==Q&&S[_]===0;)_++,C++;for(var R=(Q-_)*p+1>>>0,k=new Uint8Array(R);_!==Q;){for(var K=S[_],T=0,L=R-1;(K!==0||T<x)&&L!==-1;L--,T++)K+=256*k[L]>>>0,k[L]=K%s>>>0,K=K/s>>>0;if(K!==0)throw new Error("Non-zero carry");x=T,_++}for(var H=R-x;H!==R&&k[H]===0;)H++;for(var O=f.repeat(C);H<R;++H)O+=t.charAt(k[H]);return O}function y(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return new Uint8Array;var C=0;if(S[C]!==" "){for(var x=0,_=0;S[C]===f;)x++,C++;for(var Q=(S.length-C)*d+1>>>0,R=new Uint8Array(Q);S[C];){var k=e[S.charCodeAt(C)];if(k===255)return;for(var K=0,T=Q-1;(k!==0||K<_)&&T!==-1;T--,K++)k+=s*R[T]>>>0,R[T]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");_=K,C++}if(S[C]!==" "){for(var L=Q-_;L!==Q&&R[L]===0;)L++;for(var H=new Uint8Array(x+(Q-L)),O=x;L!==Q;)H[O++]=R[L++];return H}}}function B(S){var C=y(S);if(C)return C;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:y,decode:B}}due.exports=vHe});var x4=X((z3t,hue)=>{"use strict";b();var bHe=new TextDecoder,EHe=t=>bHe.decode(t),BHe=new TextEncoder,CHe=t=>BHe.encode(t);function xHe(t,e){let r=new Uint8Array(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return r}hue.exports={decodeText:EHe,encodeText:CHe,concat:xHe}});var pue=X((J3t,lue)=>{"use strict";b();var{encodeText:SHe}=x4(),nO=class{constructor(e,r,i,n){this.name=e,this.code=r,this.codeBuf=SHe(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let r of e)if(this.alphabet&&this.alphabet.indexOf(r)<0)throw new Error(`invalid character '${r}' in '${e}'`);return this.codec.decode(e)}};lue.exports=nO});var gue=X((W3t,Aue)=>{"use strict";b();var _He=(t,e,r)=>{let i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let n=t.length;for(;t[n-1]==="=";)--n;let o=new Uint8Array(n*r/8|0),s=0,f=0,d=0;for(let p=0;p<n;++p){let u=i[t[p]];if(u===void 0)throw new SyntaxError("Invalid character "+t[p]);f=f<<r|u,s+=r,s>=8&&(s-=8,o[d++]=255&f>>s)}if(s>=r||255&f<<8-s)throw new SyntaxError("Unexpected end of data");return o},QHe=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,o="",s=0,f=0;for(let d=0;d<t.length;++d)for(f=f<<8|t[d],s+=8;s>r;)s-=r,o+=e[n&f>>s];if(s&&(o+=e[n&f<<r-s]),i)for(;o.length*r&7;)o+="=";return o},DHe=t=>e=>({encode(r){return QHe(r,e,t)},decode(r){return _He(r,e,t)}});Aue.exports={rfc4648:DHe}});var wue=X(($3t,Iue)=>{"use strict";b();var $B=uue(),MHe=pue(),{rfc4648:zo}=gue(),{decodeText:kHe,encodeText:THe}=x4(),RHe=()=>({encode:kHe,decode:THe}),yue=[["identity","\0",RHe,""],["base2","0",zo(1),"01"],["base8","7",zo(3),"01234567"],["base10","9",$B,"0123456789"],["base16","f",zo(4),"0123456789abcdef"],["base16upper","F",zo(4),"0123456789ABCDEF"],["base32hex","v",zo(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",zo(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",zo(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",zo(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",zo(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",zo(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",zo(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",zo(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",zo(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",$B,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",$B,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",$B,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",$B,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",zo(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",zo(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",zo(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",zo(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],mue=yue.reduce((t,e)=>(t[e[0]]=new MHe(e[0],e[1],e[2],e[3]),t),{}),UHe=yue.reduce((t,e)=>(t[e[1]]=mue[e[0]],t),{});Iue.exports={names:mue,codes:UHe}});var Eue=X((c0,bue)=>{"use strict";b();var jv=wue(),{encodeText:FHe,decodeText:S4,concat:vue}=x4();function NHe(t,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:r,codeBuf:i}=_m(t);return qHe(r,e),vue([i,e],i.length+e.length)}function PHe(t,e){let r=_m(t),i=FHe(r.encode(e));return vue([r.codeBuf,i],r.codeBuf.length+i.length)}function OHe(t){t instanceof Uint8Array&&(t=S4(t));let e=t[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(t=t.toLowerCase()),_m(t[0]).decode(t.substring(1))}function KHe(t){if(t instanceof Uint8Array&&(t=S4(t)),Object.prototype.toString.call(t)!=="[object String]")return!1;try{return _m(t[0]).name}catch{return!1}}function qHe(t,e){_m(t).decode(S4(e))}function _m(t){if(Object.prototype.hasOwnProperty.call(jv.names,t))return jv.names[t];if(Object.prototype.hasOwnProperty.call(jv.codes,t))return jv.codes[t];throw new Error(`Unsupported encoding: ${t}`)}function LHe(t){return t instanceof Uint8Array&&(t=S4(t)),_m(t[0])}c0=bue.exports=NHe;c0.encode=PHe;c0.decode=OHe;c0.isEncoded=KHe;c0.encoding=_m;c0.encodingFromData=LHe;var HHe=Object.freeze(jv.names),GHe=Object.freeze(jv.codes);c0.names=HHe;c0.codes=GHe});var Sue=X((t8t,xue)=>{b();xue.exports=Cue;var Bue=128,jHe=127,zHe=~jHe,YHe=Math.pow(2,31);function Cue(t,e,r){e=e||[],r=r||0;for(var i=r;t>=YHe;)e[r++]=t&255|Bue,t/=128;for(;t&zHe;)e[r++]=t&255|Bue,t>>>=7;return e[r]=t|0,Cue.bytes=r-i+1,e}});var Due=X((i8t,Que)=>{b();Que.exports=oO;var JHe=128,_ue=127;function oO(t,i){var r=0,i=i||0,n=0,o=i,s,f=t.length;do{if(o>=f)throw oO.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&_ue)<<n:(s&_ue)*Math.pow(2,n),n+=7}while(s>=JHe);return oO.bytes=o-i,r}});var kue=X((o8t,Mue)=>{b();var VHe=Math.pow(2,7),WHe=Math.pow(2,14),ZHe=Math.pow(2,21),$He=Math.pow(2,28),XHe=Math.pow(2,35),eGe=Math.pow(2,42),tGe=Math.pow(2,49),rGe=Math.pow(2,56),iGe=Math.pow(2,63);Mue.exports=function(t){return t<VHe?1:t<WHe?2:t<ZHe?3:t<$He?4:t<XHe?5:t<eGe?6:t<tGe?7:t<rGe?8:t<iGe?9:10}});var Rue=X((a8t,Tue)=>{b();Tue.exports={encode:Sue(),decode:Due(),encodingLength:kue()}});var Fue=X((f8t,Uue)=>{"use strict";b();var nGe=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});Uue.exports={names:nGe}});function oGe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=n}var f=t.length,d=t.charAt(0),p=Math.log(f)/Math.log(256),u=Math.log(256)/Math.log(f);function y(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var x=0,_=0,Q=0,R=C.length;Q!==R&&C[Q]===0;)Q++,x++;for(var k=(R-Q)*u+1>>>0,K=new Uint8Array(k);Q!==R;){for(var T=C[Q],L=0,H=k-1;(T!==0||L<_)&&H!==-1;H--,L++)T+=256*K[H]>>>0,K[H]=T%f>>>0,T=T/f>>>0;if(T!==0)throw new Error("Non-zero carry");_=L,Q++}for(var O=k-_;O!==k&&K[O]===0;)O++;for(var G=d.repeat(x);O<k;++O)G+=t.charAt(K[O]);return G}function B(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var x=0;if(C[x]!==" "){for(var _=0,Q=0;C[x]===d;)_++,x++;for(var R=(C.length-x)*p+1>>>0,k=new Uint8Array(R);C[x];){var K=r[C.charCodeAt(x)];if(K===255)return;for(var T=0,L=R-1;(K!==0||T<Q)&&L!==-1;L--,T++)K+=f*k[L]>>>0,k[L]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");Q=T,x++}if(C[x]!==" "){for(var H=R-Q;H!==R&&k[H]===0;)H++;for(var O=new Uint8Array(_+(R-H)),G=_;H!==R;)O[G++]=k[H++];return O}}}function S(C){var x=B(C);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:B,decode:S}}var sGe,aGe,Nue,Pue=ii(()=>{b();sGe=oGe,aGe=sGe,Nue=aGe});var l8t,Oue,f0,Kue,que,gA=ii(()=>{b();l8t=new Uint8Array(0),Oue=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},f0=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Kue=t=>new TextEncoder().encode(t),que=t=>new TextDecoder().decode(t)});var sO,aO,cO,Hue,fO,zv,yA,cGe,fGe,xn,Ud=ii(()=>{b();Pue();gA();sO=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},aO=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Hue(this,e)}},cO=class{constructor(e){this.decoders=e}or(e){return Hue(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Hue=(t,e)=>new cO({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),fO=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new sO(e,r,i),this.decoder=new aO(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},zv=({name:t,prefix:e,encode:r,decode:i})=>new fO(t,e,r,i),yA=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=Nue(r,e);return zv({prefix:t,name:e,encode:i,decode:o=>f0(n(o))})},cGe=(t,e,r,i)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),f=0,d=0,p=0;for(let u=0;u<o;++u){let y=n[t[u]];if(y===void 0)throw new SyntaxError(`Non-${i} character`);d=d<<r|y,f+=r,f>=8&&(f-=8,s[p++]=255&d>>f)}if(f>=r||255&d<<8-f)throw new SyntaxError("Unexpected end of data");return s},fGe=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,o="",s=0,f=0;for(let d=0;d<t.length;++d)for(f=f<<8|t[d],s+=8;s>r;)s-=r,o+=e[n&f>>s];if(s&&(o+=e[n&f<<r-s]),i)for(;o.length*r&7;)o+="=";return o},xn=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>zv({prefix:e,name:t,encode(n){return fGe(n,i,r)},decode(n){return cGe(n,i,r,t)}})});var dO={};Tt(dO,{identity:()=>dGe});var dGe,Gue=ii(()=>{b();Ud();gA();dGe=zv({prefix:"\0",name:"identity",encode:t=>que(t),decode:t=>Kue(t)})});var uO={};Tt(uO,{base2:()=>uGe});var uGe,jue=ii(()=>{b();Ud();uGe=xn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var hO={};Tt(hO,{base8:()=>hGe});var hGe,zue=ii(()=>{b();Ud();hGe=xn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var lO={};Tt(lO,{base10:()=>lGe});var lGe,Yue=ii(()=>{b();Ud();lGe=yA({prefix:"9",name:"base10",alphabet:"0123456789"})});var pO={};Tt(pO,{base16:()=>pGe,base16upper:()=>AGe});var pGe,AGe,Jue=ii(()=>{b();Ud();pGe=xn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),AGe=xn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var AO={};Tt(AO,{base32:()=>Yv,base32hex:()=>IGe,base32hexpad:()=>vGe,base32hexpadupper:()=>bGe,base32hexupper:()=>wGe,base32pad:()=>yGe,base32padupper:()=>mGe,base32upper:()=>gGe,base32z:()=>EGe});var Yv,gGe,yGe,mGe,IGe,wGe,vGe,bGe,EGe,gO=ii(()=>{b();Ud();Yv=xn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gGe=xn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),yGe=xn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),mGe=xn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),IGe=xn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),wGe=xn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vGe=xn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),bGe=xn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),EGe=xn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var yO={};Tt(yO,{base36:()=>BGe,base36upper:()=>CGe});var BGe,CGe,Vue=ii(()=>{b();Ud();BGe=yA({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),CGe=yA({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var mO={};Tt(mO,{base58btc:()=>hh,base58flickr:()=>xGe});var hh,xGe,IO=ii(()=>{b();Ud();hh=yA({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xGe=yA({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var wO={};Tt(wO,{base64:()=>SGe,base64pad:()=>_Ge,base64url:()=>QGe,base64urlpad:()=>DGe});var SGe,_Ge,QGe,DGe,Wue=ii(()=>{b();Ud();SGe=xn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),_Ge=xn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),QGe=xn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),DGe=xn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var vO={};Tt(vO,{base256emoji:()=>UGe});function TGe(t){return t.reduce((e,r)=>(e+=MGe[r],e),"")}function RGe(t){let e=[];for(let r of t){let i=kGe[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}var Zue,MGe,kGe,UGe,$ue=ii(()=>{b();Ud();Zue=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),MGe=Zue.reduce((t,e,r)=>(t[r]=e,t),[]),kGe=Zue.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);UGe=zv({prefix:"\u{1F680}",name:"base256emoji",encode:TGe,decode:RGe})});function the(t,e,r){e=e||[],r=r||0;for(var i=r;t>=OGe;)e[r++]=t&255|Xue,t/=128;for(;t&PGe;)e[r++]=t&255|Xue,t>>>=7;return e[r]=t|0,the.bytes=r-i+1,e}function bO(t,i){var r=0,i=i||0,n=0,o=i,s,f=t.length;do{if(o>=f)throw bO.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&ehe)<<n:(s&ehe)*Math.pow(2,n),n+=7}while(s>=qGe);return bO.bytes=o-i,r}var FGe,Xue,NGe,PGe,OGe,KGe,qGe,ehe,LGe,HGe,GGe,jGe,zGe,YGe,JGe,VGe,WGe,ZGe,$Ge,XGe,XB,rhe=ii(()=>{b();FGe=the,Xue=128,NGe=127,PGe=~NGe,OGe=Math.pow(2,31);KGe=bO,qGe=128,ehe=127;LGe=Math.pow(2,7),HGe=Math.pow(2,14),GGe=Math.pow(2,21),jGe=Math.pow(2,28),zGe=Math.pow(2,35),YGe=Math.pow(2,42),JGe=Math.pow(2,49),VGe=Math.pow(2,56),WGe=Math.pow(2,63),ZGe=function(t){return t<LGe?1:t<HGe?2:t<GGe?3:t<jGe?4:t<zGe?5:t<YGe?6:t<JGe?7:t<VGe?8:t<WGe?9:10},$Ge={encode:FGe,decode:KGe,encodingLength:ZGe},XGe=$Ge,XB=XGe});var eC,Jv,Vv,Q4=ii(()=>{b();rhe();eC=(t,e=0)=>[XB.decode(t,e),XB.decode.bytes],Jv=(t,e,r=0)=>(XB.encode(t,e,r),e),Vv=t=>XB.encodingLength(t)});var Qm,ihe,nhe,Wv,rC=ii(()=>{b();gA();Q4();Qm=(t,e)=>{let r=e.byteLength,i=Vv(t),n=i+Vv(r),o=new Uint8Array(n+r);return Jv(t,o,0),Jv(r,o,i),o.set(e,n),new Wv(t,r,e,o)},ihe=t=>{let e=f0(t),[r,i]=eC(e),[n,o]=eC(e.subarray(i)),s=e.subarray(i+o);if(s.byteLength!==n)throw new Error("Incorrect length");return new Wv(r,n,s,e)},nhe=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&Oue(t.bytes,e.bytes),Wv=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}}});var BO,EO,CO=ii(()=>{b();rC();BO=({name:t,code:e,encode:r})=>new EO(t,e,r),EO=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Qm(this.code,r):r.then(i=>Qm(this.code,i))}else throw Error("Unknown type, must be binary type")}}});var xO={};Tt(xO,{sha256:()=>eje,sha512:()=>tje});var she,eje,tje,ahe=ii(()=>{b();CO();she=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),eje=BO({name:"sha2-256",code:18,encode:she("SHA-256")}),tje=BO({name:"sha2-512",code:19,encode:she("SHA-512")})});var SO={};Tt(SO,{identity:()=>nje});var che,rje,fhe,ije,nje,dhe=ii(()=>{b();gA();rC();che=0,rje="identity",fhe=f0,ije=t=>Qm(che,fhe(t)),nje={code:che,name:rje,encode:fhe,digest:ije}});var uhe=ii(()=>{b();gA()});var X8t,e6t,hhe=ii(()=>{b();X8t=new TextEncoder,e6t=new TextDecoder});var k4,aje,cje,fje,iC,dje,lhe,phe,D4,M4,uje,hje,lje,Ahe=ii(()=>{b();Q4();rC();IO();gO();gA();k4=class t{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:M4,byteLength:M4,code:D4,version:D4,multihash:D4,bytes:D4,_baseCache:M4,asCID:M4})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==iC)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==dje)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=Qm(e,r);return t.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&nhe(this.multihash,e.multihash)}toString(e){let{bytes:r,version:i,_baseCache:n}=this;switch(i){case 0:return cje(r,n,e||hh.encoder);default:return fje(r,n,e||Yv.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return hje(/^0\.0/,lje),!!(e&&(e[phe]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof t)return e;if(e!=null&&e.asCID===e){let{version:r,code:i,multihash:n,bytes:o}=e;return new t(r,i,n,o||lhe(r,i,n.bytes))}else if(e!=null&&e[phe]===!0){let{version:r,multihash:i,code:n}=e,o=ihe(i);return t.create(r,n,o)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==iC)throw new Error(`Version 0 CID must use dag-pb (code: ${iC}) block encoding`);return new t(e,r,i,i.bytes)}case 1:{let n=lhe(e,r,i.bytes);return new t(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,iC,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,i]=t.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),i=r.size-r.multihashSize,n=f0(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=n.subarray(r.multihashSize-r.digestSize),s=new Wv(r.multihashCode,r.digestSize,o,n);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[y,B]=eC(e.subarray(r));return r+=B,y},n=i(),o=iC;if(n===18?(n=0,r=0):n===1&&(o=i()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=r,f=i(),d=i(),p=r+d,u=p-s;return{version:n,codec:o,multihashCode:f,digestSize:d,multihashSize:u,size:p}}static parse(e,r){let[i,n]=aje(e,r),o=t.decode(n);return o._baseCache.set(i,e),o}},aje=(t,e)=>{switch(t[0]){case"Q":{let r=e||hh;return[hh.prefix,r.decode(`${hh.prefix}${t}`)]}case hh.prefix:{let r=e||hh;return[hh.prefix,r.decode(t)]}case Yv.prefix:{let r=e||Yv;return[Yv.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},cje=(t,e,r)=>{let{prefix:i}=r;if(i!==hh.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let o=r.encode(t).slice(1);return e.set(i,o),o}else return n},fje=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let o=r.encode(t);return e.set(i,o),o}else return n},iC=112,dje=18,lhe=(t,e,r)=>{let i=Vv(t),n=i+Vv(e),o=new Uint8Array(n+r.byteLength);return Jv(t,o,0),Jv(e,o,i),o.set(r,n),o},phe=Symbol.for("@ipld/js-cid/CID"),D4={writable:!1,configurable:!1,enumerable:!0},M4={writable:!1,enumerable:!1,configurable:!1},uje="0.0.0-dev",hje=(t,e)=>{if(t.test(uje))console.warn(e);else throw new Error(e)},lje=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var ghe=ii(()=>{b();Ahe();Q4();gA();CO();rC()});var _O,u6t,yhe=ii(()=>{b();Gue();jue();zue();Yue();Jue();gO();Vue();IO();Wue();$ue();ahe();dhe();uhe();hhe();ghe();_O={...dO,...uO,...hO,...lO,...pO,...AO,...yO,...mO,...wO,...vO},u6t={...xO,...SO}});function Zv(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}var T4=ii(()=>{b()});function R4(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Zv(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}var QO=ii(()=>{b();T4()});function Ihe(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}var mhe,DO,pje,U4,MO=ii(()=>{b();yhe();QO();mhe=Ihe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),DO=Ihe("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=R4(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),pje={utf8:mhe,"utf-8":mhe,hex:_O.base16,latin1:DO,ascii:DO,binary:DO,..._O},U4=pje});var whe={};Tt(whe,{toString:()=>Aje});function Aje(t,e="utf8"){let r=U4[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var vhe=ii(()=>{b();MO()});var bhe={};Tt(bhe,{fromString:()=>gje});function gje(t,e="utf8"){let r=U4[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Zv(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var Ehe=ii(()=>{b();MO();T4()});var Bhe={};Tt(Bhe,{concat:()=>yje});function yje(t,e){e||(e=t.reduce((n,o)=>n+o.length,0));let r=R4(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return Zv(r)}var Che=ii(()=>{b();QO();T4()});var khe=X((M6t,Mhe)=>{"use strict";b();var xhe=Eue(),$v=Rue(),{names:nC}=Fue(),{toString:F4}=(vhe(),_8(whe)),{fromString:mje}=(Ehe(),_8(bhe)),{concat:Ije}=(Che(),_8(Bhe)),Xv={};for(let t in nC){let e=t;Xv[nC[e]]=e}Object.freeze(Xv);function wje(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return F4(t,"base16")}function vje(t){return mje(t,"base16")}function bje(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return F4(xhe.encode("base58btc",t)).slice(1)}function Eje(t){let e=t instanceof Uint8Array?F4(t):t;return xhe.decode("z"+e)}function She(t){if(!(t instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(t.length<2)throw new Error("multihash too short. must be > 2 bytes.");let e=$v.decode(t);if(!Qhe(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);t=t.slice($v.decode.bytes);let r=$v.decode(t);if(r<0)throw new Error(`multihash invalid length: ${r}`);if(t=t.slice($v.decode.bytes),t.length!==r)throw new Error(`multihash length inconsistent: 0x${F4(t,"base16")}`);return{code:e,name:Xv[e],length:r,digest:t}}function Bje(t,e,r){if(!t||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");let i=_he(e);if(!(t instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(r==null&&(r=t.length),r&&t.length!==r)throw new Error("digest length should be equal to specified length.");let n=$v.encode(i),o=$v.encode(r);return Ije([n,o,t],n.length+o.length+t.length)}function _he(t){let e=t;if(typeof t=="string"){if(nC[t]===void 0)throw new Error(`Unrecognized hash function named: ${t}`);e=nC[t]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(Xv[e]===void 0&&!kO(e))throw new Error(`Unrecognized function code: ${e}`);return e}function kO(t){return t>0&&t<16}function Qhe(t){return!!(kO(t)||Xv[t])}function Dhe(t){She(t)}function Cje(t){return Dhe(t),t.subarray(0,2)}Mhe.exports={names:nC,codes:Xv,toHexString:wje,fromHexString:vje,toB58String:bje,fromB58String:Eje,decode:She,encode:Bje,coerceCode:_he,isAppCode:kO,validate:Dhe,prefix:Cje,isValidCode:Qhe}});var fK=X((A_t,wle)=>{b();var nb=1e3,ob=nb*60,sb=ob*60,Rm=sb*24,aze=Rm*7,cze=Rm*365.25;wle.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return fze(t);if(r==="number"&&isFinite(t))return e.long?uze(t):dze(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function fze(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*cze;case"weeks":case"week":case"w":return r*aze;case"days":case"day":case"d":return r*Rm;case"hours":case"hour":case"hrs":case"hr":case"h":return r*sb;case"minutes":case"minute":case"mins":case"min":case"m":return r*ob;case"seconds":case"second":case"secs":case"sec":case"s":return r*nb;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function dze(t){var e=Math.abs(t);return e>=Rm?Math.round(t/Rm)+"d":e>=sb?Math.round(t/sb)+"h":e>=ob?Math.round(t/ob)+"m":e>=nb?Math.round(t/nb)+"s":t+"ms"}function uze(t){var e=Math.abs(t);return e>=Rm?W4(t,e,Rm,"day"):e>=sb?W4(t,e,sb,"hour"):e>=ob?W4(t,e,ob,"minute"):e>=nb?W4(t,e,nb,"second"):t+" ms"}function W4(t,e,r,i){var n=e>=r*1.5;return Math.round(t/r)+" "+i+(n?"s":"")}});var g0e=X((Ckt,A0e)=>{b();var aJe=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;A0e.exports=aJe});var m0e=X((Skt,y0e)=>{b();var cJe=g0e(),fJe=typeof self=="object"&&self&&self.Object===Object&&self,dJe=cJe||fJe||Function("return this")();y0e.exports=dJe});var GK=X((Qkt,I0e)=>{b();var uJe=m0e(),hJe=uJe.Symbol;I0e.exports=hJe});var E0e=X((Mkt,b0e)=>{b();var w0e=GK(),v0e=Object.prototype,lJe=v0e.hasOwnProperty,pJe=v0e.toString,FC=w0e?w0e.toStringTag:void 0;function AJe(t){var e=lJe.call(t,FC),r=t[FC];try{t[FC]=void 0;var i=!0}catch{}var n=pJe.call(t);return i&&(e?t[FC]=r:delete t[FC]),n}b0e.exports=AJe});var C0e=X((Tkt,B0e)=>{b();var gJe=Object.prototype,yJe=gJe.toString;function mJe(t){return yJe.call(t)}B0e.exports=mJe});var Q0e=X((Ukt,_0e)=>{b();var x0e=GK(),IJe=E0e(),wJe=C0e(),vJe="[object Null]",bJe="[object Undefined]",S0e=x0e?x0e.toStringTag:void 0;function EJe(t){return t==null?t===void 0?bJe:vJe:S0e&&S0e in Object(t)?IJe(t):wJe(t)}_0e.exports=EJe});var M0e=X((Nkt,D0e)=>{b();function BJe(t,e){return function(r){return t(e(r))}}D0e.exports=BJe});var T0e=X((Okt,k0e)=>{b();var CJe=M0e(),xJe=CJe(Object.getPrototypeOf,Object);k0e.exports=xJe});var U0e=X((qkt,R0e)=>{b();function SJe(t){return t!=null&&typeof t=="object"}R0e.exports=SJe});var P0e=X((Hkt,N0e)=>{b();var _Je=Q0e(),QJe=T0e(),DJe=U0e(),MJe="[object Object]",kJe=Function.prototype,TJe=Object.prototype,F0e=kJe.toString,RJe=TJe.hasOwnProperty,UJe=F0e.call(Object);function FJe(t){if(!DJe(t)||_Je(t)!=MJe)return!1;var e=QJe(t);if(e===null)return!0;var r=RJe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&F0e.call(r)==UJe}N0e.exports=FJe});var Fa=X((H9t,_Ae)=>{"use strict";b();function SAe(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function MWe(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return SAe(t,r)}catch{r.message=t.message,r.stack=t.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(t)),SAe(new n,r)}}_Ae.exports=MWe});var Bye=X((Mx,X5)=>{b();(function(t,e){"use strict";var r={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function i(S){if(!Array.isArray(S)&&!ArrayBuffer.isView(S))return!1;for(var C=0;C<S.length;C++)if(!Number.isInteger(S[C])||S[C]<0||S[C]>255)return!1;return!0}function n(S,C){return(S&65535)*C+(((S>>>16)*C&65535)<<16)}function o(S,C){return S<<C|S>>>32-C}function s(S){return S^=S>>>16,S=n(S,2246822507),S^=S>>>13,S=n(S,3266489909),S^=S>>>16,S}function f(S,C){S=[S[0]>>>16,S[0]&65535,S[1]>>>16,S[1]&65535],C=[C[0]>>>16,C[0]&65535,C[1]>>>16,C[1]&65535];var x=[0,0,0,0];return x[3]+=S[3]+C[3],x[2]+=x[3]>>>16,x[3]&=65535,x[2]+=S[2]+C[2],x[1]+=x[2]>>>16,x[2]&=65535,x[1]+=S[1]+C[1],x[0]+=x[1]>>>16,x[1]&=65535,x[0]+=S[0]+C[0],x[0]&=65535,[x[0]<<16|x[1],x[2]<<16|x[3]]}function d(S,C){S=[S[0]>>>16,S[0]&65535,S[1]>>>16,S[1]&65535],C=[C[0]>>>16,C[0]&65535,C[1]>>>16,C[1]&65535];var x=[0,0,0,0];return x[3]+=S[3]*C[3],x[2]+=x[3]>>>16,x[3]&=65535,x[2]+=S[2]*C[3],x[1]+=x[2]>>>16,x[2]&=65535,x[2]+=S[3]*C[2],x[1]+=x[2]>>>16,x[2]&=65535,x[1]+=S[1]*C[3],x[0]+=x[1]>>>16,x[1]&=65535,x[1]+=S[2]*C[2],x[0]+=x[1]>>>16,x[1]&=65535,x[1]+=S[3]*C[1],x[0]+=x[1]>>>16,x[1]&=65535,x[0]+=S[0]*C[3]+S[1]*C[2]+S[2]*C[1]+S[3]*C[0],x[0]&=65535,[x[0]<<16|x[1],x[2]<<16|x[3]]}function p(S,C){return C%=64,C===32?[S[1],S[0]]:C<32?[S[0]<<C|S[1]>>>32-C,S[1]<<C|S[0]>>>32-C]:(C-=32,[S[1]<<C|S[0]>>>32-C,S[0]<<C|S[1]>>>32-C])}function u(S,C){return C%=64,C===0?S:C<32?[S[0]<<C|S[1]>>>32-C,S[1]<<C]:[S[1]<<C-32,0]}function y(S,C){return[S[0]^C[0],S[1]^C[1]]}function B(S){return S=y(S,[0,S[0]>>>1]),S=d(S,[4283543511,3981806797]),S=y(S,[0,S[0]>>>1]),S=d(S,[3301882366,444984403]),S=y(S,[0,S[0]>>>1]),S}r.x86.hash32=function(S,C){if(r.inputValidation&&!i(S))return e;C=C||0;for(var x=S.length%4,_=S.length-x,Q=C,R=0,k=3432918353,K=461845907,T=0;T<_;T=T+4)R=S[T]|S[T+1]<<8|S[T+2]<<16|S[T+3]<<24,R=n(R,k),R=o(R,15),R=n(R,K),Q^=R,Q=o(Q,13),Q=n(Q,5)+3864292196;switch(R=0,x){case 3:R^=S[T+2]<<16;case 2:R^=S[T+1]<<8;case 1:R^=S[T],R=n(R,k),R=o(R,15),R=n(R,K),Q^=R}return Q^=S.length,Q=s(Q),Q>>>0},r.x86.hash128=function(S,C){if(r.inputValidation&&!i(S))return e;C=C||0;for(var x=S.length%16,_=S.length-x,Q=C,R=C,k=C,K=C,T=0,L=0,H=0,O=0,G=597399067,v=2869860233,a=951274213,h=2716044179,g=0;g<_;g=g+16)T=S[g]|S[g+1]<<8|S[g+2]<<16|S[g+3]<<24,L=S[g+4]|S[g+5]<<8|S[g+6]<<16|S[g+7]<<24,H=S[g+8]|S[g+9]<<8|S[g+10]<<16|S[g+11]<<24,O=S[g+12]|S[g+13]<<8|S[g+14]<<16|S[g+15]<<24,T=n(T,G),T=o(T,15),T=n(T,v),Q^=T,Q=o(Q,19),Q+=R,Q=n(Q,5)+1444728091,L=n(L,v),L=o(L,16),L=n(L,a),R^=L,R=o(R,17),R+=k,R=n(R,5)+197830471,H=n(H,a),H=o(H,17),H=n(H,h),k^=H,k=o(k,15),k+=K,k=n(k,5)+2530024501,O=n(O,h),O=o(O,18),O=n(O,G),K^=O,K=o(K,13),K+=Q,K=n(K,5)+850148119;switch(T=0,L=0,H=0,O=0,x){case 15:O^=S[g+14]<<16;case 14:O^=S[g+13]<<8;case 13:O^=S[g+12],O=n(O,h),O=o(O,18),O=n(O,G),K^=O;case 12:H^=S[g+11]<<24;case 11:H^=S[g+10]<<16;case 10:H^=S[g+9]<<8;case 9:H^=S[g+8],H=n(H,a),H=o(H,17),H=n(H,h),k^=H;case 8:L^=S[g+7]<<24;case 7:L^=S[g+6]<<16;case 6:L^=S[g+5]<<8;case 5:L^=S[g+4],L=n(L,v),L=o(L,16),L=n(L,a),R^=L;case 4:T^=S[g+3]<<24;case 3:T^=S[g+2]<<16;case 2:T^=S[g+1]<<8;case 1:T^=S[g],T=n(T,G),T=o(T,15),T=n(T,v),Q^=T}return Q^=S.length,R^=S.length,k^=S.length,K^=S.length,Q+=R,Q+=k,Q+=K,R+=Q,k+=Q,K+=Q,Q=s(Q),R=s(R),k=s(k),K=s(K),Q+=R,Q+=k,Q+=K,R+=Q,k+=Q,K+=Q,("00000000"+(Q>>>0).toString(16)).slice(-8)+("00000000"+(R>>>0).toString(16)).slice(-8)+("00000000"+(k>>>0).toString(16)).slice(-8)+("00000000"+(K>>>0).toString(16)).slice(-8)},r.x64.hash128=function(S,C){if(r.inputValidation&&!i(S))return e;C=C||0;for(var x=S.length%16,_=S.length-x,Q=[0,C],R=[0,C],k=[0,0],K=[0,0],T=[2277735313,289559509],L=[1291169091,658871167],H=0;H<_;H=H+16)k=[S[H+4]|S[H+5]<<8|S[H+6]<<16|S[H+7]<<24,S[H]|S[H+1]<<8|S[H+2]<<16|S[H+3]<<24],K=[S[H+12]|S[H+13]<<8|S[H+14]<<16|S[H+15]<<24,S[H+8]|S[H+9]<<8|S[H+10]<<16|S[H+11]<<24],k=d(k,T),k=p(k,31),k=d(k,L),Q=y(Q,k),Q=p(Q,27),Q=f(Q,R),Q=f(d(Q,[0,5]),[0,1390208809]),K=d(K,L),K=p(K,33),K=d(K,T),R=y(R,K),R=p(R,31),R=f(R,Q),R=f(d(R,[0,5]),[0,944331445]);switch(k=[0,0],K=[0,0],x){case 15:K=y(K,u([0,S[H+14]],48));case 14:K=y(K,u([0,S[H+13]],40));case 13:K=y(K,u([0,S[H+12]],32));case 12:K=y(K,u([0,S[H+11]],24));case 11:K=y(K,u([0,S[H+10]],16));case 10:K=y(K,u([0,S[H+9]],8));case 9:K=y(K,[0,S[H+8]]),K=d(K,L),K=p(K,33),K=d(K,T),R=y(R,K);case 8:k=y(k,u([0,S[H+7]],56));case 7:k=y(k,u([0,S[H+6]],48));case 6:k=y(k,u([0,S[H+5]],40));case 5:k=y(k,u([0,S[H+4]],32));case 4:k=y(k,u([0,S[H+3]],24));case 3:k=y(k,u([0,S[H+2]],16));case 2:k=y(k,u([0,S[H+1]],8));case 1:k=y(k,[0,S[H]]),k=d(k,T),k=p(k,31),k=d(k,L),Q=y(Q,k)}return Q=y(Q,[0,S.length]),R=y(R,[0,S.length]),Q=f(Q,R),R=f(R,Q),Q=B(Q),R=B(R),Q=f(Q,R),R=f(R,Q),("00000000"+(Q[0]>>>0).toString(16)).slice(-8)+("00000000"+(Q[1]>>>0).toString(16)).slice(-8)+("00000000"+(R[0]>>>0).toString(16)).slice(-8)+("00000000"+(R[1]>>>0).toString(16)).slice(-8)},typeof Mx<"u"?(typeof X5<"u"&&X5.exports&&(Mx=X5.exports=r),Mx.murmurHash3=r):typeof define=="function"&&define.amd?define([],function(){return r}):(r._murmurHash3=t.murmurHash3,r.noConflict=function(){return t.murmurHash3=r._murmurHash3,r._murmurHash3=e,r.noConflict=e,r},t.murmurHash3=r)})(Mx)});var xye=X((aqt,Cye)=>{b();Cye.exports=Bye()});var Qye=X((gqt,_ye)=>{"use strict";b();_ye.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,r){let i=this._internalPositionFor(e,!1);if(r===void 0)i!==-1&&(this._unsetInternalPos(i),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let n=!1;i===-1?(i=this._data.length,this._setBit(e),this._changedData=!0):n=!0,this._setInternalPos(i,e,r,n),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();let r=this._internalPositionFor(e,!0);if(r!==-1)return this._data[r][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){let e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let r=0;for(;r<this.length;)e(this.get(r),r,this),r++}map(e){let r=0,i=new Array(this.length);for(;r<this.length;)i[r]=e(this.get(r),r,this),r++;return i}reduce(e,r){let i=0,n=r;for(;i<this.length;){let o=this.get(i);n=e(n,o,i),i++}return n}find(e){let r=0,i,n;for(;r<this.length&&!i;)n=this.get(r),i=e(n),r++;return i?n:void 0}_internalPositionFor(e,r){let i=this._bytePosFor(e,r);if(i>=this._bitArrays.length)return-1;let n=this._bitArrays[i],o=e-i*7;if(!((n&1<<o)>0))return-1;let f=this._bitArrays.slice(0,i).reduce(Oet,0),d=~(4294967295<<o+1),p=Sye(n&d);return f+p-1}_bytePosFor(e,r){let i=Math.floor(e/7),n=i+1;for(;!r&&this._bitArrays.length<n;)this._bitArrays.push(0);return i}_setBit(e){let r=this._bytePosFor(e,!1);this._bitArrays[r]|=1<<e-r*7}_unsetBit(e){let r=this._bytePosFor(e,!1);this._bitArrays[r]&=~(1<<e-r*7)}_setInternalPos(e,r,i,n){let o=this._data,s=[r,i];if(n)this._sortData(),o[e]=s;else{if(o.length)if(o[o.length-1][0]>=r)o.push(s);else if(o[0][0]<=r)o.unshift(s);else{let f=Math.round(o.length/2);this._data=o.slice(0,f).concat(s).concat(o.slice(f))}else this._data.push(s);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(Ket),this._changedData=!1}bitField(){let e=[],r=8,i=0,n=0,o,s=this._bitArrays.slice();for(;s.length||i;){i===0&&(o=s.shift(),i=7);let d=Math.min(i,r),p=~(255<<d),u=o&p;n|=u<<8-r,o=o>>>d,i-=d,r-=d,(!r||!i&&!s.length)&&(e.push(n),n=0,r=8)}for(var f=e.length-1;f>0&&e[f]===0;f--)e.pop();return e}compactArray(){return this._sortData(),this._data.map(qet)}};function Oet(t,e){return t+Sye(e)}function Sye(t){let e=t;return e=e-(e>>1&1431655765),e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>24}function Ket(t,e){return t[0]-e[0]}function qet(t){return t[1]}});var jye=X((rH,iH)=>{b();(function(t,e){typeof rH=="object"&&typeof iH<"u"?iH.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.JSBI=e())})(rH,function(){"use strict";var t=Math.imul,e=Math.clz32;function r(O){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},r(O)}function i(O,G){if(!(O instanceof G))throw new TypeError("Cannot call a class as a function")}function n(O,G){for(var v,a=0;a<G.length;a++)v=G[a],v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(O,v.key,v)}function o(O,G,v){return G&&n(O.prototype,G),v&&n(O,v),Object.defineProperty(O,"prototype",{writable:!1}),O}function s(O,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(G&&G.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),G&&d(O,G)}function f(O){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)},f(O)}function d(O,G){return d=Object.setPrototypeOf||function(v,a){return v.__proto__=a,v},d(O,G)}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u(){return u=p()?Reflect.construct:function(O,G,v){var a=[null];a.push.apply(a,G);var h=Function.bind.apply(O,a),g=new h;return v&&d(g,v.prototype),g},u.apply(null,arguments)}function y(O){return Function.toString.call(O).indexOf("[native code]")!==-1}function B(O){var G=typeof Map=="function"?new Map:void 0;return B=function(v){function a(){return u(v,arguments,f(this).constructor)}if(v===null||!y(v))return v;if(typeof v!="function")throw new TypeError("Super expression must either be null or a function");if(typeof G<"u"){if(G.has(v))return G.get(v);G.set(v,a)}return a.prototype=Object.create(v.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),d(a,v)},B(O)}function S(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function C(O,G){if(G&&(typeof G=="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(O)}function x(O){var G=p();return function(){var v,a=f(O);if(G){var h=f(this).constructor;v=Reflect.construct(a,arguments,h)}else v=a.apply(this,arguments);return C(this,v)}}function _(O,G){return Q(O)||R(O,G)||k(O,G)||T()}function Q(O){if(Array.isArray(O))return O}function R(O,G){var v=O==null?null:typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(v!=null){var a,h,g=[],l=!0,A=!1;try{for(v=v.call(O);!(l=(a=v.next()).done)&&(g.push(a.value),!(G&&g.length===G));l=!0);}catch(w){A=!0,h=w}finally{try{l||v.return==null||v.return()}finally{if(A)throw h}}return g}}function k(O,G){if(O){if(typeof O=="string")return K(O,G);var v=Object.prototype.toString.call(O).slice(8,-1);return v==="Object"&&O.constructor&&(v=O.constructor.name),v==="Map"||v==="Set"?Array.from(O):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?K(O,G):void 0}}function K(O,G){(G==null||G>O.length)&&(G=O.length);for(var v=0,a=Array(G);v<G;v++)a[v]=O[v];return a}function T(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(O,G){var v=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!v){if(Array.isArray(O)||(v=k(O))||G&&O&&typeof O.length=="number"){v&&(O=v);var a=0,h=function(){};return{s:h,n:function(){return a>=O.length?{done:!0}:{done:!1,value:O[a++]}},e:function(w){throw w},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,l=!0,A=!1;return{s:function(){v=v.call(O)},n:function(){var w=v.next();return l=w.done,w},e:function(w){A=!0,g=w},f:function(){try{l||v.return==null||v.return()}finally{if(A)throw g}}}}var H=function(O){var G=Math.abs,v=Math.max,a=Math.floor;function h(l,A){var w;if(i(this,h),w=g.call(this,l),w.sign=A,Object.setPrototypeOf(S(w),h.prototype),l>h.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return w}s(h,O);var g=x(h);return o(h,[{key:"toDebugString",value:function(){var l,A=["BigInt["],w=L(this);try{for(w.s();!(l=w.n()).done;){var E=l.value;A.push((E&&(E>>>0).toString(16))+", ")}}catch(m){w.e(m)}finally{w.f()}return A.push("]"),A.join("")}},{key:"toString",value:function(){var l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:10;if(2>l||36<l)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":l&l-1?h.__toStringGeneric(this,l,!1):h.__toStringBasePowerOfTwo(this,l)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var l=new h(this.length,this.sign),A=0;A<this.length;A++)l[A]=this[A];return l}},{key:"__trim",value:function(){for(var l=this.length,A=this[l-1];A===0;)l--,A=this[l-1],this.pop();return l===0&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var l=0;l<this.length;l++)this[l]=0}},{key:"__clzmsd",value:function(){return h.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(l,A,w){w>this.length&&(w=this.length);for(var E=32767&l,m=l>>>15,c=0,I=A,M=0;M<w;M++){var D=this.__digit(M),P=32767&D,j=D>>>15,Y=h.__imul(P,E),z=h.__imul(P,m),$=h.__imul(j,E),W=h.__imul(j,m),ee=I+Y+c;c=ee>>>30,ee&=1073741823,ee+=((32767&z)<<15)+((32767&$)<<15),c+=ee>>>30,I=W+(z>>>15)+($>>>15),this.__setDigit(M,1073741823&ee)}if(c!==0||I!==0)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(l,A,w){for(var E,m=0,c=0;c<w;c++)E=this.__halfDigit(A+c)+l.__halfDigit(c)+m,m=E>>>15,this.__setHalfDigit(A+c,32767&E);return m}},{key:"__inplaceSub",value:function(l,A,w){var E=0;if(1&A){A>>=1;for(var m=this.__digit(A),c=32767&m,I=0;I<w-1>>>1;I++){var M=l.__digit(I),D=(m>>>15)-(32767&M)-E;E=1&D>>>15,this.__setDigit(A+I,(32767&D)<<15|32767&c),m=this.__digit(A+I+1),c=(32767&m)-(M>>>15)-E,E=1&c>>>15}var P=l.__digit(I),j=(m>>>15)-(32767&P)-E;if(E=1&j>>>15,this.__setDigit(A+I,(32767&j)<<15|32767&c),A+I+1>=this.length)throw new RangeError("out of bounds");!(1&w)&&(m=this.__digit(A+I+1),c=(32767&m)-(P>>>15)-E,E=1&c>>>15,this.__setDigit(A+l.length,1073709056&m|32767&c))}else{A>>=1;for(var Y=0;Y<l.length-1;Y++){var z=this.__digit(A+Y),$=l.__digit(Y),W=(32767&z)-(32767&$)-E;E=1&W>>>15;var ee=(z>>>15)-($>>>15)-E;E=1&ee>>>15,this.__setDigit(A+Y,(32767&ee)<<15|32767&W)}var pe=this.__digit(A+Y),ne=l.__digit(Y),se=(32767&pe)-(32767&ne)-E;E=1&se>>>15;var Le=0;!(1&w)&&(Le=(pe>>>15)-(ne>>>15)-E,E=1&Le>>>15),this.__setDigit(A+Y,(32767&Le)<<15|32767&se)}return E}},{key:"__inplaceRightShift",value:function(l){if(l!==0){for(var A,w=this.__digit(0)>>>l,E=this.length-1,m=0;m<E;m++)A=this.__digit(m+1),this.__setDigit(m,1073741823&A<<30-l|w),w=A>>>l;this.__setDigit(E,w)}}},{key:"__digit",value:function(l){return this[l]}},{key:"__unsignedDigit",value:function(l){return this[l]>>>0}},{key:"__setDigit",value:function(l,A){this[l]=0|A}},{key:"__setDigitGrow",value:function(l,A){this[l]=0|A}},{key:"__halfDigitLength",value:function(){var l=this.length;return 32767>=this.__unsignedDigit(l-1)?2*l-1:2*l}},{key:"__halfDigit",value:function(l){return 32767&this[l>>>1]>>>15*(1&l)}},{key:"__setHalfDigit",value:function(l,A){var w=l>>>1,E=this.__digit(w),m=1&l?32767&E|A<<15:1073709056&E|32767&A;this.__setDigit(w,m)}}],[{key:"BigInt",value:function(l){var A=Number.isFinite;if(typeof l=="number"){if(l===0)return h.__zero();if(h.__isOneDigitInt(l))return 0>l?h.__oneDigit(-l,!0):h.__oneDigit(l,!1);if(!A(l)||a(l)!==l)throw new RangeError("The number "+l+" cannot be converted to BigInt because it is not an integer");return h.__fromDouble(l)}if(typeof l=="string"){var w=h.__fromString(l);if(w===null)throw new SyntaxError("Cannot convert "+l+" to a BigInt");return w}if(typeof l=="boolean")return l===!0?h.__oneDigit(1,!1):h.__zero();if(r(l)==="object"){if(l.constructor===h)return l;var E=h.__toPrimitive(l);return h.BigInt(E)}throw new TypeError("Cannot convert "+l+" to a BigInt")}},{key:"toNumber",value:function(l){var A=l.length;if(A===0)return 0;if(A===1){var w=l.__unsignedDigit(0);return l.sign?-w:w}var E=l.__digit(A-1),m=h.__clz30(E),c=30*A-m;if(1024<c)return l.sign?-1/0:1/0;var I=c-1,M=E,D=A-1,P=m+3,j=P===32?0:M<<P;j>>>=12;var Y=P-12,z=12<=P?0:M<<20+P,$=20+P;for(0<Y&&0<D&&(D--,M=l.__digit(D),j|=M>>>30-Y,z=M<<Y+2,$=Y+2);0<$&&0<D;)D--,M=l.__digit(D),z|=30<=$?M<<$-30:M>>>30-$,$-=30;var W=h.__decideRounding(l,$,D,M);if((W===1||W===0&&(1&z)==1)&&(z=z+1>>>0,z===0&&(j++,j>>>20!=0&&(j=0,I++,1023<I))))return l.sign?-1/0:1/0;var ee=l.sign?-2147483648:0;return I=I+1023<<20,h.__kBitConversionInts[1]=ee|I|j,h.__kBitConversionInts[0]=z,h.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(l){if(l.length===0)return l;var A=l.__copy();return A.sign=!l.sign,A}},{key:"bitwiseNot",value:function(l){return l.sign?h.__absoluteSubOne(l).__trim():h.__absoluteAddOne(l,!0)}},{key:"exponentiate",value:function(l,A){if(A.sign)throw new RangeError("Exponent must be positive");if(A.length===0)return h.__oneDigit(1,!1);if(l.length===0)return l;if(l.length===1&&l.__digit(0)===1)return l.sign&&!(1&A.__digit(0))?h.unaryMinus(l):l;if(1<A.length)throw new RangeError("BigInt too big");var w=A.__unsignedDigit(0);if(w===1)return l;if(w>=h.__kMaxLengthBits)throw new RangeError("BigInt too big");if(l.length===1&&l.__digit(0)===2){var E=1+(0|w/30),m=l.sign&&(1&w)!=0,c=new h(E,m);c.__initializeDigits();var I=1<<w%30;return c.__setDigit(E-1,I),c}var M=null,D=l;for(1&w&&(M=l),w>>=1;w!==0;w>>=1)D=h.multiply(D,D),1&w&&(M===null?M=D:M=h.multiply(M,D));return M}},{key:"multiply",value:function(l,A){if(l.length===0)return l;if(A.length===0)return A;var w=l.length+A.length;30<=l.__clzmsd()+A.__clzmsd()&&w--;var E=new h(w,l.sign!==A.sign);E.__initializeDigits();for(var m=0;m<l.length;m++)h.__multiplyAccumulate(A,l.__digit(m),E,m);return E.__trim()}},{key:"divide",value:function(l,A){if(A.length===0)throw new RangeError("Division by zero");if(0>h.__absoluteCompare(l,A))return h.__zero();var w,E=l.sign!==A.sign,m=A.__unsignedDigit(0);if(A.length===1&&32767>=m){if(m===1)return E===l.sign?l:h.unaryMinus(l);w=h.__absoluteDivSmall(l,m,null)}else w=h.__absoluteDivLarge(l,A,!0,!1);return w.sign=E,w.__trim()}},{key:"remainder",value:function(A,w){if(w.length===0)throw new RangeError("Division by zero");if(0>h.__absoluteCompare(A,w))return A;var E=w.__unsignedDigit(0);if(w.length===1&&32767>=E){if(E===1)return h.__zero();var m=h.__absoluteModSmall(A,E);return m===0?h.__zero():h.__oneDigit(m,A.sign)}var c=h.__absoluteDivLarge(A,w,!1,!0);return c.sign=A.sign,c.__trim()}},{key:"add",value:function(l,A){var w=l.sign;return w===A.sign?h.__absoluteAdd(l,A,w):0<=h.__absoluteCompare(l,A)?h.__absoluteSub(l,A,w):h.__absoluteSub(A,l,!w)}},{key:"subtract",value:function(l,A){var w=l.sign;return w===A.sign?0<=h.__absoluteCompare(l,A)?h.__absoluteSub(l,A,w):h.__absoluteSub(A,l,!w):h.__absoluteAdd(l,A,w)}},{key:"leftShift",value:function(l,A){return A.length===0||l.length===0?l:A.sign?h.__rightShiftByAbsolute(l,A):h.__leftShiftByAbsolute(l,A)}},{key:"signedRightShift",value:function(l,A){return A.length===0||l.length===0?l:A.sign?h.__leftShiftByAbsolute(l,A):h.__rightShiftByAbsolute(l,A)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(l,A){return 0>h.__compareToBigInt(l,A)}},{key:"lessThanOrEqual",value:function(l,A){return 0>=h.__compareToBigInt(l,A)}},{key:"greaterThan",value:function(l,A){return 0<h.__compareToBigInt(l,A)}},{key:"greaterThanOrEqual",value:function(l,A){return 0<=h.__compareToBigInt(l,A)}},{key:"equal",value:function(l,A){if(l.sign!==A.sign||l.length!==A.length)return!1;for(var w=0;w<l.length;w++)if(l.__digit(w)!==A.__digit(w))return!1;return!0}},{key:"notEqual",value:function(l,A){return!h.equal(l,A)}},{key:"bitwiseAnd",value:function(l,A){if(!l.sign&&!A.sign)return h.__absoluteAnd(l,A).__trim();if(l.sign&&A.sign){var w=v(l.length,A.length)+1,E=h.__absoluteSubOne(l,w),m=h.__absoluteSubOne(A);return E=h.__absoluteOr(E,m,E),h.__absoluteAddOne(E,!0,E).__trim()}if(l.sign){var c=[A,l];l=c[0],A=c[1]}return h.__absoluteAndNot(l,h.__absoluteSubOne(A)).__trim()}},{key:"bitwiseXor",value:function(l,A){if(!l.sign&&!A.sign)return h.__absoluteXor(l,A).__trim();if(l.sign&&A.sign){var w=v(l.length,A.length),E=h.__absoluteSubOne(l,w),m=h.__absoluteSubOne(A);return h.__absoluteXor(E,m,E).__trim()}var c=v(l.length,A.length)+1;if(l.sign){var I=[A,l];l=I[0],A=I[1]}var M=h.__absoluteSubOne(A,c);return M=h.__absoluteXor(M,l,M),h.__absoluteAddOne(M,!0,M).__trim()}},{key:"bitwiseOr",value:function(l,A){var w=v(l.length,A.length);if(!l.sign&&!A.sign)return h.__absoluteOr(l,A).__trim();if(l.sign&&A.sign){var E=h.__absoluteSubOne(l,w),m=h.__absoluteSubOne(A);return E=h.__absoluteAnd(E,m,E),h.__absoluteAddOne(E,!0,E).__trim()}if(l.sign){var c=[A,l];l=c[0],A=c[1]}var I=h.__absoluteSubOne(A,w);return I=h.__absoluteAndNot(I,l,I),h.__absoluteAddOne(I,!0,I).__trim()}},{key:"asIntN",value:function(l,A){if(A.length===0)return A;if(l=a(l),0>l)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(l===0)return h.__zero();if(l>=h.__kMaxLengthBits)return A;var w=0|(l+29)/30;if(A.length<w)return A;var E=A.__unsignedDigit(w-1),m=1<<(l-1)%30;if(A.length===w&&E<m)return A;if((E&m)!==m)return h.__truncateToNBits(l,A);if(!A.sign)return h.__truncateAndSubFromPowerOfTwo(l,A,!0);if(!(E&m-1)){for(var c=w-2;0<=c;c--)if(A.__digit(c)!==0)return h.__truncateAndSubFromPowerOfTwo(l,A,!1);return A.length===w&&E===m?A:h.__truncateToNBits(l,A)}return h.__truncateAndSubFromPowerOfTwo(l,A,!1)}},{key:"asUintN",value:function(l,A){if(A.length===0)return A;if(l=a(l),0>l)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(l===0)return h.__zero();if(A.sign){if(l>h.__kMaxLengthBits)throw new RangeError("BigInt too big");return h.__truncateAndSubFromPowerOfTwo(l,A,!1)}if(l>=h.__kMaxLengthBits)return A;var w=0|(l+29)/30;if(A.length<w)return A;var E=l%30;if(A.length==w){if(E===0)return A;var m=A.__digit(w-1);if(!(m>>>E))return A}return h.__truncateToNBits(l,A)}},{key:"ADD",value:function(l,A){if(l=h.__toPrimitive(l),A=h.__toPrimitive(A),typeof l=="string")return typeof A!="string"&&(A=A.toString()),l+A;if(typeof A=="string")return l.toString()+A;if(l=h.__toNumeric(l),A=h.__toNumeric(A),h.__isBigInt(l)&&h.__isBigInt(A))return h.add(l,A);if(typeof l=="number"&&typeof A=="number")return l+A;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(l,A){return h.__compare(l,A,0)}},{key:"LE",value:function(l,A){return h.__compare(l,A,1)}},{key:"GT",value:function(l,A){return h.__compare(l,A,2)}},{key:"GE",value:function(l,A){return h.__compare(l,A,3)}},{key:"EQ",value:function(l,A){for(;;){if(h.__isBigInt(l))return h.__isBigInt(A)?h.equal(l,A):h.EQ(A,l);if(typeof l=="number"){if(h.__isBigInt(A))return h.__equalToNumber(A,l);if(r(A)!=="object")return l==A;A=h.__toPrimitive(A)}else if(typeof l=="string"){if(h.__isBigInt(A))return l=h.__fromString(l),l!==null&&h.equal(l,A);if(r(A)!=="object")return l==A;A=h.__toPrimitive(A)}else if(typeof l=="boolean"){if(h.__isBigInt(A))return h.__equalToNumber(A,+l);if(r(A)!=="object")return l==A;A=h.__toPrimitive(A)}else if(r(l)==="symbol"){if(h.__isBigInt(A))return!1;if(r(A)!=="object")return l==A;A=h.__toPrimitive(A)}else if(r(l)==="object"){if(r(A)==="object"&&A.constructor!==h)return l==A;l=h.__toPrimitive(l)}else return l==A}}},{key:"NE",value:function(l,A){return!h.EQ(l,A)}},{key:"DataViewGetBigInt64",value:function(l,A){var w=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return h.asIntN(64,h.DataViewGetBigUint64(l,A,w))}},{key:"DataViewGetBigUint64",value:function(l,A){var w=2<arguments.length&&arguments[2]!==void 0&&arguments[2],E=w?[4,0]:[0,4],m=_(E,2),c=m[0],I=m[1],M=l.getUint32(A+c,w),D=l.getUint32(A+I,w),P=new h(3,!1);return P.__setDigit(0,1073741823&D),P.__setDigit(1,(268435455&M)<<2|D>>>30),P.__setDigit(2,M>>>28),P.__trim()}},{key:"DataViewSetBigInt64",value:function(l,A,w){var E=3<arguments.length&&arguments[3]!==void 0&&arguments[3];h.DataViewSetBigUint64(l,A,w,E)}},{key:"DataViewSetBigUint64",value:function(l,A,w){var E=3<arguments.length&&arguments[3]!==void 0&&arguments[3];w=h.asUintN(64,w);var m=0,c=0;if(0<w.length&&(c=w.__digit(0),1<w.length)){var I=w.__digit(1);c|=I<<30,m=I>>>2,2<w.length&&(m|=w.__digit(2)<<28)}var M=E?[4,0]:[0,4],D=_(M,2),P=D[0],j=D[1];l.setUint32(A+P,m,E),l.setUint32(A+j,c,E)}},{key:"__zero",value:function(){return new h(0,!1)}},{key:"__oneDigit",value:function(l,A){var w=new h(1,A);return w.__setDigit(0,l),w}},{key:"__decideRounding",value:function(l,A,w,E){if(0<A)return-1;var m;if(0>A)m=-A-1;else{if(w===0)return-1;w--,E=l.__digit(w),m=29}var c=1<<m;if(!(E&c))return-1;if(c-=1,(E&c)!=0)return 1;for(;0<w;)if(w--,l.__digit(w)!==0)return 1;return 0}},{key:"__fromDouble",value:function(l){h.__kBitConversionDouble[0]=l;var A,w=2047&h.__kBitConversionInts[1]>>>20,E=w-1023,m=(0|E/30)+1,c=new h(m,0>l),I=1048575&h.__kBitConversionInts[1]|1048576,M=h.__kBitConversionInts[0],D=20,P=E%30,j=0;if(P<D){var Y=D-P;j=Y+32,A=I>>>Y,I=I<<32-Y|M>>>Y,M<<=32-Y}else if(P===D)j=32,A=I,I=M,M=0;else{var z=P-D;j=32-z,A=I<<z|M>>>32-z,I=M<<z,M=0}c.__setDigit(m-1,A);for(var $=m-2;0<=$;$--)0<j?(j-=30,A=I>>>2,I=I<<30|M>>>2,M<<=30):A=0,c.__setDigit($,A);return c.__trim()}},{key:"__isWhitespace",value:function(l){return 13>=l&&9<=l||(159>=l?l==32:131071>=l?l==160||l==5760:196607>=l?(l&=131071,10>=l||l==40||l==41||l==47||l==95||l==4096):l==65279)}},{key:"__fromString",value:function(l){var A=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,w=0,E=l.length,m=0;if(m===E)return h.__zero();for(var c=l.charCodeAt(m);h.__isWhitespace(c);){if(++m===E)return h.__zero();c=l.charCodeAt(m)}if(c===43){if(++m===E)return null;c=l.charCodeAt(m),w=1}else if(c===45){if(++m===E)return null;c=l.charCodeAt(m),w=-1}if(A===0){if(A=10,c===48){if(++m===E)return h.__zero();if(c=l.charCodeAt(m),c===88||c===120){if(A=16,++m===E)return null;c=l.charCodeAt(m)}else if(c===79||c===111){if(A=8,++m===E)return null;c=l.charCodeAt(m)}else if(c===66||c===98){if(A=2,++m===E)return null;c=l.charCodeAt(m)}}}else if(A===16&&c===48){if(++m===E)return h.__zero();if(c=l.charCodeAt(m),c===88||c===120){if(++m===E)return null;c=l.charCodeAt(m)}}if(w!==0&&A!==10)return null;for(;c===48;){if(++m===E)return h.__zero();c=l.charCodeAt(m)}var I=E-m,M=h.__kMaxBitsPerChar[A],D=h.__kBitsPerCharTableMultiplier-1;if(I>1073741824/M)return null;var P=M*I+D>>>h.__kBitsPerCharTableShift,j=new h(0|(P+29)/30,!1),Y=10>A?A:10,z=10<A?A-10:0;if(A&A-1){j.__initializeDigits();var Le=!1,ce=0;do{for(var fe,bt=0,ge=1;;){if(fe=void 0,c-48>>>0<Y)fe=c-48;else if((32|c)-97>>>0<z)fe=(32|c)-87;else{Le=!0;break}var Ie=ge*A;if(1073741823<Ie)break;if(ge=Ie,bt=bt*A+fe,ce++,++m===E){Le=!0;break}c=l.charCodeAt(m)}D=30*h.__kBitsPerCharTableMultiplier-1;var mr=0|(M*ce+D>>>h.__kBitsPerCharTableShift)/30;j.__inplaceMultiplyAdd(ge,bt,mr)}while(!Le)}else{M>>=h.__kBitsPerCharTableShift;var $=[],W=[],ee=!1;do{for(var pe,ne=0,se=0;;){if(pe=void 0,c-48>>>0<Y)pe=c-48;else if((32|c)-97>>>0<z)pe=(32|c)-87;else{ee=!0;break}if(se+=M,ne=ne<<M|pe,++m===E){ee=!0;break}if(c=l.charCodeAt(m),30<se+M)break}$.push(ne),W.push(se)}while(!ee);h.__fillFromParts(j,$,W)}if(m!==E){if(!h.__isWhitespace(c))return null;for(m++;m<E;m++)if(c=l.charCodeAt(m),!h.__isWhitespace(c))return null}return j.sign=w===-1,j.__trim()}},{key:"__fillFromParts",value:function(l,A,w){for(var E=0,m=0,c=0,I=A.length-1;0<=I;I--){var M=A[I],D=w[I];m|=M<<c,c+=D,c===30?(l.__setDigit(E++,m),c=0,m=0):30<c&&(l.__setDigit(E++,1073741823&m),c-=30,m=M>>>D-c)}if(m!==0){if(E>=l.length)throw new Error("implementation bug");l.__setDigit(E++,m)}for(;E<l.length;E++)l.__setDigit(E,0)}},{key:"__toStringBasePowerOfTwo",value:function(l,A){var w=l.length,E=A-1;E=(85&E>>>1)+(85&E),E=(51&E>>>2)+(51&E),E=(15&E>>>4)+(15&E);var m=E,c=A-1,I=l.__digit(w-1),M=h.__clz30(I),D=0|(30*w-M+m-1)/m;if(l.sign&&D++,268435456<D)throw new Error("string too long");for(var P=Array(D),j=D-1,Y=0,z=0,$=0;$<w-1;$++){var W=l.__digit($),ee=(Y|W<<z)&c;P[j--]=h.__kConversionChars[ee];var pe=m-z;for(Y=W>>>pe,z=30-pe;z>=m;)P[j--]=h.__kConversionChars[Y&c],Y>>>=m,z-=m}var ne=(Y|I<<z)&c;for(P[j--]=h.__kConversionChars[ne],Y=I>>>m-z;Y!==0;)P[j--]=h.__kConversionChars[Y&c],Y>>>=m;if(l.sign&&(P[j--]="-"),j!==-1)throw new Error("implementation bug");return P.join("")}},{key:"__toStringGeneric",value:function(l,A,w){var E=l.length;if(E===0)return"";if(E===1){var m=l.__unsignedDigit(0).toString(A);return w===!1&&l.sign&&(m="-"+m),m}var c=30*E-h.__clz30(l.__digit(E-1)),I=h.__kMaxBitsPerChar[A],M=I-1,D=c*h.__kBitsPerCharTableMultiplier;D+=M-1,D=0|D/M;var P,j,Y=D+1>>1,z=h.exponentiate(h.__oneDigit(A,!1),h.__oneDigit(Y,!1)),$=z.__unsignedDigit(0);if(z.length===1&&32767>=$){P=new h(l.length,!1),P.__initializeDigits();for(var W,ee=0,pe=2*l.length-1;0<=pe;pe--)W=ee<<15|l.__halfDigit(pe),P.__setHalfDigit(pe,0|W/$),ee=0|W%$;j=ee.toString(A)}else{var ne=h.__absoluteDivLarge(l,z,!0,!0);P=ne.quotient;var se=ne.remainder.__trim();j=h.__toStringGeneric(se,A,!0)}P.__trim();for(var Le=h.__toStringGeneric(P,A,!0);j.length<Y;)j="0"+j;return w===!1&&l.sign&&(Le="-"+Le),Le+j}},{key:"__unequalSign",value:function(l){return l?-1:1}},{key:"__absoluteGreater",value:function(l){return l?-1:1}},{key:"__absoluteLess",value:function(l){return l?1:-1}},{key:"__compareToBigInt",value:function(l,A){var w=l.sign;if(w!==A.sign)return h.__unequalSign(w);var E=h.__absoluteCompare(l,A);return 0<E?h.__absoluteGreater(w):0>E?h.__absoluteLess(w):0}},{key:"__compareToNumber",value:function(l,A){if(h.__isOneDigitInt(A)){var w=l.sign,E=0>A;if(w!==E)return h.__unequalSign(w);if(l.length===0){if(E)throw new Error("implementation bug");return A===0?0:-1}if(1<l.length)return h.__absoluteGreater(w);var m=G(A),c=l.__unsignedDigit(0);return c>m?h.__absoluteGreater(w):c<m?h.__absoluteLess(w):0}return h.__compareToDouble(l,A)}},{key:"__compareToDouble",value:function(l,A){if(A!==A)return A;if(A===1/0)return-1;if(A===-1/0)return 1;var w=l.sign;if(w!==0>A)return h.__unequalSign(w);if(A===0)throw new Error("implementation bug: should be handled elsewhere");if(l.length===0)return-1;h.__kBitConversionDouble[0]=A;var E=2047&h.__kBitConversionInts[1]>>>20;if(E==2047)throw new Error("implementation bug: handled elsewhere");var m=E-1023;if(0>m)return h.__absoluteGreater(w);var c=l.length,I=l.__digit(c-1),M=h.__clz30(I),D=30*c-M,P=m+1;if(D<P)return h.__absoluteLess(w);if(D>P)return h.__absoluteGreater(w);var j=1048576|1048575&h.__kBitConversionInts[1],Y=h.__kBitConversionInts[0],z=20,$=29-M;if($!==(0|(D-1)%30))throw new Error("implementation bug");var W,ee=0;if($<z){var pe=z-$;ee=pe+32,W=j>>>pe,j=j<<32-pe|Y>>>pe,Y<<=32-pe}else if($===z)ee=32,W=j,j=Y,Y=0;else{var ne=$-z;ee=32-ne,W=j<<ne|Y>>>32-ne,j=Y<<ne,Y=0}if(I>>>=0,W>>>=0,I>W)return h.__absoluteGreater(w);if(I<W)return h.__absoluteLess(w);for(var se=c-2;0<=se;se--){0<ee?(ee-=30,W=j>>>2,j=j<<30|Y>>>2,Y<<=30):W=0;var Le=l.__unsignedDigit(se);if(Le>W)return h.__absoluteGreater(w);if(Le<W)return h.__absoluteLess(w)}if(j!==0||Y!==0){if(ee===0)throw new Error("implementation bug");return h.__absoluteLess(w)}return 0}},{key:"__equalToNumber",value:function(l,A){return h.__isOneDigitInt(A)?A===0?l.length===0:l.length===1&&l.sign===0>A&&l.__unsignedDigit(0)===G(A):h.__compareToDouble(l,A)===0}},{key:"__comparisonResultToBool",value:function(l,A){return A===0?0>l:A===1?0>=l:A===2?0<l:A===3?0<=l:void 0}},{key:"__compare",value:function(l,A,w){if(l=h.__toPrimitive(l),A=h.__toPrimitive(A),typeof l=="string"&&typeof A=="string")switch(w){case 0:return l<A;case 1:return l<=A;case 2:return l>A;case 3:return l>=A}if(h.__isBigInt(l)&&typeof A=="string")return A=h.__fromString(A),A!==null&&h.__comparisonResultToBool(h.__compareToBigInt(l,A),w);if(typeof l=="string"&&h.__isBigInt(A))return l=h.__fromString(l),l!==null&&h.__comparisonResultToBool(h.__compareToBigInt(l,A),w);if(l=h.__toNumeric(l),A=h.__toNumeric(A),h.__isBigInt(l)){if(h.__isBigInt(A))return h.__comparisonResultToBool(h.__compareToBigInt(l,A),w);if(typeof A!="number")throw new Error("implementation bug");return h.__comparisonResultToBool(h.__compareToNumber(l,A),w)}if(typeof l!="number")throw new Error("implementation bug");if(h.__isBigInt(A))return h.__comparisonResultToBool(h.__compareToNumber(A,l),2^w);if(typeof A!="number")throw new Error("implementation bug");return w===0?l<A:w===1?l<=A:w===2?l>A:w===3?l>=A:void 0}},{key:"__absoluteAdd",value:function(l,A,w){if(l.length<A.length)return h.__absoluteAdd(A,l,w);if(l.length===0)return l;if(A.length===0)return l.sign===w?l:h.unaryMinus(l);var E=l.length;(l.__clzmsd()===0||A.length===l.length&&A.__clzmsd()===0)&&E++;for(var m,c=new h(E,w),I=0,M=0;M<A.length;M++)m=l.__digit(M)+A.__digit(M)+I,I=m>>>30,c.__setDigit(M,1073741823&m);for(;M<l.length;M++){var D=l.__digit(M)+I;I=D>>>30,c.__setDigit(M,1073741823&D)}return M<c.length&&c.__setDigit(M,I),c.__trim()}},{key:"__absoluteSub",value:function(l,A,w){if(l.length===0)return l;if(A.length===0)return l.sign===w?l:h.unaryMinus(l);for(var E,m=new h(l.length,w),c=0,I=0;I<A.length;I++)E=l.__digit(I)-A.__digit(I)-c,c=1&E>>>30,m.__setDigit(I,1073741823&E);for(;I<l.length;I++){var M=l.__digit(I)-c;c=1&M>>>30,m.__setDigit(I,1073741823&M)}return m.__trim()}},{key:"__absoluteAddOne",value:function(l,A){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=l.length;w===null?w=new h(E,A):w.sign=A;for(var m,c=1,I=0;I<E;I++)m=l.__digit(I)+c,c=m>>>30,w.__setDigit(I,1073741823&m);return c!==0&&w.__setDigitGrow(E,1),w}},{key:"__absoluteSubOne",value:function(l,A){var w=l.length;A=A||w;for(var E,m=new h(A,!1),c=1,I=0;I<w;I++)E=l.__digit(I)-c,c=1&E>>>30,m.__setDigit(I,1073741823&E);if(c!==0)throw new Error("implementation bug");for(var M=w;M<A;M++)m.__setDigit(M,0);return m}},{key:"__absoluteAnd",value:function(l,A){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=l.length,m=A.length,c=m;if(E<m){c=E;var I=l,M=E;l=A,E=m,A=I,m=M}var D=c;w===null?w=new h(D,!1):D=w.length;for(var P=0;P<c;P++)w.__setDigit(P,l.__digit(P)&A.__digit(P));for(;P<D;P++)w.__setDigit(P,0);return w}},{key:"__absoluteAndNot",value:function(l,A){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=l.length,m=A.length,c=m;E<m&&(c=E);var I=E;w===null?w=new h(I,!1):I=w.length;for(var M=0;M<c;M++)w.__setDigit(M,l.__digit(M)&~A.__digit(M));for(;M<E;M++)w.__setDigit(M,l.__digit(M));for(;M<I;M++)w.__setDigit(M,0);return w}},{key:"__absoluteOr",value:function(l,A){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=l.length,m=A.length,c=m;if(E<m){c=E;var I=l,M=E;l=A,E=m,A=I,m=M}var D=E;w===null?w=new h(D,!1):D=w.length;for(var P=0;P<c;P++)w.__setDigit(P,l.__digit(P)|A.__digit(P));for(;P<E;P++)w.__setDigit(P,l.__digit(P));for(;P<D;P++)w.__setDigit(P,0);return w}},{key:"__absoluteXor",value:function(l,A){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=l.length,m=A.length,c=m;if(E<m){c=E;var I=l,M=E;l=A,E=m,A=I,m=M}var D=E;w===null?w=new h(D,!1):D=w.length;for(var P=0;P<c;P++)w.__setDigit(P,l.__digit(P)^A.__digit(P));for(;P<E;P++)w.__setDigit(P,l.__digit(P));for(;P<D;P++)w.__setDigit(P,0);return w}},{key:"__absoluteCompare",value:function(l,A){var w=l.length-A.length;if(w!=0)return w;for(var E=l.length-1;0<=E&&l.__digit(E)===A.__digit(E);)E--;return 0>E?0:l.__unsignedDigit(E)>A.__unsignedDigit(E)?1:-1}},{key:"__multiplyAccumulate",value:function(l,A,w,E){if(A!==0){for(var m=32767&A,c=A>>>15,I=0,M=0,D=0;D<l.length;D++,E++){var P=w.__digit(E),j=l.__digit(D),Y=32767&j,z=j>>>15,$=h.__imul(Y,m),W=h.__imul(Y,c),ee=h.__imul(z,m),pe=h.__imul(z,c);P+=M+$+I,I=P>>>30,P&=1073741823,P+=((32767&W)<<15)+((32767&ee)<<15),I+=P>>>30,M=pe+(W>>>15)+(ee>>>15),w.__setDigit(E,1073741823&P)}for(;I!==0||M!==0;E++){var ne=w.__digit(E);ne+=I+M,M=0,I=ne>>>30,w.__setDigit(E,1073741823&ne)}}}},{key:"__internalMultiplyAdd",value:function(l,A,w,E,m){for(var c=w,I=0,M=0;M<E;M++){var D=l.__digit(M),P=h.__imul(32767&D,A),j=h.__imul(D>>>15,A),Y=P+((32767&j)<<15)+I+c;c=Y>>>30,I=j>>>15,m.__setDigit(M,1073741823&Y)}if(m.length>E)for(m.__setDigit(E++,c+I);E<m.length;)m.__setDigit(E++,0);else if(c+I!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(l,A){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;w===null&&(w=new h(l.length,!1));for(var E=0,m=2*l.length-1;0<=m;m-=2){var c=(E<<15|l.__halfDigit(m))>>>0,I=0|c/A;E=0|c%A,c=(E<<15|l.__halfDigit(m-1))>>>0;var M=0|c/A;E=0|c%A,w.__setDigit(m>>>1,I<<15|M)}return w}},{key:"__absoluteModSmall",value:function(l,A){for(var w,E=0,m=2*l.length-1;0<=m;m--)w=(E<<15|l.__halfDigit(m))>>>0,E=0|w%A;return E}},{key:"__absoluteDivLarge",value:function(l,A,w,E){var m=A.__halfDigitLength(),c=A.length,I=l.__halfDigitLength()-m,M=null;w&&(M=new h(I+2>>>1,!1),M.__initializeDigits());var D=new h(m+2>>>1,!1);D.__initializeDigits();var P=h.__clz15(A.__halfDigit(m-1));0<P&&(A=h.__specialLeftShift(A,P,0));for(var j=h.__specialLeftShift(l,P,1),Y=A.__halfDigit(m-1),z=0,$=I;0<=$;$--){var W=32767,ee=j.__halfDigit($+m);if(ee!==Y){var pe=(ee<<15|j.__halfDigit($+m-1))>>>0;W=0|pe/Y;for(var ne=0|pe%Y,se=A.__halfDigit(m-2),Le=j.__halfDigit($+m-2);h.__imul(W,se)>>>0>(ne<<16|Le)>>>0&&(W--,ne+=Y,!(32767<ne)););}h.__internalMultiplyAdd(A,W,0,c,D);var ce=j.__inplaceSub(D,$,m+1);ce!==0&&(ce=j.__inplaceAdd(A,$,m),j.__setHalfDigit($+m,32767&j.__halfDigit($+m)+ce),W--),w&&(1&$?z=W<<15:M.__setDigit($>>>1,z|W))}if(E)return j.__inplaceRightShift(P),w?{quotient:M,remainder:j}:j;if(w)return M;throw new Error("unreachable")}},{key:"__clz15",value:function(l){return h.__clz30(l)-15}},{key:"__specialLeftShift",value:function(l,A,w){var E=l.length,m=new h(E+w,!1);if(A===0){for(var c=0;c<E;c++)m.__setDigit(c,l.__digit(c));return 0<w&&m.__setDigit(E,0),m}for(var I,M=0,D=0;D<E;D++)I=l.__digit(D),m.__setDigit(D,1073741823&I<<A|M),M=I>>>30-A;return 0<w&&m.__setDigit(E,M),m}},{key:"__leftShiftByAbsolute",value:function(l,A){var w=h.__toShiftAmount(A);if(0>w)throw new RangeError("BigInt too big");var E=0|w/30,m=w%30,c=l.length,I=m!==0&&l.__digit(c-1)>>>30-m!=0,M=c+E+(I?1:0),D=new h(M,l.sign);if(m===0){for(var P=0;P<E;P++)D.__setDigit(P,0);for(;P<M;P++)D.__setDigit(P,l.__digit(P-E))}else{for(var j=0,Y=0;Y<E;Y++)D.__setDigit(Y,0);for(var z,$=0;$<c;$++)z=l.__digit($),D.__setDigit($+E,1073741823&z<<m|j),j=z>>>30-m;if(I)D.__setDigit(c+E,j);else if(j!==0)throw new Error("implementation bug")}return D.__trim()}},{key:"__rightShiftByAbsolute",value:function(l,A){var w=l.length,E=l.sign,m=h.__toShiftAmount(A);if(0>m)return h.__rightShiftByMaximum(E);var c=0|m/30,I=m%30,M=w-c;if(0>=M)return h.__rightShiftByMaximum(E);var D=!1;if(E){if(l.__digit(c)&(1<<I)-1)D=!0;else for(var P=0;P<c;P++)if(l.__digit(P)!==0){D=!0;break}}if(D&&I===0){var j=l.__digit(w-1);!~j&&M++}var Y=new h(M,E);if(I===0){Y.__setDigit(M-1,0);for(var z=c;z<w;z++)Y.__setDigit(z-c,l.__digit(z))}else{for(var $,W=l.__digit(c)>>>I,ee=w-c-1,pe=0;pe<ee;pe++)$=l.__digit(pe+c+1),Y.__setDigit(pe,1073741823&$<<30-I|W),W=$>>>I;Y.__setDigit(ee,W)}return D&&(Y=h.__absoluteAddOne(Y,!0,Y)),Y.__trim()}},{key:"__rightShiftByMaximum",value:function(l){return l?h.__oneDigit(1,!0):h.__zero()}},{key:"__toShiftAmount",value:function(l){if(1<l.length)return-1;var A=l.__unsignedDigit(0);return A>h.__kMaxLengthBits?-1:A}},{key:"__toPrimitive",value:function(l){var A=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default";if(r(l)!=="object"||l.constructor===h)return l;if(typeof Symbol<"u"&&r(Symbol.toPrimitive)==="symbol"){var w=l[Symbol.toPrimitive];if(w){var E=w(A);if(r(E)!=="object")return E;throw new TypeError("Cannot convert object to primitive value")}}var m=l.valueOf;if(m){var c=m.call(l);if(r(c)!=="object")return c}var I=l.toString;if(I){var M=I.call(l);if(r(M)!=="object")return M}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(l){return h.__isBigInt(l)?l:+l}},{key:"__isBigInt",value:function(l){return r(l)==="object"&&l!==null&&l.constructor===h}},{key:"__truncateToNBits",value:function(l,A){for(var w=0|(l+29)/30,E=new h(w,A.sign),m=w-1,c=0;c<m;c++)E.__setDigit(c,A.__digit(c));var I=A.__digit(m);if(l%30!=0){var M=32-l%30;I=I<<M>>>M}return E.__setDigit(m,I),E.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(l,A,w){for(var E=Math.min,m,c=0|(l+29)/30,I=new h(c,w),M=0,D=c-1,P=0,j=E(D,A.length);M<j;M++)m=0-A.__digit(M)-P,P=1&m>>>30,I.__setDigit(M,1073741823&m);for(;M<D;M++)I.__setDigit(M,0|1073741823&-P);var Y,z=D<A.length?A.__digit(D):0,$=l%30;if($===0)Y=0-z-P,Y&=1073741823;else{var W=32-$;z=z<<W>>>W;var ee=1<<32-W;Y=ee-z-P,Y&=ee-1}return I.__setDigit(D,Y),I.__trim()}},{key:"__digitPow",value:function(l,A){for(var w=1;0<A;)1&A&&(w*=l),A>>>=1,l*=l;return w}},{key:"__isOneDigitInt",value:function(l){return(1073741823&l)===l}}]),h}(B(Array));return H.__kMaxLength=33554432,H.__kMaxLengthBits=H.__kMaxLength<<5,H.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],H.__kBitsPerCharTableShift=5,H.__kBitsPerCharTableMultiplier=1<<H.__kBitsPerCharTableShift,H.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],H.__kBitConversionBuffer=new ArrayBuffer(8),H.__kBitConversionDouble=new Float64Array(H.__kBitConversionBuffer),H.__kBitConversionInts=new Int32Array(H.__kBitConversionBuffer),H.__clz30=e?function(O){return e(O)-2}:function(O){var G=Math.LN2,v=Math.log;return O===0?30:0|29-(0|v(O>>>0)/G)},H.__imul=t||function(O,G){return 0|O*G},H})});var $d=X(Er=>{"use strict";b();Object.defineProperty(Er,"__esModule",{value:!0});Er.setBigUint64=Er.Hash=Er.equalBytes=Er.ensureBytes=Er.checkOpts=Er.concatBytes=Er.toBytes=Er.bytesToUtf8=Er.utf8ToBytes=Er.asyncLoop=Er.nextTick=Er.hexToBytes=Er.bytesToHex=Er.isLE=Er.createView=Er.u32=Er.u16=Er.u8=void 0;var lG=t=>t instanceof Uint8Array,Vtt=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Er.u8=Vtt;var Wtt=t=>new Uint16Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/2));Er.u16=Wtt;var Ztt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Er.u32=Ztt;var $tt=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Er.createView=$tt;Er.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Er.isLE)throw new Error("Non little-endian hardware is not supported");var Xtt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ert(t){if(!lG(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Xtt[t[r]];return e}Er.bytesToHex=ert;function trt(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let i=0;i<r.length;i++){let n=i*2,o=t.slice(n,n+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[i]=s}return r}Er.hexToBytes=trt;var rrt=async()=>{};Er.nextTick=rrt;async function irt(t,e,r){let i=Date.now();for(let n=0;n<t;n++){r(n);let o=Date.now()-i;o>=0&&o<e||(await(0,Er.nextTick)(),i+=o)}}Er.asyncLoop=irt;function UIe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}Er.utf8ToBytes=UIe;function nrt(t){return new TextDecoder().decode(t)}Er.bytesToUtf8=nrt;function ort(t){if(typeof t=="string"&&(t=UIe(t)),!lG(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}Er.toBytes=ort;function srt(...t){let e=new Uint8Array(t.reduce((i,n)=>i+n.length,0)),r=0;return t.forEach(i=>{if(!lG(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}Er.concatBytes=srt;var art=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function crt(t,e){if(e!==void 0&&(typeof e!="object"||!art(e)))throw new Error("options must be object or undefined");return Object.assign(t,e)}Er.checkOpts=crt;function frt(t,e){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");if(typeof e=="number"&&t.length!==e)throw new Error(`Uint8Array length ${e} expected`)}Er.ensureBytes=frt;function drt(t,e){if(t.length!==e.length)throw new Error("equalBytes: Different size of Uint8Arrays");let r=!0;for(let i=0;i<t.length;i++)r&&(r=t[i]===e[i]);return r}Er.equalBytes=drt;var hG=class{};Er.Hash=hG;function urt(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);let n=BigInt(32),o=BigInt(4294967295),s=Number(r>>n&o),f=Number(r&o),d=i?4:0,p=i?0:4;t.setUint32(e+d,s,i),t.setUint32(e+p,f,i)}Er.setBigUint64=urt});var u3=X(ks=>{"use strict";b();Object.defineProperty(ks,"__esModule",{value:!0});ks.AEAD_TAG_LENGTH=ks.XCHACHA20_NONCE_LENGTH=ks.CURVE25519_PUBLIC_KEY_SIZE=ks.ETH_PUBLIC_KEY_SIZE=ks.UNCOMPRESSED_PUBLIC_KEY_SIZE=ks.COMPRESSED_PUBLIC_KEY_SIZE=ks.SECRET_KEY_LENGTH=void 0;ks.SECRET_KEY_LENGTH=32;ks.COMPRESSED_PUBLIC_KEY_SIZE=33;ks.UNCOMPRESSED_PUBLIC_KEY_SIZE=65;ks.ETH_PUBLIC_KEY_SIZE=64;ks.CURVE25519_PUBLIC_KEY_SIZE=32;ks.XCHACHA20_NONCE_LENGTH=24;ks.AEAD_TAG_LENGTH=16});var II=X(un=>{"use strict";b();Object.defineProperty(un,"__esModule",{value:!0});un.ephemeralKeySize=un.symmetricNonceLength=un.symmetricAlgorithm=un.isHkdfKeyCompressed=un.isEphemeralKeyCompressed=un.ellipticCurve=un.ECIES_CONFIG=void 0;var HD=u3(),hrt=function(){function t(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16}return t}();un.ECIES_CONFIG=new hrt;var lrt=function(){return un.ECIES_CONFIG.ellipticCurve};un.ellipticCurve=lrt;var prt=function(){return un.ECIES_CONFIG.isEphemeralKeyCompressed};un.isEphemeralKeyCompressed=prt;var Art=function(){return un.ECIES_CONFIG.isHkdfKeyCompressed};un.isHkdfKeyCompressed=Art;var grt=function(){return un.ECIES_CONFIG.symmetricAlgorithm};un.symmetricAlgorithm=grt;var yrt=function(){return un.ECIES_CONFIG.symmetricNonceLength};un.symmetricNonceLength=yrt;var mrt=function(){var t={secp256k1:un.ECIES_CONFIG.isEphemeralKeyCompressed?HD.COMPRESSED_PUBLIC_KEY_SIZE:HD.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:HD.CURVE25519_PUBLIC_KEY_SIZE,ed25519:HD.CURVE25519_PUBLIC_KEY_SIZE};if(un.ECIES_CONFIG.ellipticCurve in t)return t[un.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")};un.ephemeralKeySize=mrt});var FIe=X(GD=>{"use strict";b();Object.defineProperty(GD,"__esModule",{value:!0});GD.crypto=void 0;GD.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var pG=X(E1=>{"use strict";b();Object.defineProperty(E1,"__esModule",{value:!0});E1.getWebcryptoSubtle=E1.randomBytes=void 0;var wI=FIe();function Irt(t=32){if(wI.crypto&&typeof wI.crypto.getRandomValues=="function")return wI.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}E1.randomBytes=Irt;function wrt(){if(wI.crypto&&typeof wI.crypto.subtle=="object"&&wI.crypto.subtle!=null)return wI.crypto.subtle;throw new Error("crypto.subtle must be defined")}E1.getWebcryptoSubtle=wrt});var zD=X(da=>{"use strict";b();Object.defineProperty(da,"__esModule",{value:!0});da.output=da.exists=da.hash=da.bytes=da.bool=da.number=void 0;function jD(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}da.number=jD;function NIe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}da.bool=NIe;function vrt(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function AG(t,...e){if(!vrt(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}da.bytes=AG;function PIe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");jD(t.outputLen),jD(t.blockLen)}da.hash=PIe;function OIe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}da.exists=OIe;function KIe(t,e){AG(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}da.output=KIe;var brt={number:jD,bool:NIe,bytes:AG,hash:PIe,exists:OIe,output:KIe};da.default=brt});var qIe=X(YD=>{"use strict";b();Object.defineProperty(YD,"__esModule",{value:!0});YD.crypto=void 0;YD.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var H0=X(Br=>{"use strict";b();Object.defineProperty(Br,"__esModule",{value:!0});Br.randomBytes=Br.wrapXOFConstructorWithOpts=Br.wrapConstructorWithOpts=Br.wrapConstructor=Br.checkOpts=Br.Hash=Br.concatBytes=Br.toBytes=Br.utf8ToBytes=Br.asyncLoop=Br.nextTick=Br.hexToBytes=Br.bytesToHex=Br.isLE=Br.rotr=Br.createView=Br.u32=Br.u8=void 0;var gG=qIe(),Ert=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Br.u8=Ert;var Brt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Br.u32=Brt;function mG(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}var Crt=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Br.createView=Crt;var xrt=(t,e)=>t<<32-e|t>>>e;Br.rotr=xrt;Br.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Br.isLE)throw new Error("Non little-endian hardware is not supported");var Srt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _rt(t){if(!mG(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Srt[t[r]];return e}Br.bytesToHex=_rt;var L0={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function LIe(t){if(t>=L0._0&&t<=L0._9)return t-L0._0;if(t>=L0._A&&t<=L0._F)return t-(L0._A-10);if(t>=L0._a&&t<=L0._f)return t-(L0._a-10)}function Qrt(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let i=new Uint8Array(r);for(let n=0,o=0;n<r;n++,o+=2){let s=LIe(t.charCodeAt(o)),f=LIe(t.charCodeAt(o+1));if(s===void 0||f===void 0){let d=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+o)}i[n]=s*16+f}return i}Br.hexToBytes=Qrt;var Drt=async()=>{};Br.nextTick=Drt;async function Mrt(t,e,r){let i=Date.now();for(let n=0;n<t;n++){r(n);let o=Date.now()-i;o>=0&&o<e||(await(0,Br.nextTick)(),i+=o)}}Br.asyncLoop=Mrt;function HIe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}Br.utf8ToBytes=HIe;function JD(t){if(typeof t=="string"&&(t=HIe(t)),!mG(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}Br.toBytes=JD;function krt(...t){let e=0;for(let i=0;i<t.length;i++){let n=t[i];if(!mG(n))throw new Error("Uint8Array expected");e+=n.length}let r=new Uint8Array(e);for(let i=0,n=0;i<t.length;i++){let o=t[i];r.set(o,n),n+=o.length}return r}Br.concatBytes=krt;var yG=class{clone(){return this._cloneInto()}};Br.Hash=yG;var Trt={}.toString;function Rrt(t,e){if(e!==void 0&&Trt.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}Br.checkOpts=Rrt;function Urt(t){let e=i=>t().update(JD(i)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Br.wrapConstructor=Urt;function Frt(t){let e=(i,n)=>t(n).update(JD(i)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=i=>t(i),e}Br.wrapConstructorWithOpts=Frt;function Nrt(t){let e=(i,n)=>t(n).update(JD(i)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=i=>t(i),e}Br.wrapXOFConstructorWithOpts=Nrt;function Prt(t=32){if(gG.crypto&&typeof gG.crypto.getRandomValues=="function")return gG.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}Br.randomBytes=Prt});var vG=X(VD=>{"use strict";b();Object.defineProperty(VD,"__esModule",{value:!0});VD.SHA2=void 0;var IG=zD(),h3=H0();function Ort(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);let n=BigInt(32),o=BigInt(4294967295),s=Number(r>>n&o),f=Number(r&o),d=i?4:0,p=i?0:4;t.setUint32(e+d,s,i),t.setUint32(e+p,f,i)}var wG=class extends h3.Hash{constructor(e,r,i,n){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,h3.createView)(this.buffer)}update(e){(0,IG.exists)(this);let{view:r,buffer:i,blockLen:n}=this;e=(0,h3.toBytes)(e);let o=e.length;for(let s=0;s<o;){let f=Math.min(n-this.pos,o-s);if(f===n){let d=(0,h3.createView)(e);for(;n<=o-s;s+=n)this.process(d,s);continue}i.set(e.subarray(s,s+f),this.pos),this.pos+=f,s+=f,this.pos===n&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,IG.exists)(this),(0,IG.output)(e,this),this.finished=!0;let{buffer:r,view:i,blockLen:n,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(i,0),s=0);for(let y=s;y<n;y++)r[y]=0;Ort(i,n-8,BigInt(this.length*8),o),this.process(i,0);let f=(0,h3.createView)(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let p=d/4,u=this.get();if(p>u.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<p;y++)f.setUint32(4*y,u[y],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:i,length:n,finished:o,destroyed:s,pos:f}=this;return e.length=n,e.pos=f,e.finished=o,e.destroyed=s,n%r&&e.buffer.set(i),e}};VD.SHA2=wG});var uwe=X(Zt=>{"use strict";b();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.add5L=Zt.add5H=Zt.add4H=Zt.add4L=Zt.add3H=Zt.add3L=Zt.add=Zt.rotlBL=Zt.rotlBH=Zt.rotlSL=Zt.rotlSH=Zt.rotr32L=Zt.rotr32H=Zt.rotrBL=Zt.rotrBH=Zt.rotrSL=Zt.rotrSH=Zt.shrSL=Zt.shrSH=Zt.toBig=Zt.split=Zt.fromBig=void 0;var WD=BigInt(2**32-1),bG=BigInt(32);function EG(t,e=!1){return e?{h:Number(t&WD),l:Number(t>>bG&WD)}:{h:Number(t>>bG&WD)|0,l:Number(t&WD)|0}}Zt.fromBig=EG;function GIe(t,e=!1){let r=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let n=0;n<t.length;n++){let{h:o,l:s}=EG(t[n],e);[r[n],i[n]]=[o,s]}return[r,i]}Zt.split=GIe;var jIe=(t,e)=>BigInt(t>>>0)<<bG|BigInt(e>>>0);Zt.toBig=jIe;var zIe=(t,e,r)=>t>>>r;Zt.shrSH=zIe;var YIe=(t,e,r)=>t<<32-r|e>>>r;Zt.shrSL=YIe;var JIe=(t,e,r)=>t>>>r|e<<32-r;Zt.rotrSH=JIe;var VIe=(t,e,r)=>t<<32-r|e>>>r;Zt.rotrSL=VIe;var WIe=(t,e,r)=>t<<64-r|e>>>r-32;Zt.rotrBH=WIe;var ZIe=(t,e,r)=>t>>>r-32|e<<64-r;Zt.rotrBL=ZIe;var $Ie=(t,e)=>e;Zt.rotr32H=$Ie;var XIe=(t,e)=>t;Zt.rotr32L=XIe;var ewe=(t,e,r)=>t<<r|e>>>32-r;Zt.rotlSH=ewe;var twe=(t,e,r)=>e<<r|t>>>32-r;Zt.rotlSL=twe;var rwe=(t,e,r)=>e<<r-32|t>>>64-r;Zt.rotlBH=rwe;var iwe=(t,e,r)=>t<<r-32|e>>>64-r;Zt.rotlBL=iwe;function nwe(t,e,r,i){let n=(e>>>0)+(i>>>0);return{h:t+r+(n/2**32|0)|0,l:n|0}}Zt.add=nwe;var owe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);Zt.add3L=owe;var swe=(t,e,r,i)=>e+r+i+(t/2**32|0)|0;Zt.add3H=swe;var awe=(t,e,r,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0);Zt.add4L=awe;var cwe=(t,e,r,i,n)=>e+r+i+n+(t/2**32|0)|0;Zt.add4H=cwe;var fwe=(t,e,r,i,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0)+(n>>>0);Zt.add5L=fwe;var dwe=(t,e,r,i,n,o)=>e+r+i+n+o+(t/2**32|0)|0;Zt.add5H=dwe;var Krt={fromBig:EG,split:GIe,toBig:jIe,shrSH:zIe,shrSL:YIe,rotrSH:JIe,rotrSL:VIe,rotrBH:WIe,rotrBL:ZIe,rotr32H:$Ie,rotr32L:XIe,rotlSH:ewe,rotlSL:twe,rotlBH:rwe,rotlBL:iwe,add:nwe,add3L:owe,add3H:swe,add4L:awe,add4H:cwe,add5H:dwe,add5L:fwe};Zt.default=Krt});var hwe=X(Of=>{"use strict";b();Object.defineProperty(Of,"__esModule",{value:!0});Of.sha384=Of.sha512_256=Of.sha512_224=Of.sha512=Of.SHA512=void 0;var qrt=vG(),Cr=uwe(),ZD=H0(),[Lrt,Hrt]=Cr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),tg=new Uint32Array(80),rg=new Uint32Array(80),vI=class extends qrt.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:i,Bl:n,Ch:o,Cl:s,Dh:f,Dl:d,Eh:p,El:u,Fh:y,Fl:B,Gh:S,Gl:C,Hh:x,Hl:_}=this;return[e,r,i,n,o,s,f,d,p,u,y,B,S,C,x,_]}set(e,r,i,n,o,s,f,d,p,u,y,B,S,C,x,_){this.Ah=e|0,this.Al=r|0,this.Bh=i|0,this.Bl=n|0,this.Ch=o|0,this.Cl=s|0,this.Dh=f|0,this.Dl=d|0,this.Eh=p|0,this.El=u|0,this.Fh=y|0,this.Fl=B|0,this.Gh=S|0,this.Gl=C|0,this.Hh=x|0,this.Hl=_|0}process(e,r){for(let k=0;k<16;k++,r+=4)tg[k]=e.getUint32(r),rg[k]=e.getUint32(r+=4);for(let k=16;k<80;k++){let K=tg[k-15]|0,T=rg[k-15]|0,L=Cr.default.rotrSH(K,T,1)^Cr.default.rotrSH(K,T,8)^Cr.default.shrSH(K,T,7),H=Cr.default.rotrSL(K,T,1)^Cr.default.rotrSL(K,T,8)^Cr.default.shrSL(K,T,7),O=tg[k-2]|0,G=rg[k-2]|0,v=Cr.default.rotrSH(O,G,19)^Cr.default.rotrBH(O,G,61)^Cr.default.shrSH(O,G,6),a=Cr.default.rotrSL(O,G,19)^Cr.default.rotrBL(O,G,61)^Cr.default.shrSL(O,G,6),h=Cr.default.add4L(H,a,rg[k-7],rg[k-16]),g=Cr.default.add4H(h,L,v,tg[k-7],tg[k-16]);tg[k]=g|0,rg[k]=h|0}let{Ah:i,Al:n,Bh:o,Bl:s,Ch:f,Cl:d,Dh:p,Dl:u,Eh:y,El:B,Fh:S,Fl:C,Gh:x,Gl:_,Hh:Q,Hl:R}=this;for(let k=0;k<80;k++){let K=Cr.default.rotrSH(y,B,14)^Cr.default.rotrSH(y,B,18)^Cr.default.rotrBH(y,B,41),T=Cr.default.rotrSL(y,B,14)^Cr.default.rotrSL(y,B,18)^Cr.default.rotrBL(y,B,41),L=y&S^~y&x,H=B&C^~B&_,O=Cr.default.add5L(R,T,H,Hrt[k],rg[k]),G=Cr.default.add5H(O,Q,K,L,Lrt[k],tg[k]),v=O|0,a=Cr.default.rotrSH(i,n,28)^Cr.default.rotrBH(i,n,34)^Cr.default.rotrBH(i,n,39),h=Cr.default.rotrSL(i,n,28)^Cr.default.rotrBL(i,n,34)^Cr.default.rotrBL(i,n,39),g=i&o^i&f^o&f,l=n&s^n&d^s&d;Q=x|0,R=_|0,x=S|0,_=C|0,S=y|0,C=B|0,{h:y,l:B}=Cr.default.add(p|0,u|0,G|0,v|0),p=f|0,u=d|0,f=o|0,d=s|0,o=i|0,s=n|0;let A=Cr.default.add3L(v,h,l);i=Cr.default.add3H(A,G,a,g),n=A|0}({h:i,l:n}=Cr.default.add(this.Ah|0,this.Al|0,i|0,n|0)),{h:o,l:s}=Cr.default.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:f,l:d}=Cr.default.add(this.Ch|0,this.Cl|0,f|0,d|0),{h:p,l:u}=Cr.default.add(this.Dh|0,this.Dl|0,p|0,u|0),{h:y,l:B}=Cr.default.add(this.Eh|0,this.El|0,y|0,B|0),{h:S,l:C}=Cr.default.add(this.Fh|0,this.Fl|0,S|0,C|0),{h:x,l:_}=Cr.default.add(this.Gh|0,this.Gl|0,x|0,_|0),{h:Q,l:R}=Cr.default.add(this.Hh|0,this.Hl|0,Q|0,R|0),this.set(i,n,o,s,f,d,p,u,y,B,S,C,x,_,Q,R)}roundClean(){tg.fill(0),rg.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Of.SHA512=vI;var BG=class extends vI{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},CG=class extends vI{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},xG=class extends vI{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Of.sha512=(0,ZD.wrapConstructor)(()=>new vI);Of.sha512_224=(0,ZD.wrapConstructor)(()=>new BG);Of.sha512_256=(0,ZD.wrapConstructor)(()=>new CG);Of.sha384=(0,ZD.wrapConstructor)(()=>new xG)});var Xd=X(hr=>{"use strict";b();Object.defineProperty(hr,"__esModule",{value:!0});hr.validateObject=hr.createHmacDrbg=hr.bitMask=hr.bitSet=hr.bitGet=hr.bitLen=hr.utf8ToBytes=hr.equalBytes=hr.concatBytes=hr.ensureBytes=hr.numberToVarBytesBE=hr.numberToBytesLE=hr.numberToBytesBE=hr.bytesToNumberLE=hr.bytesToNumberBE=hr.hexToBytes=hr.hexToNumber=hr.numberToHexUnpadded=hr.bytesToHex=hr.isBytes=void 0;var Awe=BigInt(0),$D=BigInt(1),Grt=BigInt(2);function B1(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}hr.isBytes=B1;var jrt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _G(t){if(!B1(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=jrt[t[r]];return e}hr.bytesToHex=_G;function gwe(t){let e=t.toString(16);return e.length&1?`0${e}`:e}hr.numberToHexUnpadded=gwe;function QG(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}hr.hexToNumber=QG;var G0={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function lwe(t){if(t>=G0._0&&t<=G0._9)return t-G0._0;if(t>=G0._A&&t<=G0._F)return t-(G0._A-10);if(t>=G0._a&&t<=G0._f)return t-(G0._a-10)}function XD(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let i=new Uint8Array(r);for(let n=0,o=0;n<r;n++,o+=2){let s=lwe(t.charCodeAt(o)),f=lwe(t.charCodeAt(o+1));if(s===void 0||f===void 0){let d=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+o)}i[n]=s*16+f}return i}hr.hexToBytes=XD;function zrt(t){return QG(_G(t))}hr.bytesToNumberBE=zrt;function Yrt(t){if(!B1(t))throw new Error("Uint8Array expected");return QG(_G(Uint8Array.from(t).reverse()))}hr.bytesToNumberLE=Yrt;function ywe(t,e){return XD(t.toString(16).padStart(e*2,"0"))}hr.numberToBytesBE=ywe;function Jrt(t,e){return ywe(t,e).reverse()}hr.numberToBytesLE=Jrt;function Vrt(t){return XD(gwe(t))}hr.numberToVarBytesBE=Vrt;function Wrt(t,e,r){let i;if(typeof e=="string")try{i=XD(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(B1(e))i=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let n=i.length;if(typeof r=="number"&&n!==r)throw new Error(`${t} expected ${r} bytes, got ${n}`);return i}hr.ensureBytes=Wrt;function mwe(...t){let e=0;for(let n=0;n<t.length;n++){let o=t[n];if(!B1(o))throw new Error("Uint8Array expected");e+=o.length}let r=new Uint8Array(e),i=0;for(let n=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}hr.concatBytes=mwe;function Zrt(t,e){if(t.length!==e.length)return!1;let r=0;for(let i=0;i<t.length;i++)r|=t[i]^e[i];return r===0}hr.equalBytes=Zrt;function $rt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}hr.utf8ToBytes=$rt;function Xrt(t){let e;for(e=0;t>Awe;t>>=$D,e+=1);return e}hr.bitLen=Xrt;function eit(t,e){return t>>BigInt(e)&$D}hr.bitGet=eit;var tit=(t,e,r)=>t|(r?$D:Awe)<<BigInt(e);hr.bitSet=tit;var rit=t=>(Grt<<BigInt(t-1))-$D;hr.bitMask=rit;var SG=t=>new Uint8Array(t),pwe=t=>Uint8Array.from(t);function iit(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let i=SG(t),n=SG(t),o=0,s=()=>{i.fill(1),n.fill(0),o=0},f=(...y)=>r(n,i,...y),d=(y=SG())=>{n=f(pwe([0]),y),i=f(),y.length!==0&&(n=f(pwe([1]),y),i=f())},p=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let y=0,B=[];for(;y<e;){i=f();let S=i.slice();B.push(S),y+=i.length}return mwe(...B)};return(y,B)=>{s(),d(y);let S;for(;!(S=B(p()));)d();return s(),S}}hr.createHmacDrbg=iit;var nit={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||B1(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function oit(t,e,r={}){let i=(n,o,s)=>{let f=nit[o];if(typeof f!="function")throw new Error(`Invalid validator "${o}", expected function`);let d=t[n];if(!(s&&d===void 0)&&!f(d,t))throw new Error(`Invalid param ${String(n)}=${d} (${typeof d}), expected ${o}`)};for(let[n,o]of Object.entries(e))i(n,o,!1);for(let[n,o]of Object.entries(r))i(n,o,!0);return t}hr.validateObject=oit});var ng=X(lr=>{"use strict";b();Object.defineProperty(lr,"__esModule",{value:!0});lr.mapHashToField=lr.getMinHashLength=lr.getFieldBytesLength=lr.hashToPrivateScalar=lr.FpSqrtEven=lr.FpSqrtOdd=lr.Field=lr.nLength=lr.FpIsSquare=lr.FpDiv=lr.FpInvertBatch=lr.FpPow=lr.validateField=lr.isNegativeLE=lr.FpSqrt=lr.tonelliShanks=lr.invert=lr.pow2=lr.pow=lr.mod=void 0;var Mc=Xd(),lo=BigInt(0),Ti=BigInt(1),ig=BigInt(2),sit=BigInt(3),DG=BigInt(4),Iwe=BigInt(5),wwe=BigInt(8),ait=BigInt(9),cit=BigInt(16);function Dc(t,e){let r=t%e;return r>=lo?r:e+r}lr.mod=Dc;function vwe(t,e,r){if(r<=lo||e<lo)throw new Error("Expected power/modulo > 0");if(r===Ti)return lo;let i=Ti;for(;e>lo;)e&Ti&&(i=i*t%r),t=t*t%r,e>>=Ti;return i}lr.pow=vwe;function fit(t,e,r){let i=t;for(;e-- >lo;)i*=i,i%=r;return i}lr.pow2=fit;function eM(t,e){if(t===lo||e<=lo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Dc(t,e),i=e,n=lo,o=Ti,s=Ti,f=lo;for(;r!==lo;){let p=i/r,u=i%r,y=n-s*p,B=o-f*p;i=r,r=u,n=s,o=f,s=y,f=B}if(i!==Ti)throw new Error("invert: does not exist");return Dc(n,e)}lr.invert=eM;function bwe(t){let e=(t-Ti)/ig,r,i,n;for(r=t-Ti,i=0;r%ig===lo;r/=ig,i++);for(n=ig;n<t&&vwe(n,e,t)!==t-Ti;n++);if(i===1){let s=(t+Ti)/DG;return function(d,p){let u=d.pow(p,s);if(!d.eql(d.sqr(u),p))throw new Error("Cannot find square root");return u}}let o=(r+Ti)/ig;return function(f,d){if(f.pow(d,e)===f.neg(f.ONE))throw new Error("Cannot find square root");let p=i,u=f.pow(f.mul(f.ONE,n),r),y=f.pow(d,o),B=f.pow(d,r);for(;!f.eql(B,f.ONE);){if(f.eql(B,f.ZERO))return f.ZERO;let S=1;for(let x=f.sqr(B);S<p&&!f.eql(x,f.ONE);S++)x=f.sqr(x);let C=f.pow(u,Ti<<BigInt(p-S-1));u=f.sqr(C),y=f.mul(y,C),B=f.mul(B,u),p=S}return y}}lr.tonelliShanks=bwe;function Ewe(t){if(t%DG===sit){let e=(t+Ti)/DG;return function(i,n){let o=i.pow(n,e);if(!i.eql(i.sqr(o),n))throw new Error("Cannot find square root");return o}}if(t%wwe===Iwe){let e=(t-Iwe)/wwe;return function(i,n){let o=i.mul(n,ig),s=i.pow(o,e),f=i.mul(n,s),d=i.mul(i.mul(f,ig),s),p=i.mul(f,i.sub(d,i.ONE));if(!i.eql(i.sqr(p),n))throw new Error("Cannot find square root");return p}}return t%cit,bwe(t)}lr.FpSqrt=Ewe;var dit=(t,e)=>(Dc(t,e)&Ti)===Ti;lr.isNegativeLE=dit;var uit=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function hit(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=uit.reduce((i,n)=>(i[n]="function",i),e);return(0,Mc.validateObject)(t,r)}lr.validateField=hit;function Bwe(t,e,r){if(r<lo)throw new Error("Expected power > 0");if(r===lo)return t.ONE;if(r===Ti)return e;let i=t.ONE,n=e;for(;r>lo;)r&Ti&&(i=t.mul(i,n)),n=t.sqr(n),r>>=Ti;return i}lr.FpPow=Bwe;function Cwe(t,e){let r=new Array(e.length),i=e.reduce((o,s,f)=>t.is0(s)?o:(r[f]=o,t.mul(o,s)),t.ONE),n=t.inv(i);return e.reduceRight((o,s,f)=>t.is0(s)?o:(r[f]=t.mul(o,r[f]),t.mul(o,s)),n),r}lr.FpInvertBatch=Cwe;function lit(t,e,r){return t.mul(e,typeof r=="bigint"?eM(r,t.ORDER):t.inv(r))}lr.FpDiv=lit;function pit(t){let e=(t.ORDER-Ti)/ig;return r=>{let i=t.pow(r,e);return t.eql(i,t.ZERO)||t.eql(i,t.ONE)}}lr.FpIsSquare=pit;function MG(t,e){let r=e!==void 0?e:t.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}lr.nLength=MG;function Ait(t,e,r=!1,i={}){if(t<=lo)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:n,nByteLength:o}=MG(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=Ewe(t),f=Object.freeze({ORDER:t,BITS:n,BYTES:o,MASK:(0,Mc.bitMask)(n),ZERO:lo,ONE:Ti,create:d=>Dc(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return lo<=d&&d<t},is0:d=>d===lo,isOdd:d=>(d&Ti)===Ti,neg:d=>Dc(-d,t),eql:(d,p)=>d===p,sqr:d=>Dc(d*d,t),add:(d,p)=>Dc(d+p,t),sub:(d,p)=>Dc(d-p,t),mul:(d,p)=>Dc(d*p,t),pow:(d,p)=>Bwe(f,d,p),div:(d,p)=>Dc(d*eM(p,t),t),sqrN:d=>d*d,addN:(d,p)=>d+p,subN:(d,p)=>d-p,mulN:(d,p)=>d*p,inv:d=>eM(d,t),sqrt:i.sqrt||(d=>s(f,d)),invertBatch:d=>Cwe(f,d),cmov:(d,p,u)=>u?p:d,toBytes:d=>r?(0,Mc.numberToBytesLE)(d,o):(0,Mc.numberToBytesBE)(d,o),fromBytes:d=>{if(d.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${d.length}`);return r?(0,Mc.bytesToNumberLE)(d):(0,Mc.bytesToNumberBE)(d)}});return Object.freeze(f)}lr.Field=Ait;function git(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)}lr.FpSqrtOdd=git;function yit(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}lr.FpSqrtEven=yit;function mit(t,e,r=!1){t=(0,Mc.ensureBytes)("privateHash",t);let i=t.length,n=MG(e).nByteLength+8;if(n<24||i<n||i>1024)throw new Error(`hashToPrivateScalar: expected ${n}-1024 bytes of input, got ${i}`);let o=r?(0,Mc.bytesToNumberLE)(t):(0,Mc.bytesToNumberBE)(t);return Dc(o,e-Ti)+Ti}lr.hashToPrivateScalar=mit;function kG(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}lr.getFieldBytesLength=kG;function xwe(t){let e=kG(t);return e+Math.ceil(e/2)}lr.getMinHashLength=xwe;function Iit(t,e,r=!1){let i=t.length,n=kG(e),o=xwe(e);if(i<16||i<o||i>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${i}`);let s=r?(0,Mc.bytesToNumberBE)(t):(0,Mc.bytesToNumberLE)(t),f=Dc(s,e-Ti)+Ti;return r?(0,Mc.numberToBytesLE)(f,n):(0,Mc.numberToBytesBE)(f,n)}lr.mapHashToField=Iit});var RG=X(C1=>{"use strict";b();Object.defineProperty(C1,"__esModule",{value:!0});C1.validateBasic=C1.wNAF=void 0;var Swe=ng(),wit=Xd(),vit=BigInt(0),TG=BigInt(1);function bit(t,e){let r=(n,o)=>{let s=o.negate();return n?s:o},i=n=>{let o=Math.ceil(e/n)+1,s=2**(n-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(n,o){let s=t.ZERO,f=n;for(;o>vit;)o&TG&&(s=s.add(f)),f=f.double(),o>>=TG;return s},precomputeWindow(n,o){let{windows:s,windowSize:f}=i(o),d=[],p=n,u=p;for(let y=0;y<s;y++){u=p,d.push(u);for(let B=1;B<f;B++)u=u.add(p),d.push(u);p=u.double()}return d},wNAF(n,o,s){let{windows:f,windowSize:d}=i(n),p=t.ZERO,u=t.BASE,y=BigInt(2**n-1),B=2**n,S=BigInt(n);for(let C=0;C<f;C++){let x=C*d,_=Number(s&y);s>>=S,_>d&&(_-=B,s+=TG);let Q=x,R=x+Math.abs(_)-1,k=C%2!==0,K=_<0;_===0?u=u.add(r(k,o[Q])):p=p.add(r(K,o[R]))}return{p,f:u}},wNAFCached(n,o,s,f){let d=n._WINDOW_SIZE||1,p=o.get(n);return p||(p=this.precomputeWindow(n,d),d!==1&&o.set(n,f(p))),this.wNAF(d,p,s)}}}C1.wNAF=bit;function Eit(t){return(0,Swe.validateField)(t.Fp),(0,wit.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Swe.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}C1.validateBasic=Eit});var Qwe=X(rM=>{"use strict";b();Object.defineProperty(rM,"__esModule",{value:!0});rM.twistedEdwards=void 0;var Bit=ng(),j0=Xd(),og=Xd(),_we=RG(),eu=BigInt(0),kc=BigInt(1),tM=BigInt(2),Cit=BigInt(8),xit={zip215:!0};function Sit(t){let e=(0,_we.validateBasic)(t);return j0.validateObject(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function _it(t){let e=Sit(t),{Fp:r,n:i,prehash:n,hash:o,randomBytes:s,nByteLength:f,h:d}=e,p=tM<<BigInt(f*8)-kc,u=r.create,y=e.uvRatio||((m,c)=>{try{return{isValid:!0,value:r.sqrt(m*r.inv(c))}}catch{return{isValid:!1,value:eu}}}),B=e.adjustScalarBytes||(m=>m),S=e.domain||((m,c,I)=>{if(c.length||I)throw new Error("Contexts/pre-hash are not supported");return m}),C=m=>typeof m=="bigint"&&eu<m,x=(m,c)=>C(m)&&C(c)&&m<c,_=m=>m===eu||x(m,p);function Q(m,c){if(x(m,c))return m;throw new Error(`Expected valid scalar < ${c}, got ${typeof m} ${m}`)}function R(m){return m===eu?m:Q(m,i)}let k=new Map;function K(m){if(!(m instanceof T))throw new Error("ExtendedPoint expected")}class T{constructor(c,I,M,D){if(this.ex=c,this.ey=I,this.ez=M,this.et=D,!_(c))throw new Error("x required");if(!_(I))throw new Error("y required");if(!_(M))throw new Error("z required");if(!_(D))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(c){if(c instanceof T)throw new Error("extended point not allowed");let{x:I,y:M}=c||{};if(!_(I)||!_(M))throw new Error("invalid affine point");return new T(I,M,kc,u(I*M))}static normalizeZ(c){let I=r.invertBatch(c.map(M=>M.ez));return c.map((M,D)=>M.toAffine(I[D])).map(T.fromAffine)}_setWindowSize(c){this._WINDOW_SIZE=c,k.delete(this)}assertValidity(){let{a:c,d:I}=e;if(this.is0())throw new Error("bad point: ZERO");let{ex:M,ey:D,ez:P,et:j}=this,Y=u(M*M),z=u(D*D),$=u(P*P),W=u($*$),ee=u(Y*c),pe=u($*u(ee+z)),ne=u(W+u(I*u(Y*z)));if(pe!==ne)throw new Error("bad point: equation left != right (1)");let se=u(M*D),Le=u(P*j);if(se!==Le)throw new Error("bad point: equation left != right (2)")}equals(c){K(c);let{ex:I,ey:M,ez:D}=this,{ex:P,ey:j,ez:Y}=c,z=u(I*Y),$=u(P*D),W=u(M*Y),ee=u(j*D);return z===$&&W===ee}is0(){return this.equals(T.ZERO)}negate(){return new T(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:c}=e,{ex:I,ey:M,ez:D}=this,P=u(I*I),j=u(M*M),Y=u(tM*u(D*D)),z=u(c*P),$=I+M,W=u(u($*$)-P-j),ee=z+j,pe=ee-Y,ne=z-j,se=u(W*pe),Le=u(ee*ne),ce=u(W*ne),fe=u(pe*ee);return new T(se,Le,fe,ce)}add(c){K(c);let{a:I,d:M}=e,{ex:D,ey:P,ez:j,et:Y}=this,{ex:z,ey:$,ez:W,et:ee}=c;if(I===BigInt(-1)){let Nr=u((P-D)*($+z)),Be=u((P+D)*($-z)),we=u(Be-Nr);if(we===eu)return this.double();let qr=u(j*tM*ee),Ce=u(Y*tM*W),me=Ce+qr,Ir=Be+Nr,be=Ce-qr,Se=u(me*we),sr=u(Ir*be),xe=u(me*be),_e=u(we*Ir);return new T(Se,sr,_e,xe)}let pe=u(D*z),ne=u(P*$),se=u(Y*M*ee),Le=u(j*W),ce=u((D+P)*(z+$)-pe-ne),fe=Le-se,bt=Le+se,ge=u(ne-I*pe),Ie=u(ce*fe),mr=u(bt*ge),ve=u(ce*ge),ye=u(fe*bt);return new T(Ie,mr,ye,ve)}subtract(c){return this.add(c.negate())}wNAF(c){return O.wNAFCached(this,k,c,T.normalizeZ)}multiply(c){let{p:I,f:M}=this.wNAF(Q(c,i));return T.normalizeZ([I,M])[0]}multiplyUnsafe(c){let I=R(c);return I===eu?H:this.equals(H)||I===kc?this:this.equals(L)?this.wNAF(I).p:O.unsafeLadder(this,I)}isSmallOrder(){return this.multiplyUnsafe(d).is0()}isTorsionFree(){return O.unsafeLadder(this,i).is0()}toAffine(c){let{ex:I,ey:M,ez:D}=this,P=this.is0();c==null&&(c=P?Cit:r.inv(D));let j=u(I*c),Y=u(M*c),z=u(D*c);if(P)return{x:eu,y:kc};if(z!==kc)throw new Error("invZ was invalid");return{x:j,y:Y}}clearCofactor(){let{h:c}=e;return c===kc?this:this.multiplyUnsafe(c)}static fromHex(c,I=!1){let{d:M,a:D}=e,P=r.BYTES;c=(0,og.ensureBytes)("pointHex",c,P);let j=c.slice(),Y=c[P-1];j[P-1]=Y&-129;let z=j0.bytesToNumberLE(j);z===eu||(I?Q(z,p):Q(z,r.ORDER));let $=u(z*z),W=u($-kc),ee=u(M*$-D),{isValid:pe,value:ne}=y(W,ee);if(!pe)throw new Error("Point.fromHex: invalid y coordinate");let se=(ne&kc)===kc,Le=(Y&128)!==0;if(!I&&ne===eu&&Le)throw new Error("Point.fromHex: x=0 and x_0=1");return Le!==se&&(ne=u(-ne)),T.fromAffine({x:ne,y:z})}static fromPrivateKey(c){return a(c).point}toRawBytes(){let{x:c,y:I}=this.toAffine(),M=j0.numberToBytesLE(I,r.BYTES);return M[M.length-1]|=c&kc?128:0,M}toHex(){return j0.bytesToHex(this.toRawBytes())}}T.BASE=new T(e.Gx,e.Gy,kc,u(e.Gx*e.Gy)),T.ZERO=new T(eu,kc,kc,eu);let{BASE:L,ZERO:H}=T,O=(0,_we.wNAF)(T,f*8);function G(m){return(0,Bit.mod)(m,i)}function v(m){return G(j0.bytesToNumberLE(m))}function a(m){let c=f;m=(0,og.ensureBytes)("private key",m,c);let I=(0,og.ensureBytes)("hashed private key",o(m),2*c),M=B(I.slice(0,c)),D=I.slice(c,2*c),P=v(M),j=L.multiply(P),Y=j.toRawBytes();return{head:M,prefix:D,scalar:P,point:j,pointBytes:Y}}function h(m){return a(m).pointBytes}function g(m=new Uint8Array,...c){let I=j0.concatBytes(...c);return v(o(S(I,(0,og.ensureBytes)("context",m),!!n)))}function l(m,c,I={}){m=(0,og.ensureBytes)("message",m),n&&(m=n(m));let{prefix:M,scalar:D,pointBytes:P}=a(c),j=g(I.context,M,m),Y=L.multiply(j).toRawBytes(),z=g(I.context,Y,P,m),$=G(j+z*D);R($);let W=j0.concatBytes(Y,j0.numberToBytesLE($,r.BYTES));return(0,og.ensureBytes)("result",W,f*2)}let A=xit;function w(m,c,I,M=A){let{context:D,zip215:P}=M,j=r.BYTES;m=(0,og.ensureBytes)("signature",m,2*j),c=(0,og.ensureBytes)("message",c),n&&(c=n(c));let Y=j0.bytesToNumberLE(m.slice(j,2*j)),z,$,W;try{z=T.fromHex(I,P),$=T.fromHex(m.slice(0,j),P),W=L.multiplyUnsafe(Y)}catch{return!1}if(!P&&z.isSmallOrder())return!1;let ee=g(D,$.toRawBytes(),z.toRawBytes(),c);return $.add(z.multiplyUnsafe(ee)).subtract(W).clearCofactor().equals(T.ZERO)}return L._setWindowSize(8),{CURVE:e,getPublicKey:h,sign:l,verify:w,ExtendedPoint:T,utils:{getExtendedPublicKey:a,randomPrivateKey:()=>s(r.BYTES),precompute(m=8,c=T.BASE){return c._setWindowSize(m),c.multiply(BigInt(3)),c}}}}rM.twistedEdwards=_it});var Mwe=X(iM=>{"use strict";b();Object.defineProperty(iM,"__esModule",{value:!0});iM.montgomery=void 0;var Dwe=ng(),x1=Xd(),l3=BigInt(0),UG=BigInt(1);function Qit(t){return(0,x1.validateObject)(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function Dit(t){let e=Qit(t),{P:r}=e,i=k=>(0,Dwe.mod)(k,r),n=e.montgomeryBits,o=Math.ceil(n/8),s=e.nByteLength,f=e.adjustScalarBytes||(k=>k),d=e.powPminus2||(k=>(0,Dwe.pow)(k,r-BigInt(2),r));function p(k,K,T){let L=i(k*(K-T));return K=i(K-L),T=i(T+L),[K,T]}function u(k){if(typeof k=="bigint"&&l3<=k&&k<r)return k;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}let y=(e.a-BigInt(2))/BigInt(4);function B(k,K){let T=u(k),L=u(K),H=T,O=UG,G=l3,v=T,a=UG,h=l3,g;for(let A=BigInt(n-1);A>=l3;A--){let w=L>>A&UG;h^=w,g=p(h,O,v),O=g[0],v=g[1],g=p(h,G,a),G=g[0],a=g[1],h=w;let E=O+G,m=i(E*E),c=O-G,I=i(c*c),M=m-I,D=v+a,P=v-a,j=i(P*E),Y=i(D*c),z=j+Y,$=j-Y;v=i(z*z),a=i(H*i($*$)),O=i(m*I),G=i(M*(m+i(y*M)))}g=p(h,O,v),O=g[0],v=g[1],g=p(h,G,a),G=g[0],a=g[1];let l=d(G);return i(O*l)}function S(k){return(0,x1.numberToBytesLE)(i(k),o)}function C(k){let K=(0,x1.ensureBytes)("u coordinate",k,o);return s===32&&(K[31]&=127),(0,x1.bytesToNumberLE)(K)}function x(k){let K=(0,x1.ensureBytes)("scalar",k),T=K.length;if(T!==o&&T!==s)throw new Error(`Expected ${o} or ${s} bytes, got ${T}`);return(0,x1.bytesToNumberLE)(f(K))}function _(k,K){let T=C(K),L=x(k),H=B(T,L);if(H===l3)throw new Error("Invalid private or public key received");return S(H)}let Q=S(e.Gu);function R(k){return _(k,Q)}return{scalarMult:_,scalarMultBase:R,getSharedSecret:(k,K)=>_(k,K),getPublicKey:k=>R(k),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:Q}}iM.montgomery=Dit});var PG=X(Kf=>{"use strict";b();Object.defineProperty(Kf,"__esModule",{value:!0});Kf.createHasher=Kf.isogenyMap=Kf.hash_to_field=Kf.expand_message_xof=Kf.expand_message_xmd=void 0;var Mit=ng(),Tc=Xd();function kit(t){if((0,Tc.isBytes)(t))return t;if(typeof t=="string")return(0,Tc.utf8ToBytes)(t);throw new Error("DST must be Uint8Array or string")}var Tit=Tc.bytesToNumberBE;function sg(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let i=e-1;i>=0;i--)r[i]=t&255,t>>>=8;return new Uint8Array(r)}function Rit(t,e){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t[i]^e[i];return r}function p3(t){if(!(0,Tc.isBytes)(t))throw new Error("Uint8Array expected")}function NG(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function kwe(t,e,r,i){p3(t),p3(e),NG(r),e.length>255&&(e=i((0,Tc.concatBytes)((0,Tc.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:n,blockLen:o}=i,s=Math.ceil(r/n);if(s>255)throw new Error("Invalid xmd length");let f=(0,Tc.concatBytes)(e,sg(e.length,1)),d=sg(0,o),p=sg(r,2),u=new Array(s),y=i((0,Tc.concatBytes)(d,t,p,sg(0,1),f));u[0]=i((0,Tc.concatBytes)(y,sg(1,1),f));for(let S=1;S<=s;S++){let C=[Rit(y,u[S-1]),sg(S+1,1),f];u[S]=i((0,Tc.concatBytes)(...C))}return(0,Tc.concatBytes)(...u).slice(0,r)}Kf.expand_message_xmd=kwe;function Twe(t,e,r,i,n){if(p3(t),p3(e),NG(r),e.length>255){let o=Math.ceil(2*i/8);e=n.create({dkLen:o}).update((0,Tc.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return n.create({dkLen:r}).update(t).update(sg(r,2)).update(e).update(sg(e.length,1)).digest()}Kf.expand_message_xof=Twe;function FG(t,e,r){(0,Tc.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:i,k:n,m:o,hash:s,expand:f,DST:d}=r;p3(t),NG(e);let p=kit(d),u=i.toString(2).length,y=Math.ceil((u+n)/8),B=e*o*y,S;if(f==="xmd")S=kwe(t,p,B,s);else if(f==="xof")S=Twe(t,p,B,n,s);else if(f==="_internal_pass")S=t;else throw new Error('expand must be "xmd" or "xof"');let C=new Array(e);for(let x=0;x<e;x++){let _=new Array(o);for(let Q=0;Q<o;Q++){let R=y*(Q+x*o),k=S.subarray(R,R+y);_[Q]=(0,Mit.mod)(Tit(k),i)}C[x]=_}return C}Kf.hash_to_field=FG;function Uit(t,e){let r=e.map(i=>Array.from(i).reverse());return(i,n)=>{let[o,s,f,d]=r.map(p=>p.reduce((u,y)=>t.add(t.mul(u,i),y)));return i=t.div(o,s),n=t.mul(n,t.div(f,d)),{x:i,y:n}}}Kf.isogenyMap=Uit;function Fit(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(i,n){let o=FG(i,2,{...r,DST:r.DST,...n}),s=t.fromAffine(e(o[0])),f=t.fromAffine(e(o[1])),d=s.add(f).clearCofactor();return d.assertValidity(),d},encodeToCurve(i,n){let o=FG(i,1,{...r,DST:r.encodeDST,...n}),s=t.fromAffine(e(o[0])).clearCofactor();return s.assertValidity(),s}}}Kf.createHasher=Fit});var zwe=X($t=>{"use strict";b();Object.defineProperty($t,"__esModule",{value:!0});$t.hash_to_ristretto255=$t.hashToRistretto255=$t.RistrettoPoint=$t.encodeToCurve=$t.hashToCurve=$t.edwardsToMontgomeryPriv=$t.edwardsToMontgomery=$t.edwardsToMontgomeryPub=$t.x25519=$t.ed25519ph=$t.ed25519ctx=$t.ed25519=$t.ED25519_TORSION_SUBGROUP=void 0;var oM=hwe(),A3=H0(),HG=Qwe(),Nit=Mwe(),fi=ng(),bI=Xd(),Kwe=PG(),g3=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),qG=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Pit=BigInt(0),Oh=BigInt(1),nM=BigInt(2),Oit=BigInt(5),Rwe=BigInt(10),Kit=BigInt(20),qit=BigInt(40),Uwe=BigInt(80);function qwe(t){let e=g3,i=t*t%e*t%e,n=(0,fi.pow2)(i,nM,e)*i%e,o=(0,fi.pow2)(n,Oh,e)*t%e,s=(0,fi.pow2)(o,Oit,e)*o%e,f=(0,fi.pow2)(s,Rwe,e)*s%e,d=(0,fi.pow2)(f,Kit,e)*f%e,p=(0,fi.pow2)(d,qit,e)*d%e,u=(0,fi.pow2)(p,Uwe,e)*p%e,y=(0,fi.pow2)(u,Uwe,e)*p%e,B=(0,fi.pow2)(y,Rwe,e)*s%e;return{pow_p_5_8:(0,fi.pow2)(B,nM,e)*t%e,b2:i}}function Lwe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function GG(t,e){let r=g3,i=(0,fi.mod)(e*e*e,r),n=(0,fi.mod)(i*i*e,r),o=qwe(t*n).pow_p_5_8,s=(0,fi.mod)(t*i*o,r),f=(0,fi.mod)(e*s*s,r),d=s,p=(0,fi.mod)(s*qG,r),u=f===t,y=f===(0,fi.mod)(-t,r),B=f===(0,fi.mod)(-t*qG,r);return u&&(s=d),(y||B)&&(s=p),(0,fi.isNegativeLE)(s,r)&&(s=(0,fi.mod)(-s,r)),{isValid:u||y,value:s}}$t.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];var at=(0,fi.Field)(g3,void 0,!0),y3={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:at,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:oM.sha512,randomBytes:A3.randomBytes,adjustScalarBytes:Lwe,uvRatio:GG};$t.ed25519=(0,HG.twistedEdwards)(y3);function Hwe(t,e,r){if(e.length>255)throw new Error("Context is too big");return(0,A3.concatBytes)((0,A3.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}$t.ed25519ctx=(0,HG.twistedEdwards)({...y3,domain:Hwe});$t.ed25519ph=(0,HG.twistedEdwards)({...y3,domain:Hwe,prehash:oM.sha512});$t.x25519=(0,Nit.montgomery)({P:g3,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{let e=g3,{pow_p_5_8:r,b2:i}=qwe(t);return(0,fi.mod)((0,fi.pow2)(r,BigInt(3),e)*i,e)},adjustScalarBytes:Lwe,randomBytes:A3.randomBytes});function Gwe(t){let{y:e}=$t.ed25519.ExtendedPoint.fromHex(t),r=BigInt(1);return at.toBytes(at.create((r+e)*at.inv(r-e)))}$t.edwardsToMontgomeryPub=Gwe;$t.edwardsToMontgomery=Gwe;function Lit(t){let e=y3.hash(t.subarray(0,32));return y3.adjustScalarBytes(e).subarray(0,32)}$t.edwardsToMontgomeryPriv=Lit;var Hit=(at.ORDER+BigInt(3))/BigInt(8),Git=at.pow(nM,Hit),Fwe=at.sqrt(at.neg(at.ONE)),jit=(at.ORDER-BigInt(5))/BigInt(8),Nwe=BigInt(486662);function zit(t){let e=at.sqr(t);e=at.mul(e,nM);let r=at.add(e,at.ONE),i=at.neg(Nwe),n=at.sqr(r),o=at.mul(n,r),s=at.mul(e,Nwe);s=at.mul(s,i),s=at.add(s,n),s=at.mul(s,i);let f=at.sqr(o);n=at.sqr(f),f=at.mul(f,o),f=at.mul(f,s),n=at.mul(n,f);let d=at.pow(n,jit);d=at.mul(d,f);let p=at.mul(d,Fwe);n=at.sqr(d),n=at.mul(n,o);let u=at.eql(n,s),y=at.cmov(p,d,u),B=at.mul(i,e),S=at.mul(d,t);S=at.mul(S,Git);let C=at.mul(S,Fwe),x=at.mul(s,e);n=at.sqr(S),n=at.mul(n,o);let _=at.eql(n,x),Q=at.cmov(C,S,_);n=at.sqr(y),n=at.mul(n,o);let R=at.eql(n,s),k=at.cmov(B,i,R),K=at.cmov(Q,y,R),T=at.isOdd(K);return K=at.cmov(K,at.neg(K),R!==T),{xMn:k,xMd:r,yMn:K,yMd:Oh}}var Yit=(0,fi.FpSqrtEven)(at,at.neg(BigInt(486664)));function Jit(t){let{xMn:e,xMd:r,yMn:i,yMd:n}=zit(t),o=at.mul(e,n);o=at.mul(o,Yit);let s=at.mul(r,i),f=at.sub(e,r),d=at.add(e,r),p=at.mul(s,d),u=at.eql(p,at.ZERO);o=at.cmov(o,at.ZERO,u),s=at.cmov(s,at.ONE,u),f=at.cmov(f,at.ONE,u),d=at.cmov(d,at.ONE,u);let y=at.invertBatch([s,d]);return{x:at.mul(o,y[0]),y:at.mul(f,y[1])}}var jwe=(0,Kwe.createHasher)($t.ed25519.ExtendedPoint,t=>Jit(t[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:at.ORDER,m:1,k:128,expand:"xmd",hash:oM.sha512});$t.hashToCurve=jwe.hashToCurve;$t.encodeToCurve=jwe.encodeToCurve;function OG(t){if(!(t instanceof tu))throw new Error("RistrettoPoint expected")}var LG=qG,Vit=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Wit=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Zit=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),$it=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Pwe=t=>GG(Oh,t),Xit=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),KG=t=>$t.ed25519.CURVE.Fp.create((0,bI.bytesToNumberLE)(t)&Xit);function Owe(t){let{d:e}=$t.ed25519.CURVE,r=$t.ed25519.CURVE.Fp.ORDER,i=$t.ed25519.CURVE.Fp.create,n=i(LG*t*t),o=i((n+Oh)*Zit),s=BigInt(-1),f=i((s-e*n)*i(n+e)),{isValid:d,value:p}=GG(o,f),u=i(p*t);(0,fi.isNegativeLE)(u,r)||(u=i(-u)),d||(p=u),d||(s=n);let y=i(s*(n-Oh)*$it-f),B=p*p,S=i((p+p)*f),C=i(y*Vit),x=i(Oh-B),_=i(Oh+B);return new $t.ed25519.ExtendedPoint(i(S*_),i(x*C),i(C*_),i(S*x))}var tu=class t{constructor(e){this.ep=e}static fromAffine(e){return new t($t.ed25519.ExtendedPoint.fromAffine(e))}static hashToCurve(e){e=(0,bI.ensureBytes)("ristrettoHash",e,64);let r=KG(e.slice(0,32)),i=Owe(r),n=KG(e.slice(32,64)),o=Owe(n);return new t(i.add(o))}static fromHex(e){e=(0,bI.ensureBytes)("ristrettoHex",e,32);let{a:r,d:i}=$t.ed25519.CURVE,n=$t.ed25519.CURVE.Fp.ORDER,o=$t.ed25519.CURVE.Fp.create,s="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",f=KG(e);if(!(0,bI.equalBytes)((0,bI.numberToBytesLE)(f,32),e)||(0,fi.isNegativeLE)(f,n))throw new Error(s);let d=o(f*f),p=o(Oh+r*d),u=o(Oh-r*d),y=o(p*p),B=o(u*u),S=o(r*i*y-B),{isValid:C,value:x}=Pwe(o(S*B)),_=o(x*u),Q=o(x*_*S),R=o((f+f)*_);(0,fi.isNegativeLE)(R,n)&&(R=o(-R));let k=o(p*Q),K=o(R*k);if(!C||(0,fi.isNegativeLE)(K,n)||k===Pit)throw new Error(s);return new t(new $t.ed25519.ExtendedPoint(R,k,Oh,K))}toRawBytes(){let{ex:e,ey:r,ez:i,et:n}=this.ep,o=$t.ed25519.CURVE.Fp.ORDER,s=$t.ed25519.CURVE.Fp.create,f=s(s(i+r)*s(i-r)),d=s(e*r),p=s(d*d),{value:u}=Pwe(s(f*p)),y=s(u*f),B=s(u*d),S=s(y*B*n),C;if((0,fi.isNegativeLE)(n*S,o)){let _=s(r*LG),Q=s(e*LG);e=_,r=Q,C=s(y*Wit)}else C=B;(0,fi.isNegativeLE)(e*S,o)&&(r=s(-r));let x=s((i-r)*C);return(0,fi.isNegativeLE)(x,o)&&(x=s(-x)),(0,bI.numberToBytesLE)(x,32)}toHex(){return(0,bI.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(e){OG(e);let{ex:r,ey:i}=this.ep,{ex:n,ey:o}=e.ep,s=$t.ed25519.CURVE.Fp.create,f=s(r*o)===s(i*n),d=s(i*o)===s(r*n);return f||d}add(e){return OG(e),new t(this.ep.add(e.ep))}subtract(e){return OG(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}double(){return new t(this.ep.double())}negate(){return new t(this.ep.negate())}};$t.RistrettoPoint=(tu.BASE||(tu.BASE=new tu($t.ed25519.ExtendedPoint.BASE)),tu.ZERO||(tu.ZERO=new tu($t.ed25519.ExtendedPoint.ZERO)),tu);var ent=(t,e)=>{let r=e.DST,i=typeof r=="string"?(0,A3.utf8ToBytes)(r):r,n=(0,Kwe.expand_message_xmd)(t,i,64,oM.sha512);return tu.hashToCurve(n)};$t.hashToRistretto255=ent;$t.hash_to_ristretto255=$t.hashToRistretto255});var zG=X(S1=>{"use strict";b();Object.defineProperty(S1,"__esModule",{value:!0});S1.sha224=S1.sha256=void 0;var tnt=vG(),qf=H0(),rnt=(t,e,r)=>t&e^~t&r,int=(t,e,r)=>t&e^t&r^e&r,nnt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ag=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),cg=new Uint32Array(64),sM=class extends tnt.SHA2{constructor(){super(64,32,8,!1),this.A=ag[0]|0,this.B=ag[1]|0,this.C=ag[2]|0,this.D=ag[3]|0,this.E=ag[4]|0,this.F=ag[5]|0,this.G=ag[6]|0,this.H=ag[7]|0}get(){let{A:e,B:r,C:i,D:n,E:o,F:s,G:f,H:d}=this;return[e,r,i,n,o,s,f,d]}set(e,r,i,n,o,s,f,d){this.A=e|0,this.B=r|0,this.C=i|0,this.D=n|0,this.E=o|0,this.F=s|0,this.G=f|0,this.H=d|0}process(e,r){for(let y=0;y<16;y++,r+=4)cg[y]=e.getUint32(r,!1);for(let y=16;y<64;y++){let B=cg[y-15],S=cg[y-2],C=(0,qf.rotr)(B,7)^(0,qf.rotr)(B,18)^B>>>3,x=(0,qf.rotr)(S,17)^(0,qf.rotr)(S,19)^S>>>10;cg[y]=x+cg[y-7]+C+cg[y-16]|0}let{A:i,B:n,C:o,D:s,E:f,F:d,G:p,H:u}=this;for(let y=0;y<64;y++){let B=(0,qf.rotr)(f,6)^(0,qf.rotr)(f,11)^(0,qf.rotr)(f,25),S=u+B+rnt(f,d,p)+nnt[y]+cg[y]|0,x=((0,qf.rotr)(i,2)^(0,qf.rotr)(i,13)^(0,qf.rotr)(i,22))+int(i,n,o)|0;u=p,p=d,d=f,f=s+S|0,s=o,o=n,n=i,i=S+x|0}i=i+this.A|0,n=n+this.B|0,o=o+this.C|0,s=s+this.D|0,f=f+this.E|0,d=d+this.F|0,p=p+this.G|0,u=u+this.H|0,this.set(i,n,o,s,f,d,p,u)}roundClean(){cg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},jG=class extends sM{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};S1.sha256=(0,qf.wrapConstructor)(()=>new sM);S1.sha224=(0,qf.wrapConstructor)(()=>new jG)});var JG=X(po=>{"use strict";b();Object.defineProperty(po,"__esModule",{value:!0});po.mapToCurveSimpleSWU=po.SWUFpSqrtRatio=po.weierstrass=po.weierstrassPoints=po.DER=void 0;var _1=ng(),mn=Xd(),Kh=Xd(),YG=RG();function ont(t){let e=(0,YG.validateBasic)(t);mn.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:i,a:n}=e;if(r){if(!i.eql(n,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:snt,hexToBytes:ant}=mn;po.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=po.DER;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],i=t.subarray(2,r+2);if(!r||i.length!==r)throw new e("Invalid signature integer: wrong length");if(i[0]&128)throw new e("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:snt(i),l:t.subarray(r+2)}},toSig(t){let{Err:e}=po.DER,r=typeof t=="string"?ant(t):t;if(!mn.isBytes(r))throw new Error("ui8a expected");let i=r.length;if(i<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==i-2)throw new e("Invalid signature: incorrect length");let{d:n,l:o}=po.DER._parseInt(r.subarray(2)),{d:s,l:f}=po.DER._parseInt(o);if(f.length)throw new e("Invalid signature: left bytes after parsing");return{r:n,s}},hexFromSig(t){let e=p=>Number.parseInt(p[0],16)&8?"00"+p:p,r=p=>{let u=p.toString(16);return u.length&1?`0${u}`:u},i=e(r(t.s)),n=e(r(t.r)),o=i.length/2,s=n.length/2,f=r(o),d=r(s);return`30${r(s+o+4)}02${d}${n}02${f}${i}`}};var ru=BigInt(0),Rn=BigInt(1),fg=BigInt(2),aM=BigInt(3),Ywe=BigInt(4);function Jwe(t){let e=ont(t),{Fp:r}=e,i=e.toBytes||((C,x,_)=>{let Q=x.toAffine();return mn.concatBytes(Uint8Array.from([4]),r.toBytes(Q.x),r.toBytes(Q.y))}),n=e.fromBytes||(C=>{let x=C.subarray(1),_=r.fromBytes(x.subarray(0,r.BYTES)),Q=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:_,y:Q}});function o(C){let{a:x,b:_}=e,Q=r.sqr(C),R=r.mul(Q,C);return r.add(r.add(R,r.mul(C,x)),_)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(C){return typeof C=="bigint"&&ru<C&&C<e.n}function f(C){if(!s(C))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(C){let{allowedPrivateKeyLengths:x,nByteLength:_,wrapPrivateKey:Q,n:R}=e;if(x&&typeof C!="bigint"){if(mn.isBytes(C)&&(C=mn.bytesToHex(C)),typeof C!="string"||!x.includes(C.length))throw new Error("Invalid key");C=C.padStart(_*2,"0")}let k;try{k=typeof C=="bigint"?C:mn.bytesToNumberBE((0,Kh.ensureBytes)("private key",C,_))}catch{throw new Error(`private key must be ${_} bytes, hex or bigint, not ${typeof C}`)}return Q&&(k=_1.mod(k,R)),f(k),k}let p=new Map;function u(C){if(!(C instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(x,_,Q){if(this.px=x,this.py=_,this.pz=Q,x==null||!r.isValid(x))throw new Error("x required");if(_==null||!r.isValid(_))throw new Error("y required");if(Q==null||!r.isValid(Q))throw new Error("z required")}static fromAffine(x){let{x:_,y:Q}=x||{};if(!x||!r.isValid(_)||!r.isValid(Q))throw new Error("invalid affine point");if(x instanceof y)throw new Error("projective point not allowed");let R=k=>r.eql(k,r.ZERO);return R(_)&&R(Q)?y.ZERO:new y(_,Q,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){let _=r.invertBatch(x.map(Q=>Q.pz));return x.map((Q,R)=>Q.toAffine(_[R])).map(y.fromAffine)}static fromHex(x){let _=y.fromAffine(n((0,Kh.ensureBytes)("pointHex",x)));return _.assertValidity(),_}static fromPrivateKey(x){return y.BASE.multiply(d(x))}_setWindowSize(x){this._WINDOW_SIZE=x,p.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x,y:_}=this.toAffine();if(!r.isValid(x)||!r.isValid(_))throw new Error("bad point: x or y not FE");let Q=r.sqr(_),R=o(x);if(!r.eql(Q,R))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){u(x);let{px:_,py:Q,pz:R}=this,{px:k,py:K,pz:T}=x,L=r.eql(r.mul(_,T),r.mul(k,R)),H=r.eql(r.mul(Q,T),r.mul(K,R));return L&&H}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){let{a:x,b:_}=e,Q=r.mul(_,aM),{px:R,py:k,pz:K}=this,T=r.ZERO,L=r.ZERO,H=r.ZERO,O=r.mul(R,R),G=r.mul(k,k),v=r.mul(K,K),a=r.mul(R,k);return a=r.add(a,a),H=r.mul(R,K),H=r.add(H,H),T=r.mul(x,H),L=r.mul(Q,v),L=r.add(T,L),T=r.sub(G,L),L=r.add(G,L),L=r.mul(T,L),T=r.mul(a,T),H=r.mul(Q,H),v=r.mul(x,v),a=r.sub(O,v),a=r.mul(x,a),a=r.add(a,H),H=r.add(O,O),O=r.add(H,O),O=r.add(O,v),O=r.mul(O,a),L=r.add(L,O),v=r.mul(k,K),v=r.add(v,v),O=r.mul(v,a),T=r.sub(T,O),H=r.mul(v,G),H=r.add(H,H),H=r.add(H,H),new y(T,L,H)}add(x){u(x);let{px:_,py:Q,pz:R}=this,{px:k,py:K,pz:T}=x,L=r.ZERO,H=r.ZERO,O=r.ZERO,G=e.a,v=r.mul(e.b,aM),a=r.mul(_,k),h=r.mul(Q,K),g=r.mul(R,T),l=r.add(_,Q),A=r.add(k,K);l=r.mul(l,A),A=r.add(a,h),l=r.sub(l,A),A=r.add(_,R);let w=r.add(k,T);return A=r.mul(A,w),w=r.add(a,g),A=r.sub(A,w),w=r.add(Q,R),L=r.add(K,T),w=r.mul(w,L),L=r.add(h,g),w=r.sub(w,L),O=r.mul(G,A),L=r.mul(v,g),O=r.add(L,O),L=r.sub(h,O),O=r.add(h,O),H=r.mul(L,O),h=r.add(a,a),h=r.add(h,a),g=r.mul(G,g),A=r.mul(v,A),h=r.add(h,g),g=r.sub(a,g),g=r.mul(G,g),A=r.add(A,g),a=r.mul(h,A),H=r.add(H,a),a=r.mul(w,A),L=r.mul(l,L),L=r.sub(L,a),a=r.mul(l,h),O=r.mul(w,O),O=r.add(O,a),new y(L,H,O)}subtract(x){return this.add(x.negate())}is0(){return this.equals(y.ZERO)}wNAF(x){return S.wNAFCached(this,p,x,_=>{let Q=r.invertBatch(_.map(R=>R.pz));return _.map((R,k)=>R.toAffine(Q[k])).map(y.fromAffine)})}multiplyUnsafe(x){let _=y.ZERO;if(x===ru)return _;if(f(x),x===Rn)return this;let{endo:Q}=e;if(!Q)return S.unsafeLadder(this,x);let{k1neg:R,k1:k,k2neg:K,k2:T}=Q.splitScalar(x),L=_,H=_,O=this;for(;k>ru||T>ru;)k&Rn&&(L=L.add(O)),T&Rn&&(H=H.add(O)),O=O.double(),k>>=Rn,T>>=Rn;return R&&(L=L.negate()),K&&(H=H.negate()),H=new y(r.mul(H.px,Q.beta),H.py,H.pz),L.add(H)}multiply(x){f(x);let _=x,Q,R,{endo:k}=e;if(k){let{k1neg:K,k1:T,k2neg:L,k2:H}=k.splitScalar(_),{p:O,f:G}=this.wNAF(T),{p:v,f:a}=this.wNAF(H);O=S.constTimeNegate(K,O),v=S.constTimeNegate(L,v),v=new y(r.mul(v.px,k.beta),v.py,v.pz),Q=O.add(v),R=G.add(a)}else{let{p:K,f:T}=this.wNAF(_);Q=K,R=T}return y.normalizeZ([Q,R])[0]}multiplyAndAddUnsafe(x,_,Q){let R=y.BASE,k=(T,L)=>L===ru||L===Rn||!T.equals(R)?T.multiplyUnsafe(L):T.multiply(L),K=k(this,_).add(k(x,Q));return K.is0()?void 0:K}toAffine(x){let{px:_,py:Q,pz:R}=this,k=this.is0();x==null&&(x=k?r.ONE:r.inv(R));let K=r.mul(_,x),T=r.mul(Q,x),L=r.mul(R,x);if(k)return{x:r.ZERO,y:r.ZERO};if(!r.eql(L,r.ONE))throw new Error("invZ was invalid");return{x:K,y:T}}isTorsionFree(){let{h:x,isTorsionFree:_}=e;if(x===Rn)return!0;if(_)return _(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:x,clearCofactor:_}=e;return x===Rn?this:_?_(y,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),i(y,this,x)}toHex(x=!0){return mn.bytesToHex(this.toRawBytes(x))}}y.BASE=new y(e.Gx,e.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);let B=e.nBitLength,S=(0,YG.wNAF)(y,e.endo?Math.ceil(B/2):B);return{CURVE:e,ProjectivePoint:y,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:s}}po.weierstrassPoints=Jwe;function cnt(t){let e=(0,YG.validateBasic)(t);return mn.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function fnt(t){let e=cnt(t),{Fp:r,n:i}=e,n=r.BYTES+1,o=2*r.BYTES+1;function s(A){return ru<A&&A<r.ORDER}function f(A){return _1.mod(A,i)}function d(A){return _1.invert(A,i)}let{ProjectivePoint:p,normPrivateKeyToScalar:u,weierstrassEquation:y,isWithinCurveOrder:B}=Jwe({...e,toBytes(A,w,E){let m=w.toAffine(),c=r.toBytes(m.x),I=mn.concatBytes;return E?I(Uint8Array.from([w.hasEvenY()?2:3]),c):I(Uint8Array.from([4]),c,r.toBytes(m.y))},fromBytes(A){let w=A.length,E=A[0],m=A.subarray(1);if(w===n&&(E===2||E===3)){let c=mn.bytesToNumberBE(m);if(!s(c))throw new Error("Point is not on curve");let I=y(c),M=r.sqrt(I),D=(M&Rn)===Rn;return(E&1)===1!==D&&(M=r.neg(M)),{x:c,y:M}}else if(w===o&&E===4){let c=r.fromBytes(m.subarray(0,r.BYTES)),I=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:c,y:I}}else throw new Error(`Point of length ${w} was invalid. Expected ${n} compressed bytes or ${o} uncompressed bytes`)}}),S=A=>mn.bytesToHex(mn.numberToBytesBE(A,e.nByteLength));function C(A){let w=i>>Rn;return A>w}function x(A){return C(A)?f(-A):A}let _=(A,w,E)=>mn.bytesToNumberBE(A.slice(w,E));class Q{constructor(w,E,m){this.r=w,this.s=E,this.recovery=m,this.assertValidity()}static fromCompact(w){let E=e.nByteLength;return w=(0,Kh.ensureBytes)("compactSignature",w,E*2),new Q(_(w,0,E),_(w,E,2*E))}static fromDER(w){let{r:E,s:m}=po.DER.toSig((0,Kh.ensureBytes)("DER",w));return new Q(E,m)}assertValidity(){if(!B(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!B(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(w){return new Q(this.r,this.s,w)}recoverPublicKey(w){let{r:E,s:m,recovery:c}=this,I=H((0,Kh.ensureBytes)("msgHash",w));if(c==null||![0,1,2,3].includes(c))throw new Error("recovery id invalid");let M=c===2||c===3?E+e.n:E;if(M>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let D=c&1?"03":"02",P=p.fromHex(D+S(M)),j=d(M),Y=f(-I*j),z=f(m*j),$=p.BASE.multiplyAndAddUnsafe(P,Y,z);if(!$)throw new Error("point at infinify");return $.assertValidity(),$}hasHighS(){return C(this.s)}normalizeS(){return this.hasHighS()?new Q(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return mn.hexToBytes(this.toDERHex())}toDERHex(){return po.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return mn.hexToBytes(this.toCompactHex())}toCompactHex(){return S(this.r)+S(this.s)}}let R={isValidPrivateKey(A){try{return u(A),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let A=_1.getMinHashLength(e.n);return _1.mapHashToField(e.randomBytes(A),e.n)},precompute(A=8,w=p.BASE){return w._setWindowSize(A),w.multiply(BigInt(3)),w}};function k(A,w=!0){return p.fromPrivateKey(A).toRawBytes(w)}function K(A){let w=mn.isBytes(A),E=typeof A=="string",m=(w||E)&&A.length;return w?m===n||m===o:E?m===2*n||m===2*o:A instanceof p}function T(A,w,E=!0){if(K(A))throw new Error("first arg must be private key");if(!K(w))throw new Error("second arg must be public key");return p.fromHex(w).multiply(u(A)).toRawBytes(E)}let L=e.bits2int||function(A){let w=mn.bytesToNumberBE(A),E=A.length*8-e.nBitLength;return E>0?w>>BigInt(E):w},H=e.bits2int_modN||function(A){return f(L(A))},O=mn.bitMask(e.nBitLength);function G(A){if(typeof A!="bigint")throw new Error("bigint expected");if(!(ru<=A&&A<O))throw new Error(`bigint expected < 2^${e.nBitLength}`);return mn.numberToBytesBE(A,e.nByteLength)}function v(A,w,E=a){if(["recovered","canonical"].some(ee=>ee in E))throw new Error("sign() legacy options not supported");let{hash:m,randomBytes:c}=e,{lowS:I,prehash:M,extraEntropy:D}=E;I==null&&(I=!0),A=(0,Kh.ensureBytes)("msgHash",A),M&&(A=(0,Kh.ensureBytes)("prehashed msgHash",m(A)));let P=H(A),j=u(w),Y=[G(j),G(P)];if(D!=null){let ee=D===!0?c(r.BYTES):D;Y.push((0,Kh.ensureBytes)("extraEntropy",ee))}let z=mn.concatBytes(...Y),$=P;function W(ee){let pe=L(ee);if(!B(pe))return;let ne=d(pe),se=p.BASE.multiply(pe).toAffine(),Le=f(se.x);if(Le===ru)return;let ce=f(ne*f($+Le*j));if(ce===ru)return;let fe=(se.x===Le?0:2)|Number(se.y&Rn),bt=ce;return I&&C(ce)&&(bt=x(ce),fe^=1),new Q(Le,bt,fe)}return{seed:z,k2sig:W}}let a={lowS:e.lowS,prehash:!1},h={lowS:e.lowS,prehash:!1};function g(A,w,E=a){let{seed:m,k2sig:c}=v(A,w,E),I=e;return mn.createHmacDrbg(I.hash.outputLen,I.nByteLength,I.hmac)(m,c)}p.BASE._setWindowSize(8);function l(A,w,E,m=h){let c=A;if(w=(0,Kh.ensureBytes)("msgHash",w),E=(0,Kh.ensureBytes)("publicKey",E),"strict"in m)throw new Error("options.strict was renamed to lowS");let{lowS:I,prehash:M}=m,D,P;try{if(typeof c=="string"||mn.isBytes(c))try{D=Q.fromDER(c)}catch(se){if(!(se instanceof po.DER.Err))throw se;D=Q.fromCompact(c)}else if(typeof c=="object"&&typeof c.r=="bigint"&&typeof c.s=="bigint"){let{r:se,s:Le}=c;D=new Q(se,Le)}else throw new Error("PARSE");P=p.fromHex(E)}catch(se){if(se.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(I&&D.hasHighS())return!1;M&&(w=e.hash(w));let{r:j,s:Y}=D,z=H(w),$=d(Y),W=f(z*$),ee=f(j*$),pe=p.BASE.multiplyAndAddUnsafe(P,W,ee)?.toAffine();return pe?f(pe.x)===j:!1}return{CURVE:e,getPublicKey:k,getSharedSecret:T,sign:g,verify:l,ProjectivePoint:p,Signature:Q,utils:R}}po.weierstrass=fnt;function Vwe(t,e){let r=t.ORDER,i=ru;for(let C=r-Rn;C%fg===ru;C/=fg)i+=Rn;let n=i,o=fg<<n-Rn-Rn,s=o*fg,f=(r-Rn)/s,d=(f-Rn)/fg,p=s-Rn,u=o,y=t.pow(e,f),B=t.pow(e,(f+Rn)/fg),S=(C,x)=>{let _=y,Q=t.pow(x,p),R=t.sqr(Q);R=t.mul(R,x);let k=t.mul(C,R);k=t.pow(k,d),k=t.mul(k,Q),Q=t.mul(k,x),R=t.mul(k,C);let K=t.mul(R,Q);k=t.pow(K,u);let T=t.eql(k,t.ONE);Q=t.mul(R,B),k=t.mul(K,_),R=t.cmov(Q,R,T),K=t.cmov(k,K,T);for(let L=n;L>Rn;L--){let H=L-fg;H=fg<<H-Rn;let O=t.pow(K,H),G=t.eql(O,t.ONE);Q=t.mul(R,_),_=t.mul(_,_),O=t.mul(K,_),R=t.cmov(Q,R,G),K=t.cmov(O,K,G)}return{isValid:T,value:R}};if(t.ORDER%Ywe===aM){let C=(t.ORDER-aM)/Ywe,x=t.sqrt(t.neg(e));S=(_,Q)=>{let R=t.sqr(Q),k=t.mul(_,Q);R=t.mul(R,k);let K=t.pow(R,C);K=t.mul(K,k);let T=t.mul(K,x),L=t.mul(t.sqr(K),Q),H=t.eql(L,_),O=t.cmov(T,K,H);return{isValid:H,value:O}}}return S}po.SWUFpSqrtRatio=Vwe;function dnt(t,e){if(_1.validateField(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=Vwe(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return i=>{let n,o,s,f,d,p,u,y;n=t.sqr(i),n=t.mul(n,e.Z),o=t.sqr(n),o=t.add(o,n),s=t.add(o,t.ONE),s=t.mul(s,e.B),f=t.cmov(e.Z,t.neg(o),!t.eql(o,t.ZERO)),f=t.mul(f,e.A),o=t.sqr(s),p=t.sqr(f),d=t.mul(p,e.A),o=t.add(o,d),o=t.mul(o,s),p=t.mul(p,f),d=t.mul(p,e.B),o=t.add(o,d),u=t.mul(n,s);let{isValid:B,value:S}=r(o,p);y=t.mul(n,i),y=t.mul(y,S),u=t.cmov(u,s,B),y=t.cmov(y,S,B);let C=t.isOdd(i)===t.isOdd(y);return y=t.cmov(t.neg(y),y,C),u=t.div(u,f),{x:u,y}}}po.mapToCurveSimpleSWU=dnt});var VG=X(EI=>{"use strict";b();Object.defineProperty(EI,"__esModule",{value:!0});EI.hmac=EI.HMAC=void 0;var cM=zD(),Wwe=H0(),m3=class extends Wwe.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,(0,cM.hash)(e);let i=(0,Wwe.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,o=new Uint8Array(n);o.set(i.length>n?e.create().update(i).digest():i);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return(0,cM.exists)(this),this.iHash.update(e),this}digestInto(e){(0,cM.exists)(this),(0,cM.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:i,finished:n,destroyed:o,blockLen:s,outputLen:f}=this;return e=e,e.finished=n,e.destroyed=o,e.blockLen=s,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};EI.HMAC=m3;var unt=(t,e,r)=>new m3(t,e).update(r).digest();EI.hmac=unt;EI.hmac.create=(t,e)=>new m3(t,e)});var Xwe=X(Q1=>{"use strict";b();Object.defineProperty(Q1,"__esModule",{value:!0});Q1.createCurve=Q1.getHash=void 0;var hnt=VG(),Zwe=H0(),lnt=JG();function $we(t){return{hash:t,hmac:(e,...r)=>(0,hnt.hmac)(t,e,(0,Zwe.concatBytes)(...r)),randomBytes:Zwe.randomBytes}}Q1.getHash=$we;function pnt(t,e){let r=i=>(0,lnt.weierstrass)({...t,...$we(i)});return Object.freeze({...r(e),create:r})}Q1.createCurve=pnt});var dve=X(qa=>{"use strict";b();Object.defineProperty(qa,"__esModule",{value:!0});qa.encodeToCurve=qa.hashToCurve=qa.schnorr=qa.secp256k1=void 0;var fM=zG(),Ant=H0(),Ro=ng(),gnt=JG(),Ts=Xd(),rve=PG(),ynt=Xwe(),lM=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),dM=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ive=BigInt(1),uM=BigInt(2),eve=(t,e)=>(t+e/uM)/e;function nve(t){let e=lM,r=BigInt(3),i=BigInt(6),n=BigInt(11),o=BigInt(22),s=BigInt(23),f=BigInt(44),d=BigInt(88),p=t*t*t%e,u=p*p*t%e,y=(0,Ro.pow2)(u,r,e)*u%e,B=(0,Ro.pow2)(y,r,e)*u%e,S=(0,Ro.pow2)(B,uM,e)*p%e,C=(0,Ro.pow2)(S,n,e)*S%e,x=(0,Ro.pow2)(C,o,e)*C%e,_=(0,Ro.pow2)(x,f,e)*x%e,Q=(0,Ro.pow2)(_,d,e)*_%e,R=(0,Ro.pow2)(Q,f,e)*x%e,k=(0,Ro.pow2)(R,r,e)*u%e,K=(0,Ro.pow2)(k,s,e)*C%e,T=(0,Ro.pow2)(K,i,e)*p%e,L=(0,Ro.pow2)(T,uM,e);if(!dg.eql(dg.sqr(L),t))throw new Error("Cannot find square root");return L}var dg=(0,Ro.Field)(lM,void 0,void 0,{sqrt:nve});qa.secp256k1=(0,ynt.createCurve)({a:BigInt(0),b:BigInt(7),Fp:dg,n:dM,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=dM,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-ive*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),f=eve(o*t,e),d=eve(-i*t,e),p=(0,Ro.mod)(t-f*r-d*n,e),u=(0,Ro.mod)(-f*i-d*o,e),y=p>s,B=u>s;if(y&&(p=e-p),B&&(u=e-u),p>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:y,k1:p,k2neg:B,k2:u}}}},fM.sha256);var pM=BigInt(0),ove=t=>typeof t=="bigint"&&pM<t&&t<lM,mnt=t=>typeof t=="bigint"&&pM<t&&t<dM,tve={};function hM(t,...e){let r=tve[t];if(r===void 0){let i=(0,fM.sha256)(Uint8Array.from(t,n=>n.charCodeAt(0)));r=(0,Ts.concatBytes)(i,i),tve[t]=r}return(0,fM.sha256)((0,Ts.concatBytes)(r,...e))}var XG=t=>t.toRawBytes(!0).slice(1),ZG=t=>(0,Ts.numberToBytesBE)(t,32),WG=t=>(0,Ro.mod)(t,lM),I3=t=>(0,Ro.mod)(t,dM),ej=qa.secp256k1.ProjectivePoint,Int=(t,e,r)=>ej.BASE.multiplyAndAddUnsafe(t,e,r);function $G(t){let e=qa.secp256k1.utils.normPrivateKeyToScalar(t),r=ej.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:I3(-e),bytes:XG(r)}}function sve(t){if(!ove(t))throw new Error("bad x: need 0 < x < p");let e=WG(t*t),r=WG(e*t+BigInt(7)),i=nve(r);i%uM!==pM&&(i=WG(-i));let n=new ej(t,i,ive);return n.assertValidity(),n}function ave(...t){return I3((0,Ts.bytesToNumberBE)(hM("BIP0340/challenge",...t)))}function wnt(t){return $G(t).bytes}function vnt(t,e,r=(0,Ant.randomBytes)(32)){let i=(0,Ts.ensureBytes)("message",t),{bytes:n,scalar:o}=$G(e),s=(0,Ts.ensureBytes)("auxRand",r,32),f=ZG(o^(0,Ts.bytesToNumberBE)(hM("BIP0340/aux",s))),d=hM("BIP0340/nonce",f,n,i),p=I3((0,Ts.bytesToNumberBE)(d));if(p===pM)throw new Error("sign failed: k is zero");let{bytes:u,scalar:y}=$G(p),B=ave(u,n,i),S=new Uint8Array(64);if(S.set(u,0),S.set(ZG(I3(y+B*o)),32),!cve(S,i,n))throw new Error("sign: Invalid signature produced");return S}function cve(t,e,r){let i=(0,Ts.ensureBytes)("signature",t,64),n=(0,Ts.ensureBytes)("message",e),o=(0,Ts.ensureBytes)("publicKey",r,32);try{let s=sve((0,Ts.bytesToNumberBE)(o)),f=(0,Ts.bytesToNumberBE)(i.subarray(0,32));if(!ove(f))return!1;let d=(0,Ts.bytesToNumberBE)(i.subarray(32,64));if(!mnt(d))return!1;let p=ave(ZG(f),XG(s),n),u=Int(s,d,I3(-p));return!(!u||!u.hasEvenY()||u.toAffine().x!==f)}catch{return!1}}qa.schnorr={getPublicKey:wnt,sign:vnt,verify:cve,utils:{randomPrivateKey:qa.secp256k1.utils.randomPrivateKey,lift_x:sve,pointToBytes:XG,numberToBytesBE:Ts.numberToBytesBE,bytesToNumberBE:Ts.bytesToNumberBE,taggedHash:hM,mod:Ro.mod}};var bnt=(0,rve.isogenyMap)(dg,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),Ent=(0,gnt.mapToCurveSimpleSWU)(dg,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:dg.create(BigInt("-11"))}),fve=(0,rve.createHasher)(qa.secp256k1.ProjectivePoint,t=>{let{x:e,y:r}=Ent(dg.create(t[0]));return bnt(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:dg.ORDER,m:1,k:128,expand:"xmd",hash:fM.sha256});qa.hashToCurve=fve.hashToCurve;qa.encodeToCurve=fve.encodeToCurve});var tj=X(D1=>{"use strict";b();Object.defineProperty(D1,"__esModule",{value:!0});D1.decodeHex=D1.remove0x=void 0;var Bnt=$d();function uve(t){return t.startsWith("0x")||t.startsWith("0X")?t.slice(2):t}D1.remove0x=uve;function Cnt(t){return(0,Bnt.hexToBytes)(uve(t))}D1.decodeHex=Cnt});var ij=X(ua=>{"use strict";b();Object.defineProperty(ua,"__esModule",{value:!0});ua.output=ua.exists=ua.hash=ua.bytes=ua.bool=ua.number=void 0;function AM(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}ua.number=AM;function hve(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}ua.bool=hve;function rj(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}ua.bytes=rj;function lve(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("hash must be wrapped by utils.wrapConstructor");AM(t.outputLen),AM(t.blockLen)}ua.hash=lve;function pve(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}ua.exists=pve;function Ave(t,e){rj(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}ua.output=Ave;var xnt={number:AM,bool:hve,bytes:rj,hash:lve,exists:pve,output:Ave};ua.default=xnt});var yve=X(M1=>{"use strict";b();Object.defineProperty(M1,"__esModule",{value:!0});M1.poly1305=M1.wrapConstructorWithKey=void 0;var gM=$d(),nj=ij(),ds=(t,e)=>t[e++]&255|(t[e++]&255)<<8,oj=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=(0,gM.toBytes)(e),(0,gM.ensureBytes)(e,32);let r=ds(e,0),i=ds(e,2),n=ds(e,4),o=ds(e,6),s=ds(e,8),f=ds(e,10),d=ds(e,12),p=ds(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|i<<3)&8191,this.r[2]=(i>>>10|n<<6)&7939,this.r[3]=(n>>>7|o<<9)&8191,this.r[4]=(o>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|f<<2)&8191,this.r[7]=(f>>>11|d<<5)&8065,this.r[8]=(d>>>8|p<<8)&8191,this.r[9]=p>>>5&127;for(let u=0;u<8;u++)this.pad[u]=ds(e,16+2*u)}process(e,r,i=!1){let n=i?0:2048,{h:o,r:s}=this,f=s[0],d=s[1],p=s[2],u=s[3],y=s[4],B=s[5],S=s[6],C=s[7],x=s[8],_=s[9],Q=ds(e,r+0),R=ds(e,r+2),k=ds(e,r+4),K=ds(e,r+6),T=ds(e,r+8),L=ds(e,r+10),H=ds(e,r+12),O=ds(e,r+14),G=o[0]+(Q&8191),v=o[1]+((Q>>>13|R<<3)&8191),a=o[2]+((R>>>10|k<<6)&8191),h=o[3]+((k>>>7|K<<9)&8191),g=o[4]+((K>>>4|T<<12)&8191),l=o[5]+(T>>>1&8191),A=o[6]+((T>>>14|L<<2)&8191),w=o[7]+((L>>>11|H<<5)&8191),E=o[8]+((H>>>8|O<<8)&8191),m=o[9]+(O>>>5|n),c=0,I=c+G*f+v*(5*_)+a*(5*x)+h*(5*C)+g*(5*S);c=I>>>13,I&=8191,I+=l*(5*B)+A*(5*y)+w*(5*u)+E*(5*p)+m*(5*d),c+=I>>>13,I&=8191;let M=c+G*d+v*f+a*(5*_)+h*(5*x)+g*(5*C);c=M>>>13,M&=8191,M+=l*(5*S)+A*(5*B)+w*(5*y)+E*(5*u)+m*(5*p),c+=M>>>13,M&=8191;let D=c+G*p+v*d+a*f+h*(5*_)+g*(5*x);c=D>>>13,D&=8191,D+=l*(5*C)+A*(5*S)+w*(5*B)+E*(5*y)+m*(5*u),c+=D>>>13,D&=8191;let P=c+G*u+v*p+a*d+h*f+g*(5*_);c=P>>>13,P&=8191,P+=l*(5*x)+A*(5*C)+w*(5*S)+E*(5*B)+m*(5*y),c+=P>>>13,P&=8191;let j=c+G*y+v*u+a*p+h*d+g*f;c=j>>>13,j&=8191,j+=l*(5*_)+A*(5*x)+w*(5*C)+E*(5*S)+m*(5*B),c+=j>>>13,j&=8191;let Y=c+G*B+v*y+a*u+h*p+g*d;c=Y>>>13,Y&=8191,Y+=l*f+A*(5*_)+w*(5*x)+E*(5*C)+m*(5*S),c+=Y>>>13,Y&=8191;let z=c+G*S+v*B+a*y+h*u+g*p;c=z>>>13,z&=8191,z+=l*d+A*f+w*(5*_)+E*(5*x)+m*(5*C),c+=z>>>13,z&=8191;let $=c+G*C+v*S+a*B+h*y+g*u;c=$>>>13,$&=8191,$+=l*p+A*d+w*f+E*(5*_)+m*(5*x),c+=$>>>13,$&=8191;let W=c+G*x+v*C+a*S+h*B+g*y;c=W>>>13,W&=8191,W+=l*u+A*p+w*d+E*f+m*(5*_),c+=W>>>13,W&=8191;let ee=c+G*_+v*x+a*C+h*S+g*B;c=ee>>>13,ee&=8191,ee+=l*y+A*u+w*p+E*d+m*f,c+=ee>>>13,ee&=8191,c=(c<<2)+c|0,c=c+I|0,I=c&8191,c=c>>>13,M+=c,o[0]=I,o[1]=M,o[2]=D,o[3]=P,o[4]=j,o[5]=Y,o[6]=z,o[7]=$,o[8]=W,o[9]=ee}finalize(){let{h:e,pad:r}=this,i=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let f=2;f<10;f++)e[f]+=n,n=e[f]>>>13,e[f]&=8191;e[0]+=n*5,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,i[0]=e[0]+5,n=i[0]>>>13,i[0]&=8191;for(let f=1;f<10;f++)i[f]=e[f]+n,n=i[f]>>>13,i[f]&=8191;i[9]-=8192;let o=(n^1)-1;for(let f=0;f<10;f++)i[f]&=o;o=~o;for(let f=0;f<10;f++)e[f]=e[f]&o|i[f];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+r[0];e[0]=s&65535;for(let f=1;f<8;f++)s=(e[f]+r[f]|0)+(s>>>16)|0,e[f]=s&65535}update(e){nj.default.exists(this);let{buffer:r,blockLen:i}=this;e=(0,gM.toBytes)(e);let n=e.length;for(let o=0;o<n;){let s=Math.min(i-this.pos,n-o);if(s===i){for(;i<=n-o;o+=i)this.process(e,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){nj.default.exists(this),nj.default.output(e,this),this.finished=!0;let{buffer:r,h:i}=this,{pos:n}=this;if(n){for(r[n++]=1;n<16;n++)r[n]=0;this.process(r,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)e[o++]=i[s]>>>0,e[o++]=i[s]>>>8;return e}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let i=e.slice(0,r);return this.destroy(),i}};function gve(t){let e=(i,n)=>t(n).update((0,gM.toBytes)(i)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=i=>t(i),e}M1.wrapConstructorWithKey=gve;M1.poly1305=gve(t=>new oj(t))});var mve=X(mM=>{"use strict";b();Object.defineProperty(mM,"__esModule",{value:!0});mM.salsaBasic=void 0;var qh=ij(),Lh=$d(),Snt=(0,Lh.utf8ToBytes)("expand 16-byte k"),_nt=(0,Lh.utf8ToBytes)("expand 32-byte k"),Qnt=(0,Lh.u32)(Snt),Dnt=(0,Lh.u32)(_nt),yM=t=>!(t.byteOffset%4),Mnt=t=>{let{core:e,rounds:r,counterRight:i,counterLen:n,allow128bitKeys:o,extendNonceFn:s,blockLen:f}=(0,Lh.checkOpts)({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},t);qh.default.number(n),qh.default.number(r),qh.default.number(f),qh.default.bool(i),qh.default.bool(o);let d=f/4;if(f%4!==0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(p,u,y,B,S=0)=>{if(qh.default.bytes(p),qh.default.bytes(u),qh.default.bytes(y),B||(B=new Uint8Array(y.length)),qh.default.bytes(B),qh.default.number(S),S<0||S>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(B.length<y.length)throw new Error(`Salsa/ChaCha: output (${B.length}) is shorter than data (${y.length})`);let C=[],x,_;if(p.length===32)yM(p)?x=p:(x=p.slice(),C.push(x)),_=Dnt;else if(p.length===16&&o)x=new Uint8Array(32),x.set(p),x.set(p,16),_=Qnt,C.push(x);else throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${p.length}`);if(yM(u)||(u=u.slice(),C.push(u)),s){if(u.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");x=s(_,x,u.subarray(0,16),new Uint8Array(32)),C.push(x),u=u.subarray(16)}let Q=16-n;if(u.length!==Q)throw new Error(`Salsa/ChaCha: nonce must be ${Q} or 16 bytes`);if(Q!==12){let G=new Uint8Array(12);G.set(u,i?0:12-u.length),C.push(u=G)}let R=new Uint8Array(f),k=(0,Lh.u32)(R),K=(0,Lh.u32)(x),T=(0,Lh.u32)(u),L=yM(y)&&(0,Lh.u32)(y),H=yM(B)&&(0,Lh.u32)(B);C.push(k);let O=y.length;for(let G=0,v=S;G<O;v++){if(e(_,K,T,k,v,r),v>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");let a=Math.min(f,O-G);if(a===f&&H&&L){let h=G/4;if(G%4!==0)throw new Error("Salsa/ChaCha: invalid block position");for(let g=0;g<d;g++)H[h+g]=L[h+g]^k[g];G+=f;continue}for(let h=0;h<a;h++)B[G+h]=y[G+h]^R[h];G+=a}for(let G=0;G<C.length;G++)C[G].fill(0);return B}};mM.salsaBasic=Mnt});var bve=X(hn=>{"use strict";b();Object.defineProperty(hn,"__esModule",{value:!0});hn.xchacha20poly1305=hn.chacha20poly1305=hn._poly1305_aead=hn.chacha12=hn.chacha8=hn.xchacha20=hn.chacha20=hn.chacha20orig=hn.hchacha=void 0;var iu=$d(),knt=yve(),w3=mve(),gt=(t,e)=>t<<e|t>>>32-e;function v3(t,e,r,i,n,o=20){let s=t[0],f=t[1],d=t[2],p=t[3],u=e[0],y=e[1],B=e[2],S=e[3],C=e[4],x=e[5],_=e[6],Q=e[7],R=n,k=r[0],K=r[1],T=r[2],L=s,H=f,O=d,G=p,v=u,a=y,h=B,g=S,l=C,A=x,w=_,E=Q,m=R,c=k,I=K,M=T;for(let P=0;P<o;P+=2)L=L+v|0,m=gt(m^L,16),l=l+m|0,v=gt(v^l,12),L=L+v|0,m=gt(m^L,8),l=l+m|0,v=gt(v^l,7),H=H+a|0,c=gt(c^H,16),A=A+c|0,a=gt(a^A,12),H=H+a|0,c=gt(c^H,8),A=A+c|0,a=gt(a^A,7),O=O+h|0,I=gt(I^O,16),w=w+I|0,h=gt(h^w,12),O=O+h|0,I=gt(I^O,8),w=w+I|0,h=gt(h^w,7),G=G+g|0,M=gt(M^G,16),E=E+M|0,g=gt(g^E,12),G=G+g|0,M=gt(M^G,8),E=E+M|0,g=gt(g^E,7),L=L+a|0,M=gt(M^L,16),w=w+M|0,a=gt(a^w,12),L=L+a|0,M=gt(M^L,8),w=w+M|0,a=gt(a^w,7),H=H+h|0,m=gt(m^H,16),E=E+m|0,h=gt(h^E,12),H=H+h|0,m=gt(m^H,8),E=E+m|0,h=gt(h^E,7),O=O+g|0,c=gt(c^O,16),l=l+c|0,g=gt(g^l,12),O=O+g|0,c=gt(c^O,8),l=l+c|0,g=gt(g^l,7),G=G+v|0,I=gt(I^G,16),A=A+I|0,v=gt(v^A,12),G=G+v|0,I=gt(I^G,8),A=A+I|0,v=gt(v^A,7);let D=0;i[D++]=s+L|0,i[D++]=f+H|0,i[D++]=d+O|0,i[D++]=p+G|0,i[D++]=u+v|0,i[D++]=y+a|0,i[D++]=B+h|0,i[D++]=S+g|0,i[D++]=C+l|0,i[D++]=x+A|0,i[D++]=_+w|0,i[D++]=Q+E|0,i[D++]=R+m|0,i[D++]=k+c|0,i[D++]=K+I|0,i[D++]=T+M|0}function vve(t,e,r,i){let n=(0,iu.u32)(e),o=(0,iu.u32)(r),s=(0,iu.u32)(i),f=t[0],d=t[1],p=t[2],u=t[3],y=n[0],B=n[1],S=n[2],C=n[3],x=n[4],_=n[5],Q=n[6],R=n[7],k=o[0],K=o[1],T=o[2],L=o[3];for(let H=0;H<20;H+=2)f=f+y|0,k=gt(k^f,16),x=x+k|0,y=gt(y^x,12),f=f+y|0,k=gt(k^f,8),x=x+k|0,y=gt(y^x,7),d=d+B|0,K=gt(K^d,16),_=_+K|0,B=gt(B^_,12),d=d+B|0,K=gt(K^d,8),_=_+K|0,B=gt(B^_,7),p=p+S|0,T=gt(T^p,16),Q=Q+T|0,S=gt(S^Q,12),p=p+S|0,T=gt(T^p,8),Q=Q+T|0,S=gt(S^Q,7),u=u+C|0,L=gt(L^u,16),R=R+L|0,C=gt(C^R,12),u=u+C|0,L=gt(L^u,8),R=R+L|0,C=gt(C^R,7),f=f+B|0,L=gt(L^f,16),Q=Q+L|0,B=gt(B^Q,12),f=f+B|0,L=gt(L^f,8),Q=Q+L|0,B=gt(B^Q,7),d=d+S|0,k=gt(k^d,16),R=R+k|0,S=gt(S^R,12),d=d+S|0,k=gt(k^d,8),R=R+k|0,S=gt(S^R,7),p=p+C|0,K=gt(K^p,16),x=x+K|0,C=gt(C^x,12),p=p+C|0,K=gt(K^p,8),x=x+K|0,C=gt(C^x,7),u=u+y|0,T=gt(T^u,16),_=_+T|0,y=gt(y^_,12),u=u+y|0,T=gt(T^u,8),_=_+T|0,y=gt(y^_,7);return s[0]=f,s[1]=d,s[2]=p,s[3]=u,s[4]=k,s[5]=K,s[6]=T,s[7]=L,i}hn.hchacha=vve;hn.chacha20orig=(0,w3.salsaBasic)({core:v3,counterRight:!1,counterLen:8});hn.chacha20=(0,w3.salsaBasic)({core:v3,counterRight:!1,counterLen:4,allow128bitKeys:!1});hn.xchacha20=(0,w3.salsaBasic)({core:v3,counterRight:!1,counterLen:8,extendNonceFn:vve,allow128bitKeys:!1});hn.chacha8=(0,w3.salsaBasic)({core:v3,counterRight:!1,counterLen:4,rounds:8});hn.chacha12=(0,w3.salsaBasic)({core:v3,counterRight:!1,counterLen:4,rounds:12});var Tnt=new Uint8Array(16),Ive=(t,e)=>{t.update(e);let r=e.length%16;r&&t.update(Tnt.subarray(r))},wve=(t,e,r,i,n)=>{let o=t(e,r,new Uint8Array(32)),s=knt.poly1305.create(o);n&&Ive(s,n),Ive(s,i);let f=new Uint8Array(16),d=(0,iu.createView)(f);(0,iu.setBigUint64)(d,0,BigInt(n?n.length:0),!0),(0,iu.setBigUint64)(d,8,BigInt(i.length),!0),s.update(f);let p=s.digest();return o.fill(0),p},Rnt=t=>(e,r,i)=>((0,iu.ensureBytes)(e,32),(0,iu.ensureBytes)(r),{tagLength:16,encrypt:(o,s)=>{let f=o.length,d=f+16;s?(0,iu.ensureBytes)(s,d):s=new Uint8Array(d),t(e,r,o,s,1);let p=wve(t,e,r,s.subarray(0,-16),i);return s.set(p,f),s},decrypt:(o,s)=>{let f=o.length,d=f-16;if(f<16)throw new Error("encrypted data must be at least 16 bytes");s?(0,iu.ensureBytes)(s,d):s=new Uint8Array(d);let p=o.subarray(0,-16),u=o.subarray(-16),y=wve(t,e,r,p,i);if(!(0,iu.equalBytes)(u,y))throw new Error("invalid tag");return t(e,r,p,s,1),s}});hn._poly1305_aead=Rnt;hn.chacha20poly1305=(0,hn._poly1305_aead)(hn.chacha20);hn.xchacha20poly1305=(0,hn._poly1305_aead)(hn.xchacha20)});var _ve=X(ug=>{"use strict";b();Object.defineProperty(ug,"__esModule",{value:!0});ug.hkdf=ug.expand=ug.extract=void 0;var aj=zD(),Eve=H0(),Cve=VG();function xve(t,e,r){return(0,aj.hash)(t),r===void 0&&(r=new Uint8Array(t.outputLen)),(0,Cve.hmac)(t,(0,Eve.toBytes)(r),(0,Eve.toBytes)(e))}ug.extract=xve;var sj=new Uint8Array([0]),Bve=new Uint8Array;function Sve(t,e,r,i=32){if((0,aj.hash)(t),(0,aj.number)(i),i>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");let n=Math.ceil(i/t.outputLen);r===void 0&&(r=Bve);let o=new Uint8Array(n*t.outputLen),s=Cve.hmac.create(t,e),f=s._cloneInto(),d=new Uint8Array(s.outputLen);for(let p=0;p<n;p++)sj[0]=p+1,f.update(p===0?Bve:d).update(r).update(sj).digestInto(d),o.set(d,t.outputLen*p),s._cloneInto(f);return s.destroy(),f.destroy(),d.fill(0),sj.fill(0),o.slice(0,i)}ug.expand=Sve;var Unt=(t,e,r,i,n)=>Sve(t,xve(t,e,r),i,n);ug.hkdf=Unt});var Mve=X(IM=>{"use strict";b();Object.defineProperty(IM,"__esModule",{value:!0});IM.aes256gcm=void 0;var Qve=$d(),Dve=tv(),cj=u3();function Fnt(t,e,r){var i=function(o){var s=(0,Dve.createCipheriv)("aes-256-gcm",t,e);r&&s.setAAD(r);var f=s.update(o),d=s.final();return(0,Qve.concatBytes)(f,d,s.getAuthTag())},n=function(o){var s=o.subarray(0,o.length-cj.AEAD_TAG_LENGTH),f=o.subarray(-cj.AEAD_TAG_LENGTH),d=(0,Dve.createDecipheriv)("aes-256-gcm",t,e);r&&d.setAAD(r),d.setAuthTag(f);var p=d.update(s),u=d.final();return(0,Qve.concatBytes)(p,u)};return{tagLength:cj.AEAD_TAG_LENGTH,encrypt:i,decrypt:n}}IM.aes256gcm=Fnt});var fj=X(hg=>{"use strict";b();Object.defineProperty(hg,"__esModule",{value:!0});hg.deriveKey=hg.aesDecrypt=hg.aesEncrypt=void 0;var Nnt=bve(),Tve=$d(),Pnt=pG(),Ont=_ve(),Knt=zG(),kve=II(),wM=u3(),qnt=Mve();function Lnt(t,e){return Rve(!0,t,e)}hg.aesEncrypt=Lnt;function Hnt(t,e){return Rve(!1,t,e)}hg.aesDecrypt=Hnt;function Gnt(t){return(0,Ont.hkdf)(Knt.sha256,t,void 0,void 0,32)}hg.deriveKey=Gnt;function Rve(t,e,r){var i=(0,kve.symmetricAlgorithm)(),n=t?jnt:znt;if(i==="aes-256-gcm")return n(qnt.aes256gcm,e,r,(0,kve.symmetricNonceLength)());if(i==="xchacha20")return n(Nnt.xchacha20poly1305,e,r,wM.XCHACHA20_NONCE_LENGTH);throw new Error("Not implemented")}function jnt(t,e,r,i){var n=(0,Pnt.randomBytes)(i),o=t(e,n),s=o.encrypt(r),f=s.subarray(0,s.length-wM.AEAD_TAG_LENGTH),d=s.subarray(-wM.AEAD_TAG_LENGTH);return(0,Tve.concatBytes)(n,d,f)}function znt(t,e,r,i){var n=i+wM.AEAD_TAG_LENGTH,o=r.subarray(0,i),s=r.subarray(i,n),f=r.subarray(n),d=t(e,Uint8Array.from(o)),p=(0,Tve.concatBytes)(f,s);return d.decrypt(p)}});var Pve=X(Rs=>{"use strict";b();Object.defineProperty(Rs,"__esModule",{value:!0});Rs.hexToPublicKey=Rs.convertPublicKeyFormat=Rs.getSharedPoint=Rs.getSharedKey=Rs.getPublicKey=Rs.isValidPrivateKey=Rs.getValidSecret=void 0;var Ynt=$d(),Jnt=pG(),Uve=zwe(),Vnt=dve(),dj=II(),Fve=u3(),Wnt=tj(),Znt=fj();function $nt(){var t;do t=(0,Jnt.randomBytes)(Fve.SECRET_KEY_LENGTH);while(!Nve(t));return t}Rs.getValidSecret=$nt;function Nve(t){return b3(function(e){return e.utils.isValidPrivateKey(t)},function(){return!0},function(){return!0})}Rs.isValidPrivateKey=Nve;function Xnt(t){return b3(function(e){return e.getPublicKey(t)},function(e){return e.getPublicKey(t)},function(e){return e.getPublicKey(t)})}Rs.getPublicKey=Xnt;function eot(t,e){return(0,Znt.deriveKey)((0,Ynt.concatBytes)(t,e))}Rs.getSharedKey=eot;function tot(t,e,r){return b3(function(i){return i.getSharedSecret(t,e,r)},function(i){return i.getSharedSecret(t,e)},function(i){var n=i.utils.getExtendedPublicKey(t).scalar,o=i.ExtendedPoint.fromHex(e).multiply(n);return o.toRawBytes()})}Rs.getSharedPoint=tot;function rot(t,e){return b3(function(r){return r.getSharedSecret(BigInt(1),t,e)},function(){return t},function(){return t})}Rs.convertPublicKeyFormat=rot;function iot(t){var e=(0,Wnt.decodeHex)(t);return b3(function(){if(e.length===Fve.ETH_PUBLIC_KEY_SIZE){var r=new Uint8Array(1+e.length);return r.set([4]),r.set(e,1),r}return e},function(){return e},function(){return e})}Rs.hexToPublicKey=iot;function b3(t,e,r){if((0,dj.ellipticCurve)()==="secp256k1")return t(Vnt.secp256k1);if((0,dj.ellipticCurve)()==="x25519")return e(Uve.x25519);if((0,dj.ellipticCurve)()==="ed25519")return r(Uve.ed25519);throw new Error("Not implemented")}});var vM=X(z0=>{"use strict";b();var not=z0&&z0.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),uj=z0&&z0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&not(e,t,r)};Object.defineProperty(z0,"__esModule",{value:!0});uj(Pve(),z0);uj(tj(),z0);uj(fj(),z0)});var lj=X(EM=>{"use strict";b();Object.defineProperty(EM,"__esModule",{value:!0});EM.PublicKey=void 0;var hj=$d(),oot=II(),bM=vM(),sot=function(){function t(e){this.data=(0,bM.convertPublicKeyFormat)(e,!0)}return t.fromHex=function(e){return new t((0,bM.hexToPublicKey)(e))},Object.defineProperty(t.prototype,"uncompressed",{get:function(){return N.Buffer.from((0,bM.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"compressed",{get:function(){return N.Buffer.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(e){return e===void 0&&(e=!0),e?(0,hj.bytesToHex)(this.data):(0,hj.bytesToHex)(this.uncompressed)},t.prototype.decapsulate=function(e){var r,i;return(0,oot.isHkdfKeyCompressed)()?(r=this.data,i=e.multiply(this,!0)):(r=this.uncompressed,i=e.multiply(this,!1)),(0,bM.getSharedKey)(r,i)},t.prototype.equals=function(e){return(0,hj.equalBytes)(this.data,e.data)},t}();EM.PublicKey=sot});var Kve=X(BM=>{"use strict";b();Object.defineProperty(BM,"__esModule",{value:!0});BM.PrivateKey=void 0;var Ove=$d(),aot=II(),k1=vM(),cot=lj(),fot=function(){function t(e){var r=e===void 0?(0,k1.getValidSecret)():e;if(!(0,k1.isValidPrivateKey)(r))throw new Error("Invalid private key");this.data=r,this.publicKey=new cot.PublicKey((0,k1.getPublicKey)(r))}return t.fromHex=function(e){return new t((0,k1.decodeHex)(e))},Object.defineProperty(t.prototype,"secret",{get:function(){return N.Buffer.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(){return(0,Ove.bytesToHex)(this.data)},t.prototype.encapsulate=function(e){var r,i;return(0,aot.isHkdfKeyCompressed)()?(r=this.publicKey.compressed,i=this.multiply(e,!0)):(r=this.publicKey.uncompressed,i=this.multiply(e,!1)),(0,k1.getSharedKey)(r,i)},t.prototype.multiply=function(e,r){return r===void 0&&(r=!1),(0,k1.getSharedPoint)(this.data,e.compressed,r)},t.prototype.equals=function(e){return(0,Ove.equalBytes)(this.data,e.data)},t}();BM.PrivateKey=fot});var pj=X(T1=>{"use strict";b();Object.defineProperty(T1,"__esModule",{value:!0});T1.PublicKey=T1.PrivateKey=void 0;var dot=Kve();Object.defineProperty(T1,"PrivateKey",{enumerable:!0,get:function(){return dot.PrivateKey}});var uot=lj();Object.defineProperty(T1,"PublicKey",{enumerable:!0,get:function(){return uot.PublicKey}})});var Hve=X(La=>{"use strict";b();Object.defineProperty(La,"__esModule",{value:!0});La.utils=La.PublicKey=La.PrivateKey=La.ECIES_CONFIG=La.decrypt=La.encrypt=void 0;var hot=$d(),qve=II(),R1=pj(),BI=vM();function lot(t,e){var r=new R1.PrivateKey,i=t instanceof Uint8Array?new R1.PublicKey(t):R1.PublicKey.fromHex(t),n=r.encapsulate(i),o=(0,BI.aesEncrypt)(n,e),s;return(0,qve.isEphemeralKeyCompressed)()?s=r.publicKey.compressed:s=r.publicKey.uncompressed,N.Buffer.from((0,hot.concatBytes)(s,o))}La.encrypt=lot;function pot(t,e){var r=t instanceof Uint8Array?new R1.PrivateKey(t):R1.PrivateKey.fromHex(t),i=(0,qve.ephemeralKeySize)(),n=new R1.PublicKey(e.subarray(0,i)),o=e.subarray(i),s=n.decapsulate(r);return N.Buffer.from((0,BI.aesDecrypt)(s,o))}La.decrypt=pot;var Aot=II();Object.defineProperty(La,"ECIES_CONFIG",{enumerable:!0,get:function(){return Aot.ECIES_CONFIG}});var Lve=pj();Object.defineProperty(La,"PrivateKey",{enumerable:!0,get:function(){return Lve.PrivateKey}});Object.defineProperty(La,"PublicKey",{enumerable:!0,get:function(){return Lve.PublicKey}});La.utils={aesDecrypt:BI.aesDecrypt,aesEncrypt:BI.aesEncrypt,decodeHex:BI.decodeHex,getValidSecret:BI.getValidSecret,remove0x:BI.remove0x}});var Vve=X((Hjt,Jve)=>{b();Jve.exports=yj;var Yve=128,yot=127,mot=~yot,Iot=Math.pow(2,31);function yj(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw yj.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var i=r;t>=Iot;)e[r++]=t&255|Yve,t/=128;for(;t&mot;)e[r++]=t&255|Yve,t>>>=7;return e[r]=t|0,yj.bytes=r-i+1,e}});var $ve=X((jjt,Zve)=>{b();Zve.exports=mj;var wot=128,Wve=127;function mj(t,i){var r=0,i=i||0,n=0,o=i,s,f=t.length;do{if(o>=f||n>49)throw mj.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&Wve)<<n:(s&Wve)*Math.pow(2,n),n+=7}while(s>=wot);return mj.bytes=o-i,r}});var ebe=X((Yjt,Xve)=>{b();var vot=Math.pow(2,7),bot=Math.pow(2,14),Eot=Math.pow(2,21),Bot=Math.pow(2,28),Cot=Math.pow(2,35),xot=Math.pow(2,42),Sot=Math.pow(2,49),_ot=Math.pow(2,56),Qot=Math.pow(2,63);Xve.exports=function(t){return t<vot?1:t<bot?2:t<Eot?3:t<Bot?4:t<Cot?5:t<xot?6:t<Sot?7:t<_ot?8:t<Qot?9:10}});var rbe=X((Vjt,tbe)=>{b();tbe.exports={encode:Vve(),decode:$ve(),encodingLength:ebe()}});var obe=X((Ag,nbe)=>{b();var DM=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,MM=function(){function t(){this.fetch=!1,this.DOMException=DM.DOMException}return t.prototype=DM,new t}();(function(t){var e=function(r){var i=typeof t<"u"&&t||typeof self<"u"&&self||typeof i<"u"&&i,n={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function o(a){return a&&DataView.prototype.isPrototypeOf(a)}if(n.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(a){return a&&s.indexOf(Object.prototype.toString.call(a))>-1};function d(a){if(typeof a!="string"&&(a=String(a)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(a)||a==="")throw new TypeError('Invalid character in header field name: "'+a+'"');return a.toLowerCase()}function p(a){return typeof a!="string"&&(a=String(a)),a}function u(a){var h={next:function(){var g=a.shift();return{done:g===void 0,value:g}}};return n.iterable&&(h[Symbol.iterator]=function(){return h}),h}function y(a){this.map={},a instanceof y?a.forEach(function(h,g){this.append(g,h)},this):Array.isArray(a)?a.forEach(function(h){this.append(h[0],h[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(h){this.append(h,a[h])},this)}y.prototype.append=function(a,h){a=d(a),h=p(h);var g=this.map[a];this.map[a]=g?g+", "+h:h},y.prototype.delete=function(a){delete this.map[d(a)]},y.prototype.get=function(a){return a=d(a),this.has(a)?this.map[a]:null},y.prototype.has=function(a){return this.map.hasOwnProperty(d(a))},y.prototype.set=function(a,h){this.map[d(a)]=p(h)},y.prototype.forEach=function(a,h){for(var g in this.map)this.map.hasOwnProperty(g)&&a.call(h,this.map[g],g,this)},y.prototype.keys=function(){var a=[];return this.forEach(function(h,g){a.push(g)}),u(a)},y.prototype.values=function(){var a=[];return this.forEach(function(h){a.push(h)}),u(a)},y.prototype.entries=function(){var a=[];return this.forEach(function(h,g){a.push([g,h])}),u(a)},n.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function B(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function S(a){return new Promise(function(h,g){a.onload=function(){h(a.result)},a.onerror=function(){g(a.error)}})}function C(a){var h=new FileReader,g=S(h);return h.readAsArrayBuffer(a),g}function x(a){var h=new FileReader,g=S(h);return h.readAsText(a),g}function _(a){for(var h=new Uint8Array(a),g=new Array(h.length),l=0;l<h.length;l++)g[l]=String.fromCharCode(h[l]);return g.join("")}function Q(a){if(a.slice)return a.slice(0);var h=new Uint8Array(a.byteLength);return h.set(new Uint8Array(a)),h.buffer}function R(){return this.bodyUsed=!1,this._initBody=function(a){this.bodyUsed=this.bodyUsed,this._bodyInit=a,a?typeof a=="string"?this._bodyText=a:n.blob&&Blob.prototype.isPrototypeOf(a)?this._bodyBlob=a:n.formData&&FormData.prototype.isPrototypeOf(a)?this._bodyFormData=a:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)?this._bodyText=a.toString():n.arrayBuffer&&n.blob&&o(a)?(this._bodyArrayBuffer=Q(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(a)||f(a))?this._bodyArrayBuffer=Q(a):this._bodyText=a=Object.prototype.toString.call(a):this._bodyText="",this.headers.get("content-type")||(typeof a=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var a=B(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var a=B(this);return a||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(C)}),this.text=function(){var a=B(this);if(a)return a;if(this._bodyBlob)return x(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function K(a){var h=a.toUpperCase();return k.indexOf(h)>-1?h:a}function T(a,h){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');h=h||{};var g=h.body;if(a instanceof T){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,h.headers||(this.headers=new y(a.headers)),this.method=a.method,this.mode=a.mode,this.signal=a.signal,!g&&a._bodyInit!=null&&(g=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=h.credentials||this.credentials||"same-origin",(h.headers||!this.headers)&&(this.headers=new y(h.headers)),this.method=K(h.method||this.method||"GET"),this.mode=h.mode||this.mode||null,this.signal=h.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&g)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(g),(this.method==="GET"||this.method==="HEAD")&&(h.cache==="no-store"||h.cache==="no-cache")){var l=/([?&])_=[^&]*/;if(l.test(this.url))this.url=this.url.replace(l,"$1_="+new Date().getTime());else{var A=/\?/;this.url+=(A.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})};function L(a){var h=new FormData;return a.trim().split("&").forEach(function(g){if(g){var l=g.split("="),A=l.shift().replace(/\+/g," "),w=l.join("=").replace(/\+/g," ");h.append(decodeURIComponent(A),decodeURIComponent(w))}}),h}function H(a){var h=new y,g=a.replace(/\r?\n[\t ]+/g," ");return g.split("\r").map(function(l){return l.indexOf(`
`)===0?l.substr(1,l.length):l}).forEach(function(l){var A=l.split(":"),w=A.shift().trim();if(w){var E=A.join(":").trim();h.append(w,E)}}),h}R.call(T.prototype);function O(a,h){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');h||(h={}),this.type="default",this.status=h.status===void 0?200:h.status,this.ok=this.status>=200&&this.status<300,this.statusText=h.statusText===void 0?"":""+h.statusText,this.headers=new y(h.headers),this.url=h.url||"",this._initBody(a)}R.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},O.error=function(){var a=new O(null,{status:0,statusText:""});return a.type="error",a};var G=[301,302,303,307,308];O.redirect=function(a,h){if(G.indexOf(h)===-1)throw new RangeError("Invalid status code");return new O(null,{status:h,headers:{location:a}})},r.DOMException=i.DOMException;try{new r.DOMException}catch{r.DOMException=function(h,g){this.message=h,this.name=g;var l=Error(h);this.stack=l.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function v(a,h){return new Promise(function(g,l){var A=new T(a,h);if(A.signal&&A.signal.aborted)return l(new r.DOMException("Aborted","AbortError"));var w=new XMLHttpRequest;function E(){w.abort()}w.onload=function(){var c={status:w.status,statusText:w.statusText,headers:H(w.getAllResponseHeaders()||"")};c.url="responseURL"in w?w.responseURL:c.headers.get("X-Request-URL");var I="response"in w?w.response:w.responseText;setTimeout(function(){g(new O(I,c))},0)},w.onerror=function(){setTimeout(function(){l(new TypeError("Network request failed"))},0)},w.ontimeout=function(){setTimeout(function(){l(new TypeError("Network request failed"))},0)},w.onabort=function(){setTimeout(function(){l(new r.DOMException("Aborted","AbortError"))},0)};function m(c){try{return c===""&&i.location.href?i.location.href:c}catch{return c}}w.open(A.method,m(A.url),!0),A.credentials==="include"?w.withCredentials=!0:A.credentials==="omit"&&(w.withCredentials=!1),"responseType"in w&&(n.blob?w.responseType="blob":n.arrayBuffer&&A.headers.get("Content-Type")&&A.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(w.responseType="arraybuffer")),h&&typeof h.headers=="object"&&!(h.headers instanceof y)?Object.getOwnPropertyNames(h.headers).forEach(function(c){w.setRequestHeader(c,p(h.headers[c]))}):A.headers.forEach(function(c,I){w.setRequestHeader(I,c)}),A.signal&&(A.signal.addEventListener("abort",E),w.onreadystatechange=function(){w.readyState===4&&A.signal.removeEventListener("abort",E)}),w.send(typeof A._bodyInit>"u"?null:A._bodyInit)})}return v.polyfill=!0,i.fetch||(i.fetch=v,i.Headers=y,i.Request=T,i.Response=O),r.Headers=y,r.Request=T,r.Response=O,r.fetch=v,r}({})})(MM);MM.fetch.ponyfill=!0;delete MM.fetch.polyfill;var P1=DM.fetch?DM:MM;Ag=P1.fetch;Ag.default=P1.fetch;Ag.fetch=P1.fetch;Ag.Headers=P1.Headers;Ag.Request=P1.Request;Ag.Response=P1.Response;nbe.exports=Ag});var Pbe=X((o$t,_j)=>{"use strict";b();var gst=Object.prototype.hasOwnProperty,la="~";function _3(){}Object.create&&(_3.prototype=Object.create(null),new _3().__proto__||(la=!1));function yst(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function Nbe(t,e,r,i,n){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new yst(r,i||t,n),s=la?la+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],o]:t._events[s].push(o):(t._events[s]=o,t._eventsCount++),t}function VM(t,e){--t._eventsCount===0?t._events=new _3:delete t._events[e]}function Us(){this._events=new _3,this._eventsCount=0}Us.prototype.eventNames=function(){var e=[],r,i;if(this._eventsCount===0)return e;for(i in r=this._events)gst.call(r,i)&&e.push(la?i.slice(1):i);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};Us.prototype.listeners=function(e){var r=la?la+e:e,i=this._events[r];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=new Array(o);n<o;n++)s[n]=i[n].fn;return s};Us.prototype.listenerCount=function(e){var r=la?la+e:e,i=this._events[r];return i?i.fn?1:i.length:0};Us.prototype.emit=function(e,r,i,n,o,s){var f=la?la+e:e;if(!this._events[f])return!1;var d=this._events[f],p=arguments.length,u,y;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),p){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,r),!0;case 3:return d.fn.call(d.context,r,i),!0;case 4:return d.fn.call(d.context,r,i,n),!0;case 5:return d.fn.call(d.context,r,i,n,o),!0;case 6:return d.fn.call(d.context,r,i,n,o,s),!0}for(y=1,u=new Array(p-1);y<p;y++)u[y-1]=arguments[y];d.fn.apply(d.context,u)}else{var B=d.length,S;for(y=0;y<B;y++)switch(d[y].once&&this.removeListener(e,d[y].fn,void 0,!0),p){case 1:d[y].fn.call(d[y].context);break;case 2:d[y].fn.call(d[y].context,r);break;case 3:d[y].fn.call(d[y].context,r,i);break;case 4:d[y].fn.call(d[y].context,r,i,n);break;default:if(!u)for(S=1,u=new Array(p-1);S<p;S++)u[S-1]=arguments[S];d[y].fn.apply(d[y].context,u)}}return!0};Us.prototype.on=function(e,r,i){return Nbe(this,e,r,i,!1)};Us.prototype.once=function(e,r,i){return Nbe(this,e,r,i,!0)};Us.prototype.removeListener=function(e,r,i,n){var o=la?la+e:e;if(!this._events[o])return this;if(!r)return VM(this,o),this;var s=this._events[o];if(s.fn)s.fn===r&&(!n||s.once)&&(!i||s.context===i)&&VM(this,o);else{for(var f=0,d=[],p=s.length;f<p;f++)(s[f].fn!==r||n&&!s[f].once||i&&s[f].context!==i)&&d.push(s[f]);d.length?this._events[o]=d.length===1?d[0]:d:VM(this,o)}return this};Us.prototype.removeAllListeners=function(e){var r;return e?(r=la?la+e:e,this._events[r]&&VM(this,r)):(this._events=new _3,this._eventsCount=0),this};Us.prototype.off=Us.prototype.removeListener;Us.prototype.addListener=Us.prototype.on;Us.prefixed=la;Us.EventEmitter=Us;typeof _j<"u"&&(_j.exports=Us)});var qj=X((mtr,h1e)=>{b();h1e.exports=va().EventEmitter});var m1e=X((wtr,y1e)=>{"use strict";b();function l1e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function p1e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l1e(Object(r),!0).forEach(function(i){qst(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l1e(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function qst(t,e,r){return e=g1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A1e(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,g1e(i.key),i)}}function Hst(t,e,r){return e&&A1e(t.prototype,e),r&&A1e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function g1e(t){var e=Gst(t,"string");return typeof e=="symbol"?e:String(e)}function Gst(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jst=ni(),ck=jst.Buffer,zst=Fl(),Lj=zst.inspect,Yst=Lj&&Lj.custom||"inspect";function Jst(t,e,r){ck.prototype.copy.call(t,e,r)}y1e.exports=function(){function t(){Lst(this,t),this.head=null,this.tail=null,this.length=0}return Hst(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return ck.alloc(0);for(var i=ck.allocUnsafe(r>>>0),n=this.head,o=0;n;)Jst(n.data,i,o),o+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,o=i.data;for(r-=o.length;i=i.next;){var s=i.data,f=r>s.length?s.length:r;if(f===s.length?o+=s:o+=s.slice(0,r),r-=f,r===0){f===s.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(f));break}++n}return this.length-=n,o}},{key:"_getBuffer",value:function(r){var i=ck.allocUnsafe(r),n=this.head,o=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var s=n.data,f=r>s.length?s.length:r;if(s.copy(i,i.length-r,0,f),r-=f,r===0){f===s.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(f));break}++o}return this.length-=o,i}},{key:Yst,value:function(r,i){return Lj(this,p1e(p1e({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var Gj=X((btr,w1e)=>{"use strict";b();function Vst(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,U.default.nextTick(Hj,this,t)):U.default.nextTick(Hj,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?U.default.nextTick(fk,r):(r._writableState.errorEmitted=!0,U.default.nextTick(I1e,r,o)):U.default.nextTick(I1e,r,o):e?(U.default.nextTick(fk,r),e(o)):U.default.nextTick(fk,r)}),this)}function I1e(t,e){Hj(t,e),fk(t)}function fk(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Wst(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Hj(t,e){t.emit("error",e)}function Zst(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}w1e.exports={destroy:Vst,undestroy:Wst,errorOrDestroy:Zst}});var RI=X((Btr,E1e)=>{"use strict";b();function $st(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var b1e={};function Lf(t,e,r){r||(r=Error);function i(o,s,f){return typeof e=="string"?e:e(o,s,f)}var n=function(o){$st(s,o);function s(f,d,p){return o.call(this,i(f,d,p))||this}return s}(r);n.prototype.name=r.name,n.prototype.code=t,b1e[t]=n}function v1e(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Xst(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function eat(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function tat(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Lf("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Lf("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&Xst(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(eat(t," argument"))n="The ".concat(t," ").concat(i," ").concat(v1e(e,"type"));else{var o=tat(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(o," ").concat(i," ").concat(v1e(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);Lf("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Lf("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Lf("ERR_STREAM_PREMATURE_CLOSE","Premature close");Lf("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Lf("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Lf("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Lf("ERR_STREAM_WRITE_AFTER_END","write after end");Lf("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Lf("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Lf("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");E1e.exports.codes=b1e});var jj=X((xtr,B1e)=>{"use strict";b();var rat=RI().codes.ERR_INVALID_OPT_VALUE;function iat(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function nat(t,e,r,i){var n=iat(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var o=i?r:"highWaterMark";throw new rat(o,n)}return Math.floor(n)}return t.objectMode?16:16*1024}B1e.exports={getHighWaterMark:nat}});var Jj=X((_tr,D1e)=>{"use strict";b();D1e.exports=Un;function x1e(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Mat(e,t)}}var nE;Un.WritableState=K3;var oat={deprecate:x2()},S1e=qj(),uk=ni().Buffer,sat=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function aat(t){return uk.from(t)}function cat(t){return uk.isBuffer(t)||t instanceof sat}var Yj=Gj(),fat=jj(),dat=fat.getHighWaterMark,bg=RI().codes,uat=bg.ERR_INVALID_ARG_TYPE,hat=bg.ERR_METHOD_NOT_IMPLEMENTED,lat=bg.ERR_MULTIPLE_CALLBACK,pat=bg.ERR_STREAM_CANNOT_PIPE,Aat=bg.ERR_STREAM_DESTROYED,gat=bg.ERR_STREAM_NULL_VALUES,yat=bg.ERR_STREAM_WRITE_AFTER_END,mat=bg.ERR_UNKNOWN_ENCODING,oE=Yj.errorOrDestroy;Qt()(Un,S1e);function Iat(){}function K3(t,e,r){nE=nE||UI(),t=t||{},typeof r!="boolean"&&(r=e instanceof nE),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=dat(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){xat(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new x1e(this)}K3.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(K3.prototype,"buffer",{get:oat.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var dk;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(dk=Function.prototype[Symbol.hasInstance],Object.defineProperty(Un,Symbol.hasInstance,{value:function(e){return dk.call(this,e)?!0:this!==Un?!1:e&&e._writableState instanceof K3}})):dk=function(e){return e instanceof this};function Un(t){nE=nE||UI();var e=this instanceof nE;if(!e&&!dk.call(Un,this))return new Un(t);this._writableState=new K3(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),S1e.call(this)}Un.prototype.pipe=function(){oE(this,new pat)};function wat(t,e){var r=new yat;oE(t,r),U.default.nextTick(e,r)}function vat(t,e,r,i){var n;return r===null?n=new gat:typeof r!="string"&&!e.objectMode&&(n=new uat("chunk",["string","Buffer"],r)),n?(oE(t,n),U.default.nextTick(i,n),!1):!0}Un.prototype.write=function(t,e,r){var i=this._writableState,n=!1,o=!i.objectMode&&cat(t);return o&&!uk.isBuffer(t)&&(t=aat(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=Iat),i.ending?wat(this,r):(o||vat(this,i,t,r))&&(i.pendingcb++,n=Eat(this,i,o,t,e,r)),n};Un.prototype.cork=function(){this._writableState.corked++};Un.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&_1e(this,t))};Un.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new mat(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Un.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function bat(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=uk.from(e,r)),e}Object.defineProperty(Un.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Eat(t,e,r,i,n,o){if(!r){var s=bat(e,i,n);i!==s&&(r=!0,n="buffer",i=s)}var f=e.objectMode?1:i.length;e.length+=f;var d=e.length<e.highWaterMark;if(d||(e.needDrain=!0),e.writing||e.corked){var p=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},p?p.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else zj(t,e,!1,f,i,n,o);return d}function zj(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Aat("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function Bat(t,e,r,i,n){--e.pendingcb,r?(U.default.nextTick(n,i),U.default.nextTick(O3,t,e),t._writableState.errorEmitted=!0,oE(t,i)):(n(i),t._writableState.errorEmitted=!0,oE(t,i),O3(t,e))}function Cat(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function xat(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new lat;if(Cat(r),e)Bat(t,r,i,e,n);else{var o=Q1e(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&_1e(t,r),i?U.default.nextTick(C1e,t,r,o,n):C1e(t,r,o,n)}}function C1e(t,e,r,i){r||Sat(t,e),e.pendingcb--,i(),O3(t,e)}function Sat(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function _1e(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var s=0,f=!0;r;)n[s]=r,r.isBuf||(f=!1),r=r.next,s+=1;n.allBuffers=f,zj(t,e,!0,e.length,n,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new x1e(e),e.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,p=r.encoding,u=r.callback,y=e.objectMode?1:d.length;if(zj(t,e,!1,y,d,p,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Un.prototype._write=function(t,e,r){r(new hat("_write()"))};Un.prototype._writev=null;Un.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||Dat(this,i,r),this};Object.defineProperty(Un.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Q1e(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function _at(t,e){t._final(function(r){e.pendingcb--,r&&oE(t,r),e.prefinished=!0,t.emit("prefinish"),O3(t,e)})}function Qat(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,U.default.nextTick(_at,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function O3(t,e){var r=Q1e(e);if(r&&(Qat(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function Dat(t,e,r){e.ending=!0,O3(t,e),r&&(e.finished?U.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Mat(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(Un.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Un.prototype.destroy=Yj.destroy;Un.prototype._undestroy=Yj.undestroy;Un.prototype._destroy=function(t,e){e(t)}});var UI=X((Dtr,k1e)=>{"use strict";b();var kat=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};k1e.exports=zh;var M1e=Zj(),Wj=Jj();Qt()(zh,M1e);for(Vj=kat(Wj.prototype),hk=0;hk<Vj.length;hk++)lk=Vj[hk],zh.prototype[lk]||(zh.prototype[lk]=Wj.prototype[lk]);var Vj,lk,hk;function zh(t){if(!(this instanceof zh))return new zh(t);M1e.call(this,t),Wj.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Tat)))}Object.defineProperty(zh.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(zh.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(zh.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Tat(){this._writableState.ended||U.default.nextTick(Rat,this)}function Rat(t){t.end()}Object.defineProperty(zh.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var pk=X((ktr,U1e)=>{"use strict";b();var T1e=RI().codes.ERR_STREAM_PREMATURE_CLOSE;function Uat(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function Fat(){}function Nat(t){return t.setHeader&&typeof t.abort=="function"}function R1e(t,e,r){if(typeof e=="function")return R1e(t,null,e);e||(e={}),r=Uat(r||Fat);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||f()},s=t._writableState&&t._writableState.finished,f=function(){n=!1,s=!0,i||r.call(t)},d=t._readableState&&t._readableState.endEmitted,p=function(){i=!1,d=!0,n||r.call(t)},u=function(C){r.call(t,C)},y=function(){var C;if(i&&!d)return(!t._readableState||!t._readableState.ended)&&(C=new T1e),r.call(t,C);if(n&&!s)return(!t._writableState||!t._writableState.ended)&&(C=new T1e),r.call(t,C)},B=function(){t.req.on("finish",f)};return Nat(t)?(t.on("complete",f),t.on("abort",y),t.req?B():t.on("request",B)):n&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",p),t.on("finish",f),e.error!==!1&&t.on("error",u),t.on("close",y),function(){t.removeListener("complete",f),t.removeListener("abort",y),t.removeListener("request",B),t.req&&t.req.removeListener("finish",f),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",f),t.removeListener("end",p),t.removeListener("error",u),t.removeListener("close",y)}}U1e.exports=R1e});var N1e=X((Rtr,F1e)=>{"use strict";b();var Ak;function Eg(t,e,r){return e=Pat(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pat(t){var e=Oat(t,"string");return typeof e=="symbol"?e:String(e)}function Oat(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kat=pk(),Bg=Symbol("lastResolve"),FI=Symbol("lastReject"),q3=Symbol("error"),gk=Symbol("ended"),NI=Symbol("lastPromise"),$j=Symbol("handlePromise"),PI=Symbol("stream");function Cg(t,e){return{value:t,done:e}}function qat(t){var e=t[Bg];if(e!==null){var r=t[PI].read();r!==null&&(t[NI]=null,t[Bg]=null,t[FI]=null,e(Cg(r,!1)))}}function Lat(t){U.default.nextTick(qat,t)}function Hat(t,e){return function(r,i){t.then(function(){if(e[gk]){r(Cg(void 0,!0));return}e[$j](r,i)},i)}}var Gat=Object.getPrototypeOf(function(){}),jat=Object.setPrototypeOf((Ak={get stream(){return this[PI]},next:function(){var e=this,r=this[q3];if(r!==null)return Promise.reject(r);if(this[gk])return Promise.resolve(Cg(void 0,!0));if(this[PI].destroyed)return new Promise(function(s,f){U.default.nextTick(function(){e[q3]?f(e[q3]):s(Cg(void 0,!0))})});var i=this[NI],n;if(i)n=new Promise(Hat(i,this));else{var o=this[PI].read();if(o!==null)return Promise.resolve(Cg(o,!1));n=new Promise(this[$j])}return this[NI]=n,n}},Eg(Ak,Symbol.asyncIterator,function(){return this}),Eg(Ak,"return",function(){var e=this;return new Promise(function(r,i){e[PI].destroy(null,function(n){if(n){i(n);return}r(Cg(void 0,!0))})})}),Ak),Gat),zat=function(e){var r,i=Object.create(jat,(r={},Eg(r,PI,{value:e,writable:!0}),Eg(r,Bg,{value:null,writable:!0}),Eg(r,FI,{value:null,writable:!0}),Eg(r,q3,{value:null,writable:!0}),Eg(r,gk,{value:e._readableState.endEmitted,writable:!0}),Eg(r,$j,{value:function(o,s){var f=i[PI].read();f?(i[NI]=null,i[Bg]=null,i[FI]=null,o(Cg(f,!1))):(i[Bg]=o,i[FI]=s)},writable:!0}),r));return i[NI]=null,Kat(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=i[FI];o!==null&&(i[NI]=null,i[Bg]=null,i[FI]=null,o(n)),i[q3]=n;return}var s=i[Bg];s!==null&&(i[NI]=null,i[Bg]=null,i[FI]=null,s(Cg(void 0,!0))),i[gk]=!0}),e.on("readable",Lat.bind(null,i)),i};F1e.exports=zat});var O1e=X((Ftr,P1e)=>{b();P1e.exports=function(){throw new Error("Readable.from is not available in the browser")}});var Zj=X((Otr,V1e)=>{"use strict";b();V1e.exports=Zr;var sE;Zr.ReadableState=H1e;var Ptr=va().EventEmitter,L1e=function(e,r){return e.listeners(r).length},H3=qj(),yk=ni().Buffer,Yat=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Jat(t){return yk.from(t)}function Vat(t){return yk.isBuffer(t)||t instanceof Yat}var Xj=Fl(),Fr;Xj&&Xj.debuglog?Fr=Xj.debuglog("stream"):Fr=function(){};var Wat=m1e(),sz=Gj(),Zat=jj(),$at=Zat.getHighWaterMark,mk=RI().codes,Xat=mk.ERR_INVALID_ARG_TYPE,ect=mk.ERR_STREAM_PUSH_AFTER_EOF,tct=mk.ERR_METHOD_NOT_IMPLEMENTED,rct=mk.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,aE,ez,tz;Qt()(Zr,H3);var L3=sz.errorOrDestroy,rz=["error","close","destroy","pause","resume"];function ict(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function H1e(t,e,r){sE=sE||UI(),t=t||{},typeof r!="boolean"&&(r=e instanceof sE),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=$at(this,t,"readableHighWaterMark",r),this.buffer=new Wat,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(aE||(aE=ud().StringDecoder),this.decoder=new aE(t.encoding),this.encoding=t.encoding)}function Zr(t){if(sE=sE||UI(),!(this instanceof Zr))return new Zr(t);var e=this instanceof sE;this._readableState=new H1e(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),H3.call(this)}Object.defineProperty(Zr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Zr.prototype.destroy=sz.destroy;Zr.prototype._undestroy=sz.undestroy;Zr.prototype._destroy=function(t,e){e(t)};Zr.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=yk.from(t,e),e=""),i=!0),G1e(this,t,e,!1,i)};Zr.prototype.unshift=function(t){return G1e(this,t,null,!0,!1)};function G1e(t,e,r,i,n){Fr("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,sct(t,o);else{var s;if(n||(s=nct(o,e)),s)L3(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==yk.prototype&&(e=Jat(e)),i)o.endEmitted?L3(t,new rct):iz(t,o,e,!0);else if(o.ended)L3(t,new ect);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?iz(t,o,e,!1):oz(t,o)):iz(t,o,e,!1)}else i||(o.reading=!1,oz(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function iz(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Ik(t)),oz(t,e)}function nct(t,e){var r;return!Vat(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Xat("chunk",["string","Buffer","Uint8Array"],e)),r}Zr.prototype.isPaused=function(){return this._readableState.flowing===!1};Zr.prototype.setEncoding=function(t){aE||(aE=ud().StringDecoder);var e=new aE(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var K1e=1073741824;function oct(t){return t>=K1e?t=K1e:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function q1e(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=oct(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Zr.prototype.read=function(t){Fr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Fr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?nz(this):Ik(this),null;if(t=q1e(t,e),t===0&&e.ended)return e.length===0&&nz(this),null;var i=e.needReadable;Fr("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Fr("length less than watermark",i)),e.ended||e.reading?(i=!1,Fr("reading or ended",i)):i&&(Fr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=q1e(r,e)));var n;return t>0?n=Y1e(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&nz(this)),n!==null&&this.emit("data",n),n};function sct(t,e){if(Fr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Ik(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,j1e(t)))}}function Ik(t){var e=t._readableState;Fr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Fr("emitReadable",e.flowing),e.emittedReadable=!0,U.default.nextTick(j1e,t))}function j1e(t){var e=t._readableState;Fr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,az(t)}function oz(t,e){e.readingMore||(e.readingMore=!0,U.default.nextTick(act,t,e))}function act(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Fr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Zr.prototype._read=function(t){L3(this,new tct("_read()"))};Zr.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,Fr("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==U.default.stdout&&t!==U.default.stderr,o=n?f:x;i.endEmitted?U.default.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(_,Q){Fr("onunpipe"),_===r&&Q&&Q.hasUnpiped===!1&&(Q.hasUnpiped=!0,u())}function f(){Fr("onend"),t.end()}var d=cct(r);t.on("drain",d);var p=!1;function u(){Fr("cleanup"),t.removeListener("close",S),t.removeListener("finish",C),t.removeListener("drain",d),t.removeListener("error",B),t.removeListener("unpipe",s),r.removeListener("end",f),r.removeListener("end",x),r.removeListener("data",y),p=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&d()}r.on("data",y);function y(_){Fr("ondata");var Q=t.write(_);Fr("dest.write",Q),Q===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&J1e(i.pipes,t)!==-1)&&!p&&(Fr("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function B(_){Fr("onerror",_),x(),t.removeListener("error",B),L1e(t,"error")===0&&L3(t,_)}ict(t,"error",B);function S(){t.removeListener("finish",C),x()}t.once("close",S);function C(){Fr("onfinish"),t.removeListener("close",S),x()}t.once("finish",C);function x(){Fr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(Fr("pipe resume"),r.resume()),t};function cct(t){return function(){var r=t._readableState;Fr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&L1e(t,"data")&&(r.flowing=!0,az(t))}}Zr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=J1e(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Zr.prototype.on=function(t,e){var r=H3.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Fr("on readable",i.length,i.reading),i.length?Ik(this):i.reading||U.default.nextTick(fct,this)),r};Zr.prototype.addListener=Zr.prototype.on;Zr.prototype.removeListener=function(t,e){var r=H3.prototype.removeListener.call(this,t,e);return t==="readable"&&U.default.nextTick(z1e,this),r};Zr.prototype.removeAllListeners=function(t){var e=H3.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&U.default.nextTick(z1e,this),e};function z1e(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function fct(t){Fr("readable nexttick read 0"),t.read(0)}Zr.prototype.resume=function(){var t=this._readableState;return t.flowing||(Fr("resume"),t.flowing=!t.readableListening,dct(this,t)),t.paused=!1,this};function dct(t,e){e.resumeScheduled||(e.resumeScheduled=!0,U.default.nextTick(uct,t,e))}function uct(t,e){Fr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),az(t),e.flowing&&!e.reading&&t.read(0)}Zr.prototype.pause=function(){return Fr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Fr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function az(t){var e=t._readableState;for(Fr("flow",e.flowing);e.flowing&&t.read()!==null;);}Zr.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(Fr("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Fr("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var f=e.push(s);f||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(f){return function(){return t[f].apply(t,arguments)}}(n));for(var o=0;o<rz.length;o++)t.on(rz[o],this.emit.bind(this,rz[o]));return this._read=function(s){Fr("wrapped _read",s),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(Zr.prototype[Symbol.asyncIterator]=function(){return ez===void 0&&(ez=N1e()),ez(this)});Object.defineProperty(Zr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Zr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Zr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Zr._fromList=Y1e;Object.defineProperty(Zr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Y1e(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function nz(t){var e=t._readableState;Fr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,U.default.nextTick(hct,e,t))}function hct(t,e){if(Fr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Zr.from=function(t,e){return tz===void 0&&(tz=O1e()),tz(Zr,t,e)});function J1e(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var cz=X((qtr,Z1e)=>{"use strict";b();Z1e.exports=ep;var wk=RI().codes,lct=wk.ERR_METHOD_NOT_IMPLEMENTED,pct=wk.ERR_MULTIPLE_CALLBACK,Act=wk.ERR_TRANSFORM_ALREADY_TRANSFORMING,gct=wk.ERR_TRANSFORM_WITH_LENGTH_0,vk=UI();Qt()(ep,vk);function yct(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new pct);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function ep(t){if(!(this instanceof ep))return new ep(t);vk.call(this,t),this._transformState={afterTransform:yct.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",mct)}function mct(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){W1e(t,e,r)}):W1e(this,null,null)}ep.prototype.push=function(t,e){return this._transformState.needTransform=!1,vk.prototype.push.call(this,t,e)};ep.prototype._transform=function(t,e,r){r(new lct("_transform()"))};ep.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};ep.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};ep.prototype._destroy=function(t,e){vk.prototype._destroy.call(this,t,function(r){e(r)})};function W1e(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new gct;if(t._transformState.transforming)throw new Act;return t.push(null)}});var eEe=X((Htr,X1e)=>{"use strict";b();X1e.exports=G3;var $1e=cz();Qt()(G3,$1e);function G3(t){if(!(this instanceof G3))return new G3(t);$1e.call(this,t)}G3.prototype._transform=function(t,e,r){r(null,t)}});var oEe=X((jtr,nEe)=>{"use strict";b();var fz;function Ict(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var iEe=RI().codes,wct=iEe.ERR_MISSING_ARGS,vct=iEe.ERR_STREAM_DESTROYED;function tEe(t){if(t)throw t}function bct(t){return t.setHeader&&typeof t.abort=="function"}function Ect(t,e,r,i){i=Ict(i);var n=!1;t.on("close",function(){n=!0}),fz===void 0&&(fz=pk()),fz(t,{readable:e,writable:r},function(s){if(s)return i(s);n=!0,i()});var o=!1;return function(s){if(!n&&!o){if(o=!0,bct(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(s||new vct("pipe"))}}}function rEe(t){t()}function Bct(t,e){return t.pipe(e)}function Cct(t){return!t.length||typeof t[t.length-1]!="function"?tEe:t.pop()}function xct(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=Cct(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new wct("streams");var n,o=e.map(function(s,f){var d=f<e.length-1,p=f>0;return Ect(s,d,p,function(u){n||(n=u),u&&o.forEach(rEe),!d&&(o.forEach(rEe),i(n))})});return e.reduce(Bct)}nEe.exports=xct});var aEe=X((Hf,sEe)=>{b();Hf=sEe.exports=Zj();Hf.Stream=Hf;Hf.Readable=Hf;Hf.Writable=Jj();Hf.Duplex=UI();Hf.Transform=cz();Hf.PassThrough=eEe();Hf.finished=pk();Hf.pipeline=oEe()});var cEe=X(bk=>{"use strict";b();Object.defineProperty(bk,"__esModule",{value:!0});bk.ReadableWebToNodeStream=void 0;var Sct=aEe(),dz=class extends Sct.Readable{constructor(e){super(),this.bytesRead=0,this.released=!1,this.reader=e.getReader()}async _read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read();let e=await this.pendingRead;delete this.pendingRead,e.done||this.released?this.push(null):(this.bytesRead+=e.value.length,this.push(e.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}};bk.ReadableWebToNodeStream=dz});var vdt={};Tt(vdt,{DidApi:()=>X3,DwnApi:()=>t8,Protocol:()=>hE,Record:()=>KI,VcApi:()=>r8,Web5:()=>jz,getTechPreviewDwnEndpoints:()=>Gz,utils:()=>yz});b();b();b();b();b();b();b();b();b();var T8=class extends Error{};var hs=class extends T8{},CE=class extends T8{};b();b();b();var rw=class{checkAlgorithmName(e){let{algorithmName:r}=e;if(r===void 0)throw new TypeError("Required parameter missing: 'algorithmName'");if(r!==this.name)throw new CE(`Algorithm not supported: '${r}'`)}checkCryptoKey(e){let{key:r}=e;if(!("algorithm"in r&&"extractable"in r&&"type"in r&&"usages"in r))throw new TypeError("Object is not a CryptoKey")}checkKeyAlgorithm(e){let{keyAlgorithmName:r}=e;if(r===void 0)throw new TypeError("Required parameter missing: 'keyAlgorithmName'");if(r&&r!==this.name)throw new hs(`Algorithm '${this.name}' does not match the provided '${r}' key.`)}checkKeyType(e){let{keyType:r,allowedKeyType:i}=e;if(r===void 0||i===void 0)throw new TypeError("One or more required parameters missing: 'keyType, allowedKeyType'");if(r&&r!==i)throw new hs(`Requested operation is not valid for the provided '${r}' key.`)}checkKeyUsages(e){let{keyUsages:r,allowedKeyUsages:i}=e;if(!(r&&r.length>0))throw new TypeError("Required parameter missing or empty: 'keyUsages'");let n=Array.isArray(i)?i:[...i.privateKey,...i.publicKey];if(!r.every(o=>n.includes(o)))throw new hs(`Requested operation(s) '${r.join(", ")}' is not valid for the provided key.`)}static create(){return new this}};var Cw={};Tt(Cw,{checkRequiredProperty:()=>Al,checkValidProperty:()=>Ew,isBytesKeyPair:()=>Bw,isCryptoKeyPair:()=>a3e,isWebCryptoSupported:()=>AV,keyToMultibaseId:()=>QR,multibaseIdToKey:()=>c3e,randomBytes:()=>gV,randomUuid:()=>f3e});b();b();b();b();b();b();function XBe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=n}var f=t.length,d=t.charAt(0),p=Math.log(f)/Math.log(256),u=Math.log(256)/Math.log(f);function y(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var x=0,_=0,Q=0,R=C.length;Q!==R&&C[Q]===0;)Q++,x++;for(var k=(R-Q)*u+1>>>0,K=new Uint8Array(k);Q!==R;){for(var T=C[Q],L=0,H=k-1;(T!==0||L<_)&&H!==-1;H--,L++)T+=256*K[H]>>>0,K[H]=T%f>>>0,T=T/f>>>0;if(T!==0)throw new Error("Non-zero carry");_=L,Q++}for(var O=k-_;O!==k&&K[O]===0;)O++;for(var G=d.repeat(x);O<k;++O)G+=t.charAt(K[O]);return G}function B(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var x=0;if(C[x]!==" "){for(var _=0,Q=0;C[x]===d;)_++,x++;for(var R=(C.length-x)*p+1>>>0,k=new Uint8Array(R);C[x];){var K=r[C.charCodeAt(x)];if(K===255)return;for(var T=0,L=R-1;(K!==0||T<Q)&&L!==-1;L--,T++)K+=f*k[L]>>>0,k[L]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");Q=T,x++}if(C[x]!==" "){for(var H=R-Q;H!==R&&k[H]===0;)H++;for(var O=new Uint8Array(_+(R-H)),G=_;H!==R;)O[G++]=k[H++];return O}}}function S(C){var x=B(C);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:B,decode:S}}var eCe=XBe,tCe=eCe,SY=tCe;b();var Kdt=new Uint8Array(0);var _Y=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},ed=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};b();var mT=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},IT=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return DY(this,e)}},wT=class{constructor(e){this.decoders=e}or(e){return DY(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},DY=(t,e)=>new wT({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),vT=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new mT(e,r,i),this.decoder=new IT(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},MY=({name:t,prefix:e,encode:r,decode:i})=>new vT(t,e,r,i),bT=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=SY(r,e);return MY({prefix:t,name:e,encode:i,decode:o=>ed(n(o))})},rCe=(t,e,r,i)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),f=0,d=0,p=0;for(let u=0;u<o;++u){let y=n[t[u]];if(y===void 0)throw new SyntaxError(`Non-${i} character`);d=d<<r|y,f+=r,f>=8&&(f-=8,s[p++]=255&d>>f)}if(f>=r||255&d<<8-f)throw new SyntaxError("Unexpected end of data");return s},iCe=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,o="",s=0,f=0;for(let d=0;d<t.length;++d)for(f=f<<8|t[d],s+=8;s>r;)s-=r,o+=e[n&f>>s];if(s&&(o+=e[n&f<<r-s]),i)for(;o.length*r&7;)o+="=";return o},Ps=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>MY({prefix:e,name:t,encode(n){return iCe(n,i,r)},decode(n){return rCe(n,i,r,t)}});var $r=bT({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Vdt=bT({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});b();var Xdt=Ps({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),eut=Ps({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Xt=Ps({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),tut=Ps({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});b();function kY(t){return t.byteOffset!==0||t.byteLength!==t.buffer.byteLength}function td(t){let r=Object.prototype.toString.call(t).match(/\s([a-zA-Z0-9]+)/),[i,n]=r;return n}var R8=new TextEncoder,xE=new TextDecoder,wn=class t{constructor(e,r){this.data=e,this.format=r}static arrayBuffer(e){return new t(e,"ArrayBuffer")}static base58Btc(e){return new t(e,"Base58Btc")}static base64Url(e){return new t(e,"Base64Url")}static bufferSource(e){return new t(e,"BufferSource")}static hex(e){if(typeof e!="string")throw new TypeError("Hex input must be a string.");if(e.length%2!==0)throw new TypeError("Hex input must have an even number of characters.");return new t(e,"Hex")}static multibase(e){return new t(e,"Multibase")}static object(e){return new t(e,"Object")}static string(e){return new t(e,"String")}static uint8Array(e){return new t(e,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return $r.baseDecode(this.data).buffer;case"Base64Url":return Xt.baseDecode(this.data).buffer;case"BufferSource":{if(td(this.data)==="ArrayBuffer")return this.data;if(ArrayBuffer.isView(this.data))return kY(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":return this.toUint8Array().buffer;case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toBase58Btc(){switch(this.format){case"ArrayBuffer":{let e=new Uint8Array(this.data);return $r.baseEncode(e)}case"Multibase":return this.data.substring(1);case"Uint8Array":return $r.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{let e=new Uint8Array(this.data);return Xt.baseEncode(e)}case"BufferSource":{let e=this.toUint8Array();return Xt.baseEncode(e)}case"Object":{let e=JSON.stringify(this.data),r=R8.encode(e);return Xt.baseEncode(r)}case"String":{let e=R8.encode(this.data);return Xt.baseEncode(e)}case"Uint8Array":return Xt.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toHex(){let e=Array.from({length:256},(r,i)=>i.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{let r=this.toUint8Array();return t.uint8Array(r).toHex()}case"Base64Url":{let r=this.toUint8Array();return t.uint8Array(r).toHex()}case"Uint8Array":{let r="";for(let i=0;i<this.data.length;i++)r+=e[this.data[i]];return r}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){switch(this.format){case"Base58Btc":return`z${this.data}`;default:throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}}toObject(){switch(this.format){case"Base64Url":{let e=Xt.baseDecode(this.data),r=xE.decode(e);return JSON.parse(r)}case"String":return JSON.parse(this.data);case"Uint8Array":{let e=xE.decode(this.data);return JSON.parse(e)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toString(){switch(this.format){case"ArrayBuffer":return xE.decode(this.data);case"Base64Url":{let e=Xt.baseDecode(this.data);return xE.decode(e)}case"Object":return JSON.stringify(this.data);case"Uint8Array":return xE.decode(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base58Btc":return $r.baseDecode(this.data);case"Base64Url":return Xt.baseDecode(this.data);case"BufferSource":{let e=td(this.data);if(e==="Uint8Array")return this.data;if(e==="ArrayBuffer")return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{let e=new Uint8Array(this.data.length/2);for(let r=0;r<this.data.length;r+=2){let i=parseInt(this.data.substring(r,r+2),16);if(isNaN(i))throw new TypeError("Input is not a valid hexadecimal string.");e[r/2]=i}return e}case"Object":{let e=JSON.stringify(this.data);return R8.encode(e)}case"String":return R8.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}};b();b();b();var rn={};Tt(rn,{decode:()=>iw,encodeTo:()=>Hg,encodingLength:()=>Gg});b();b();var nCe=UY,TY=128,oCe=127,sCe=~oCe,aCe=Math.pow(2,31);function UY(t,e,r){e=e||[],r=r||0;for(var i=r;t>=aCe;)e[r++]=t&255|TY,t/=128;for(;t&sCe;)e[r++]=t&255|TY,t>>>=7;return e[r]=t|0,UY.bytes=r-i+1,e}var cCe=ET,fCe=128,RY=127;function ET(t,i){var r=0,i=i||0,n=0,o=i,s,f=t.length;do{if(o>=f)throw ET.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&RY)<<n:(s&RY)*Math.pow(2,n),n+=7}while(s>=fCe);return ET.bytes=o-i,r}var dCe=Math.pow(2,7),uCe=Math.pow(2,14),hCe=Math.pow(2,21),lCe=Math.pow(2,28),pCe=Math.pow(2,35),ACe=Math.pow(2,42),gCe=Math.pow(2,49),yCe=Math.pow(2,56),mCe=Math.pow(2,63),ICe=function(t){return t<dCe?1:t<uCe?2:t<hCe?3:t<lCe?4:t<pCe?5:t<ACe?6:t<gCe?7:t<yCe?8:t<mCe?9:10},wCe={encode:nCe,decode:cCe,encodingLength:ICe},vCe=wCe,SE=vCe;var iw=(t,e=0)=>[SE.decode(t,e),SE.decode.bytes],Hg=(t,e,r=0)=>(SE.encode(t,e,r),e),Gg=t=>SE.encodingLength(t);b();var jg=(t,e)=>{let r=e.byteLength,i=Gg(t),n=i+Gg(r),o=new Uint8Array(n+r);return Hg(t,o,0),Hg(r,o,i),o.set(e,n),new nw(t,r,e,o)},ow=t=>{let e=ed(t),[r,i]=iw(e),[n,o]=iw(e.subarray(i)),s=e.subarray(i+o);if(s.byteLength!==n)throw new Error("Incorrect length");return new nw(r,n,s,e)},FY=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&_Y(t.bytes,r.bytes)}},nw=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};b();var rd=Ps({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),mut=Ps({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Iut=Ps({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wut=Ps({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vut=Ps({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),but=Ps({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Eut=Ps({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),But=Ps({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Cut=Ps({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});b();var NY=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return ECe(r,BT(t),e||$r.encoder);default:return BCe(r,BT(t),e||rd.encoder)}};var PY=new WeakMap,BT=t=>{let e=PY.get(t);if(e==null){let r=new Map;return PY.set(t,r),r}return e},Gr=class t{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==_E)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==CCe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=jg(e,r);return t.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&FY(e.multihash,i.multihash)}toString(e){return NY(this,e)}toJSON(){return{"/":NY(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof t)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:o,bytes:s}=r;return new t(i,n,o,s||OY(i,n,o.bytes))}else if(r[xCe]===!0){let{version:i,multihash:n,code:o}=r,s=ow(n);return t.create(i,o,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==_E)throw new Error(`Version 0 CID must use dag-pb (code: ${_E}) block encoding`);return new t(e,r,i,i.bytes)}case 1:{let n=OY(e,r,i.bytes);return new t(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,_E,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,i]=t.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),i=r.size-r.multihashSize,n=ed(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=n.subarray(r.multihashSize-r.digestSize),s=new nw(r.multihashCode,r.digestSize,o,n);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[y,B]=iw(e.subarray(r));return r+=B,y},n=i(),o=_E;if(n===18?(n=0,r=0):o=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=r,f=i(),d=i(),p=r+d,u=p-s;return{version:n,codec:o,multihashCode:f,digestSize:d,multihashSize:u,size:p}}static parse(e,r){let[i,n]=bCe(e,r),o=t.decode(n);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return BT(o).set(i,e),o}},bCe=(t,e)=>{switch(t[0]){case"Q":{let r=e||$r;return[$r.prefix,r.decode(`${$r.prefix}${t}`)]}case $r.prefix:{let r=e||$r;return[$r.prefix,r.decode(t)]}case rd.prefix:{let r=e||rd;return[rd.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},ECe=(t,e,r)=>{let{prefix:i}=r;if(i!==$r.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let o=r.encode(t).slice(1);return e.set(i,o),o}else return n},BCe=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let o=r.encode(t);return e.set(i,o),o}else return n},_E=112,CCe=18,OY=(t,e,r)=>{let i=Gg(t),n=i+Gg(e),o=new Uint8Array(n+r.byteLength);return Hg(t,o,0),Hg(e,o,i),o.set(r,n),o},xCe=Symbol.for("@ipld/js-cid/CID");b();var xT=({name:t,code:e,encode:r})=>new CT(t,e,r),CT=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?jg(this.code,r):r.then(i=>jg(this.code,i))}else throw Error("Unknown type, must be binary type")}};b();var ls=class t{static addPrefix(e){var r;let{code:i,data:n,name:o}=e;if(!(o?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(i=t.codeToName.has(i)?i:t.nameToCode.get(o),i===void 0)throw new Error(`Unsupported multicodec: ${(r=e.name)!==null&&r!==void 0?r:e.code}`);let s=rn.encodingLength(i),f=new Uint8Array(s+n.byteLength);return f.set(n,s),rn.encodeTo(i,f),f}static getCodeFromData(e){let{prefixedData:r}=e,[i,n]=rn.decode(r);return i}static getCodeFromName(e){let{name:r}=e,i=t.nameToCode.get(r);if(i===void 0)throw new Error(`Unsupported multicodec: ${r}`);return i}static getNameFromCode(e){let{code:r}=e,i=t.codeToName.get(r);if(i===void 0)throw new Error(`Unsupported multicodec: ${r}`);return i}static registerCodec(e){t.codeToName.set(e.code,e.name),t.nameToCode.set(e.name,e.code)}static removePrefix(e){let{prefixedData:r}=e,[i,n]=rn.decode(r),o=t.codeToName.get(i);if(o===void 0)throw new Error(`Unsupported multicodec: ${i}`);return{code:i,data:r.slice(n),name:o}}};ls.codeToName=new Map;ls.nameToCode=new Map;ls.registerCodec({code:237,name:"ed25519-pub"});ls.registerCodec({code:4864,name:"ed25519-priv"});ls.registerCodec({code:236,name:"x25519-pub"});ls.registerCodec({code:4866,name:"x25519-priv"});ls.registerCodec({code:231,name:"secp256k1-pub"});ls.registerCodec({code:4865,name:"secp256k1-priv"});b();function ST(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&ST(t[e])})}b();var n3e=Rt(pl(),1);b();b();var ay=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var SR=t=>t instanceof Uint8Array;var d6=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),sd=(t,e)=>t<<32-e|t>>>e,o3e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!o3e)throw new Error("Non little-endian hardware is not supported");var s3e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function pV(t){if(!SR(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=s3e[t[r]];return e}function _R(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function WE(t){if(typeof t=="string"&&(t=_R(t)),!SR(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function ZE(...t){let e=new Uint8Array(t.reduce((i,n)=>i+n.length,0)),r=0;return t.forEach(i=>{if(!SR(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}var bw=class{clone(){return this._cloneInto()}};function xp(t){let e=i=>t().update(WE(i)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Sp(t=32){if(ay&&typeof ay.getRandomValues=="function")return ay.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function Al(t){if(!t||t.property===void 0||t.inObject===void 0)throw new TypeError("One or more required parameters missing: 'property, properties'");let{property:e,inObject:r}=t;if(!(e in r))throw new TypeError(`Required parameter missing: '${e}'`)}function Ew(t){if(!t||t.property===void 0||t.allowedProperties===void 0)throw new TypeError("One or more required parameters missing: 'property, allowedProperties'");let{property:e,allowedProperties:r}=t;if(Array.isArray(r)&&!r.includes(e)||r instanceof Set&&!r.has(e)||r instanceof Map&&!r.has(e)){let i=Array.from(r instanceof Map?r.keys():r).join(", ");throw new TypeError(`Out of range: '${e}'. Must be one of '${i}'`)}}function Bw(t){return!!(t&&"privateKey"in t&&"publicKey"in t&&td(t.privateKey)==="Uint8Array"&&td(t.publicKey)==="Uint8Array")}function a3e(t){return t&&"privateKey"in t&&"publicKey"in t}function QR(t){let{key:e,multicodecCode:r,multicodecName:i}=t,n=ls.addPrefix({code:r,data:e,name:i}),o=wn.uint8Array(n).toBase58Btc();return wn.base58Btc(o).toMultibase()}function AV(){return!!(globalThis.crypto&&globalThis.crypto.subtle)}function c3e(t){let{multibaseKeyId:e}=t,r=wn.multibase(e).toBase58Btc(),i=wn.base58Btc(r).toUint8Array(),{code:n,data:o,name:s}=ls.removePrefix({prefixedData:i});return{key:o,multicodecCode:n,multicodecName:s}}function gV(t){return Sp(t)}function f3e(){let t=gV(16);t[6]=t[6]&15|64,t[8]=t[8]&63|128;let e=pV(t);t.fill(0);let r=[e.slice(0,8),e.slice(8,12),e.slice(12,16),e.slice(16,20),e.slice(20,32)],i=r.join("-");return r.fill("0"),i}var yV=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},cy=class extends rw{checkGenerateKey(e){let{algorithm:r,keyUsages:i}=e;this.checkAlgorithmName({algorithmName:r.name}),Al({property:"namedCurve",inObject:r}),Ew({property:r.namedCurve,allowedProperties:this.namedCurves}),this.checkKeyUsages({keyUsages:i,allowedKeyUsages:this.keyUsages})}decrypt(){return yV(this,void 0,void 0,function*(){throw new hs(`Requested operation 'decrypt' is not valid for ${this.name} keys.`)})}encrypt(){return yV(this,void 0,void 0,function*(){throw new hs(`Requested operation 'encrypt' is not valid for ${this.name} keys.`)})}};b();b();var d3e=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},u6=class extends cy{constructor(){super(...arguments),this.name="ECDSA",this.keyUsages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmOptions(e){let{algorithm:r}=e;this.checkAlgorithmName({algorithmName:r.name}),Al({property:"hash",inObject:r}),Ew({property:r.hash,allowedProperties:this.hashAlgorithms})}deriveBits(){return d3e(this,void 0,void 0,function*(){throw new hs(`Requested operation 'deriveBits' is not valid for ${this.name} keys.`)})}};b();var u3e=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},h6=class extends cy{constructor(){super(...arguments),this.name="EdDSA",this.keyUsages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmOptions(e){let{algorithm:r}=e;this.checkAlgorithmName({algorithmName:r.name})}deriveBits(){return u3e(this,void 0,void 0,function*(){throw new hs(`Requested operation 'deriveBits' is not valid for ${this.name} keys.`)})}};b();b();b();b();var Ea=class{constructor(e,r,i,n,o){this.algorithm=e,this.extractable=r,this.material=i,this.type=n,this.usages=o,Object.defineProperties(this,{type:{enumerable:!0,writable:!1,value:n},extractable:{enumerable:!0,writable:!0,value:r},algorithm:{enumerable:!0,writable:!1,value:e},usages:{enumerable:!0,writable:!0,value:o},material:{enumerable:!1,writable:!1,value:i}})}};b();b();b();b();b();b();b();b();b();b();b();function DR(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function h3e(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function mV(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function l3e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");DR(t.outputLen),DR(t.blockLen)}function p3e(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function A3e(t,e){mV(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var g3e={number:DR,bool:h3e,bytes:mV,hash:l3e,exists:p3e,output:A3e},gl=g3e;function y3e(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);let n=BigInt(32),o=BigInt(4294967295),s=Number(r>>n&o),f=Number(r&o),d=i?4:0,p=i?0:4;t.setUint32(e+d,s,i),t.setUint32(e+p,f,i)}var xw=class extends bw{constructor(e,r,i,n){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=d6(this.buffer)}update(e){gl.exists(this);let{view:r,buffer:i,blockLen:n}=this;e=WE(e);let o=e.length;for(let s=0;s<o;){let f=Math.min(n-this.pos,o-s);if(f===n){let d=d6(e);for(;n<=o-s;s+=n)this.process(d,s);continue}i.set(e.subarray(s,s+f),this.pos),this.pos+=f,s+=f,this.pos===n&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){gl.exists(this),gl.output(e,this),this.finished=!0;let{buffer:r,view:i,blockLen:n,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(i,0),s=0);for(let y=s;y<n;y++)r[y]=0;y3e(i,n-8,BigInt(this.length*8),o),this.process(i,0);let f=d6(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let p=d/4,u=this.get();if(p>u.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<p;y++)f.setUint32(4*y,u[y],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:i,length:n,finished:o,destroyed:s,pos:f}=this;return e.length=n,e.pos=f,e.finished=o,e.destroyed=s,n%r&&e.buffer.set(i),e}};b();var p6=BigInt(4294967295),MR=BigInt(32);function IV(t,e=!1){return e?{h:Number(t&p6),l:Number(t>>MR&p6)}:{h:Number(t>>MR&p6)|0,l:Number(t&p6)|0}}function m3e(t,e=!1){let r=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let n=0;n<t.length;n++){let{h:o,l:s}=IV(t[n],e);[r[n],i[n]]=[o,s]}return[r,i]}var I3e=(t,e)=>BigInt(t>>>0)<<MR|BigInt(e>>>0),w3e=(t,e,r)=>t>>>r,v3e=(t,e,r)=>t<<32-r|e>>>r,b3e=(t,e,r)=>t>>>r|e<<32-r,E3e=(t,e,r)=>t<<32-r|e>>>r,B3e=(t,e,r)=>t<<64-r|e>>>r-32,C3e=(t,e,r)=>t>>>r-32|e<<64-r,x3e=(t,e)=>e,S3e=(t,e)=>t,_3e=(t,e,r)=>t<<r|e>>>32-r,Q3e=(t,e,r)=>e<<r|t>>>32-r,D3e=(t,e,r)=>e<<r-32|t>>>64-r,M3e=(t,e,r)=>t<<r-32|e>>>64-r;function k3e(t,e,r,i){let n=(e>>>0)+(i>>>0);return{h:t+r+(n/2**32|0)|0,l:n|0}}var T3e=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),R3e=(t,e,r,i)=>e+r+i+(t/2**32|0)|0,U3e=(t,e,r,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0),F3e=(t,e,r,i,n)=>e+r+i+n+(t/2**32|0)|0,N3e=(t,e,r,i,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0)+(n>>>0),P3e=(t,e,r,i,n,o)=>e+r+i+n+o+(t/2**32|0)|0,O3e={fromBig:IV,split:m3e,toBig:I3e,shrSH:w3e,shrSL:v3e,rotrSH:b3e,rotrSL:E3e,rotrBH:B3e,rotrBL:C3e,rotr32H:x3e,rotr32L:S3e,rotlSH:_3e,rotlSL:Q3e,rotlBH:D3e,rotlBL:M3e,add:k3e,add3L:T3e,add3H:R3e,add4L:U3e,add4H:F3e,add5H:P3e,add5L:N3e},Ar=O3e;var[K3e,q3e]=Ar.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),_p=new Uint32Array(80),Qp=new Uint32Array(80),Sw=class extends xw{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:i,Bl:n,Ch:o,Cl:s,Dh:f,Dl:d,Eh:p,El:u,Fh:y,Fl:B,Gh:S,Gl:C,Hh:x,Hl:_}=this;return[e,r,i,n,o,s,f,d,p,u,y,B,S,C,x,_]}set(e,r,i,n,o,s,f,d,p,u,y,B,S,C,x,_){this.Ah=e|0,this.Al=r|0,this.Bh=i|0,this.Bl=n|0,this.Ch=o|0,this.Cl=s|0,this.Dh=f|0,this.Dl=d|0,this.Eh=p|0,this.El=u|0,this.Fh=y|0,this.Fl=B|0,this.Gh=S|0,this.Gl=C|0,this.Hh=x|0,this.Hl=_|0}process(e,r){for(let k=0;k<16;k++,r+=4)_p[k]=e.getUint32(r),Qp[k]=e.getUint32(r+=4);for(let k=16;k<80;k++){let K=_p[k-15]|0,T=Qp[k-15]|0,L=Ar.rotrSH(K,T,1)^Ar.rotrSH(K,T,8)^Ar.shrSH(K,T,7),H=Ar.rotrSL(K,T,1)^Ar.rotrSL(K,T,8)^Ar.shrSL(K,T,7),O=_p[k-2]|0,G=Qp[k-2]|0,v=Ar.rotrSH(O,G,19)^Ar.rotrBH(O,G,61)^Ar.shrSH(O,G,6),a=Ar.rotrSL(O,G,19)^Ar.rotrBL(O,G,61)^Ar.shrSL(O,G,6),h=Ar.add4L(H,a,Qp[k-7],Qp[k-16]),g=Ar.add4H(h,L,v,_p[k-7],_p[k-16]);_p[k]=g|0,Qp[k]=h|0}let{Ah:i,Al:n,Bh:o,Bl:s,Ch:f,Cl:d,Dh:p,Dl:u,Eh:y,El:B,Fh:S,Fl:C,Gh:x,Gl:_,Hh:Q,Hl:R}=this;for(let k=0;k<80;k++){let K=Ar.rotrSH(y,B,14)^Ar.rotrSH(y,B,18)^Ar.rotrBH(y,B,41),T=Ar.rotrSL(y,B,14)^Ar.rotrSL(y,B,18)^Ar.rotrBL(y,B,41),L=y&S^~y&x,H=B&C^~B&_,O=Ar.add5L(R,T,H,q3e[k],Qp[k]),G=Ar.add5H(O,Q,K,L,K3e[k],_p[k]),v=O|0,a=Ar.rotrSH(i,n,28)^Ar.rotrBH(i,n,34)^Ar.rotrBH(i,n,39),h=Ar.rotrSL(i,n,28)^Ar.rotrBL(i,n,34)^Ar.rotrBL(i,n,39),g=i&o^i&f^o&f,l=n&s^n&d^s&d;Q=x|0,R=_|0,x=S|0,_=C|0,S=y|0,C=B|0,{h:y,l:B}=Ar.add(p|0,u|0,G|0,v|0),p=f|0,u=d|0,f=o|0,d=s|0,o=i|0,s=n|0;let A=Ar.add3L(v,h,l);i=Ar.add3H(A,G,a,g),n=A|0}({h:i,l:n}=Ar.add(this.Ah|0,this.Al|0,i|0,n|0)),{h:o,l:s}=Ar.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:f,l:d}=Ar.add(this.Ch|0,this.Cl|0,f|0,d|0),{h:p,l:u}=Ar.add(this.Dh|0,this.Dl|0,p|0,u|0),{h:y,l:B}=Ar.add(this.Eh|0,this.El|0,y|0,B|0),{h:S,l:C}=Ar.add(this.Fh|0,this.Fl|0,S|0,C|0),{h:x,l:_}=Ar.add(this.Gh|0,this.Gl|0,x|0,_|0),{h:Q,l:R}=Ar.add(this.Hh|0,this.Hl|0,Q|0,R|0),this.set(i,n,o,s,f,d,p,u,y,B,S,C,x,_,Q,R)}roundClean(){_p.fill(0),Qp.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},kR=class extends Sw{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},TR=class extends Sw{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},RR=class extends Sw{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},UR=xp(()=>new Sw),L0t=xp(()=>new kR),H0t=xp(()=>new TR),G0t=xp(()=>new RR);b();b();var y6={};Tt(y6,{bitGet:()=>z3e,bitLen:()=>j3e,bitMask:()=>$E,bitSet:()=>Y3e,bytesToHex:()=>Su,bytesToNumberBE:()=>ad,bytesToNumberLE:()=>Yc,concatBytes:()=>cd,createHmacDrbg:()=>PR,ensureBytes:()=>Ai,equalBytes:()=>EV,hexToBytes:()=>fy,hexToNumber:()=>NR,numberToBytesBE:()=>Jc,numberToBytesLE:()=>yl,numberToHexUnpadded:()=>bV,numberToVarBytesBE:()=>G3e,utf8ToBytes:()=>BV,validateObject:()=>Ja});b();var vV=BigInt(0),A6=BigInt(1),L3e=BigInt(2),g6=t=>t instanceof Uint8Array,H3e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Su(t){if(!g6(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=H3e[t[r]];return e}function bV(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function NR(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function fy(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let i=0;i<r.length;i++){let n=i*2,o=t.slice(n,n+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[i]=s}return r}function ad(t){return NR(Su(t))}function Yc(t){if(!g6(t))throw new Error("Uint8Array expected");return NR(Su(Uint8Array.from(t).reverse()))}function Jc(t,e){return fy(t.toString(16).padStart(e*2,"0"))}function yl(t,e){return Jc(t,e).reverse()}function G3e(t){return fy(bV(t))}function Ai(t,e,r){let i;if(typeof e=="string")try{i=fy(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(g6(e))i=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let n=i.length;if(typeof r=="number"&&n!==r)throw new Error(`${t} expected ${r} bytes, got ${n}`);return i}function cd(...t){let e=new Uint8Array(t.reduce((i,n)=>i+n.length,0)),r=0;return t.forEach(i=>{if(!g6(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}function EV(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function BV(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function j3e(t){let e;for(e=0;t>vV;t>>=A6,e+=1);return e}function z3e(t,e){return t>>BigInt(e)&A6}var Y3e=(t,e,r)=>t|(r?A6:vV)<<BigInt(e),$E=t=>(L3e<<BigInt(t-1))-A6,FR=t=>new Uint8Array(t),wV=t=>Uint8Array.from(t);function PR(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let i=FR(t),n=FR(t),o=0,s=()=>{i.fill(1),n.fill(0),o=0},f=(...y)=>r(n,i,...y),d=(y=FR())=>{n=f(wV([0]),y),i=f(),y.length!==0&&(n=f(wV([1]),y),i=f())},p=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let y=0,B=[];for(;y<e;){i=f();let S=i.slice();B.push(S),y+=i.length}return cd(...B)};return(y,B)=>{s(),d(y);let S;for(;!(S=B(p()));)d();return s(),S}}var J3e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ja(t,e,r={}){let i=(n,o,s)=>{let f=J3e[o];if(typeof f!="function")throw new Error(`Invalid validator "${o}", expected function`);let d=t[n];if(!(s&&d===void 0)&&!f(d,t))throw new Error(`Invalid param ${String(n)}=${d} (${typeof d}), expected ${o}`)};for(let[n,o]of Object.entries(e))i(n,o,!1);for(let[n,o]of Object.entries(r))i(n,o,!0);return t}var eo=BigInt(0),nn=BigInt(1),dy=BigInt(2),V3e=BigInt(3),OR=BigInt(4),CV=BigInt(5),xV=BigInt(8),W3e=BigInt(9),Z3e=BigInt(16);function Xr(t,e){let r=t%e;return r>=eo?r:e+r}function KR(t,e,r){if(r<=eo||e<eo)throw new Error("Expected power/modulo > 0");if(r===nn)return eo;let i=nn;for(;e>eo;)e&nn&&(i=i*t%r),t=t*t%r,e>>=nn;return i}function Hi(t,e,r){let i=t;for(;e-- >eo;)i*=i,i%=r;return i}function m6(t,e){if(t===eo||e<=eo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Xr(t,e),i=e,n=eo,o=nn,s=nn,f=eo;for(;r!==eo;){let p=i/r,u=i%r,y=n-s*p,B=o-f*p;i=r,r=u,n=s,o=f,s=y,f=B}if(i!==nn)throw new Error("invert: does not exist");return Xr(n,e)}function $3e(t){let e=(t-nn)/dy,r,i,n;for(r=t-nn,i=0;r%dy===eo;r/=dy,i++);for(n=dy;n<t&&KR(n,e,t)!==t-nn;n++);if(i===1){let s=(t+nn)/OR;return function(d,p){let u=d.pow(p,s);if(!d.eql(d.sqr(u),p))throw new Error("Cannot find square root");return u}}let o=(r+nn)/dy;return function(f,d){if(f.pow(d,e)===f.neg(f.ONE))throw new Error("Cannot find square root");let p=i,u=f.pow(f.mul(f.ONE,n),r),y=f.pow(d,o),B=f.pow(d,r);for(;!f.eql(B,f.ONE);){if(f.eql(B,f.ZERO))return f.ZERO;let S=1;for(let x=f.sqr(B);S<p&&!f.eql(x,f.ONE);S++)x=f.sqr(x);let C=f.pow(u,nn<<BigInt(p-S-1));u=f.sqr(C),y=f.mul(y,C),B=f.mul(B,u),p=S}return y}}function X3e(t){if(t%OR===V3e){let e=(t+nn)/OR;return function(i,n){let o=i.pow(n,e);if(!i.eql(i.sqr(o),n))throw new Error("Cannot find square root");return o}}if(t%xV===CV){let e=(t-CV)/xV;return function(i,n){let o=i.mul(n,dy),s=i.pow(o,e),f=i.mul(n,s),d=i.mul(i.mul(f,dy),s),p=i.mul(f,i.sub(d,i.ONE));if(!i.eql(i.sqr(p),n))throw new Error("Cannot find square root");return p}}return t%Z3e,$3e(t)}var SV=(t,e)=>(Xr(t,e)&nn)===nn,e8e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function qR(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=e8e.reduce((i,n)=>(i[n]="function",i),e);return Ja(t,r)}function t8e(t,e,r){if(r<eo)throw new Error("Expected power > 0");if(r===eo)return t.ONE;if(r===nn)return e;let i=t.ONE,n=e;for(;r>eo;)r&nn&&(i=t.mul(i,n)),n=t.sqr(n),r>>=nn;return i}function r8e(t,e){let r=new Array(e.length),i=e.reduce((o,s,f)=>t.is0(s)?o:(r[f]=o,t.mul(o,s)),t.ONE),n=t.inv(i);return e.reduceRight((o,s,f)=>t.is0(s)?o:(r[f]=t.mul(o,r[f]),t.mul(o,s)),n),r}function I6(t,e){let r=e!==void 0?e:t.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function w6(t,e,r=!1,i={}){if(t<=eo)throw new Error(`Expected Fp ORDER > 0, got ${t}`);let{nBitLength:n,nByteLength:o}=I6(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=X3e(t),f=Object.freeze({ORDER:t,BITS:n,BYTES:o,MASK:$E(n),ZERO:eo,ONE:nn,create:d=>Xr(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return eo<=d&&d<t},is0:d=>d===eo,isOdd:d=>(d&nn)===nn,neg:d=>Xr(-d,t),eql:(d,p)=>d===p,sqr:d=>Xr(d*d,t),add:(d,p)=>Xr(d+p,t),sub:(d,p)=>Xr(d-p,t),mul:(d,p)=>Xr(d*p,t),pow:(d,p)=>t8e(f,d,p),div:(d,p)=>Xr(d*m6(p,t),t),sqrN:d=>d*d,addN:(d,p)=>d+p,subN:(d,p)=>d-p,mulN:(d,p)=>d*p,inv:d=>m6(d,t),sqrt:i.sqrt||(d=>s(f,d)),invertBatch:d=>r8e(f,d),cmov:(d,p,u)=>u?p:d,toBytes:d=>r?yl(d,o):Jc(d,o),fromBytes:d=>{if(d.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${d.length}`);return r?Yc(d):ad(d)}});return Object.freeze(f)}function _V(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}function QV(t,e,r=!1){t=Ai("privateHash",t);let i=t.length,n=I6(e).nByteLength+8;if(n<24||i<n||i>1024)throw new Error(`hashToPrivateScalar: expected ${n}-1024 bytes of input, got ${i}`);let o=r?Yc(t):ad(t);return Xr(o,e-nn)+nn}b();var n8e=BigInt(0),LR=BigInt(1);function v6(t,e){let r=(n,o)=>{let s=o.negate();return n?s:o},i=n=>{let o=Math.ceil(e/n)+1,s=2**(n-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(n,o){let s=t.ZERO,f=n;for(;o>n8e;)o&LR&&(s=s.add(f)),f=f.double(),o>>=LR;return s},precomputeWindow(n,o){let{windows:s,windowSize:f}=i(o),d=[],p=n,u=p;for(let y=0;y<s;y++){u=p,d.push(u);for(let B=1;B<f;B++)u=u.add(p),d.push(u);p=u.double()}return d},wNAF(n,o,s){let{windows:f,windowSize:d}=i(n),p=t.ZERO,u=t.BASE,y=BigInt(2**n-1),B=2**n,S=BigInt(n);for(let C=0;C<f;C++){let x=C*d,_=Number(s&y);s>>=S,_>d&&(_-=B,s+=LR);let Q=x,R=x+Math.abs(_)-1,k=C%2!==0,K=_<0;_===0?u=u.add(r(k,o[Q])):p=p.add(r(K,o[R]))}return{p,f:u}},wNAFCached(n,o,s,f){let d=n._WINDOW_SIZE||1,p=o.get(n);return p||(p=this.precomputeWindow(n,d),d!==1&&o.set(n,f(p))),this.wNAF(d,p,s)}}}function XE(t){return qR(t.Fp),Ja(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...I6(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}var fd=BigInt(0),Va=BigInt(1),b6=BigInt(2),o8e=BigInt(8),s8e={zip215:!0};function a8e(t){let e=XE(t);return Ja(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function E6(t){let e=a8e(t),{Fp:r,n:i,prehash:n,hash:o,randomBytes:s,nByteLength:f,h:d}=e,p=b6<<BigInt(f*8)-Va,u=r.create,y=e.uvRatio||((m,c)=>{try{return{isValid:!0,value:r.sqrt(m*r.inv(c))}}catch{return{isValid:!1,value:fd}}}),B=e.adjustScalarBytes||(m=>m),S=e.domain||((m,c,I)=>{if(c.length||I)throw new Error("Contexts/pre-hash are not supported");return m}),C=m=>typeof m=="bigint"&&fd<m,x=(m,c)=>C(m)&&C(c)&&m<c,_=m=>m===fd||x(m,p);function Q(m,c){if(x(m,c))return m;throw new Error(`Expected valid scalar < ${c}, got ${typeof m} ${m}`)}function R(m){return m===fd?m:Q(m,i)}let k=new Map;function K(m){if(!(m instanceof T))throw new Error("ExtendedPoint expected")}class T{constructor(c,I,M,D){if(this.ex=c,this.ey=I,this.ez=M,this.et=D,!_(c))throw new Error("x required");if(!_(I))throw new Error("y required");if(!_(M))throw new Error("z required");if(!_(D))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(c){if(c instanceof T)throw new Error("extended point not allowed");let{x:I,y:M}=c||{};if(!_(I)||!_(M))throw new Error("invalid affine point");return new T(I,M,Va,u(I*M))}static normalizeZ(c){let I=r.invertBatch(c.map(M=>M.ez));return c.map((M,D)=>M.toAffine(I[D])).map(T.fromAffine)}_setWindowSize(c){this._WINDOW_SIZE=c,k.delete(this)}assertValidity(){let{a:c,d:I}=e;if(this.is0())throw new Error("bad point: ZERO");let{ex:M,ey:D,ez:P,et:j}=this,Y=u(M*M),z=u(D*D),$=u(P*P),W=u($*$),ee=u(Y*c),pe=u($*u(ee+z)),ne=u(W+u(I*u(Y*z)));if(pe!==ne)throw new Error("bad point: equation left != right (1)");let se=u(M*D),Le=u(P*j);if(se!==Le)throw new Error("bad point: equation left != right (2)")}equals(c){K(c);let{ex:I,ey:M,ez:D}=this,{ex:P,ey:j,ez:Y}=c,z=u(I*Y),$=u(P*D),W=u(M*Y),ee=u(j*D);return z===$&&W===ee}is0(){return this.equals(T.ZERO)}negate(){return new T(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:c}=e,{ex:I,ey:M,ez:D}=this,P=u(I*I),j=u(M*M),Y=u(b6*u(D*D)),z=u(c*P),$=I+M,W=u(u($*$)-P-j),ee=z+j,pe=ee-Y,ne=z-j,se=u(W*pe),Le=u(ee*ne),ce=u(W*ne),fe=u(pe*ee);return new T(se,Le,fe,ce)}add(c){K(c);let{a:I,d:M}=e,{ex:D,ey:P,ez:j,et:Y}=this,{ex:z,ey:$,ez:W,et:ee}=c;if(I===BigInt(-1)){let Nr=u((P-D)*($+z)),Be=u((P+D)*($-z)),we=u(Be-Nr);if(we===fd)return this.double();let qr=u(j*b6*ee),Ce=u(Y*b6*W),me=Ce+qr,Ir=Be+Nr,be=Ce-qr,Se=u(me*we),sr=u(Ir*be),xe=u(me*be),_e=u(we*Ir);return new T(Se,sr,_e,xe)}let pe=u(D*z),ne=u(P*$),se=u(Y*M*ee),Le=u(j*W),ce=u((D+P)*(z+$)-pe-ne),fe=Le-se,bt=Le+se,ge=u(ne-I*pe),Ie=u(ce*fe),mr=u(bt*ge),ve=u(ce*ge),ye=u(fe*bt);return new T(Ie,mr,ye,ve)}subtract(c){return this.add(c.negate())}wNAF(c){return O.wNAFCached(this,k,c,T.normalizeZ)}multiply(c){let{p:I,f:M}=this.wNAF(Q(c,i));return T.normalizeZ([I,M])[0]}multiplyUnsafe(c){let I=R(c);return I===fd?H:this.equals(H)||I===Va?this:this.equals(L)?this.wNAF(I).p:O.unsafeLadder(this,I)}isSmallOrder(){return this.multiplyUnsafe(d).is0()}isTorsionFree(){return O.unsafeLadder(this,i).is0()}toAffine(c){let{ex:I,ey:M,ez:D}=this,P=this.is0();c==null&&(c=P?o8e:r.inv(D));let j=u(I*c),Y=u(M*c),z=u(D*c);if(P)return{x:fd,y:Va};if(z!==Va)throw new Error("invZ was invalid");return{x:j,y:Y}}clearCofactor(){let{h:c}=e;return c===Va?this:this.multiplyUnsafe(c)}static fromHex(c,I=!1){let{d:M,a:D}=e,P=r.BYTES;c=Ai("pointHex",c,P);let j=c.slice(),Y=c[P-1];j[P-1]=Y&-129;let z=Yc(j);z===fd||(I?Q(z,p):Q(z,r.ORDER));let $=u(z*z),W=u($-Va),ee=u(M*$-D),{isValid:pe,value:ne}=y(W,ee);if(!pe)throw new Error("Point.fromHex: invalid y coordinate");let se=(ne&Va)===Va,Le=(Y&128)!==0;if(!I&&ne===fd&&Le)throw new Error("Point.fromHex: x=0 and x_0=1");return Le!==se&&(ne=u(-ne)),T.fromAffine({x:ne,y:z})}static fromPrivateKey(c){return a(c).point}toRawBytes(){let{x:c,y:I}=this.toAffine(),M=yl(I,r.BYTES);return M[M.length-1]|=c&Va?128:0,M}toHex(){return Su(this.toRawBytes())}}T.BASE=new T(e.Gx,e.Gy,Va,u(e.Gx*e.Gy)),T.ZERO=new T(fd,Va,Va,fd);let{BASE:L,ZERO:H}=T,O=v6(T,f*8);function G(m){return Xr(m,i)}function v(m){return G(Yc(m))}function a(m){let c=f;m=Ai("private key",m,c);let I=Ai("hashed private key",o(m),2*c),M=B(I.slice(0,c)),D=I.slice(c,2*c),P=v(M),j=L.multiply(P),Y=j.toRawBytes();return{head:M,prefix:D,scalar:P,point:j,pointBytes:Y}}function h(m){return a(m).pointBytes}function g(m=new Uint8Array,...c){let I=cd(...c);return v(o(S(I,Ai("context",m),!!n)))}function l(m,c,I={}){m=Ai("message",m),n&&(m=n(m));let{prefix:M,scalar:D,pointBytes:P}=a(c),j=g(I.context,M,m),Y=L.multiply(j).toRawBytes(),z=g(I.context,Y,P,m),$=G(j+z*D);R($);let W=cd(Y,yl($,r.BYTES));return Ai("result",W,f*2)}let A=s8e;function w(m,c,I,M=A){let{context:D,zip215:P}=M,j=r.BYTES;m=Ai("signature",m,2*j),c=Ai("message",c),n&&(c=n(c));let Y=Yc(m.slice(j,2*j)),z,$,W;try{z=T.fromHex(I,P),$=T.fromHex(m.slice(0,j),P),W=L.multiplyUnsafe(Y)}catch{return!1}if(!P&&z.isSmallOrder())return!1;let ee=g(D,$.toRawBytes(),z.toRawBytes(),c);return $.add(z.multiplyUnsafe(ee)).subtract(W).clearCofactor().equals(T.ZERO)}return L._setWindowSize(8),{CURVE:e,getPublicKey:h,sign:l,verify:w,ExtendedPoint:T,utils:{getExtendedPublicKey:a,randomPrivateKey:()=>s(r.BYTES),precompute(m=8,c=T.BASE){return c._setWindowSize(m),c.multiply(BigInt(3)),c}}}}b();var e2=BigInt(0),HR=BigInt(1);function c8e(t){return Ja(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function DV(t){let e=c8e(t),{P:r}=e,i=k=>Xr(k,r),n=e.montgomeryBits,o=Math.ceil(n/8),s=e.nByteLength,f=e.adjustScalarBytes||(k=>k),d=e.powPminus2||(k=>KR(k,r-BigInt(2),r));function p(k,K,T){let L=i(k*(K-T));return K=i(K-L),T=i(T+L),[K,T]}function u(k){if(typeof k=="bigint"&&e2<=k&&k<r)return k;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}let y=(e.a-BigInt(2))/BigInt(4);function B(k,K){let T=u(k),L=u(K),H=T,O=HR,G=e2,v=T,a=HR,h=e2,g;for(let A=BigInt(n-1);A>=e2;A--){let w=L>>A&HR;h^=w,g=p(h,O,v),O=g[0],v=g[1],g=p(h,G,a),G=g[0],a=g[1],h=w;let E=O+G,m=i(E*E),c=O-G,I=i(c*c),M=m-I,D=v+a,P=v-a,j=i(P*E),Y=i(D*c),z=j+Y,$=j-Y;v=i(z*z),a=i(H*i($*$)),O=i(m*I),G=i(M*(m+i(y*M)))}g=p(h,O,v),O=g[0],v=g[1],g=p(h,G,a),G=g[0],a=g[1];let l=d(G);return i(O*l)}function S(k){return yl(i(k),o)}function C(k){let K=Ai("u coordinate",k,o);return s===o&&(K[s-1]&=127),Yc(K)}function x(k){let K=Ai("scalar",k);if(K.length!==o&&K.length!==s)throw new Error(`Expected ${o} or ${s} bytes, got ${K.length}`);return Yc(f(K))}function _(k,K){let T=C(K),L=x(k),H=B(T,L);if(H===e2)throw new Error("Invalid private or public key received");return S(H)}let Q=S(e.Gu);function R(k){return _(k,Q)}return{scalarMult:_,scalarMultBase:R,getSharedSecret:(k,K)=>_(k,K),getPublicKey:k=>R(k),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:Q}}b();var t2=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),MV=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),vpt=BigInt(0),d8e=BigInt(1),GR=BigInt(2),u8e=BigInt(5),kV=BigInt(10),h8e=BigInt(20),l8e=BigInt(40),TV=BigInt(80);function RV(t){let e=t2,i=t*t%e*t%e,n=Hi(i,GR,e)*i%e,o=Hi(n,d8e,e)*t%e,s=Hi(o,u8e,e)*o%e,f=Hi(s,kV,e)*s%e,d=Hi(f,h8e,e)*f%e,p=Hi(d,l8e,e)*d%e,u=Hi(p,TV,e)*p%e,y=Hi(u,TV,e)*p%e,B=Hi(y,kV,e)*s%e;return{pow_p_5_8:Hi(B,GR,e)*t%e,b2:i}}function UV(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function p8e(t,e){let r=t2,i=Xr(e*e*e,r),n=Xr(i*i*e,r),o=RV(t*n).pow_p_5_8,s=Xr(t*i*o,r),f=Xr(e*s*s,r),d=s,p=Xr(s*MV,r),u=f===t,y=f===Xr(-t,r),B=f===Xr(-t*MV,r);return u&&(s=d),(y||B)&&(s=p),SV(s,r)&&(s=Xr(-s,r)),{isValid:u||y,value:s}}var Vc=w6(t2,void 0,!0),r2={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Vc,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:UR,randomBytes:Sp,adjustScalarBytes:UV,uvRatio:p8e},Dp=E6(r2);function FV(t,e,r){if(e.length>255)throw new Error("Context is too big");return ZE(_R("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}var bpt=E6({...r2,domain:FV}),Ept=E6({...r2,domain:FV,prehash:UR}),i2=DV({P:t2,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{let e=t2,{pow_p_5_8:r,b2:i}=RV(t);return Xr(Hi(r,BigInt(3),e)*i,e)},adjustScalarBytes:UV,randomBytes:Sp});function NV(t){let{y:e}=Dp.ExtendedPoint.fromHex(t),r=BigInt(1);return Vc.toBytes(Vc.create((r+e)*Vc.inv(r-e)))}function PV(t){let e=r2.hash(t.subarray(0,32));return r2.adjustScalarBytes(e).subarray(0,32)}var A8e=(Vc.ORDER+BigInt(3))/BigInt(8),Bpt=Vc.pow(GR,A8e),Cpt=Vc.sqrt(Vc.neg(Vc.ONE)),xpt=(Vc.ORDER-BigInt(5))/BigInt(8),Spt=BigInt(486662);var _pt=_V(Vc,Vc.neg(BigInt(486664)));var Qpt=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Dpt=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Mpt=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),kpt=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");var Tpt=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var B6=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},n2=class{static generateKeyPair(){return B6(this,void 0,void 0,function*(){let e=i2.utils.randomPrivateKey(),r=i2.getPublicKey(e);return{privateKey:e,publicKey:r}})}static getPublicKey(e){return B6(this,void 0,void 0,function*(){let{privateKey:r}=e;return i2.getPublicKey(r)})}static sharedSecret(e){return B6(this,void 0,void 0,function*(){let{privateKey:r,publicKey:i}=e;return i2.getSharedSecret(r,i)})}static validatePublicKey(e){return B6(this,void 0,void 0,function*(){throw new Error("Not implemented: 'validatePublicKey()'")})}};b();b();b();var uy=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},dd=class t{static convertPrivateKeyToX25519(e){return uy(this,void 0,void 0,function*(){let{privateKey:r}=e;return PV(r)})}static convertPublicKeyToX25519(e){return uy(this,void 0,void 0,function*(){let{publicKey:r}=e;if(!(yield t.validatePublicKey({key:r})))throw new Error("Ed25519: Invalid public key.");return NV(r)})}static generateKeyPair(){return uy(this,void 0,void 0,function*(){let e=Dp.utils.randomPrivateKey(),r=Dp.getPublicKey(e);return{privateKey:e,publicKey:r}})}static getPublicKey(e){return uy(this,void 0,void 0,function*(){let{privateKey:r}=e;return Dp.getPublicKey(r)})}static sign(e){return uy(this,void 0,void 0,function*(){let{key:r,data:i}=e;return Dp.sign(i,r)})}static validatePublicKey(e){return uy(this,void 0,void 0,function*(){let{key:r}=e;try{Dp.ExtendedPoint.fromHex(r).assertValidity()}catch{return!1}return!0})}static verify(e){return uy(this,void 0,void 0,function*(){let{key:r,signature:i,data:n}=e;return Dp.verify(i,n,r)})}};b();b();var g8e=(t,e,r)=>t&e^~t&r,y8e=(t,e,r)=>t&e^t&r^e&r,m8e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Mp=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),kp=new Uint32Array(64),C6=class extends xw{constructor(){super(64,32,8,!1),this.A=Mp[0]|0,this.B=Mp[1]|0,this.C=Mp[2]|0,this.D=Mp[3]|0,this.E=Mp[4]|0,this.F=Mp[5]|0,this.G=Mp[6]|0,this.H=Mp[7]|0}get(){let{A:e,B:r,C:i,D:n,E:o,F:s,G:f,H:d}=this;return[e,r,i,n,o,s,f,d]}set(e,r,i,n,o,s,f,d){this.A=e|0,this.B=r|0,this.C=i|0,this.D=n|0,this.E=o|0,this.F=s|0,this.G=f|0,this.H=d|0}process(e,r){for(let y=0;y<16;y++,r+=4)kp[y]=e.getUint32(r,!1);for(let y=16;y<64;y++){let B=kp[y-15],S=kp[y-2],C=sd(B,7)^sd(B,18)^B>>>3,x=sd(S,17)^sd(S,19)^S>>>10;kp[y]=x+kp[y-7]+C+kp[y-16]|0}let{A:i,B:n,C:o,D:s,E:f,F:d,G:p,H:u}=this;for(let y=0;y<64;y++){let B=sd(f,6)^sd(f,11)^sd(f,25),S=u+B+g8e(f,d,p)+m8e[y]+kp[y]|0,x=(sd(i,2)^sd(i,13)^sd(i,22))+y8e(i,n,o)|0;u=p,p=d,d=f,f=s+S|0,s=o,o=n,n=i,i=S+x|0}i=i+this.A|0,n=n+this.B|0,o=o+this.C|0,s=s+this.D|0,f=f+this.E|0,d=d+this.F|0,p=p+this.G|0,u=u+this.H|0,this.set(i,n,o,s,f,d,p,u)}roundClean(){kp.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},jR=class extends C6{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},hy=xp(()=>new C6),Wpt=xp(()=>new jR);b();b();b();function I8e(t){let e=XE(t);Ja(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:i,a:n}=e;if(r){if(!i.eql(n,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:w8e,hexToBytes:v8e}=y6,ly={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=ly;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],i=t.subarray(2,r+2);if(!r||i.length!==r)throw new e("Invalid signature integer: wrong length");if(i[0]&128)throw new e("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:w8e(i),l:t.subarray(r+2)}},toSig(t){let{Err:e}=ly,r=typeof t=="string"?v8e(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let i=r.length;if(i<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==i-2)throw new e("Invalid signature: incorrect length");let{d:n,l:o}=ly._parseInt(r.subarray(2)),{d:s,l:f}=ly._parseInt(o);if(f.length)throw new e("Invalid signature: left bytes after parsing");return{r:n,s}},hexFromSig(t){let e=p=>Number.parseInt(p[0],16)&8?"00"+p:p,r=p=>{let u=p.toString(16);return u.length&1?`0${u}`:u},i=e(r(t.s)),n=e(r(t.r)),o=i.length/2,s=n.length/2,f=r(o),d=r(s);return`30${r(s+o+4)}02${d}${n}02${f}${i}`}},ml=BigInt(0),Wc=BigInt(1),cAt=BigInt(2),OV=BigInt(3),fAt=BigInt(4);function b8e(t){let e=I8e(t),{Fp:r}=e,i=e.toBytes||((C,x,_)=>{let Q=x.toAffine();return cd(Uint8Array.from([4]),r.toBytes(Q.x),r.toBytes(Q.y))}),n=e.fromBytes||(C=>{let x=C.subarray(1),_=r.fromBytes(x.subarray(0,r.BYTES)),Q=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:_,y:Q}});function o(C){let{a:x,b:_}=e,Q=r.sqr(C),R=r.mul(Q,C);return r.add(r.add(R,r.mul(C,x)),_)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(C){return typeof C=="bigint"&&ml<C&&C<e.n}function f(C){if(!s(C))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(C){let{allowedPrivateKeyLengths:x,nByteLength:_,wrapPrivateKey:Q,n:R}=e;if(x&&typeof C!="bigint"){if(C instanceof Uint8Array&&(C=Su(C)),typeof C!="string"||!x.includes(C.length))throw new Error("Invalid key");C=C.padStart(_*2,"0")}let k;try{k=typeof C=="bigint"?C:ad(Ai("private key",C,_))}catch{throw new Error(`private key must be ${_} bytes, hex or bigint, not ${typeof C}`)}return Q&&(k=Xr(k,R)),f(k),k}let p=new Map;function u(C){if(!(C instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(x,_,Q){if(this.px=x,this.py=_,this.pz=Q,x==null||!r.isValid(x))throw new Error("x required");if(_==null||!r.isValid(_))throw new Error("y required");if(Q==null||!r.isValid(Q))throw new Error("z required")}static fromAffine(x){let{x:_,y:Q}=x||{};if(!x||!r.isValid(_)||!r.isValid(Q))throw new Error("invalid affine point");if(x instanceof y)throw new Error("projective point not allowed");let R=k=>r.eql(k,r.ZERO);return R(_)&&R(Q)?y.ZERO:new y(_,Q,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){let _=r.invertBatch(x.map(Q=>Q.pz));return x.map((Q,R)=>Q.toAffine(_[R])).map(y.fromAffine)}static fromHex(x){let _=y.fromAffine(n(Ai("pointHex",x)));return _.assertValidity(),_}static fromPrivateKey(x){return y.BASE.multiply(d(x))}_setWindowSize(x){this._WINDOW_SIZE=x,p.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x,y:_}=this.toAffine();if(!r.isValid(x)||!r.isValid(_))throw new Error("bad point: x or y not FE");let Q=r.sqr(_),R=o(x);if(!r.eql(Q,R))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){u(x);let{px:_,py:Q,pz:R}=this,{px:k,py:K,pz:T}=x,L=r.eql(r.mul(_,T),r.mul(k,R)),H=r.eql(r.mul(Q,T),r.mul(K,R));return L&&H}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){let{a:x,b:_}=e,Q=r.mul(_,OV),{px:R,py:k,pz:K}=this,T=r.ZERO,L=r.ZERO,H=r.ZERO,O=r.mul(R,R),G=r.mul(k,k),v=r.mul(K,K),a=r.mul(R,k);return a=r.add(a,a),H=r.mul(R,K),H=r.add(H,H),T=r.mul(x,H),L=r.mul(Q,v),L=r.add(T,L),T=r.sub(G,L),L=r.add(G,L),L=r.mul(T,L),T=r.mul(a,T),H=r.mul(Q,H),v=r.mul(x,v),a=r.sub(O,v),a=r.mul(x,a),a=r.add(a,H),H=r.add(O,O),O=r.add(H,O),O=r.add(O,v),O=r.mul(O,a),L=r.add(L,O),v=r.mul(k,K),v=r.add(v,v),O=r.mul(v,a),T=r.sub(T,O),H=r.mul(v,G),H=r.add(H,H),H=r.add(H,H),new y(T,L,H)}add(x){u(x);let{px:_,py:Q,pz:R}=this,{px:k,py:K,pz:T}=x,L=r.ZERO,H=r.ZERO,O=r.ZERO,G=e.a,v=r.mul(e.b,OV),a=r.mul(_,k),h=r.mul(Q,K),g=r.mul(R,T),l=r.add(_,Q),A=r.add(k,K);l=r.mul(l,A),A=r.add(a,h),l=r.sub(l,A),A=r.add(_,R);let w=r.add(k,T);return A=r.mul(A,w),w=r.add(a,g),A=r.sub(A,w),w=r.add(Q,R),L=r.add(K,T),w=r.mul(w,L),L=r.add(h,g),w=r.sub(w,L),O=r.mul(G,A),L=r.mul(v,g),O=r.add(L,O),L=r.sub(h,O),O=r.add(h,O),H=r.mul(L,O),h=r.add(a,a),h=r.add(h,a),g=r.mul(G,g),A=r.mul(v,A),h=r.add(h,g),g=r.sub(a,g),g=r.mul(G,g),A=r.add(A,g),a=r.mul(h,A),H=r.add(H,a),a=r.mul(w,A),L=r.mul(l,L),L=r.sub(L,a),a=r.mul(l,h),O=r.mul(w,O),O=r.add(O,a),new y(L,H,O)}subtract(x){return this.add(x.negate())}is0(){return this.equals(y.ZERO)}wNAF(x){return S.wNAFCached(this,p,x,_=>{let Q=r.invertBatch(_.map(R=>R.pz));return _.map((R,k)=>R.toAffine(Q[k])).map(y.fromAffine)})}multiplyUnsafe(x){let _=y.ZERO;if(x===ml)return _;if(f(x),x===Wc)return this;let{endo:Q}=e;if(!Q)return S.unsafeLadder(this,x);let{k1neg:R,k1:k,k2neg:K,k2:T}=Q.splitScalar(x),L=_,H=_,O=this;for(;k>ml||T>ml;)k&Wc&&(L=L.add(O)),T&Wc&&(H=H.add(O)),O=O.double(),k>>=Wc,T>>=Wc;return R&&(L=L.negate()),K&&(H=H.negate()),H=new y(r.mul(H.px,Q.beta),H.py,H.pz),L.add(H)}multiply(x){f(x);let _=x,Q,R,{endo:k}=e;if(k){let{k1neg:K,k1:T,k2neg:L,k2:H}=k.splitScalar(_),{p:O,f:G}=this.wNAF(T),{p:v,f:a}=this.wNAF(H);O=S.constTimeNegate(K,O),v=S.constTimeNegate(L,v),v=new y(r.mul(v.px,k.beta),v.py,v.pz),Q=O.add(v),R=G.add(a)}else{let{p:K,f:T}=this.wNAF(_);Q=K,R=T}return y.normalizeZ([Q,R])[0]}multiplyAndAddUnsafe(x,_,Q){let R=y.BASE,k=(T,L)=>L===ml||L===Wc||!T.equals(R)?T.multiplyUnsafe(L):T.multiply(L),K=k(this,_).add(k(x,Q));return K.is0()?void 0:K}toAffine(x){let{px:_,py:Q,pz:R}=this,k=this.is0();x==null&&(x=k?r.ONE:r.inv(R));let K=r.mul(_,x),T=r.mul(Q,x),L=r.mul(R,x);if(k)return{x:r.ZERO,y:r.ZERO};if(!r.eql(L,r.ONE))throw new Error("invZ was invalid");return{x:K,y:T}}isTorsionFree(){let{h:x,isTorsionFree:_}=e;if(x===Wc)return!0;if(_)return _(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:x,clearCofactor:_}=e;return x===Wc?this:_?_(y,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),i(y,this,x)}toHex(x=!0){return Su(this.toRawBytes(x))}}y.BASE=new y(e.Gx,e.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);let B=e.nBitLength,S=v6(y,e.endo?Math.ceil(B/2):B);return{CURVE:e,ProjectivePoint:y,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:s}}function E8e(t){let e=XE(t);return Ja(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function KV(t){let e=E8e(t),{Fp:r,n:i}=e,n=r.BYTES+1,o=2*r.BYTES+1;function s(A){return ml<A&&A<r.ORDER}function f(A){return Xr(A,i)}function d(A){return m6(A,i)}let{ProjectivePoint:p,normPrivateKeyToScalar:u,weierstrassEquation:y,isWithinCurveOrder:B}=b8e({...e,toBytes(A,w,E){let m=w.toAffine(),c=r.toBytes(m.x),I=cd;return E?I(Uint8Array.from([w.hasEvenY()?2:3]),c):I(Uint8Array.from([4]),c,r.toBytes(m.y))},fromBytes(A){let w=A.length,E=A[0],m=A.subarray(1);if(w===n&&(E===2||E===3)){let c=ad(m);if(!s(c))throw new Error("Point is not on curve");let I=y(c),M=r.sqrt(I),D=(M&Wc)===Wc;return(E&1)===1!==D&&(M=r.neg(M)),{x:c,y:M}}else if(w===o&&E===4){let c=r.fromBytes(m.subarray(0,r.BYTES)),I=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:c,y:I}}else throw new Error(`Point of length ${w} was invalid. Expected ${n} compressed bytes or ${o} uncompressed bytes`)}}),S=A=>Su(Jc(A,e.nByteLength));function C(A){let w=i>>Wc;return A>w}function x(A){return C(A)?f(-A):A}let _=(A,w,E)=>ad(A.slice(w,E));class Q{constructor(w,E,m){this.r=w,this.s=E,this.recovery=m,this.assertValidity()}static fromCompact(w){let E=e.nByteLength;return w=Ai("compactSignature",w,E*2),new Q(_(w,0,E),_(w,E,2*E))}static fromDER(w){let{r:E,s:m}=ly.toSig(Ai("DER",w));return new Q(E,m)}assertValidity(){if(!B(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!B(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(w){return new Q(this.r,this.s,w)}recoverPublicKey(w){let{r:E,s:m,recovery:c}=this,I=H(Ai("msgHash",w));if(c==null||![0,1,2,3].includes(c))throw new Error("recovery id invalid");let M=c===2||c===3?E+e.n:E;if(M>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let D=c&1?"03":"02",P=p.fromHex(D+S(M)),j=d(M),Y=f(-I*j),z=f(m*j),$=p.BASE.multiplyAndAddUnsafe(P,Y,z);if(!$)throw new Error("point at infinify");return $.assertValidity(),$}hasHighS(){return C(this.s)}normalizeS(){return this.hasHighS()?new Q(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return fy(this.toDERHex())}toDERHex(){return ly.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return fy(this.toCompactHex())}toCompactHex(){return S(this.r)+S(this.s)}}let R={isValidPrivateKey(A){try{return u(A),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let A=e.randomBytes(r.BYTES+8),w=QV(A,i);return Jc(w,e.nByteLength)},precompute(A=8,w=p.BASE){return w._setWindowSize(A),w.multiply(BigInt(3)),w}};function k(A,w=!0){return p.fromPrivateKey(A).toRawBytes(w)}function K(A){let w=A instanceof Uint8Array,E=typeof A=="string",m=(w||E)&&A.length;return w?m===n||m===o:E?m===2*n||m===2*o:A instanceof p}function T(A,w,E=!0){if(K(A))throw new Error("first arg must be private key");if(!K(w))throw new Error("second arg must be public key");return p.fromHex(w).multiply(u(A)).toRawBytes(E)}let L=e.bits2int||function(A){let w=ad(A),E=A.length*8-e.nBitLength;return E>0?w>>BigInt(E):w},H=e.bits2int_modN||function(A){return f(L(A))},O=$E(e.nBitLength);function G(A){if(typeof A!="bigint")throw new Error("bigint expected");if(!(ml<=A&&A<O))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Jc(A,e.nByteLength)}function v(A,w,E=a){if(["recovered","canonical"].some(ee=>ee in E))throw new Error("sign() legacy options not supported");let{hash:m,randomBytes:c}=e,{lowS:I,prehash:M,extraEntropy:D}=E;I==null&&(I=!0),A=Ai("msgHash",A),M&&(A=Ai("prehashed msgHash",m(A)));let P=H(A),j=u(w),Y=[G(j),G(P)];if(D!=null){let ee=D===!0?c(r.BYTES):D;Y.push(Ai("extraEntropy",ee,r.BYTES))}let z=cd(...Y),$=P;function W(ee){let pe=L(ee);if(!B(pe))return;let ne=d(pe),se=p.BASE.multiply(pe).toAffine(),Le=f(se.x);if(Le===ml)return;let ce=f(ne*f($+Le*j));if(ce===ml)return;let fe=(se.x===Le?0:2)|Number(se.y&Wc),bt=ce;return I&&C(ce)&&(bt=x(ce),fe^=1),new Q(Le,bt,fe)}return{seed:z,k2sig:W}}let a={lowS:e.lowS,prehash:!1},h={lowS:e.lowS,prehash:!1};function g(A,w,E=a){let{seed:m,k2sig:c}=v(A,w,E),I=e;return PR(I.hash.outputLen,I.nByteLength,I.hmac)(m,c)}p.BASE._setWindowSize(8);function l(A,w,E,m=h){let c=A;if(w=Ai("msgHash",w),E=Ai("publicKey",E),"strict"in m)throw new Error("options.strict was renamed to lowS");let{lowS:I,prehash:M}=m,D,P;try{if(typeof c=="string"||c instanceof Uint8Array)try{D=Q.fromDER(c)}catch(se){if(!(se instanceof ly.Err))throw se;D=Q.fromCompact(c)}else if(typeof c=="object"&&typeof c.r=="bigint"&&typeof c.s=="bigint"){let{r:se,s:Le}=c;D=new Q(se,Le)}else throw new Error("PARSE");P=p.fromHex(E)}catch(se){if(se.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(I&&D.hasHighS())return!1;M&&(w=e.hash(w));let{r:j,s:Y}=D,z=H(w),$=d(Y),W=f(z*$),ee=f(j*$),pe=p.BASE.multiplyAndAddUnsafe(P,W,ee)?.toAffine();return pe?f(pe.x)===j:!1}return{CURVE:e,getPublicKey:k,getSharedSecret:T,sign:g,verify:l,ProjectivePoint:p,Signature:Q,utils:R}}b();b();var x6=class extends bw{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,gl.hash(e);let i=WE(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,o=new Uint8Array(n);o.set(i.length>n?e.create().update(i).digest():i);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return gl.exists(this),this.iHash.update(e),this}digestInto(e){gl.exists(this),gl.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:i,finished:n,destroyed:o,blockLen:s,outputLen:f}=this;return e=e,e.finished=n,e.destroyed=o,e.blockLen=s,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},zR=(t,e,r)=>new x6(t,e).update(r).digest();zR.create=(t,e)=>new x6(t,e);function B8e(t){return{hash:t,hmac:(e,...r)=>zR(t,e,ZE(...r)),randomBytes:Sp}}function qV(t,e){let r=i=>KV({...t,...B8e(i)});return Object.freeze({...r(e),create:r})}var GV=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),LV=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),C8e=BigInt(1),YR=BigInt(2),HV=(t,e)=>(t+e/YR)/e;function x8e(t){let e=GV,r=BigInt(3),i=BigInt(6),n=BigInt(11),o=BigInt(22),s=BigInt(23),f=BigInt(44),d=BigInt(88),p=t*t*t%e,u=p*p*t%e,y=Hi(u,r,e)*u%e,B=Hi(y,r,e)*u%e,S=Hi(B,YR,e)*p%e,C=Hi(S,n,e)*S%e,x=Hi(C,o,e)*C%e,_=Hi(x,f,e)*x%e,Q=Hi(_,d,e)*_%e,R=Hi(Q,f,e)*x%e,k=Hi(R,r,e)*u%e,K=Hi(k,s,e)*C%e,T=Hi(K,i,e)*p%e,L=Hi(T,YR,e);if(!JR.eql(JR.sqr(L),t))throw new Error("Cannot find square root");return L}var JR=w6(GV,void 0,void 0,{sqrt:x8e}),Zc=qV({a:BigInt(0),b:BigInt(7),Fp:JR,n:LV,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=LV,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-C8e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),f=HV(o*t,e),d=HV(-i*t,e),p=Xr(t-f*r-d*n,e),u=Xr(-f*i-d*o,e),y=p>s,B=u>s;if(y&&(p=e-p),B&&(u=e-u),p>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:y,k1:p,k2neg:B,k2:u}}}},hy),DAt=BigInt(0);var MAt=Zc.ProjectivePoint;var Il=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Wa=class t{static convertPublicKey(e){return Il(this,void 0,void 0,function*(){let{publicKey:r,compressedPublicKey:i}=e;return Zc.ProjectivePoint.fromHex(r).toRawBytes(i)})}static generateKeyPair(e){return Il(this,void 0,void 0,function*(){let{compressedPublicKey:r}=e??{};r??(r=!0);let i=Zc.utils.randomPrivateKey(),n=Zc.getPublicKey(i,r);return{privateKey:i,publicKey:n}})}static getCurvePoints(e){return Il(this,void 0,void 0,function*(){let{key:r}=e;r.byteLength===32&&(r=yield t.getPublicKey({privateKey:r}));let i=Zc.ProjectivePoint.fromHex(r),n=Jc(i.x,32),o=Jc(i.y,32);return{x:n,y:o}})}static getPublicKey(e){return Il(this,void 0,void 0,function*(){let{privateKey:r,compressedPublicKey:i}=e;return i??(i=!0),Zc.getPublicKey(r,i)})}static sharedSecret(e){return Il(this,void 0,void 0,function*(){let{privateKey:r,publicKey:i}=e;return Zc.getSharedSecret(r,i).slice(1)})}static sign(e){return Il(this,void 0,void 0,function*(){let{data:r,hash:i,key:n}=e,o=this.hashAlgorithms[i],s=o(r);return Zc.sign(s,n).toCompactRawBytes()})}static validatePrivateKey(e){return Il(this,void 0,void 0,function*(){let{key:r}=e;return Zc.utils.isValidPrivateKey(r)})}static validatePublicKey(e){return Il(this,void 0,void 0,function*(){let{key:r}=e;try{Zc.ProjectivePoint.fromHex(r).assertValidity()}catch{return!1}return!0})}static verify(e){return Il(this,void 0,void 0,function*(){let{data:r,hash:i,key:n,signature:o}=e,s=this.hashAlgorithms[i],f=s(r);return Zc.verify(o,f,n,{lowS:!1})})}};Wa.hashAlgorithms={"SHA-256":hy};b();b();b();var S8e=t=>t instanceof Uint8Array;var $c=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),jV=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),_8e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!_8e)throw new Error("Non little-endian hardware is not supported");function S6(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function _6(t){if(typeof t=="string"&&(t=S6(t)),!S8e(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}var Q8e=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function zV(t,e){if(e!==void 0&&(typeof e!="object"||!Q8e(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}function o2(t,e){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");if(typeof e=="number"&&t.length!==e)throw new Error(`Uint8Array length ${e} expected`)}function YV(t,e){if(t.length!==e.length)throw new Error("equalBytes: Different size of Uint8Arrays");let r=!0;for(let i=0;i<t.length;i++)r&&(r=t[i]===e[i]);return r}function VR(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);let n=BigInt(32),o=BigInt(4294967295),s=Number(r>>n&o),f=Number(r&o),d=i?4:0,p=i?0:4;t.setUint32(e+d,s,i),t.setUint32(e+p,f,i)}b();b();function WR(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function D8e(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function JV(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function M8e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");WR(t.outputLen),WR(t.blockLen)}function k8e(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function T8e(t,e){JV(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var R8e={number:WR,bool:D8e,bytes:JV,hash:M8e,exists:k8e,output:T8e},Os=R8e;var Oo=(t,e)=>t[e++]&255|(t[e++]&255)<<8,ZR=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=_6(e),o2(e,32);let r=Oo(e,0),i=Oo(e,2),n=Oo(e,4),o=Oo(e,6),s=Oo(e,8),f=Oo(e,10),d=Oo(e,12),p=Oo(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|i<<3)&8191,this.r[2]=(i>>>10|n<<6)&7939,this.r[3]=(n>>>7|o<<9)&8191,this.r[4]=(o>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|f<<2)&8191,this.r[7]=(f>>>11|d<<5)&8065,this.r[8]=(d>>>8|p<<8)&8191,this.r[9]=p>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Oo(e,16+2*u)}process(e,r,i=!1){let n=i?0:2048,{h:o,r:s}=this,f=s[0],d=s[1],p=s[2],u=s[3],y=s[4],B=s[5],S=s[6],C=s[7],x=s[8],_=s[9],Q=Oo(e,r+0),R=Oo(e,r+2),k=Oo(e,r+4),K=Oo(e,r+6),T=Oo(e,r+8),L=Oo(e,r+10),H=Oo(e,r+12),O=Oo(e,r+14),G=o[0]+(Q&8191),v=o[1]+((Q>>>13|R<<3)&8191),a=o[2]+((R>>>10|k<<6)&8191),h=o[3]+((k>>>7|K<<9)&8191),g=o[4]+((K>>>4|T<<12)&8191),l=o[5]+(T>>>1&8191),A=o[6]+((T>>>14|L<<2)&8191),w=o[7]+((L>>>11|H<<5)&8191),E=o[8]+((H>>>8|O<<8)&8191),m=o[9]+(O>>>5|n),c=0,I=c+G*f+v*(5*_)+a*(5*x)+h*(5*C)+g*(5*S);c=I>>>13,I&=8191,I+=l*(5*B)+A*(5*y)+w*(5*u)+E*(5*p)+m*(5*d),c+=I>>>13,I&=8191;let M=c+G*d+v*f+a*(5*_)+h*(5*x)+g*(5*C);c=M>>>13,M&=8191,M+=l*(5*S)+A*(5*B)+w*(5*y)+E*(5*u)+m*(5*p),c+=M>>>13,M&=8191;let D=c+G*p+v*d+a*f+h*(5*_)+g*(5*x);c=D>>>13,D&=8191,D+=l*(5*C)+A*(5*S)+w*(5*B)+E*(5*y)+m*(5*u),c+=D>>>13,D&=8191;let P=c+G*u+v*p+a*d+h*f+g*(5*_);c=P>>>13,P&=8191,P+=l*(5*x)+A*(5*C)+w*(5*S)+E*(5*B)+m*(5*y),c+=P>>>13,P&=8191;let j=c+G*y+v*u+a*p+h*d+g*f;c=j>>>13,j&=8191,j+=l*(5*_)+A*(5*x)+w*(5*C)+E*(5*S)+m*(5*B),c+=j>>>13,j&=8191;let Y=c+G*B+v*y+a*u+h*p+g*d;c=Y>>>13,Y&=8191,Y+=l*f+A*(5*_)+w*(5*x)+E*(5*C)+m*(5*S),c+=Y>>>13,Y&=8191;let z=c+G*S+v*B+a*y+h*u+g*p;c=z>>>13,z&=8191,z+=l*d+A*f+w*(5*_)+E*(5*x)+m*(5*C),c+=z>>>13,z&=8191;let $=c+G*C+v*S+a*B+h*y+g*u;c=$>>>13,$&=8191,$+=l*p+A*d+w*f+E*(5*_)+m*(5*x),c+=$>>>13,$&=8191;let W=c+G*x+v*C+a*S+h*B+g*y;c=W>>>13,W&=8191,W+=l*u+A*p+w*d+E*f+m*(5*_),c+=W>>>13,W&=8191;let ee=c+G*_+v*x+a*C+h*S+g*B;c=ee>>>13,ee&=8191,ee+=l*y+A*u+w*p+E*d+m*f,c+=ee>>>13,ee&=8191,c=(c<<2)+c|0,c=c+I|0,I=c&8191,c=c>>>13,M+=c,o[0]=I,o[1]=M,o[2]=D,o[3]=P,o[4]=j,o[5]=Y,o[6]=z,o[7]=$,o[8]=W,o[9]=ee}finalize(){let{h:e,pad:r}=this,i=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let f=2;f<10;f++)e[f]+=n,n=e[f]>>>13,e[f]&=8191;e[0]+=n*5,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,i[0]=e[0]+5,n=i[0]>>>13,i[0]&=8191;for(let f=1;f<10;f++)i[f]=e[f]+n,n=i[f]>>>13,i[f]&=8191;i[9]-=8192;let o=(n^1)-1;for(let f=0;f<10;f++)i[f]&=o;o=~o;for(let f=0;f<10;f++)e[f]=e[f]&o|i[f];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+r[0];e[0]=s&65535;for(let f=1;f<8;f++)s=(e[f]+r[f]|0)+(s>>>16)|0,e[f]=s&65535}update(e){Os.exists(this);let{buffer:r,blockLen:i}=this;e=_6(e);let n=e.length;for(let o=0;o<n;){let s=Math.min(i-this.pos,n-o);if(s===i){for(;i<=n-o;o+=i)this.process(e,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){Os.exists(this),Os.output(e,this),this.finished=!0;let{buffer:r,h:i}=this,{pos:n}=this;if(n){for(r[n++]=1;n<16;n++)r[n]=0;this.process(r,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)e[o++]=i[s]>>>0,e[o++]=i[s]>>>8;return e}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let i=e.slice(0,r);return this.destroy(),i}};function U8e(t){let e=(i,n)=>t(n).update(_6(i)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=i=>t(i),e}var VV=U8e(t=>new ZR(t));b();var F8e=S6("expand 16-byte k"),N8e=S6("expand 32-byte k"),P8e=$c(F8e),O8e=$c(N8e),WV=t=>!(t.byteOffset%4),_w=t=>{let{core:e,rounds:r,counterRight:i,counterLen:n,allow128bitKeys:o,extendNonceFn:s,blockLen:f}=zV({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},t);Os.number(n),Os.number(r),Os.number(f),Os.bool(i),Os.bool(o);let d=f/4;if(f%4!==0)throw new Error("Salsa/ChaCha: blockLen should be aligned to 4 bytes");return(p,u,y,B,S=0)=>{if(Os.bytes(p),Os.bytes(u),Os.bytes(y),B||(B=new Uint8Array(y.length)),Os.bytes(B),Os.number(S),S<0||S>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(B.length<y.length)throw new Error(`Salsa/ChaCha: output (${B.length}) is shorter than data (${y.length})`);let C=[],x,_;if(p.length===32)x=p,_=O8e;else if(p.length===16&&o)x=new Uint8Array(32),x.set(p),x.set(p,16),_=P8e,C.push(x);else throw new Error(`Salsa/ChaCha: wrong key length=${p.length}, expected`);if(s){if(u.length<=16)throw new Error("Salsa/ChaCha: extended nonce should be bigger than 16 bytes");x=s(_,x,u.subarray(0,16),new Uint8Array(32)),C.push(x),u=u.subarray(16)}let Q=16-n;if(u.length!==Q)throw new Error(`Salsa/ChaCha: nonce should be ${Q} or 16 bytes`);if(Q!==12){let G=new Uint8Array(12);G.set(u,i?0:12-u.length),C.push(u=G)}let R=new Uint8Array(f),k=$c(R),K=$c(x),T=$c(u),L=WV(y)&&$c(y),H=WV(B)&&$c(B);C.push(k);let O=y.length;for(let G=0,v=S;G<O;v++){if(e(_,K,T,k,v,r),v>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");let a=Math.min(f,O-G);if(a===f&&H&&L){let h=G/4;if(G%4!==0)throw new Error("Salsa/ChaCha: wrong block position");for(let g=0;g<d;g++)H[h+g]=L[h+g]^k[g];G+=f;continue}for(let h=0;h<a;h++)B[G+h]=y[G+h]^R[h];G+=a}for(let G=0;G<C.length;G++)C[G].fill(0);return B}};var pt=(t,e)=>t<<e|t>>>32-e;function s2(t,e,r,i,n,o=20){let s=t[0],f=t[1],d=t[2],p=t[3],u=e[0],y=e[1],B=e[2],S=e[3],C=e[4],x=e[5],_=e[6],Q=e[7],R=n,k=r[0],K=r[1],T=r[2],L=s,H=f,O=d,G=p,v=u,a=y,h=B,g=S,l=C,A=x,w=_,E=Q,m=R,c=k,I=K,M=T;for(let P=0;P<o;P+=2)L=L+v|0,m=pt(m^L,16),l=l+m|0,v=pt(v^l,12),L=L+v|0,m=pt(m^L,8),l=l+m|0,v=pt(v^l,7),H=H+a|0,c=pt(c^H,16),A=A+c|0,a=pt(a^A,12),H=H+a|0,c=pt(c^H,8),A=A+c|0,a=pt(a^A,7),O=O+h|0,I=pt(I^O,16),w=w+I|0,h=pt(h^w,12),O=O+h|0,I=pt(I^O,8),w=w+I|0,h=pt(h^w,7),G=G+g|0,M=pt(M^G,16),E=E+M|0,g=pt(g^E,12),G=G+g|0,M=pt(M^G,8),E=E+M|0,g=pt(g^E,7),L=L+a|0,M=pt(M^L,16),w=w+M|0,a=pt(a^w,12),L=L+a|0,M=pt(M^L,8),w=w+M|0,a=pt(a^w,7),H=H+h|0,m=pt(m^H,16),E=E+m|0,h=pt(h^E,12),H=H+h|0,m=pt(m^H,8),E=E+m|0,h=pt(h^E,7),O=O+g|0,c=pt(c^O,16),l=l+c|0,g=pt(g^l,12),O=O+g|0,c=pt(c^O,8),l=l+c|0,g=pt(g^l,7),G=G+v|0,I=pt(I^G,16),A=A+I|0,v=pt(v^A,12),G=G+v|0,I=pt(I^G,8),A=A+I|0,v=pt(v^A,7);let D=0;i[D++]=s+L|0,i[D++]=f+H|0,i[D++]=d+O|0,i[D++]=p+G|0,i[D++]=u+v|0,i[D++]=y+a|0,i[D++]=B+h|0,i[D++]=S+g|0,i[D++]=C+l|0,i[D++]=x+A|0,i[D++]=_+w|0,i[D++]=Q+E|0,i[D++]=R+m|0,i[D++]=k+c|0,i[D++]=K+I|0,i[D++]=T+M|0}function K8e(t,e,r,i){let n=$c(e),o=$c(r),s=$c(i),f=t[0],d=t[1],p=t[2],u=t[3],y=n[0],B=n[1],S=n[2],C=n[3],x=n[4],_=n[5],Q=n[6],R=n[7],k=o[0],K=o[1],T=o[2],L=o[3];for(let H=0;H<20;H+=2)f=f+y|0,k=pt(k^f,16),x=x+k|0,y=pt(y^x,12),f=f+y|0,k=pt(k^f,8),x=x+k|0,y=pt(y^x,7),d=d+B|0,K=pt(K^d,16),_=_+K|0,B=pt(B^_,12),d=d+B|0,K=pt(K^d,8),_=_+K|0,B=pt(B^_,7),p=p+S|0,T=pt(T^p,16),Q=Q+T|0,S=pt(S^Q,12),p=p+S|0,T=pt(T^p,8),Q=Q+T|0,S=pt(S^Q,7),u=u+C|0,L=pt(L^u,16),R=R+L|0,C=pt(C^R,12),u=u+C|0,L=pt(L^u,8),R=R+L|0,C=pt(C^R,7),f=f+B|0,L=pt(L^f,16),Q=Q+L|0,B=pt(B^Q,12),f=f+B|0,L=pt(L^f,8),Q=Q+L|0,B=pt(B^Q,7),d=d+S|0,k=pt(k^d,16),R=R+k|0,S=pt(S^R,12),d=d+S|0,k=pt(k^d,8),R=R+k|0,S=pt(S^R,7),p=p+C|0,K=pt(K^p,16),x=x+K|0,C=pt(C^x,12),p=p+C|0,K=pt(K^p,8),x=x+K|0,C=pt(C^x,7),u=u+y|0,T=pt(T^u,16),_=_+T|0,y=pt(y^_,12),u=u+y|0,T=pt(T^u,8),_=_+T|0,y=pt(y^_,7);return s[0]=f,s[1]=d,s[2]=p,s[3]=u,s[4]=k,s[5]=K,s[6]=T,s[7]=L,i}var egt=_w({core:s2,counterRight:!1,counterLen:8}),q8e=_w({core:s2,counterRight:!1,counterLen:4,allow128bitKeys:!1}),XV=_w({core:s2,counterRight:!1,counterLen:8,extendNonceFn:K8e,allow128bitKeys:!1}),tgt=_w({core:s2,counterRight:!1,counterLen:4,rounds:8}),rgt=_w({core:s2,counterRight:!1,counterLen:4,rounds:12}),L8e=new Uint8Array(16),ZV=(t,e)=>{t.update(e);let r=e.length%16;r&&t.update(L8e.subarray(r))},$V=(t,e,r,i,n)=>{let o=t(e,r,new Uint8Array(32)),s=VV.create(o);n&&ZV(s,n),ZV(s,i);let f=new Uint8Array(16),d=jV(f);VR(d,0,BigInt(n?n.length:0),!0),VR(d,8,BigInt(i.length),!0),s.update(f);let p=s.digest();return o.fill(0),p},eW=t=>(e,r,i)=>(o2(e,32),o2(r),{tagLength:16,encrypt:o=>{let s=new Uint8Array(o.length+16);t(e,r,o,s,1);let f=$V(t,e,r,s.subarray(0,-16),i);return s.set(f,o.length),s},decrypt:o=>{if(o.length<16)throw new Error("Encrypted data should be at least 16");let s=o.subarray(-16),f=o.subarray(0,-16),d=$V(t,e,r,f,i);if(!YV(s,d))throw new Error("Wrong tag");return t(e,r,f,void 0,1)}}),igt=eW(q8e),H8e=eW(XV);b();b();var $R=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Tp=class extends u6{constructor(){super(...arguments),this.hashAlgorithms=["SHA-256"],this.namedCurves=["secp256k1"]}generateKey(e){var r;return $R(this,void 0,void 0,function*(){let{algorithm:i,extractable:n,keyUsages:o}=e;this.checkGenerateKey({algorithm:i,keyUsages:o});let s,f;switch(i.namedCurve){case"secp256k1":{(r=i.compressedPublicKey)!==null&&r!==void 0||(i.compressedPublicKey=!0),s=yield Wa.generateKeyPair({compressedPublicKey:i.compressedPublicKey});break}}if(!Bw(s))throw new Error("Operation failed to generate key pair.");return f={privateKey:new Ea(i,n,s.privateKey,"private",this.keyUsages.privateKey),publicKey:new Ea(i,!0,s.publicKey,"public",this.keyUsages.publicKey)},f})}sign(e){return $R(this,void 0,void 0,function*(){let{algorithm:r,key:i,data:n}=e;this.checkAlgorithmOptions({algorithm:r}),this.checkKeyAlgorithm({keyAlgorithmName:i.algorithm.name}),this.checkKeyType({keyType:i.type,allowedKeyType:"private"}),this.checkKeyUsages({keyUsages:["sign"],allowedKeyUsages:i.usages});let o,s=i.algorithm;switch(s.namedCurve){case"secp256k1":{o=yield Wa.sign({hash:r.hash,key:i.material,data:n});break}default:throw new TypeError(`Out of range: '${s.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}return o})}verify(e){return $R(this,void 0,void 0,function*(){let{algorithm:r,key:i,signature:n,data:o}=e;this.checkAlgorithmOptions({algorithm:r}),this.checkKeyAlgorithm({keyAlgorithmName:i.algorithm.name}),this.checkKeyType({keyType:i.type,allowedKeyType:"public"}),this.checkKeyUsages({keyUsages:["verify"],allowedKeyUsages:i.usages});let s,f=i.algorithm;switch(f.namedCurve){case"secp256k1":{s=yield Wa.verify({hash:r.hash,key:i.material,signature:n,data:o});break}default:throw new TypeError(`Out of range: '${f.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}return s})}};b();var XR=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Rp=class extends h6{constructor(){super(...arguments),this.namedCurves=["Ed25519","Ed448"]}generateKey(e){return XR(this,void 0,void 0,function*(){let{algorithm:r,extractable:i,keyUsages:n}=e;this.checkGenerateKey({algorithm:r,keyUsages:n});let o,s;switch(r.namedCurve){case"Ed25519":{o=yield dd.generateKeyPair();break}}if(!Bw(o))throw new Error("Operation failed to generate key pair.");return s={privateKey:new Ea(r,i,o.privateKey,"private",this.keyUsages.privateKey),publicKey:new Ea(r,!0,o.publicKey,"public",this.keyUsages.publicKey)},s})}sign(e){return XR(this,void 0,void 0,function*(){let{algorithm:r,key:i,data:n}=e;this.checkAlgorithmOptions({algorithm:r}),this.checkKeyAlgorithm({keyAlgorithmName:i.algorithm.name}),this.checkKeyType({keyType:i.type,allowedKeyType:"private"}),this.checkKeyUsages({keyUsages:["sign"],allowedKeyUsages:i.usages});let o,s=i.algorithm;switch(s.namedCurve){case"Ed25519":{o=yield dd.sign({key:i.material,data:n});break}default:throw new TypeError(`Out of range: '${s.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}return o})}verify(e){return XR(this,void 0,void 0,function*(){let{algorithm:r,key:i,signature:n,data:o}=e;this.checkAlgorithmOptions({algorithm:r}),this.checkKeyAlgorithm({keyAlgorithmName:i.algorithm.name}),this.checkKeyType({keyType:i.type,allowedKeyType:"public"}),this.checkKeyUsages({keyUsages:["verify"],allowedKeyUsages:i.usages});let s,f=i.algorithm;switch(f.namedCurve){case"Ed25519":{s=yield dd.verify({key:i.material,signature:n,data:o});break}default:throw new TypeError(`Out of range: '${f.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}return s})}};b();b();b();var _u=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},G8e=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r},j8e={Ed25519:{name:"EdDSA",namedCurve:"Ed25519"},Ed448:{name:"EdDSA",namedCurve:"Ed448"},X25519:{name:"ECDH",namedCurve:"X25519"},"secp256k1:ES256K":{name:"ECDSA",namedCurve:"secp256k1"},secp256k1:{name:"ECDH",namedCurve:"secp256k1"},"P-256":{name:"ECDSA",namedCurve:"P-256"},"P-384":{name:"ECDSA",namedCurve:"P-384"},"P-521":{name:"ECDSA",namedCurve:"P-521"},A128CBC:{name:"AES-CBC",length:128},A192CBC:{name:"AES-CBC",length:192},A256CBC:{name:"AES-CBC",length:256},A128CTR:{name:"AES-CTR",length:128},A192CTR:{name:"AES-CTR",length:192},A256CTR:{name:"AES-CTR",length:256},A128GCM:{name:"AES-GCM",length:128},A192GCM:{name:"AES-GCM",length:192},A256GCM:{name:"AES-GCM",length:256},HS256:{name:"HMAC",hash:{name:"SHA-256"}},HS384:{name:"HMAC",hash:{name:"SHA-384"}},HS512:{name:"HMAC",hash:{name:"SHA-512"}}},z8e={"EdDSA:Ed25519":{alg:"EdDSA",crv:"Ed25519",kty:"OKP"},"EdDSA:Ed448":{alg:"EdDSA",crv:"Ed448",kty:"OKP"},"ECDH:X25519":{crv:"X25519",kty:"OKP"},"ECDSA:secp256k1":{alg:"ES256K",crv:"secp256k1",kty:"EC"},"ECDH:secp256k1":{crv:"secp256k1",kty:"EC"},"ECDSA:P-256":{alg:"ES256",crv:"P-256",kty:"EC"},"ECDSA:P-384":{alg:"ES384",crv:"P-384",kty:"EC"},"ECDSA:P-521":{alg:"ES512",crv:"P-521",kty:"EC"},"AES-CBC:128":{alg:"A128CBC",kty:"oct"},"AES-CBC:192":{alg:"A192CBC",kty:"oct"},"AES-CBC:256":{alg:"A256CBC",kty:"oct"},"AES-CTR:128":{alg:"A128CTR",kty:"oct"},"AES-CTR:192":{alg:"A192CTR",kty:"oct"},"AES-CTR:256":{alg:"A256CTR",kty:"oct"},"AES-GCM:128":{alg:"A128GCM",kty:"oct"},"AES-GCM:192":{alg:"A192GCM",kty:"oct"},"AES-GCM:256":{alg:"A256GCM",kty:"oct"},"HMAC:SHA-256":{alg:"HS256",kty:"oct"},"HMAC:SHA-384":{alg:"HS384",kty:"oct"},"HMAC:SHA-512":{alg:"HS512",kty:"oct"}},Y8e={"ed25519-pub":{alg:"EdDSA",crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{alg:"EdDSA",crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{alg:"ES256K",crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{alg:"ES256K",crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},J8e={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},gi=class t{static cryptoKeyToJwk(e){return _u(this,void 0,void 0,function*(){let{algorithm:r,extractable:i,material:n,type:o,usages:s}=e.key,f=t.webCryptoToJose(r);return f.ext=i?"true":"false",f.key_ops=s,f=yield t.keyToJwk(Object.assign({keyMaterial:n,keyType:o},f)),Object.assign({},f)})}static cryptoKeyToJwkPair(e){return _u(this,void 0,void 0,function*(){let{keyPair:r}=e,i=yield t.cryptoKeyToJwk({key:r.privateKey}),n=yield t.cryptoKeyToJwk({key:r.publicKey});return Object.assign({},{privateKeyJwk:i,publicKeyJwk:n})})}static joseToMulticodec(e){return _u(this,void 0,void 0,function*(){let r=e.key,i=[];"crv"in r&&(i.push(r.crv),"d"in r?i.push("private"):i.push("public"));let n=i.join(":"),o=J8e[n];if(o===void 0)throw new Error(`Unsupported JOSE to Multicodec conversion: '${n}'`);return{code:ls.getCodeFromName({name:o}),name:o}})}static joseToWebCrypto(e){let r=[];if("crv"in e&&e.crv)r.push(e.crv),e.crv==="secp256k1"&&e.alg==="ES256K"&&r.push(e.alg);else if(e.alg!==void 0)r.push(e.alg);else throw new TypeError("One or more parameters missing: 'alg' or 'crv'");let i=r.join(":"),n=j8e[i];if(n===void 0)throw new Error(`Unsupported JOSE to WebCrypto conversion: '${i}'`);return Object.assign({},n)}static jwkThumbprint(e){return _u(this,void 0,void 0,function*(){let{key:r}=e,i=r.kty,n;if(i==="EC")n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if(i==="oct")n={k:r.k,kty:r.kty};else if(i==="OKP")n={crv:r.crv,kty:r.kty,x:r.x};else if(i==="RSA")n={e:r.e,kty:r.kty,n:r.n};else throw new Error(`Unsupported key type: ${i}`);ST(n);let o=t.canonicalize(n),s=wn.string(o).toUint8Array(),f=hy(s);return wn.uint8Array(f).toBase64Url()})}static jwkToCryptoKey(e){return _u(this,void 0,void 0,function*(){let r=e.key,{keyMaterial:i,keyType:n}=yield t.jwkToKey({key:r}),o=t.joseToWebCrypto(r),s;if("ext"in r&&r.ext!==void 0)s=r.ext==="true";else throw new Error("Conversion from JWK to CryptoKey failed. Required parameter missing: 'ext'");let f;if("key_ops"in r&&r.key_ops!==void 0)f=r.key_ops;else throw new Error("Conversion from JWK to CryptoKey failed. Required parameter missing: 'key_ops'");return new Ea(o,s,i,n,f)})}static jwkToKey(e){return _u(this,void 0,void 0,function*(){let r=e.key,i,n;if("d"in r)i=wn.base64Url(r.d).toUint8Array(),n="private";else if("y"in r&&r.y){let o=new Uint8Array([4]),s=wn.base64Url(r.x).toUint8Array(),f=wn.base64Url(r.y).toUint8Array();i=new Uint8Array([...o,...s,...f]),n="public"}else if("x"in r)i=wn.base64Url(r.x).toUint8Array(),n="public";else if("k"in r)i=wn.base64Url(r.k).toUint8Array(),n="private";else throw new Error("Jose: Unknown JSON Web Key format.");return{keyMaterial:i,keyType:n}})}static jwkToMultibaseId(e){return _u(this,void 0,void 0,function*(){let r=e.key,{name:i}=yield t.joseToMulticodec({key:r}),{keyMaterial:n}=yield t.jwkToKey({key:r});if("crv"in r&&!("d"in r))switch(r.crv){case"secp256k1":{n=yield Wa.convertPublicKey({publicKey:n,compressedPublicKey:!0});break}}return QR({key:n,multicodecName:i})})}static keyToJwk(e){var r,i,n;return _u(this,void 0,void 0,function*(){let{keyMaterial:o,keyType:s}=e,f=G8e(e,["keyMaterial","keyType"]),d=Object.assign({},f);if("crv"in d){switch(d.crv){case"Ed25519":{let p=s==="private"?yield dd.getPublicKey({privateKey:o}):o;d.x=wn.uint8Array(p).toBase64Url(),(r=d.kty)!==null&&r!==void 0||(d.kty="OKP");break}case"X25519":{let p=s==="private"?yield n2.getPublicKey({privateKey:o}):o;d.x=wn.uint8Array(p).toBase64Url(),(i=d.kty)!==null&&i!==void 0||(d.kty="OKP");break}case"secp256k1":{let p=yield Wa.getCurvePoints({key:o});d.x=wn.uint8Array(p.x).toBase64Url(),d.y=wn.uint8Array(p.y).toBase64Url(),(n=d.kty)!==null&&n!==void 0||(d.kty="EC");break}default:throw new Error(`Unsupported key to JWK conversion: ${d.crv}`)}s==="private"&&(d=Object.assign({d:wn.uint8Array(o).toBase64Url()},d))}return!("crv"in d)&&d.kty==="oct"&&(d.k=wn.uint8Array(o).toBase64Url()),Object.assign({},d)})}static multicodecToJose(e){return _u(this,void 0,void 0,function*(){let{code:r,name:i}=e;if(!(i?!r:r))throw new Error("Either 'name' or 'code' must be defined, but not both.");i=i===void 0?ls.getNameFromCode({code:r}):i;let o=Y8e[i];if(o===void 0)throw new Error(`Unsupported Multicodec to JOSE conversion: '${e.name}'`);return Object.assign({},o)})}static webCryptoToJose(e){let r=[];if(r.push(e.name),"namedCurve"in e)r.push(e.namedCurve);else if("length"in e&&e.length!==void 0)r.push(e.length.toString());else if("hash"in e)r.push(e.hash.name);else throw new TypeError("One or more parameters missing: 'name', 'namedCurve', 'length', or 'hash'");let i=r.join(":"),n=z8e[i];if(n===void 0)throw new Error(`Unsupported WebCrypto to JOSE conversion: '${i}'`);return Object.assign({},n)}static canonicalize(e){let i=Object.keys(e).sort().reduce((n,o)=>(n[o]=e[o],n),{});return JSON.stringify(i)}};function V8e(t){return class extends t{toJwk(){return _u(this,void 0,void 0,function*(){return gi.cryptoKeyToJwk({key:this})})}}}var dyt=V8e(Ea);b();b();b();function tW(t){return t.byteOffset!==0||t.byteLength!==t.buffer.byteLength}function rW(t){return typeof t!="object"||t===null?!1:typeof t[Symbol.asyncIterator]=="function"}function wl(t){let r=Object.prototype.toString.call(t).match(/\s([a-zA-Z0-9]+)/),[i,n]=r;return n}var a2=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},iW=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(o){r[o]=t[o]&&function(s){return new Promise(function(f,d){s=t[o](s),n(f,d,s.done,s.value)})}}function n(o,s,f,d){Promise.resolve(d).then(function(p){o({value:p,done:f})},s)}},Q6=new TextEncoder,py=new TextDecoder,ct=class t{constructor(e,r){this.data=e,this.format=r}static arrayBuffer(e){return new t(e,"ArrayBuffer")}static asyncIterable(e){if(!rW(e))throw new TypeError("Input must be of type AsyncIterable.");return new t(e,"AsyncIterable")}static base58Btc(e){return new t(e,"Base58Btc")}static base64Url(e){return new t(e,"Base64Url")}static bufferSource(e){return new t(e,"BufferSource")}static hex(e){if(typeof e!="string")throw new TypeError("Hex input must be a string.");if(e.length%2!==0)throw new TypeError("Hex input must have an even number of characters.");return new t(e,"Hex")}static multibase(e){return new t(e,"Multibase")}static object(e){return new t(e,"Object")}static string(e){return new t(e,"String")}static uint8Array(e){return new t(e,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return $r.baseDecode(this.data).buffer;case"Base64Url":return Xt.baseDecode(this.data).buffer;case"BufferSource":{if(wl(this.data)==="ArrayBuffer")return this.data;if(ArrayBuffer.isView(this.data))return tW(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":return this.toUint8Array().buffer;case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return a2(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":return yield(yield this.toBlobAsync()).arrayBuffer();default:throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)}})}toBase58Btc(){switch(this.format){case"ArrayBuffer":{let e=new Uint8Array(this.data);return $r.baseEncode(e)}case"Multibase":return this.data.substring(1);case"Uint8Array":return $r.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{let e=new Uint8Array(this.data);return Xt.baseEncode(e)}case"BufferSource":{let e=this.toUint8Array();return Xt.baseEncode(e)}case"Object":{let e=JSON.stringify(this.data),r=Q6.encode(e);return Xt.baseEncode(r)}case"String":{let e=Q6.encode(this.data);return Xt.baseEncode(e)}case"Uint8Array":return Xt.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var e,r,i,n;return a2(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let d=[];try{for(var o=!0,s=iW(this.data),f;f=yield s.next(),e=f.done,!e;o=!0){n=f.value,o=!1;let u=n;d.push(u)}}catch(u){r={error:u}}finally{try{!o&&!e&&(i=s.return)&&(yield i.call(s))}finally{if(r)throw r.error}}return new Blob(d)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)}})}toHex(){let e=Array.from({length:256},(r,i)=>i.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{let r=this.toUint8Array();return t.uint8Array(r).toHex()}case"Base64Url":{let r=this.toUint8Array();return t.uint8Array(r).toHex()}case"Uint8Array":{let r="";for(let i=0;i<this.data.length;i++)r+=e[this.data[i]];return r}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){switch(this.format){case"Base58Btc":return`z${this.data}`;default:throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}}toObject(){switch(this.format){case"Base64Url":{let e=Xt.baseDecode(this.data),r=py.decode(e);return JSON.parse(r)}case"String":return JSON.parse(this.data);case"Uint8Array":{let e=py.decode(this.data);return JSON.parse(e)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return a2(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let e=yield this.toStringAsync();return JSON.parse(e)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)}})}toString(){switch(this.format){case"ArrayBuffer":return py.decode(this.data);case"Base64Url":{let e=Xt.baseDecode(this.data);return py.decode(e)}case"Object":return JSON.stringify(this.data);case"Uint8Array":return py.decode(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var e,r,i,n;return a2(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let d="";try{for(var o=!0,s=iW(this.data),f;f=yield s.next(),e=f.done,!e;o=!0){n=f.value,o=!1;let p=n;typeof p=="string"?d+=p:d+=py.decode(p,{stream:!0})}}catch(p){r={error:p}}finally{try{!o&&!e&&(i=s.return)&&(yield i.call(s))}finally{if(r)throw r.error}}return d+=py.decode(void 0,{stream:!1}),d}default:throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)}})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base58Btc":return $r.baseDecode(this.data);case"Base64Url":return Xt.baseDecode(this.data);case"BufferSource":{let e=wl(this.data);if(e==="Uint8Array")return this.data;if(e==="ArrayBuffer")return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{let e=new Uint8Array(this.data.length/2);for(let r=0;r<this.data.length;r+=2){let i=parseInt(this.data.substring(r,r+2),16);if(isNaN(i))throw new TypeError("Input is not a valid hexadecimal string.");e[r/2]=i}return e}case"Object":{let e=JSON.stringify(this.data);return Q6.encode(e)}case"String":return Q6.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return a2(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let e=yield this.toArrayBufferAsync();return new Uint8Array(e)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)}})}};b();var Qu=class t{static addPrefix(e){var r;let{code:i,data:n,name:o}=e;if(!(o?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(i=t.codeToName.has(i)?i:t.nameToCode.get(o),i===void 0)throw new Error(`Unsupported multicodec: ${(r=e.name)!==null&&r!==void 0?r:e.code}`);let s=rn.encodingLength(i),f=new Uint8Array(s+n.byteLength);return f.set(n,s),rn.encodeTo(i,f),f}static getCodeFromData(e){let{prefixedData:r}=e,[i,n]=rn.decode(r);return i}static getCodeFromName(e){let{name:r}=e,i=t.nameToCode.get(r);if(i===void 0)throw new Error(`Unsupported multicodec: ${r}`);return i}static getNameFromCode(e){let{code:r}=e,i=t.codeToName.get(r);if(i===void 0)throw new Error(`Unsupported multicodec: ${r}`);return i}static registerCodec(e){t.codeToName.set(e.code,e.name),t.nameToCode.set(e.name,e.code)}static removePrefix(e){let{prefixedData:r}=e,[i,n]=rn.decode(r),o=t.codeToName.get(i);if(o===void 0)throw new Error(`Unsupported multicodec: ${i}`);return{code:i,data:r.slice(n),name:o}}};Qu.codeToName=new Map;Qu.nameToCode=new Map;Qu.registerCodec({code:237,name:"ed25519-pub"});Qu.registerCodec({code:4864,name:"ed25519-priv"});Qu.registerCodec({code:236,name:"x25519-pub"});Qu.registerCodec({code:4866,name:"x25519-priv"});Qu.registerCodec({code:231,name:"secp256k1-pub"});Qu.registerCodec({code:4865,name:"secp256k1-priv"});b();function e9(t){return typeof t!="object"||t===null||Object.getOwnPropertySymbols(t).length>0?!1:Object.keys(t).length===0}function D6(t){Object.keys(t).forEach(e=>{typeof t[e]=="object"&&D6(t[e]),e9(t[e])&&delete t[e]})}function M6(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&M6(t[e])})}b();var nW=Rt(pl(),1),Xc=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},c2=class{constructor({db:e,location:r="DATASTORE"}={}){this.store=e??new nW.Level(r)}clear(){return Xc(this,void 0,void 0,function*(){yield this.store.clear()})}close(){return Xc(this,void 0,void 0,function*(){yield this.store.close()})}delete(e){return Xc(this,void 0,void 0,function*(){yield this.store.del(e)})}get(e){return Xc(this,void 0,void 0,function*(){try{return yield this.store.get(e)}catch(r){if(r.notFound)return;throw r}})}set(e,r){return Xc(this,void 0,void 0,function*(){yield this.store.put(e,r)})}},f2=class{constructor(){this.store=new Map}clear(){return Xc(this,void 0,void 0,function*(){this.store.clear()})}close(){return Xc(this,void 0,void 0,function*(){})}delete(e){return Xc(this,void 0,void 0,function*(){return this.store.delete(e)})}get(e){return Xc(this,void 0,void 0,function*(){return this.store.get(e)})}has(e){return Xc(this,void 0,void 0,function*(){return this.store.has(e)})}list(){return Xc(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(e,r){return Xc(this,void 0,void 0,function*(){this.store.set(e,r)})}};b();var d2=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},u2=function(t){return this instanceof u2?(this.v=t,this):new u2(t)},W8e=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),n,o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(B){i[B]&&(n[B]=function(S){return new Promise(function(C,x){o.push([B,S,C,x])>1||f(B,S)})})}function f(B,S){try{d(i[B](S))}catch(C){y(o[0][3],C)}}function d(B){B.value instanceof u2?Promise.resolve(B.value.v).then(p,u):y(o[0][2],B)}function p(B){f("next",B)}function u(B){f("throw",B)}function y(B,S){B(S),o.shift(),o.length&&f(o[0][0],o[0][1])}},Ay=class t{static asAsyncIterator(e){return W8e(this,arguments,function*(){let i=e.getReader();try{for(;;){let{done:n,value:o}=yield u2(i.read());if(n)break;yield yield u2(o)}}finally{i.releaseLock()}})}static consumeToArrayBuffer({readableStream:e}){return d2(this,void 0,void 0,function*(){let r=t.asAsyncIterator(e);return yield ct.asyncIterable(r).toArrayBufferAsync()})}static consumeToBlob({readableStream:e}){return d2(this,void 0,void 0,function*(){let r=t.asAsyncIterator(e);return yield ct.asyncIterable(r).toBlobAsync()})}static consumeToBytes({readableStream:e}){return d2(this,void 0,void 0,function*(){let r=t.asAsyncIterator(e);return yield ct.asyncIterable(r).toUint8ArrayAsync()})}static consumeToJson({readableStream:e}){return d2(this,void 0,void 0,function*(){let r=t.asAsyncIterator(e);return yield ct.asyncIterable(r).toObjectAsync()})}static consumeToText({readableStream:e}){return d2(this,void 0,void 0,function*(){let r=t.asAsyncIterator(e);return yield ct.asyncIterable(r).toStringAsync()})}static generateByteStream({streamLength:e,chunkLength:r,fillValue:i}){let n=e??1/0,o;function s(){let f=Math.min(n,r??1/0);n-=f;let d;if(typeof i=="number")d=new Uint8Array(f).fill(i);else if(Array.isArray(i)){d=new Uint8Array(f);let[p,u]=i,y=u-p+1;for(let B=0;B<f;B++)d[B]=Math.floor(Math.random()*y)+p}else d=new Uint8Array(f);o.enqueue(d),n<=0&&o.close()}return new ReadableStream({start(f){o=f,s()},pull(){s()}})}static isReadable({readableStream:e}){if(!t.isReadableStream(e)||e.locked)return!1;try{return e.getReader().releaseLock(),!0}catch{return!1}}static isReadableStream(e){return typeof e=="object"&&e!==null&&"getReader"in e&&typeof e.getReader=="function"}static isStream(e){return t.isReadableStream(e)||t.isWritableStream(e)||t.isTransformStream(e)}static isTransformStream(e){return typeof e=="object"&&e!==null&&"readable"in e&&typeof e.readable=="object"&&"writable"in e&&typeof e.writable=="object"}static isWritableStream(e){return typeof e=="object"&&e!==null&&"getWriter"in e&&typeof e.getWriter=="function"&&"abort"in e&&typeof e.abort=="function"}};b();var P$=Rt(Nw(),1);var j4e=Rt(Nw(),1),b2=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},pd=class t{static consumeToArrayBuffer({readable:e}){return b2(this,void 0,void 0,function*(){return yield ct.asyncIterable(e).toArrayBufferAsync()})}static consumeToBlob({readable:e}){return b2(this,void 0,void 0,function*(){return yield ct.asyncIterable(e).toBlobAsync()})}static consumeToBytes({readable:e}){return b2(this,void 0,void 0,function*(){return yield ct.asyncIterable(e).toUint8ArrayAsync()})}static consumeToJson({readable:e}){return b2(this,void 0,void 0,function*(){return yield ct.asyncIterable(e).toObjectAsync()})}static consumeToText({readable:e}){return b2(this,void 0,void 0,function*(){return yield ct.asyncIterable(e).toStringAsync()})}static fromWebReadable({readableStream:e,readableOptions:r}){if(!Ay.isReadableStream(e))throw new TypeError("NodeStream.fromWebReadable: 'readableStream' is not a Web ReadableStream.");let i=e.getReader(),n=!1,o=new P$.Readable(Object.assign(Object.assign({},r),{read:function(){i.read().then(({done:s,value:f})=>{if(s)this.push(null);else if(!this.push(f))return}).catch(s=>{this.destroy(s)})},destroy:function(s,f){function d(){f(s)}if(!n){i.cancel(s).then(d).catch(d);return}d()}}));return i.closed.then(()=>{n=!0}).catch(s=>{n=!0,o.destroy(s)}),o}static isDestroyed({stream:e}){if(!t.isStream(e))throw new TypeError("NodeStream.isDestroyed: 'stream' is not a Node stream.");let r="_writableState"in e?e._writableState:void 0,i=e._readableState,n=r||i;return!!(e.destroyed||n.destroyed)}static isReadable({readable:e}){return t.isReadableStream(e)?e.readable&&typeof e._readableState.ended=="boolean"&&!e._readableState.ended&&typeof e._readableState.endEmitted=="boolean"&&!e._readableState.endEmitted&&!e.destroyed&&!e.isPaused():!1}static isReadableStream(e){return typeof e=="object"&&e!==null&&"pipe"in e&&typeof e.pipe=="function"&&"on"in e&&typeof e.on=="function"&&!("_writableState"in e)&&"_readableState"in e}static isStream(e){return typeof e=="object"&&e!==null&&("_readableState"in e||"_writableState"in e)}static toWebReadable({readable:e}){if(!t.isReadableStream(e))throw new TypeError("NodeStream.toWebReadable: 'readable' is not a Node Readable stream.");if(t.isDestroyed({stream:e})){let r=new ReadableStream;return r.cancel(),r}return new ReadableStream({start(r){e.on("data",i=>{r.enqueue(i)}),e.on("end",()=>{r.close()}),e.on("error",i=>{r.error(i)})},cancel(){e.destroy()}})}};b();b();var dU=class{constructor(){throw new Error("not implmented in browser, use Pkarr.relayPut() and Pkarr.relayGet() instead.")}},uU=dU;var Gde=Rt(B2(),1),iHe=Rt(lS(),1);b();var xm=Rt(OP(),1);b();b();b();b();var KP="0123456789abcdef",LLe=[],_de=[];for(let t=0;t<256;t++)LLe[t]=KP[t>>4&15]+KP[t&15],t<16&&(t<10?_de[48+t]=t:_de[87+t]=t);var Qde=(t,e=0)=>{let r=t.length||0;if(!e){let s=r;for(;s--;)e+=t[s].length}let i=new Uint8Array(e),n=e,o=r;for(;o--;)n-=t[o].length,i.set(t[o],n);return i};b();var Dde="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",HLe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(zB=0;zB<Dde.length;zB++)HLe[Dde.charCodeAt(zB)]=zB;var zB;var GLe=new TextDecoder,qP=(t,e)=>e?new TextDecoder(e).decode(t):GLe.decode(t),jLe=new TextEncoder,Td=t=>jLe.encode(t);var Mde=typeof window<"u"?window:self,kde=Mde.crypto||Mde.msCrypto||{},rxt=kde.subtle||kde.webkitSubtle;b();function Hv(t){let e=t<0?1:0;return t=Math.abs(Number(t||1)),Math.floor(Math.log10(t))+1+e}function A4(t){return ArrayBuffer.isView(t)?"arraybufferview":Array.isArray(t)?"array":t instanceof Number?"number":t instanceof Boolean?"boolean":t instanceof Set?"set":t instanceof Map?"map":t instanceof String?"string":t instanceof ArrayBuffer?"arraybuffer":typeof t}function oi(t,e,r){let i=[],n=null;return oi._encode(i,t),n=Qde(i),oi.bytes=n.length,ArrayBuffer.isView(e)?(e.set(n,r),e):n}oi.bytes=-1;oi._floatConversionDetected=!1;oi._encode=function(t,e){if(e!=null)switch(A4(e)){case"object":oi.dict(t,e);break;case"map":oi.dictMap(t,e);break;case"array":oi.list(t,e);break;case"set":oi.listSet(t,e);break;case"string":oi.string(t,e);break;case"number":oi.number(t,e);break;case"boolean":oi.number(t,e);break;case"arraybufferview":oi.buffer(t,new Uint8Array(e.buffer,e.byteOffset,e.byteLength));break;case"arraybuffer":oi.buffer(t,new Uint8Array(e));break}};var g4=new Uint8Array([101]),Tde=new Uint8Array([100]),Rde=new Uint8Array([108]);oi.buffer=function(t,e){t.push(Td(e.length+":"),e)};oi.string=function(t,e){t.push(Td(Td(e).byteLength+":"+e))};oi.number=function(t,e){let i=e/2147483648<<0,n=e%2147483648<<0,o=i*2147483648+n;t.push(Td("i"+o+"e")),o!==e&&!oi._floatConversionDetected&&(oi._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+e+'":','Bencoding only defines support for integers, value was converted to "'+o+'"'),console.trace())};oi.dict=function(t,e){t.push(Tde);let r=0,i,n=Object.keys(e).sort(),o=n.length;for(;r<o;r++)i=n[r],e[i]!=null&&(oi.string(t,i),oi._encode(t,e[i]));t.push(g4)};oi.dictMap=function(t,e){t.push(Tde);let r=Array.from(e.keys()).sort();for(let i of r)e.get(i)!=null&&(ArrayBuffer.isView(i)?oi._encode(t,i):oi.string(t,String(i)),oi._encode(t,e.get(i)));t.push(g4)};oi.list=function(t,e){let r=0,i=e.length;for(t.push(Rde);r<i;r++)e[r]!=null&&oi._encode(t,e[r]);t.push(g4)};oi.listSet=function(t,e){t.push(Rde);for(let r of e)r!=null&&oi._encode(t,r);t.push(g4)};var Ude=oi;b();var zLe=105,YLe=58,JLe=100,VLe=108,LP=101;function Fde(t,e,r){let i=0,n=1;for(let o=e;o<r;o++){let s=t[o];if(s<58&&s>=48){i=i*10+(s-48);continue}if(!(o===e&&s===43)){if(o===e&&s===45){n=-1;continue}if(s===46)break;throw new Error("not a number: buffer["+o+"] = "+s)}}return i*n}function Yt(t,e,r,i){return t==null||t.length===0?null:(typeof e!="number"&&i==null&&(i=e,e=void 0),typeof r!="number"&&i==null&&(i=r,r=void 0),Yt.position=0,Yt.encoding=i||null,Yt.data=ArrayBuffer.isView(t)?new Uint8Array(t.slice(e,r)):Td(t),Yt.bytes=Yt.data.length,Yt.next())}Yt.bytes=0;Yt.position=0;Yt.data=null;Yt.encoding=null;Yt.next=function(){switch(Yt.data[Yt.position]){case JLe:return Yt.dictionary();case VLe:return Yt.list();case zLe:return Yt.integer();default:return Yt.buffer()}};Yt.find=function(t){let e=Yt.position,r=Yt.data.length,i=Yt.data;for(;e<r;){if(i[e]===t)return e;e++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(t)+'" [0x'+t.toString(16)+"]")};Yt.dictionary=function(){Yt.position++;let t={};for(;Yt.data[Yt.position]!==LP;)t[qP(Yt.buffer())]=Yt.next();return Yt.position++,t};Yt.list=function(){Yt.position++;let t=[];for(;Yt.data[Yt.position]!==LP;)t.push(Yt.next());return Yt.position++,t};Yt.integer=function(){let t=Yt.find(LP),e=Fde(Yt.data,Yt.position+1,t);return Yt.position+=t+1-Yt.position,e};Yt.buffer=function(){let t=Yt.find(YLe),e=Fde(Yt.data,Yt.position,t),r=++t+e;return Yt.position=r,Yt.encoding?qP(Yt.data.slice(t,r)):Yt.data.slice(t,r)};var Nde=Yt;b();function WLe(t){let e=2;for(let r of t)e+=y4(r);return e}function ZLe(t){let e=2;for(let[r,i]of t){let n=Td(r).byteLength;e+=Hv(n)+1+n,e+=y4(i)}return e}function $Le(t){let e=2,r=Object.keys(t);for(let i=0;i<r.length;i++){let n=Td(r[i]).byteLength;e+=Hv(n)+1+n,e+=y4(t[r[i]])}return e}function XLe(t){let e=Td(t).byteLength;return Hv(e)+1+e}function eHe(t){let e=t.byteLength-t.byteOffset;return Hv(e)+1+e}function y4(t){if(t==null)return 0;let r=A4(t);switch(r){case"arraybufferview":return eHe(t);case"string":return XLe(t);case"array":case"set":return WLe(t);case"number":return 1+Hv(Math.floor(t))+1;case"bigint":return 1+t.toString().length+1;case"object":return $Le(t);case"map":return ZLe(t);default:throw new TypeError(`Unsupported value of type "${r}"`)}}var HP=y4;var tHe=HP,Pde={encode:Ude,decode:Nde,byteLength:HP,encodingLength:tHe};var Ode=Rt(B2(),1),Cxt=xm.default.crypto_sign_verify_detached;function Kde(t=32){let e=N.Buffer.alloc(t);return xm.default.randombytes_buf(e),e}var GP=t=>{let e={seq:t.seq||0,v:t.v};return Pde.encode(e).subarray(1,-1)};var qde=t=>{let e=N.Buffer.allocUnsafe(xm.default.crypto_sign_PUBLICKEYBYTES),r=N.Buffer.allocUnsafe(xm.default.crypto_sign_SECRETKEYBYTES);return t?xm.default.crypto_sign_seed_keypair(e,r,t):xm.default.crypto_sign_keypair(e,r),{publicKey:e,secretKey:r}},Lde=t=>{if(typeof t!="string")return t;let e=Ode.default.decode(t.replace("pk:",""));if(e.byteLength!==32)throw new Error("Invalid key");return e};b();var jP=Rt(B2(),1),zP=Rt(lS(),1),m4=Rt(OP(),1);var rHe=m4.default.crypto_sign_verify_detached,YB=class t{#i;#a;#c;#u;static fromPacket(e,r,i={}){let n=jP.default.encode(e.publicKey);r.answers=r.answers.map(y=>(y.name=Hde(n,y.name),y));let o=new t;o.#a=r;let s=Math.ceil(i.timestamp||Date.now()*1e3),f=zP.default.encode(r),d=GP({seq:s,v:f}),p=N.Buffer.alloc(m4.default.crypto_sign_BYTES);m4.default.crypto_sign_detached(p,d,e.secretKey),o.#u=s,o.#i=e.publicKey;let u=N.Buffer.alloc(f.length+72);return u.set(p),u.writeBigUInt64BE(BigInt(s),64),u.set(f,72),o.#c=u,o}static fromBytes(e,r){let i=N.Buffer.from(r);if(i.length<72)throw new Error(`Invalid SignedPacket bytes length, expected at least 72 bytes but got: ${i.length}`);if(i.length>1072)throw new Error(`Encoded and compressed DNS Packet is too large, expected max 1000 bytes but got: ${i.length}`);let n=Number(i.readBigUInt64BE(64)),o=i.subarray(72),s=i.subarray(0,64);return t.fromBep44Args({k:e,seq:n,v:o,sig:s})}static fromBep44Args(e){let r=e.k,i=e.sig,n=N.Buffer.from(e.v),o=e.seq,s=GP({seq:o,v:n});if(!rHe(i,s,r))throw Error("Invalid signature");let d=zP.default.decode(n),p=new t;p.#i=r,p.#a=d,p.#u=o;let u=N.Buffer.alloc(e.v.length+72);return u.set(i),u.writeBigUInt64BE(BigInt(o),64),u.set(n,72),p.#c=u,p}resourceRecords(e){let r=jP.default.encode(this.publicKey()),i=Hde(r,e);return this.packet().answers.filter(n=>n.name===i)}publicKey(){return this.#i}packet(){return this.#a}timestamp(){return this.#u}signature(){return this.#c.subarray(0,64)}bytes(){return this.#c}bep44Args(){return{k:this.publicKey(),seq:this.timestamp(),sig:this.signature(),v:this.#c.subarray(72)}}size(){return this.#c.length-72}};function Hde(t,e){e.endsWith(".")&&(e=e.slice(0,-1));let r=e.split("."),i=r[r.length-1];return i===t?e:i==="@"||i.length===0?t:e.concat(".").concat(t)}var I4=YB,w4=Gde.default;var JB=class{static generateKeyPair=qde;static generateSeed=Kde;static async relayPut(e,r){let i=w4.encode(r.publicKey()),n=e.replace(/\/+$/,"")+"/"+i;return fetch(n,{method:"PUT",body:r.bytes()})}static async relayGet(e,r){let i=w4.encode(r),n=e.replace(/\/+$/,"")+"/"+i,o=await fetch(n),s=N.Buffer.from(await o.arrayBuffer());return I4.fromBytes(r,s)}static async publish(e){let r=new uU;return r.put(e.bep44Args()).then(()=>!0).catch(()=>!1).finally(()=>r.destroy())}static async resolve(e,r={}){let i=new uU;try{let n=await i.get(Lde(e),r).finally(()=>i.destroy());return n?{signedPacket:I4.fromBep44Args(n),nodes:n.nodes}:null}catch(n){throw i.destroy(),n}}};var zde=Rt(lS(),1),v4=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},jde="https://diddht.tbddev.org",YP=7200,VB=class t{static fromDnsPacket({did:e,packet:r}){var i,n,o;return v4(this,void 0,void 0,function*(){let s={id:e},f=new Map;for(let C of r.answers){if(C.type!=="TXT")continue;let x=(i=C.data)===null||i===void 0?void 0:i.toString();switch((n=C.name)===null||n===void 0?void 0:n.split(".")[0].substring(1,2)){case"k":{let{id:Q,t:R,k}=t.parseTxtData({data:x}),T={0:{crv:"Ed25519",kty:"OKP",alg:"EdDSA"},1:{crv:"secp256k1",kty:"EC",alg:"ES256K"}}[R];if(!T)throw new Error("Unsupported key type");let L=yield gi.keyToJwk(Object.assign(Object.assign({},T),{kid:Q,keyMaterial:ct.base64Url(k).toUint8Array(),keyType:"public"}));s.verificationMethod||(s.verificationMethod=[]),s.verificationMethod.push({id:`${e}#${Q}`,type:"JsonWebKey2020",controller:e,publicKeyJwk:L}),f.set(C.name,Q);break}case"s":{let{id:Q,t:R,uri:k}=t.parseTxtData({data:x});s.service||(s.service=[]),s.service.push({id:`${e}#${Q}`,type:R,serviceEndpoint:k});break}}}let p=["_did",`_did.${e.split("did:dht:")[1]}`],u=null,y=r.answers.filter(C=>p.includes(C.name)?(u=C.name,!0):!1);if(y.length===0)throw new Error("No root record found");if(y.length>1)throw new Error("Multiple root records found");let S=(o=y[0].data)===null||o===void 0?void 0:o.toString().split(";");return S?.forEach(C=>{let[x,_]=C.split("="),Q=_?.split(",").map(R=>`#${f.get(`_${R}.${u}`)}`);switch(x){case"auth":s.authentication=Q;break;case"asm":s.assertionMethod=Q;break;case"agm":s.keyAgreement=Q;break;case"inv":s.capabilityInvocation=Q;break;case"del":s.capabilityDelegation=Q;break}}),s})}static getDidDocument({did:e,relay:r=jde}){return v4(this,void 0,void 0,function*(){let i=e.replace("did:dht:",""),n=new Uint8Array(w4.decode(i)),o=yield JB.relayGet(r,n);if(o)return yield t.fromDnsPacket({did:e,packet:o.packet()});throw new Error("No packet found")})}static publishDidDocument({keyPair:e,didDocument:r,relay:i=jde}){return v4(this,void 0,void 0,function*(){let n=yield t.toDnsPacket({didDocument:r}),o={publicKey:e.publicKey.material,secretKey:new Uint8Array([...e.privateKey.material,...e.publicKey.material])},s=I4.fromPacket(o,n);return(yield JB.relayPut(i,s)).ok})}static toDnsPacket({didDocument:e}){var r;return v4(this,void 0,void 0,function*(){let i={id:0,type:"response",flags:zde.AUTHORITATIVE_ANSWER,answers:[]},n=[],o=[],s=[],f=new Map;for(let d of e.verificationMethod){let u=`k${e.verificationMethod.indexOf(d)}`,y=t.identifierFragment({identifier:d.id});f.set(y,u);let B;switch(d.publicKeyJwk.alg){case"EdDSA":B=0;break;case"ES256K":B=1;break;default:B=0}let S=yield gi.jwkToCryptoKey({key:d.publicKeyJwk}),C=ct.uint8Array(S.material).toBase64Url(),x={type:"TXT",name:`_${u}._did`,ttl:YP,data:`id=${y},t=${B},k=${C}`};i.answers.push(x),n.push(u)}if((r=e.service)===null||r===void 0||r.forEach((d,p)=>{let u=`s${p}`,y=t.identifierFragment({identifier:d.id}),B={type:"TXT",name:`_${u}._did`,ttl:YP,data:`id=${y},t=${d.type},uri=${d.serviceEndpoint}`};i.answers.push(B),o.push(u)}),n.length&&s.push(`vm=${n.join(",")}`),o.length&&s.push(`svc=${o.join(",")}`),e.authentication){let d=e.authentication.map(p=>t.identifierFragment({identifier:p})).filter(p=>f.has(p)).map(p=>f.get(p));d.length&&s.push(`auth=${d.join(",")}`)}if(e.assertionMethod){let d=e.assertionMethod.map(p=>t.identifierFragment({identifier:p})).filter(p=>f.has(p)).map(p=>f.get(p));d.length&&s.push(`asm=${d.join(",")}`)}if(e.keyAgreement){let d=e.keyAgreement.map(p=>t.identifierFragment({identifier:p})).filter(p=>f.has(p)).map(p=>f.get(p));d.length&&s.push(`agm=${d.join(",")}`)}if(e.capabilityInvocation){let d=e.capabilityInvocation.map(p=>t.identifierFragment({identifier:p})).filter(p=>f.has(p)).map(p=>f.get(p));d.length&&s.push(`inv=${d.join(",")}`)}if(e.capabilityDelegation){let d=e.capabilityDelegation.map(p=>t.identifierFragment({identifier:p})).filter(p=>f.has(p)).map(p=>f.get(p));d.length&&s.push(`del=${d.join(",")}`)}return i.answers.push({type:"TXT",name:"_did",ttl:YP,data:s.join(";")}),i})}static identifierFragment({identifier:e}){return e.includes("#")?e.substring(e.indexOf("#")+1):e}static parseTxtData({data:e}){return e.split(",").reduce((r,i)=>{let[n,o]=i.split("=");return r[n]=o,r},{})}};b();var WP=Rt(B2(),1);var Vs={};Tt(Vs,{DID_REGEX:()=>lHe,getServices:()=>JP,getVerificationMethodIds:()=>pHe,getVerificationMethodTypes:()=>b4,isDwnServiceEndpoint:()=>VP,isVerificationMethod:()=>AHe,parseDid:()=>Ma});b();b();var nHe="(?:%[0-9a-fA-F]{2})",Yde=`(?:[a-zA-Z0-9._-]|${nHe})`,oHe="([a-z0-9]+)",sHe=`((?:${Yde}*:)*(${Yde}+))`,Jde="[a-zA-Z0-9_.:%-]",aHe=`;${Jde}+=${Jde}*`,cHe=`((${aHe})*)`,fHe="(/[^#?]*)?",dHe="([?][^#]*)?",uHe="(#.*)?",hHe=new RegExp(`^did:${oHe}:${sHe}${cHe}${fHe}${dHe}${uHe}$`);function Vde(t){if(t===""||!t)return null;let e=t.match(hHe);if(e){let r={did:`did:${e[1]}:${e[2]}`,method:e[1],id:e[2],didUrl:t};if(e[4]){let i=e[4].slice(1).split(";");r.params={};for(let n of i){let o=n.split("=");r.params[o[0]]=o[1]}}return e[6]&&(r.path=e[6]),e[7]&&(r.query=e[7].slice(1)),e[8]&&(r.fragment=e[8].slice(1)),r}return null}var lHe=/^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(\/[^#?]*)?([?][^#]*)?(#.*)?$/;function JP(t){var e,r;let{didDocument:i,id:n,type:o}=t??{};return(r=(e=i?.service)===null||e===void 0?void 0:e.filter(s=>!(n&&s.id!==n||o&&s.type!==o)))!==null&&r!==void 0?r:[]}function pHe(t){let{didDocument:e,publicKeyJwk:r,publicKeyMultibase:i}=t;if(!e)throw new Error("Required parameter missing: 'didDocument'");if(!e.verificationMethod)throw new Error("Given `didDocument` is missing `verificationMethod` entries.");for(let n of e.verificationMethod)if(i&&"publicKeyMultibase"in n){if(i===n.publicKeyMultibase)return n.id}else if(r&&"crv"in r&&"publicKeyJwk"in n&&"crv"in n.publicKeyJwk&&r.crv===n.publicKeyJwk.crv&&r.x===n.publicKeyJwk.x)return n.id}function b4(t){let{didDocument:e}=t,r=[];for(let i in e)typeof e[i]=="object"?r=r.concat(b4({didDocument:e[i]})):i==="type"&&r.push(e[i]);return[...new Set(r)]}function VP(t){return t!==void 0&&typeof t!="string"&&!Array.isArray(t)&&"nodes"in t&&"signingKeys"in t}function Ma({didUrl:t}){return Vde(t)}function AHe(t){return t&&"id"in t&&"type"in t&&"controller"in t}var Sm=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})};var ZP=class{static create(e){return Sm(this,void 0,void 0,function*(){let{publish:r=!1,keySet:i,services:n}=e??{},o=yield this.generateKeySet({keySet:i}),s=o.verificationMethodKeys.find(y=>y.publicKeyJwk.kid==="0"),f=yield this.getDidIdentifier({key:s.publicKeyJwk}),d={},p=o.verificationMethodKeys.map(y=>{for(let B of y.relationships)d[B]?d[B].push(`#${y.publicKeyJwk.kid}`):d[B]=[`#${y.publicKeyJwk.kid}`];return{id:`${f}#${y.publicKeyJwk.kid}`,type:"JsonWebKey2020",controller:f,publicKeyJwk:y.publicKeyJwk}});n?.map(y=>{y.id=`${f}#${y.id}`});let u=Object.assign(Object.assign({id:f,verificationMethod:[...p]},d),n&&{service:n});return r&&(yield this.publish({identityKey:s,didDocument:u})),{did:u.id,document:u,keySet:o}})}static generateJwkKeyPair(e){return Sm(this,void 0,void 0,function*(){let{keyAlgorithm:r,keyId:i}=e,n;switch(r){case"Ed25519":{n=yield new Rp().generateKey({algorithm:{name:"EdDSA",namedCurve:"Ed25519"},extractable:!0,keyUsages:["sign","verify"]});break}case"secp256k1":{n=yield new Tp().generateKey({algorithm:{name:"ECDSA",namedCurve:"secp256k1"},extractable:!0,keyUsages:["sign","verify"]});break}default:throw new Error(`Unsupported crypto algorithm: '${r}'`)}let o=yield gi.cryptoKeyToJwkPair({keyPair:n});if(i)o.privateKeyJwk.kid=i,o.publicKeyJwk.kid=i;else{let s=yield gi.jwkThumbprint({key:o.publicKeyJwk});o.privateKeyJwk.kid=s,o.publicKeyJwk.kid=s}return o})}static generateKeySet(e){var r,i,n,o;return Sm(this,void 0,void 0,function*(){let{keySet:s={}}=e??{};if(s.verificationMethodKeys||(s.verificationMethodKeys=[]),!s.verificationMethodKeys.some(f=>f.publicKeyJwk.kid==="0")){let f=yield this.generateJwkKeyPair({keyAlgorithm:"Ed25519",keyId:"0"});s.verificationMethodKeys.push(Object.assign(Object.assign({},f),{relationships:["authentication","assertionMethod","capabilityInvocation","capabilityDelegation"]}))}for(let f of s.verificationMethodKeys)f.publicKeyJwk&&((r=(n=f.publicKeyJwk).kid)!==null&&r!==void 0||(n.kid=yield gi.jwkThumbprint({key:f.publicKeyJwk}))),f.privateKeyJwk&&((i=(o=f.privateKeyJwk).kid)!==null&&i!==void 0||(o.kid=yield gi.jwkThumbprint({key:f.privateKeyJwk})));return s})}static getDidIdentifier(e){return Sm(this,void 0,void 0,function*(){let{key:r}=e,i=yield gi.jwkToCryptoKey({key:r});return"did:dht:"+WP.default.encode(i.material)})}static getDidIdentifierFragment(e){return Sm(this,void 0,void 0,function*(){let{key:r}=e,i=yield gi.jwkToCryptoKey({key:r});return WP.default.encode(i.material)})}static publish({didDocument:e,identityKey:r}){return Sm(this,void 0,void 0,function*(){let i=yield gi.jwkToCryptoKey({key:r.publicKeyJwk}),n=yield gi.jwkToCryptoKey({key:r.privateKeyJwk});return yield VB.publishDidDocument({keyPair:{publicKey:i,privateKey:n},didDocument:e})})}static resolve(e){return Sm(this,void 0,void 0,function*(){let{didUrl:r,resolutionOptions:i}=e,n=Ma({didUrl:r});if(!n)return{"@context":"https://w3id.org/did-resolution/v1",didDocument:null,didDocumentMetadata:{},didResolutionMetadata:{error:"invalidDid",errorMessage:`Cannot parse DID: ${r}`}};if(n.method!=="dht")return{"@context":"https://w3id.org/did-resolution/v1",didDocument:null,didDocumentMetadata:{},didResolutionMetadata:{error:"methodNotSupported",errorMessage:`Method not supported: ${n.method}`}};let o;try{o=yield VB.getDidDocument({did:n.did})}catch{return{"@context":"https://w3id.org/did-resolution/v1",didDocument:null,didDocumentMetadata:{},didResolutionMetadata:{error:"internalError",errorMessage:`An unexpected error occurred while resolving DID: ${n.did}`}}}return{"@context":"https://w3id.org/did-resolution/v1",didDocument:o,didDocumentMetadata:{},didResolutionMetadata:{did:{didString:n.did,methodSpecificId:n.id,method:n.method}}}})}};ZP.methodName="dht";b();var Ale=Rt(iue(),1);b();b();b();b();var sn={DeltaExceedsMaximumSize:"DeltaExceedsMaximumSize",DidDocumentPublicKeyIdDuplicated:"DidDocumentPublicKeyIdDuplicated",DidDocumentPublicKeyMissingOrIncorrectType:"DidDocumentPublicKeyMissingOrIncorrectType",DidDocumentServiceIdDuplicated:"DidDocumentServiceIdDuplicated",DidSuffixIncorrectLength:"DidSuffixIncorrectLength",EncodedStringIncorrectEncoding:"EncodedStringIncorrectEncoding",IdNotUsingBase64UrlCharacterSet:"IdNotUsingBase64UrlCharacterSet",IdTooLong:"IdTooLong",JwkEs256kMissingOrInvalidCrv:"JwkEs256kMissingOrInvalidCrv",JwkEs256kMissingOrInvalidKty:"JwkEs256kMissingOrInvalidKty",JwkEs256kHasIncorrectLengthOfX:"JwkEs256kHasIncorrectLengthOfX",JwkEs256kHasIncorrectLengthOfY:"JwkEs256kHasIncorrectLengthOfY",JwkEs256kHasIncorrectLengthOfD:"JwkEs256kHasIncorrectLengthOfD",MultihashStringNotAMultihash:"MultihashStringNotAMultihash",MultihashUnsupportedHashAlgorithm:"MultihashUnsupportedHashAlgorithm",PublicKeyJwkEs256kHasUnexpectedProperty:"PublicKeyJwkEs256kHasUnexpectedProperty",PublicKeyPurposeDuplicated:"PublicKeyPurposeDuplicated",ServiceEndpointCannotBeAnArray:"ServiceEndpointCannotBeAnArray",ServiceEndpointStringNotValidUri:"ServiceEndpointStringNotValidUri",ServiceTypeTooLong:"ServiceTypeTooLong"};b();var Qi=class extends Error{constructor(e,r){super(`${e}: ${r}`),this.code=e,Object.setPrototypeOf(this,new.target.prototype)}};b();b();b();b();var a3t=new Uint8Array(0);b();var XP=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},eO=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return nue(this,e)}},tO=class{constructor(e){this.decoders=e}or(e){return nue(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},nue=(t,e)=>new tO({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),rO=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new XP(e,r,i),this.decoder=new eO(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},mHe=({name:t,prefix:e,encode:r,decode:i})=>new rO(t,e,r,i);var IHe=(t,e,r,i)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),f=0,d=0,p=0;for(let u=0;u<o;++u){let y=n[t[u]];if(y===void 0)throw new SyntaxError(`Non-${i} character`);d=d<<r|y,f+=r,f>=8&&(f-=8,s[p++]=255&d>>f)}if(f>=r||255&d<<8-f)throw new SyntaxError("Unexpected end of data");return s},wHe=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,o="",s=0,f=0;for(let d=0;d<t.length;++d)for(f=f<<8|t[d],s+=8;s>r;)s-=r,o+=e[n&f>>s];if(s&&(o+=e[n&f<<r-s]),i)for(;o.length*r&7;)o+="=";return o},WB=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>mHe({prefix:e,name:t,encode(n){return wHe(n,i,r)},decode(n){return IHe(n,i,r,t)}});var m3t=WB({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),I3t=WB({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ZB=WB({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),w3t=WB({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ka=class t{static encode(e){return ZB.baseEncode(e)}static decodeAsBytes(e,r){if(!t.isBase64UrlString(e))throw new Qi(sn.EncodedStringIncorrectEncoding,`Given ${r} must be base64url string.`);return ZB.baseDecode(e)}static decodeAsString(e,r){let i=t.decodeAsBytes(e,r);return t.bytesToString(i)}static isBase64UrlString(e){return/^[A-Za-z0-9_-]+$/.test(e)}static stringToBytes(e){return new TextEncoder().encode(e)}static bytesToString(e){return new TextDecoder().decode(e)}};b();var Nhe=Rt(sue(),1);b();b();var iO;(function(t){t.Public="public",t.Private="private"})(iO||(iO={}));var cc=iO;var no=class{static validateEs256kOperationKey(e,r){let i=new Set(["kty","crv","x","y"]);r===cc.Private&&i.add("d");for(let n in e)if(!i.has(n))throw new Qi(sn.PublicKeyJwkEs256kHasUnexpectedProperty,`SECP256K1 JWK key has unexpected property '${n}'.`);if(e.crv!=="secp256k1")throw new Qi(sn.JwkEs256kMissingOrInvalidCrv,`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${e.crv}.'`);if(e.kty!=="EC")throw new Qi(sn.JwkEs256kMissingOrInvalidKty,`SECP256K1 JWK 'kty' property must be 'EC' but got '${e.kty}.'`);if(e.x.length!==43)throw new Qi(sn.JwkEs256kHasIncorrectLengthOfX,"SECP256K1 JWK 'x' property must be 43 bytes.");if(e.y.length!==43)throw new Qi(sn.JwkEs256kHasIncorrectLengthOfY,"SECP256K1 JWK 'y' property must be 43 bytes.");if(r===cc.Private&&(e.d===void 0||e.d.length!==43))throw new Qi(sn.JwkEs256kHasIncorrectLengthOfD,"SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId(e){if(e.length>50)throw new Qi(sn.IdTooLong,`Key ID length ${e.length} exceed max allowed length of 50.`);if(!ka.isBase64UrlString(e))throw new Qi(sn.IdNotUsingBase64UrlCharacterSet,`Key ID '${e}' is not a Base64URL string.`)}static validatePublicKeyPurposes(e){if(e===void 0)return;let r=new Set;for(let i of e){if(r.has(i))throw new Qi(sn.PublicKeyPurposeDuplicated,`Public key purpose '${i}' already specified.`);r.add(i)}}};b();var Jn=class{};Jn.hashAlgorithmInMultihashCode=18;Jn.maxCanonicalizedDeltaSizeInBytes=1e3;b();var fue=Rt(cue(),1);var Rd=class t{static canonicalizeAsBytes(e){let r=t.removeAllUndefinedProperties(e),i=fue.default(r);return ka.stringToBytes(i)}static removeAllUndefinedProperties(e){for(let r in e)typeof e[r]=="object"?t.removeAllUndefinedProperties(e[r]):e[r]===void 0&&delete e[r];return e}};b();var N4=Rt(khe(),1);b();b();b();b();b();var xje=Uhe,The=128,Sje=127,_je=~Sje,Qje=Math.pow(2,31);function Uhe(t,e,r){e=e||[],r=r||0;for(var i=r;t>=Qje;)e[r++]=t&255|The,t/=128;for(;t&_je;)e[r++]=t&255|The,t>>>=7;return e[r]=t|0,Uhe.bytes=r-i+1,e}var Dje=TO,Mje=128,Rhe=127;function TO(t,i){var r=0,i=i||0,n=0,o=i,s,f=t.length;do{if(o>=f)throw TO.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&Rhe)<<n:(s&Rhe)*Math.pow(2,n),n+=7}while(s>=Mje);return TO.bytes=o-i,r}var kje=Math.pow(2,7),Tje=Math.pow(2,14),Rje=Math.pow(2,21),Uje=Math.pow(2,28),Fje=Math.pow(2,35),Nje=Math.pow(2,42),Pje=Math.pow(2,49),Oje=Math.pow(2,56),Kje=Math.pow(2,63),qje=function(t){return t<kje?1:t<Tje?2:t<Rje?3:t<Uje?4:t<Fje?5:t<Nje?6:t<Pje?7:t<Oje?8:t<Kje?9:10},Lje={encode:xje,decode:Dje,encodingLength:qje},Hje=Lje,RO=Hje;var UO=(t,e,r=0)=>(RO.encode(t,e,r),e),FO=t=>RO.encodingLength(t);var PO=(t,e)=>{let r=e.byteLength,i=FO(t),n=i+FO(r),o=new Uint8Array(n+r);return UO(t,o,0),UO(r,o,i),o.set(e,n),new NO(t,r,e,o)};var NO=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};var KO=({name:t,code:e,encode:r})=>new OO(t,e,r),OO=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?PO(this.code,r):r.then(i=>PO(this.code,i))}else throw Error("Unknown type, must be binary type")}};var Fhe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),qO=KO({name:"sha2-256",code:18,encode:Fhe("SHA-256")}),G6t=KO({name:"sha2-512",code:19,encode:Fhe("SHA-512")});var oC=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Co=class t{static hash(e,r){return oC(this,void 0,void 0,function*(){let i=yield this.hashAsNonMultihashBytes(e,r);return N4.encode(i,r)})}static hashAsNonMultihashBytes(e,r){return oC(this,void 0,void 0,function*(){let i;switch(r){case 18:i=yield qO.encode(e);break;default:throw new Qi(sn.MultihashUnsupportedHashAlgorithm,`Hash algorithm defined in multihash code ${r} is not supported.`)}return i})}static canonicalizeThenHashThenEncode(e,r){return oC(this,void 0,void 0,function*(){let i=Rd.canonicalizeAsBytes(e);return yield t.hashThenEncode(i,r)})}static canonicalizeThenDoubleHashThenEncode(e,r){return oC(this,void 0,void 0,function*(){let i=Rd.canonicalizeAsBytes(e),n=yield t.hashAsNonMultihashBytes(i,r);return yield t.hashThenEncode(n,r)})}static hashThenEncode(e,r){return oC(this,void 0,void 0,function*(){let i=yield t.hash(e,r);return ka.encode(i)})}static validateEncodedHashComputedUsingSupportedHashAlgorithm(e,r){let i,n=ka.decodeAsBytes(e,r);try{i=N4.decode(n)}catch{throw new Qi(sn.MultihashStringNotAMultihash,`Given ${r} string '${e}' is not a multihash after decoding.`)}let o=Jn.hashAlgorithmInMultihashCode;if(o!==i.code)throw new Qi(sn.MultihashUnsupportedHashAlgorithm,`Given ${r} uses unsupported multihash algorithm with code ${i.code}, should use ${o} or change IonSdkConfig to desired hashing algorithm.`)}};b();var LO;(function(t){t.Create="create",t.Update="update",t.Deactivate="deactivate",t.Recover="recover"})(LO||(LO={}));var sC=LO;b();var HO;(function(t){t.Replace="replace",t.AddPublicKeys="add-public-keys",t.RemovePublicKeys="remove-public-keys",t.AddServices="add-services",t.RemoveServices="remove-services"})(HO||(HO={}));var Dm=HO;var P4=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},mA=class t{static createCreateRequest(e){return P4(this,void 0,void 0,function*(){let r=e.recoveryKey,i=e.updateKey,n=e.document.publicKeys,o=e.document.services;no.validateEs256kOperationKey(r,cc.Public),no.validateEs256kOperationKey(i,cc.Public),t.validateDidDocumentKeys(n),t.validateServices(o);let s=Jn.hashAlgorithmInMultihashCode,f=[{action:Dm.Replace,document:e.document}],d={updateCommitment:yield Co.canonicalizeThenDoubleHashThenEncode(i,s),patches:f};t.validateDeltaSize(d);let u={deltaHash:yield Co.canonicalizeThenHashThenEncode(d,s),recoveryCommitment:yield Co.canonicalizeThenDoubleHashThenEncode(r,s)};return{type:sC.Create,suffixData:u,delta:d}})}static createDeactivateRequest(e){return P4(this,void 0,void 0,function*(){t.validateDidSuffix(e.didSuffix),no.validateEs256kOperationKey(e.recoveryPublicKey,cc.Public);let r=Jn.hashAlgorithmInMultihashCode,i=yield Co.canonicalizeThenHashThenEncode(e.recoveryPublicKey,r),n={didSuffix:e.didSuffix,recoveryKey:e.recoveryPublicKey},o=yield e.signer.sign({alg:"ES256K"},n);return{type:sC.Deactivate,didSuffix:e.didSuffix,revealValue:i,signedData:o}})}static createRecoverRequest(e){return P4(this,void 0,void 0,function*(){t.validateDidSuffix(e.didSuffix),no.validateEs256kOperationKey(e.recoveryPublicKey,cc.Public),no.validateEs256kOperationKey(e.nextRecoveryPublicKey,cc.Public),no.validateEs256kOperationKey(e.nextUpdatePublicKey,cc.Public),t.validateDidDocumentKeys(e.document.publicKeys),t.validateServices(e.document.services);let r=Jn.hashAlgorithmInMultihashCode,i=yield Co.canonicalizeThenHashThenEncode(e.recoveryPublicKey,r),n=[{action:Dm.Replace,document:e.document}],o=yield Co.canonicalizeThenDoubleHashThenEncode(e.nextUpdatePublicKey,r),s={patches:n,updateCommitment:o},f=yield Co.canonicalizeThenHashThenEncode(s,r),p={recoveryCommitment:yield Co.canonicalizeThenDoubleHashThenEncode(e.nextRecoveryPublicKey,r),recoveryKey:e.recoveryPublicKey,deltaHash:f},u=yield e.signer.sign({alg:"ES256K"},p);return{type:sC.Recover,didSuffix:e.didSuffix,revealValue:i,delta:s,signedData:u}})}static createUpdateRequest(e){return P4(this,void 0,void 0,function*(){if(t.validateDidSuffix(e.didSuffix),no.validateEs256kOperationKey(e.updatePublicKey,cc.Public),no.validateEs256kOperationKey(e.nextUpdatePublicKey,cc.Public),t.validateServices(e.servicesToAdd),t.validateDidDocumentKeys(e.publicKeysToAdd),e.idsOfServicesToRemove!==void 0)for(let C of e.idsOfServicesToRemove)no.validateId(C);if(e.idsOfPublicKeysToRemove!==void 0)for(let C of e.idsOfPublicKeysToRemove)no.validateId(C);let r=[],i=e.servicesToAdd;if(i!==void 0&&i.length>0){let C={action:Dm.AddServices,services:i};r.push(C)}let n=e.idsOfServicesToRemove;if(n!==void 0&&n.length>0){let C={action:Dm.RemoveServices,ids:n};r.push(C)}let o=e.publicKeysToAdd;if(o!==void 0&&o.length>0){let C={action:Dm.AddPublicKeys,publicKeys:o};r.push(C)}let s=e.idsOfPublicKeysToRemove;if(s!==void 0&&s.length>0){let C={action:Dm.RemovePublicKeys,ids:s};r.push(C)}let f=Jn.hashAlgorithmInMultihashCode,d=yield Co.canonicalizeThenHashThenEncode(e.updatePublicKey,f),p=yield Co.canonicalizeThenDoubleHashThenEncode(e.nextUpdatePublicKey,f),u={patches:r,updateCommitment:p},y=yield Co.canonicalizeThenHashThenEncode(u,f),B={updateKey:e.updatePublicKey,deltaHash:y},S=yield e.signer.sign({alg:"ES256K"},B);return{type:sC.Update,didSuffix:e.didSuffix,revealValue:d,delta:u,signedData:S}})}static validateDidSuffix(e){Co.validateEncodedHashComputedUsingSupportedHashAlgorithm(e,"didSuffix")}static validateDidDocumentKeys(e){if(e===void 0)return;let r=new Set;for(let i of e){if(Array.isArray(i.publicKeyJwk))throw new Qi(sn.DidDocumentPublicKeyMissingOrIncorrectType,"DID Document key 'publicKeyJwk' property is not a non-array object.");if(no.validateId(i.id),r.has(i.id))throw new Qi(sn.DidDocumentPublicKeyIdDuplicated,`DID Document key with ID '${i.id}' already exists.`);r.add(i.id),no.validatePublicKeyPurposes(i.purposes)}}static validateServices(e){if(e!==void 0&&e.length!==0){let r=new Set;for(let i of e){if(t.validateService(i),r.has(i.id))throw new Qi(sn.DidDocumentServiceIdDuplicated,"Service id has to be unique");r.add(i.id)}}}static validateService(e){no.validateId(e.id);let r=30;if(e.type.length>r){let i=`Service endpoint type length ${e.type.length} exceeds max allowed length of ${r}.`;throw new Qi(sn.ServiceTypeTooLong,i)}if(Array.isArray(e.serviceEndpoint)){let i="Service endpoint value cannot be an array.";throw new Qi(sn.ServiceEndpointCannotBeAnArray,i)}if(typeof e.serviceEndpoint=="string"&&Nhe.parse(e.serviceEndpoint).error!==void 0)throw new Qi(sn.ServiceEndpointStringNotValidUri,`Service endpoint string '${e.serviceEndpoint}' is not a URI.`)}static validateDeltaSize(e){let r=Rd.canonicalizeAsBytes(e);if(r.length>Jn.maxCanonicalizedDeltaSizeInBytes){let i=`Delta of ${r.length} bytes exceeded limit of ${Jn.maxCanonicalizedDeltaSizeInBytes} bytes.`;throw new Qi(sn.DeltaExceedsMaximumSize,i)}}};var Phe=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},eb=class t{static createLongFormDid(e){return Phe(this,void 0,void 0,function*(){let r=yield mA.createCreateRequest(e),i=yield t.computeDidUniqueSuffix(r.suffixData),n;Jn.network===void 0||Jn.network==="mainnet"?n=`did:ion:${i}`:n=`did:ion:${Jn.network}:${i}`;let o={suffixData:r.suffixData,delta:r.delta},s=Rd.canonicalizeAsBytes(o),f=ka.encode(s);return`${n}:${f}`})}static computeDidUniqueSuffix(e){return Phe(this,void 0,void 0,function*(){let r=Rd.canonicalizeAsBytes(e),i=yield Co.hash(r,Jn.hashAlgorithmInMultihashCode);return ka.encode(i)})}};b();b();var Yo=2n**255n-19n,tb=2n**252n+27742317777372353535851937790883648493n,GO=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,jO=0x6666666666666666666666666666666666666666666666666666666666666658n,O4={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:Yo,n:tb,h:8,Gx:GO,Gy:jO},Ws=(t="")=>{throw new Error(t)},Hhe=t=>typeof t=="string",L4=(t,e)=>!(t instanceof Uint8Array)||typeof e=="number"&&e>0&&t.length!==e?Ws("Uint8Array expected"):t,rb=t=>new Uint8Array(t),ib=(t,e)=>L4(Hhe(t)?YO(t):rb(t),e),Nt=(t,e=Yo)=>{let r=t%e;return r>=0n?r:e+r},Ohe=t=>t instanceof ph?t:Ws("Point expected"),Khe,ph=class t{constructor(e,r,i,n){this.ex=e,this.ey=r,this.ez=i,this.et=n}static fromAffine(e){return new t(e.x,e.y,1n,Nt(e.x*e.y))}static fromHex(e,r=!0){let{d:i}=O4;e=ib(e,32);let n=e.slice();n[31]=e[31]&-129;let o=JO(n);o===0n||(r&&!(0n<o&&o<Yo)&&Ws("bad y coord 1"),!r&&!(0n<o&&o<2n**256n)&&Ws("bad y coord 2"));let s=Nt(o*o),f=Nt(s-1n),d=Nt(i*s+1n),{isValid:p,value:u}=Yje(f,d);p||Ws("bad y coordinate 3");let y=(u&1n)===1n;return(e[31]&128)!==0!==y&&(u=Nt(-u)),new t(u,o,1n,Nt(u*o))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){let{ex:r,ey:i,ez:n}=this,{ex:o,ey:s,ez:f}=Ohe(e),d=Nt(r*f),p=Nt(o*n),u=Nt(i*f),y=Nt(s*n);return d===p&&u===y}is0(){return this.equals(K4)}negate(){return new t(Nt(-this.ex),this.ey,this.ez,Nt(-this.et))}double(){let{ex:e,ey:r,ez:i}=this,{a:n}=O4,o=Nt(e*e),s=Nt(r*r),f=Nt(2n*Nt(i*i)),d=Nt(n*o),p=e+r,u=Nt(Nt(p*p)-o-s),y=d+s,B=y-f,S=d-s,C=Nt(u*B),x=Nt(y*S),_=Nt(u*S),Q=Nt(B*y);return new t(C,x,Q,_)}add(e){let{ex:r,ey:i,ez:n,et:o}=this,{ex:s,ey:f,ez:d,et:p}=Ohe(e),{a:u,d:y}=O4,B=Nt(r*s),S=Nt(i*f),C=Nt(o*y*p),x=Nt(n*d),_=Nt((r+i)*(s+f)-B-S),Q=Nt(x-C),R=Nt(x+C),k=Nt(S-u*B),K=Nt(_*Q),T=Nt(R*k),L=Nt(_*k),H=Nt(Q*R);return new t(K,T,H,L)}mul(e,r=!0){if(e===0n)return r===!0?Ws("cannot multiply by 0"):K4;if(typeof e=="bigint"&&0n<e&&e<tb||Ws("invalid scalar, must be < L"),!r&&this.is0()||e===1n)return this;if(this.equals(IA))return $je(e).p;let i=K4,n=IA;for(let o=this;e>0n;o=o.double(),e>>=1n)e&1n?i=i.add(o):r&&(n=n.add(o));return i}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(O4.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(tb/2n,!1).double();return tb%2n&&(e=e.add(this)),e.is0()}toAffine(){let{ex:e,ey:r,ez:i}=this;if(this.is0())return{x:0n,y:0n};let n=zhe(i);return Nt(i*n)!==1n&&Ws("invalid inverse"),{x:Nt(e*n),y:Nt(r*n)}}toRawBytes(){let{x:e,y:r}=this.toAffine(),i=jhe(r);return i[31]|=e&1n?128:0,i}toHex(){return zO(this.toRawBytes())}};ph.BASE=new ph(GO,jO,1n,Nt(GO*jO));ph.ZERO=new ph(0n,1n,1n,0n);var{BASE:IA,ZERO:K4}=ph,Ghe=(t,e)=>t.toString(16).padStart(e,"0"),zO=t=>Array.from(t).map(e=>Ghe(e,2)).join(""),YO=t=>{let e=t.length;(!Hhe(t)||e%2)&&Ws("hex invalid 1");let r=rb(e/2);for(let i=0;i<r.length;i++){let n=i*2,o=t.slice(n,n+2),s=Number.parseInt(o,16);(Number.isNaN(s)||s<0)&&Ws("hex invalid 2"),r[i]=s}return r},jhe=t=>YO(Ghe(t,32*2)).reverse(),JO=t=>BigInt("0x"+zO(rb(L4(t)).reverse())),cC=(...t)=>{let e=rb(t.reduce((i,n)=>i+L4(n).length,0)),r=0;return t.forEach(i=>{e.set(i,r),r+=i.length}),e},zhe=(t,e=Yo)=>{(t===0n||e<=0n)&&Ws("no inverse n="+t+" mod="+e);let r=Nt(t,e),i=e,n=0n,o=1n,s=1n,f=0n;for(;r!==0n;){let d=i/r,p=i%r,u=n-s*d,y=o-f*d;i=r,r=p,n=s,o=f,s=u,f=y}return i===1n?Nt(n,e):Ws("no inverse")},lh=(t,e)=>{let r=t;for(;e-- >0n;)r*=r,r%=Yo;return r},zje=t=>{let r=t*t%Yo*t%Yo,i=lh(r,2n)*r%Yo,n=lh(i,1n)*t%Yo,o=lh(n,5n)*n%Yo,s=lh(o,10n)*o%Yo,f=lh(s,20n)*s%Yo,d=lh(f,40n)*f%Yo,p=lh(d,80n)*d%Yo,u=lh(p,80n)*d%Yo,y=lh(u,10n)*o%Yo;return{pow_p_5_8:lh(y,2n)*t%Yo,b2:r}},qhe=19681161376707505956807079304988542015446066515923890162744021073123829784752n,Yje=(t,e)=>{let r=Nt(e*e*e),i=Nt(r*r*e),n=zje(t*i).pow_p_5_8,o=Nt(t*r*n),s=Nt(e*o*o),f=o,d=Nt(o*qhe),p=s===t,u=s===Nt(-t),y=s===Nt(-t*qhe);return p&&(o=f),(u||y)&&(o=d),(Nt(o)&1n)===1n&&(o=Nt(-o)),{isValid:p||u,value:o}},q4=t=>Nt(JO(t),tb),aC,VO=(...t)=>H4.sha512Async(...t),Yhe=(...t)=>typeof aC=="function"?aC(...t):Ws("etc.sha512Sync not set"),Jhe=t=>{let e=t.slice(0,32);e[0]&=248,e[31]&=127,e[31]|=64;let r=t.slice(32,64),i=q4(e),n=IA.mul(i),o=n.toRawBytes();return{head:e,prefix:r,scalar:i,point:n,pointBytes:o}},WO=t=>VO(ib(t,32)).then(Jhe),Jje=t=>Jhe(Yhe(ib(t,32))),ZO=t=>WO(t).then(e=>e.pointBytes);function Vhe(t,e){return t?VO(e.hashable).then(e.finish):e.finish(Yhe(e.hashable))}var Vje=(t,e,r)=>{let{pointBytes:i,scalar:n}=t,o=q4(e),s=IA.mul(o).toRawBytes();return{hashable:cC(s,i,r),finish:p=>{let u=Nt(o+q4(p)*n,tb);return L4(cC(s,jhe(u)),64)}}},Whe=async(t,e)=>{let r=ib(t),i=await WO(e),n=await VO(i.prefix,r);return Vhe(!0,Vje(i,n,r))};var Wje=(t,e,r)=>{e=ib(e),t=ib(t,64);let i=ph.fromHex(r,!1),n=ph.fromHex(t.slice(0,32),!1),o=JO(t.slice(32,64)),s=IA.mul(o,!1);return{hashable:cC(n.toRawBytes(),i.toRawBytes(),e),finish:p=>{let u=q4(p);return n.add(i.mul(u,!1)).add(s.negate()).clearCofactor().is0()}}},Zhe=async(t,e,r)=>Vhe(!0,Wje(t,e,r));var Lhe=()=>typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,H4={bytesToHex:zO,hexToBytes:YO,concatBytes:cC,mod:Nt,invert:zhe,randomBytes:t=>{let e=Lhe();return e||Ws("crypto.getRandomValues must be defined"),e.getRandomValues(rb(t))},sha512Async:async(...t)=>{let e=Lhe();e||Ws("crypto.subtle or etc.sha512Async must be defined");let r=cC(...t);return rb(await e.subtle.digest("SHA-512",r.buffer))},sha512Sync:void 0};Object.defineProperties(H4,{sha512Sync:{configurable:!1,get(){return aC},set(t){aC||(aC=t)}}});var $O={getExtendedPublicKeyAsync:WO,getExtendedPublicKey:Jje,randomPrivateKey:()=>H4.randomBytes(32),precompute(t=8,e=IA){return e.multiply(3n),e}},Mm=8,Zje=()=>{let t=[],e=256/Mm+1,r=IA,i=r;for(let n=0;n<e;n++){i=r,t.push(i);for(let o=1;o<2**(Mm-1);o++)i=i.add(r),t.push(i);r=i.double()}return t},$je=t=>{let e=Khe||(Khe=Zje()),r=(u,y)=>{let B=y.negate();return u?B:y},i=K4,n=IA,o=1+256/Mm,s=2**(Mm-1),f=BigInt(2**Mm-1),d=2**Mm,p=BigInt(Mm);for(let u=0;u<o;u++){let y=u*s,B=Number(t&f);t>>=p,B>s&&(B-=d,t+=1n);let S=y,C=y+Math.abs(B)-1,x=u%2!==0,_=B<0;B===0?n=n.add(r(x,e[S])):i=i.add(r(_,e[C]))}return{p:i,f:n}};b();var tK=2n**256n,wA=tK-0x1000003d1n,oo=tK-0x14551231950b75fc4402da1732fc9bebfn,nle=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,ole=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,sle={p:wA,n:oo,a:0n,b:7n,Gx:nle,Gy:ole},Cs=32,Xhe=t=>ht(ht(t*t)*t+sle.b),mi=(t="")=>{throw new Error(t)},Y4=t=>typeof t=="bigint",ale=t=>typeof t=="string",XO=t=>Y4(t)&&0n<t&&t<wA,uC=t=>Y4(t)&&0n<t&&t<oo,cle=(t,e)=>!(t instanceof Uint8Array)||typeof e=="number"&&e>0&&t.length!==e?mi("Uint8Array expected"):t,fc=t=>new Uint8Array(t),u0=(t,e)=>cle(ale(t)?lC(t):fc(t),e),ht=(t,e=wA)=>{let r=t%e;return r>=0n?r:e+r},ele=t=>t instanceof xs?t:mi("Point expected"),tle,xs=class t{constructor(e,r,i){this.px=e,this.py=r,this.pz=i}static fromAffine(e){return new t(e.x,e.y,1n)}static fromHex(e){e=u0(e);let r,i=e[0],n=e.subarray(1),o=j4(n,0,Cs),s=e.length;if(s===33&&[2,3].includes(i)){XO(o)||mi("Point hex invalid: x not FE");let f=Xje(Xhe(o)),d=(f&1n)===1n;(i&1)===1!==d&&(f=ht(-f)),r=new t(o,f,1n)}return s===65&&i===4&&(r=new t(o,j4(n,Cs,2*Cs),1n)),r?r.ok():mi("Point is not on curve")}static fromPrivateKey(e){return d0.mul(z4(e))}get x(){return this.aff().x}get y(){return this.aff().y}equals(e){let{px:r,py:i,pz:n}=this,{px:o,py:s,pz:f}=ele(e),d=ht(r*f),p=ht(o*n),u=ht(i*f),y=ht(s*n);return d===p&&u===y}negate(){return new t(this.px,ht(-this.py),this.pz)}double(){return this.add(this)}add(e){let{px:r,py:i,pz:n}=this,{px:o,py:s,pz:f}=ele(e),{a:d,b:p}=sle,u=0n,y=0n,B=0n,S=ht(p*3n),C=ht(r*o),x=ht(i*s),_=ht(n*f),Q=ht(r+i),R=ht(o+s);Q=ht(Q*R),R=ht(C+x),Q=ht(Q-R),R=ht(r+n);let k=ht(o+f);return R=ht(R*k),k=ht(C+_),R=ht(R-k),k=ht(i+n),u=ht(s+f),k=ht(k*u),u=ht(x+_),k=ht(k-u),B=ht(d*R),u=ht(S*_),B=ht(u+B),u=ht(x-B),B=ht(x+B),y=ht(u*B),x=ht(C+C),x=ht(x+C),_=ht(d*_),R=ht(S*R),x=ht(x+_),_=ht(C-_),_=ht(d*_),R=ht(R+_),C=ht(x*R),y=ht(y+C),C=ht(k*R),u=ht(Q*u),u=ht(u-C),C=ht(Q*x),B=ht(k*B),B=ht(B+C),new t(u,y,B)}mul(e,r=!0){if(!r&&e===0n)return G4;if(uC(e)||mi("invalid scalar"),this.equals(d0))return nze(e).p;let i=G4,n=d0;for(let o=this;e>0n;o=o.double(),e>>=1n)e&1n?i=i.add(o):r&&(n=n.add(o));return i}mulAddQUns(e,r,i){return this.mul(r,!1).add(e.mul(i,!1)).ok()}toAffine(){let{px:e,py:r,pz:i}=this;if(this.equals(G4))return{x:0n,y:0n};if(i===1n)return{x:e,y:r};let n=AC(i);return ht(i*n)!==1n&&mi("invalid inverse"),{x:ht(e*n),y:ht(r*n)}}assertValidity(){let{x:e,y:r}=this.aff();return(!XO(e)||!XO(r))&&mi("Point invalid: x or y"),ht(r*r)===Xhe(e)?this:mi("Point invalid: not on curve")}multiply(e){return this.mul(e)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(e=!0){let{x:r,y:i}=this.aff();return(e?(i&1n)===0n?"02":"03":"04")+fC(r)+(e?"":fC(i))}toRawBytes(e=!0){return lC(this.toHex(e))}};xs.BASE=new xs(nle,ole,1n);xs.ZERO=new xs(0n,1n,0n);var{BASE:d0,ZERO:G4}=xs,fle=(t,e)=>t.toString(16).padStart(e,"0"),rK=t=>Array.from(t).map(e=>fle(e,2)).join(""),lC=t=>{let e=t.length;(!ale(t)||e%2)&&mi("hex invalid 1");let r=fc(e/2);for(let i=0;i<r.length;i++){let n=i*2,o=t.slice(n,n+2),s=Number.parseInt(o,16);(Number.isNaN(s)||s<0)&&mi("hex invalid 2"),r[i]=s}return r},pC=t=>BigInt("0x"+(rK(t)||"0")),j4=(t,e,r)=>pC(t.slice(e,r)),J4=t=>Y4(t)&&t>=0n&&t<tK?lC(fle(t,2*Cs)):mi("bigint expected"),fC=t=>rK(J4(t)),eK=(...t)=>{let e=fc(t.reduce((i,n)=>i+cle(n).length,0)),r=0;return t.forEach(i=>{e.set(i,r),r+=i.length}),e},AC=(t,e=wA)=>{(t===0n||e<=0n)&&mi("no inverse n="+t+" mod="+e);let r=ht(t,e),i=e,n=0n,o=1n,s=1n,f=0n;for(;r!==0n;){let d=i/r,p=i%r,u=n-s*d,y=o-f*d;i=r,r=p,n=s,o=f,s=u,f=y}return i===1n?ht(n,e):mi("no inverse")},Xje=t=>{let e=1n;for(let r=t,i=(wA+1n)/4n;i>0n;i>>=1n)i&1n&&(e=e*r%wA),r=r*r%wA;return ht(e*e)===t?e:mi("sqrt invalid")},z4=t=>(Y4(t)||(t=pC(u0(t,Cs))),uC(t)?t:mi("private key out of range")),iK=t=>t>oo>>1n;function gC(t,e=!0){return xs.fromPrivateKey(t).toRawBytes(e)}var hC=class t{constructor(e,r,i){this.r=e,this.s=r,this.recovery=i,this.assertValidity()}static fromCompact(e){return e=u0(e,64),new t(j4(e,0,Cs),j4(e,Cs,2*Cs))}assertValidity(){return uC(this.r)&&uC(this.s)?this:mi()}addRecoveryBit(e){return new t(this.r,this.s,e)}hasHighS(){return iK(this.s)}recoverPublicKey(e){let{r,s:i,recovery:n}=this;[0,1,2,3].includes(n)||mi("recovery id invalid");let o=nK(u0(e,32)),s=n===2||n===3?r+oo:r;s>=wA&&mi("q.x invalid");let f=n&1?"03":"02",d=xs.fromHex(f+fC(s)),p=AC(s,oo),u=ht(-o*p,oo),y=ht(i*p,oo);return d0.mulAddQUns(d,u,y)}toCompactRawBytes(){return lC(this.toCompactHex())}toCompactHex(){return fC(this.r)+fC(this.s)}},dle=t=>{let e=t.length*8-256,r=pC(t);return e>0?r>>BigInt(e):r},nK=t=>ht(dle(t),oo),rle=t=>J4(t),ile=()=>typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,dC,ule={lowS:!0},eze={lowS:!0};function tze(t,e,r=ule){["der","recovered","canonical"].some(y=>y in r)&&mi("sign() legacy options not supported");let{lowS:i}=r;i==null&&(i=!0);let n=nK(u0(t)),o=rle(n),s=z4(e),f=[rle(s),o],d=r.extraEntropy;if(d){d===!0&&(d=Ah.randomBytes(Cs));let y=u0(d);y.length!==Cs&&mi(),f.push(y)}let p=n,u=y=>{let B=dle(y);if(!uC(B))return;let S=AC(B,oo),C=d0.mul(B).aff(),x=ht(C.x,oo);if(x===0n)return;let _=ht(S*ht(p+ht(s*x,oo),oo),oo);if(_===0n)return;let Q=_,R=(C.x===x?0:2)|Number(C.y&1n);return i&&iK(_)&&(Q=ht(-_,oo),R^=1),new hC(x,Q,R)};return{seed:eK(...f),k2sig:u}}function rze(t){let e=fc(Cs),r=fc(Cs),i=0,n=()=>{e.fill(1),r.fill(0),i=0},o="drbg: tried 1000 values";if(t){let s=(...p)=>Ah.hmacSha256Async(r,e,...p),f=async(p=fc())=>{r=await s(fc([0]),p),e=await s(),p.length!==0&&(r=await s(fc([1]),p),e=await s())},d=async()=>(i++>=1e3&&mi(o),e=await s(),e);return async(p,u)=>{n(),await f(p);let y;for(;!(y=u(await d()));)await f();return n(),y}}else{let s=(...p)=>{let u=dC;return u||mi("etc.hmacSha256Sync not set"),u(r,e,...p)},f=(p=fc())=>{r=s(fc([0]),p),e=s(),p.length!==0&&(r=s(fc([1]),p),e=s())},d=()=>(i++>=1e3&&mi(o),e=s(),e);return(p,u)=>{n(),f(p);let y;for(;!(y=u(d()));)f();return n(),y}}}async function oK(t,e,r=ule){let{seed:i,k2sig:n}=tze(t,e,r);return rze(!0)(i,n)}function hle(t,e,r,i=eze){let{lowS:n}=i;n==null&&(n=!0),"strict"in i&&mi("verify() legacy options not supported");let o,s,f,d=t&&typeof t=="object"&&"r"in t;!d&&u0(t).length!==2*Cs&&mi("signature must be 64 bytes");try{o=d?new hC(t.r,t.s).assertValidity():hC.fromCompact(t),s=nK(u0(e,Cs)),f=r instanceof xs?r.ok():xs.fromHex(r)}catch{return!1}if(!o)return!1;let{r:p,s:u}=o;if(n&&iK(u))return!1;let y;try{let S=AC(u,oo),C=ht(s*S,oo),x=ht(p*S,oo);y=d0.mulAddQUns(f,C,x).aff()}catch{return!1}return y?ht(y.x,oo)===p:!1}function lle(t){t=u0(t);let e=Cs+8;(t.length<e||t.length>1024)&&mi("expected proper params");let r=ht(pC(t),oo-1n)+1n;return J4(r)}var Ah={hexToBytes:lC,bytesToHex:rK,concatBytes:eK,bytesToNumberBE:pC,numberToBytesBE:J4,mod:ht,invert:AC,hmacSha256Async:async(t,...e)=>{let r=ile();if(!r)return mi("etc.hmacSha256Async not set");let i=r.subtle,n=await i.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return fc(await i.sign("HMAC",n,eK(...e)))},hmacSha256Sync:dC,hashToPrivateKey:lle,randomBytes:t=>{let e=ile();return e||mi("crypto.getRandomValues must be defined"),e.getRandomValues(fc(t))}},V4={normPrivateKeyToScalar:z4,isValidPrivateKey:t=>{try{return!!z4(t)}catch{return!1}},randomPrivateKey:()=>lle(Ah.randomBytes(Cs+8)),precompute(t=8,e=d0){return e.multiply(3n),e}};Object.defineProperties(Ah,{hmacSha256Sync:{configurable:!1,get(){return dC},set(t){dC||(dC=t)}}});var km=8,ize=()=>{let t=[],e=256/km+1,r=d0,i=r;for(let n=0;n<e;n++){i=r,t.push(i);for(let o=1;o<2**(km-1);o++)i=i.add(r),t.push(i);r=i.double()}return t},nze=t=>{let e=tle||(tle=ize()),r=(u,y)=>{let B=y.negate();return u?B:y},i=G4,n=d0,o=1+256/km,s=2**(km-1),f=BigInt(2**km-1),d=2**km,p=BigInt(km);for(let u=0;u<o;u++){let y=u*s,B=Number(t&f);t>>=p,B>s&&(B-=d,t+=1n);let S=y,C=y+Math.abs(B)-1,x=u%2!==0,_=B<0;B===0?n=n.add(r(x,e[S])):i=i.add(r(_,e[C]))}return{p:i,f:n}};b();var ple;(function(t){t.Mainnet="mainnet",t.Testnet="test"})(ple||(ple={}));b();var aK;(function(t){t.Authentication="authentication",t.AssertionMethod="assertionMethod",t.CapabilityInvocation="capabilityInvocation",t.CapabilityDelegation="capabilityDelegation",t.KeyAgreement="keyAgreement"})(aK||(aK={}));var Tm=aK;b();var xf=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},cK;(function(t){t.Create="create",t.Update="update",t.Deactivate="deactivate",t.Recover="recover"})(cK||(cK={}));var oze={assertionMethod:Tm.AssertionMethod,authentication:Tm.Authentication,capabilityDelegation:Tm.CapabilityDelegation,capabilityInvocation:Tm.CapabilityInvocation,keyAgreement:Tm.KeyAgreement},h0=class t{static anchor(e){return xf(this,void 0,void 0,function*(){let{challengeEnabled:r=!1,challengeEndpoint:i="https://beta.ion.msidentity.com/api/v1.0/proof-of-work-challenge",keySet:n,services:o,operationsEndpoint:s="https://ion.tbd.engineering/operations"}=e,f=yield t.createIonDocument({keySet:n,services:o}),d=yield t.getIonCreateRequest({ionDocument:f,recoveryPublicKeyJwk:n.recoveryKey.publicKeyJwk,updatePublicKeyJwk:n.updateKey.publicKeyJwk}),p;if(r){let u=yield Ale.default.submitIonRequest(i,s,JSON.stringify(d));u!==void 0&&wl(u)==="String"&&(p=JSON.parse(u))}else{let u=yield fetch(s,{method:"POST",mode:"cors",body:JSON.stringify(d),headers:{"Content-Type":"application/json"}});u.ok&&(p=yield u.json())}return p})}static create(e){return xf(this,void 0,void 0,function*(){let{anchor:r,keyAlgorithm:i,keySet:n,services:o}=e??{},s={};s.keySet=yield t.generateKeySet({keyAlgorithm:i,keySet:n}),s.did=yield t.getLongFormDid({keySet:s.keySet,services:o}),s.canonicalId=yield t.getShortFormDid({didUrl:s.did});let f;return r?f=yield t.anchor({keySet:s.keySet,services:o}):f=yield t.resolve({didUrl:s.did}),s.document=f.didDocument,s})}static decodeLongFormDid(e){return xf(this,void 0,void 0,function*(){let{didUrl:r}=e,i=Ma({didUrl:r});if(!i)throw new Error(`DidIonMethod: Unable to parse DID: ${r}`);let n=ct.base64Url(i.id.split(":").pop()).toObject();return Object.assign(Object.assign({},n),{type:cK.Create})})}static generateDwnOptions(e){return xf(this,void 0,void 0,function*(){let{signingKeyAlgorithm:r="Ed25519",serviceId:i="#dwn",signingKeyId:n="#dwn-sig",encryptionKeyId:o="#dwn-enc",serviceEndpointNodes:s}=e,f=yield t.generateJwkKeyPair({keyAlgorithm:r,keyId:n}),d=yield t.generateJwkKeyPair({keyAlgorithm:"secp256k1",keyId:o});return{keySet:{verificationMethodKeys:[Object.assign(Object.assign({},f),{relationships:["authentication"]}),Object.assign(Object.assign({},d),{relationships:["keyAgreement"]})]},services:[{id:i,serviceEndpoint:{encryptionKeys:[o],nodes:s,signingKeys:[n]},type:"DecentralizedWebNode"}]}})}static generateJwkKeyPair(e){return xf(this,void 0,void 0,function*(){let{keyAlgorithm:r,keyId:i}=e,n;switch(r){case"Ed25519":{n=yield new Rp().generateKey({algorithm:{name:"EdDSA",namedCurve:"Ed25519"},extractable:!0,keyUsages:["sign","verify"]});break}case"secp256k1":{n=yield new Tp().generateKey({algorithm:{name:"ECDSA",namedCurve:"secp256k1"},extractable:!0,keyUsages:["sign","verify"]});break}default:throw new Error(`Unsupported crypto algorithm: '${r}'`)}let o=yield gi.cryptoKeyToJwkPair({keyPair:n});if(i)o.privateKeyJwk.kid=i,o.publicKeyJwk.kid=i;else{let s=yield gi.jwkThumbprint({key:o.publicKeyJwk});o.privateKeyJwk.kid=s,o.publicKeyJwk.kid=s}return o})}static generateKeySet(e){var r,i,n,o;return xf(this,void 0,void 0,function*(){let{keyAlgorithm:s="Ed25519",keySet:f={}}=e??{};if(f.verificationMethodKeys===void 0){let d=yield t.generateJwkKeyPair({keyAlgorithm:s,keyId:"dwn-sig"});f.verificationMethodKeys=[Object.assign(Object.assign({},d),{relationships:["authentication","assertionMethod"]})]}f.recoveryKey===void 0&&(f.recoveryKey=yield t.generateJwkKeyPair({keyAlgorithm:"secp256k1",keyId:"ion-recovery-1"})),f.updateKey===void 0&&(f.updateKey=yield t.generateJwkKeyPair({keyAlgorithm:"secp256k1",keyId:"ion-update-1"}));for(let d of[...f.verificationMethodKeys,f.recoveryKey,f.updateKey])"publicKeyJwk"in d&&((r=(n=d.publicKeyJwk).kid)!==null&&r!==void 0||(n.kid=yield gi.jwkThumbprint({key:d.publicKeyJwk}))),"privateKeyJwk"in d&&((i=(o=d.privateKeyJwk).kid)!==null&&i!==void 0||(o.kid=yield gi.jwkThumbprint({key:d.privateKeyJwk})));return f})}static getDefaultSigningKey(e){return xf(this,void 0,void 0,function*(){let{didDocument:r}=e;if(!r.id)throw new Error("DidIonMethod: DID document is missing 'id' property");let[i]=JP({didDocument:r,type:"DecentralizedWebNode"});if(VP(i?.serviceEndpoint)){let[n]=i.serviceEndpoint.signingKeys;return`${r.id}${n}`}if(r.authentication&&Array.isArray(r.authentication)&&r.authentication.length>0&&typeof r.authentication[0]=="string"){let[n]=r.authentication;return`${r.id}${n}`}})}static getLongFormDid(e){return xf(this,void 0,void 0,function*(){let{services:r=[],keySet:i}=e,n=yield t.createIonDocument({keySet:i,services:r}),o=t.jwkToIonJwk({key:i.recoveryKey.publicKeyJwk}),s=t.jwkToIonJwk({key:i.updateKey.publicKeyJwk});return yield eb.createLongFormDid({document:n,recoveryKey:o,updateKey:s})})}static getShortFormDid(e){return xf(this,void 0,void 0,function*(){let{didUrl:r}=e,i=Ma({didUrl:r});if(!i)throw new Error(`DidIonMethod: Unable to parse DID: ${r}`);return i.did.split(":",3).join(":")})}static resolve(e){var r;return xf(this,void 0,void 0,function*(){let{didUrl:i,resolutionOptions:n={}}=e,o=Ma({didUrl:i});if(!o)return{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{error:"invalidDid",errorMessage:`Cannot parse DID: ${i}`}};if(o.method!=="ion")return{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{error:"methodNotSupported",errorMessage:`Method not supported: ${o.method}`}};let{resolutionEndpoint:s="https://ion.tbd.engineering/identifiers/"}=n,d=`${(S=>S.endsWith("/")?S:S+"/")(s)}${o.did}`,p=yield fetch(d),u;try{u=yield p.json()}catch{u={}}if(p.ok||"didResolutionMetadata"in u)return u;let y="internalError",B=`DID resolver responded with HTTP status code: ${p.status}`;return"error"in u&&typeof u.error=="object"&&"code"in u.error&&typeof u.error.code=="string"&&"message"in u.error&&typeof u.error.message=="string"&&(y=u.error.code.includes("not_found")?"notFound":y,B=(r=u.error.message)!==null&&r!==void 0?r:B),{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{error:y,errorMessage:B}}})}static createIonDocument(e){return xf(this,void 0,void 0,function*(){let{services:r=[],keySet:i}=e,n=[];for(let f of i.verificationMethodKeys){let d=[];for(let y of f.relationships)d.push(oze[y]);let u={id:f.publicKeyJwk.kid.startsWith("#")?f.publicKeyJwk.kid.substring(1):f.publicKeyJwk.kid,publicKeyJwk:t.jwkToIonJwk({key:f.publicKeyJwk}),purposes:d,type:"JsonWebKey2020"};n.push(u)}let o=r.map(f=>Object.assign(Object.assign({},f),{id:f.id.startsWith("#")?f.id.substring(1):f.id}));return{publicKeys:n,services:o}})}static getIonCreateRequest(e){return xf(this,void 0,void 0,function*(){let{ionDocument:r,recoveryPublicKeyJwk:i,updatePublicKeyJwk:n}=e;return yield mA.createCreateRequest({document:r,recoveryKey:t.jwkToIonJwk({key:i}),updateKey:t.jwkToIonJwk({key:n})})})}static jwkToIonJwk({key:e}){let r={};if("crv"in e)return r.crv=e.crv,r.kty=e.kty,r.x=e.x,"d"in e&&(r.d=e.d),"y"in e&&e.y?Object.assign(Object.assign({},r),{y:e.y}):Object.assign({},r);throw new Error("jwkToIonJwk: Unsupported key algorithm.")}};h0.methodName="ion";b();var vA=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})};var gle=["Ed25519VerificationKey2020","JsonWebKey2020","X25519KeyAgreementKey2020"],sze={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},yle={231:33,236:32,237:32},l0=class t{static create(e){var r,i;return vA(this,void 0,void 0,function*(){let{enableEncryptionKeyDerivation:n=!1,keyAlgorithm:o,keySet:s,publicKeyFormat:f="JsonWebKey2020"}=e??{};s===void 0&&(s=yield t.generateKeySet({keyAlgorithm:o}));let d={},p="";if(!((i=(r=s.verificationMethodKeys)===null||r===void 0?void 0:r[0])===null||i===void 0)&&i.publicKeyJwk){let u=s.verificationMethodKeys[0].publicKeyJwk;p=yield gi.jwkToMultibaseId({key:u})}if(!p)throw new Error("DidKeyMethod: Failed to create DID with given input.");return d.did=`did:key:${p}`,d.document=yield t.createDocument({did:d.did,publicKeyFormat:f,enableEncryptionKeyDerivation:n}),d.keySet=s,d})}static createDocument(e){return vA(this,void 0,void 0,function*(){let{defaultContext:r="https://www.w3.org/ns/did/v1",did:i,enableEncryptionKeyDerivation:n=!1,enableExperimentalPublicKeyTypes:o=!1,publicKeyFormat:s="JsonWebKey2020"}=e,f={},d;try{({id:d}=Ma({didUrl:i}))}catch{throw new Error(`invalidDid: Unknown format: ${i}`)}if(!t.validateIdentifier({did:i}))throw new Error(`invalidDid: Invalid identifier format: ${i}`);let p=yield t.createSignatureMethod({did:i,enableExperimentalPublicKeyTypes:o,multibaseValue:d,publicKeyFormat:s});if(f.id=i,f.verificationMethod=[p],f.authentication=[p.id],f.assertionMethod=[p.id],f.capabilityInvocation=[p.id],f.capabilityDelegation=[p.id],n===!0){let B=s==="Ed25519VerificationKey2020"?"X25519KeyAgreementKey2020":"JsonWebKey2020",S=yield this.createEncryptionMethod({did:i,enableExperimentalPublicKeyTypes:o,multibaseValue:d,publicKeyFormat:B});f.verificationMethod.push(S),f.keyAgreement=[S.id]}let u=[r];return b4({didDocument:f}).forEach(B=>{let S=sze[B];u.push(S)}),f["@context"]=u,f})}static createEncryptionMethod(e){return vA(this,void 0,void 0,function*(){let{did:r,enableExperimentalPublicKeyTypes:i,multibaseValue:n,publicKeyFormat:o}=e,s={},{key:f,multicodecCode:d}=yield t.deriveEncryptionKey({multibaseValue:n}),p=f.byteLength,u=yle[d];if(p!==u)throw new Error(`invalidPublicKeyLength: Expected ${p} bytes. Actual ${u} bytes.`);let y=Cw.keyToMultibaseId({key:f,multicodecCode:d});s.id=`${r}#${y}`;try{new URL(s.id)}catch{throw new Error("invalidDidUrl: Verification Method ID is not a valid DID URL.")}if(!gle.includes(o))throw new Error(`unsupportedPublicKeyType: Unsupported format: ${o}`);if(i===!1&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(o))throw new Error(`invalidPublicKeyType: Specified '${o}' without setting enableExperimentalPublicKeyTypes to true.`);if(s.type=o,s.controller=r,!t.validateIdentifier({did:r}))throw new Error(`invalidDid: Invalid identifier format: ${r}`);if(o==="X25519KeyAgreementKey2020"&&(s.publicKeyMultibase=y),o==="JsonWebKey2020"){let S=yield gi.multicodecToJose({code:d}),C=yield gi.keyToJwk(Object.assign({keyMaterial:f,keyType:"public"},S));"x"in C&&!("d"in C)&&(s.publicKeyJwk=C)}return s})}static deriveEncryptionKey(e){return vA(this,void 0,void 0,function*(){let{multibaseValue:r}=e,i={},{key:n,multicodecCode:o}=Cw.multibaseIdToKey({multibaseKeyId:r});return o===237&&(i={key:yield dd.convertPublicKeyToX25519({publicKey:n}),multicodecCode:236}),i})}static createSignatureMethod(e){return vA(this,void 0,void 0,function*(){let{did:r,enableExperimentalPublicKeyTypes:i,multibaseValue:n,publicKeyFormat:o}=e,s={},{key:f,multicodecCode:d,multicodecName:p}=Cw.multibaseIdToKey({multibaseKeyId:n}),u=f.byteLength,y=yle[d];if(u!==y)throw new Error(`invalidPublicKeyLength: Expected ${u} bytes. Actual ${y} bytes.`);let B=!1;switch(p){case"secp256k1-pub":B=yield Wa.validatePublicKey({key:f});break;case"ed25519-pub":B=yield dd.validatePublicKey({key:f});break;case"x25519-pub":B=!0;break}if(!B)throw new Error("invalidPublicKey: Invalid public key detected.");s.id=`${r}#${n}`;try{new URL(s.id)}catch{throw new Error("invalidDidUrl: Verification Method ID is not a valid DID URL.")}if(!gle.includes(o))throw new Error(`unsupportedPublicKeyType: Unsupported format: ${o}`);if(i===!1&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(o))throw new Error(`invalidPublicKeyType: Specified '${o}' without setting enableExperimentalPublicKeyTypes to true.`);if(s.type=o,s.controller=r,!t.validateIdentifier({did:r}))throw new Error(`invalidDid: Invalid identifier format: ${r}`);if(o==="Ed25519VerificationKey2020"&&(s.publicKeyMultibase=n),o==="JsonWebKey2020"){let C=yield gi.multicodecToJose({code:d}),x=yield gi.keyToJwk(Object.assign({keyMaterial:f,keyType:"public"},C));"x"in x&&!("d"in x)&&(s.publicKeyJwk=x)}return s})}static generateKeySet(e){return vA(this,void 0,void 0,function*(){let{keyAlgorithm:r="Ed25519"}=e??{},i;switch(r){case"Ed25519":{i=yield new Rp().generateKey({algorithm:{name:"EdDSA",namedCurve:"Ed25519"},extractable:!0,keyUsages:["sign","verify"]});break}case"secp256k1":{i=yield new Tp().generateKey({algorithm:{name:"ECDSA",namedCurve:"secp256k1"},extractable:!0,keyUsages:["sign","verify"]});break}default:throw new Error(`Unsupported crypto algorithm: '${r}'`)}let n=yield gi.cryptoKeyToJwk({key:i.publicKey}),o=yield gi.cryptoKeyToJwk({key:i.privateKey});return{verificationMethodKeys:[{publicKeyJwk:n,privateKeyJwk:o,relationships:["authentication"]}]}})}static getDefaultSigningKey(e){return vA(this,void 0,void 0,function*(){let{didDocument:r}=e;if(r.authentication&&Array.isArray(r.authentication)&&r.authentication.length>0&&typeof r.authentication[0]=="string"){let[i]=r.authentication;return i}})}static resolve(e){return vA(this,void 0,void 0,function*(){let{didUrl:r,resolutionOptions:i}=e,n=Ma({didUrl:r});return n?n.method!=="key"?{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{error:"methodNotSupported",errorMessage:`Method not supported: ${n.method}`}}:{"@context":"https://w3id.org/did-resolution/v1",didDocument:yield t.createDocument({did:n.did}),didDocumentMetadata:{},didResolutionMetadata:{did:{didString:n.did,methodSpecificId:n.id,method:n.method}}}:{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{error:"invalidDid",errorMessage:`Cannot parse DID: ${r}`}}})}static validateIdentifier(e){let{did:r}=e,{method:i,id:n}=Ma({didUrl:r}),[o]=r.split(":",1);return o!=="did"||i!=="key"||parseInt("1")>0||wl(n)!=="String"||!n.startsWith("z")}};l0.methodName="key";b();b();var mle={get:function(t){return null},set:function(t,e){return null},delete:function(t){return null},clear:function(){return null},close:function(){return null}};var Ile=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},yC=class{constructor(e){this.didResolvers=new Map,this.cache=e.cache||mle;for(let r of e.didResolvers)this.didResolvers.set(r.methodName,r)}resolve(e,r){return Ile(this,void 0,void 0,function*(){let i=Ma({didUrl:e});if(!i)return{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{error:"invalidDid",errorMessage:`Cannot parse DID: ${e}`}};let n=this.didResolvers.get(i.method);if(!n)return{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{error:"methodNotSupported",errorMessage:`Method not supported: ${i.method}`}};let o=yield this.cache.get(i.did);if(o)return o;{let s=yield n.resolve({didUrl:i.did,resolutionOptions:r});return yield this.cache.set(i.did,s),s}})}dereference({didUrl:e}){return Ile(this,void 0,void 0,function*(){let{didDocument:r,didResolutionMetadata:i={},didDocumentMetadata:n={}}=yield this.resolve(e);if(i.error)return{dereferencingMetadata:{error:"invalidDidUrl"},contentStream:null,contentMetadata:{}};let o=Ma({didUrl:e});if(!o.fragment)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:r,contentMetadata:n};let{service:s=[],verificationMethod:f=[]}=r,d=new Set([e,o.fragment,`#${o.fragment}`]),p;for(let u of f)if(d.has(u.id)){p=u;break}for(let u of s)if(d.has(u.id)){p=u;break}return p?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:p,contentMetadata:i}:{dereferencingMetadata:{error:"notFound"},contentStream:null,contentMetadata:{}}})}};b();var vle=Rt(fK(),1),ble=Rt(pl(),1),hze=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},ab=class t{constructor(e={}){let{location:r,ttl:i}=e;r??(r=t.defaultOptions.location),i??(i=t.defaultOptions.ttl),this.cache=new ble.Level(r),this.ttl=(0,vle.default)(i)}get(e){return hze(this,void 0,void 0,function*(){try{let r=yield this.cache.get(e),i=JSON.parse(r);if(Date.now()>=i.ttlMillis){this.cache.nextTick(()=>this.cache.del(e));return}else return i.value}catch(r){if(r.code==="LEVEL_NOT_FOUND")return;throw r}})}set(e,r){let i={ttlMillis:Date.now()+this.ttl,value:r},n=JSON.stringify(i);return this.cache.put(e,n)}delete(e){return this.cache.del(e)}clear(){return this.cache.clear()}close(){return this.cache.close()}};ab.defaultOptions={location:"DATA/AGENT/DID_RESOLVERCACHE",ttl:"15m"};b();b();b();function dK(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function lze(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function Ele(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function pze(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");dK(t.outputLen),dK(t.blockLen)}function Aze(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function gze(t,e){Ele(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var yze={number:dK,bool:lze,bytes:Ele,hash:pze,exists:Aze,output:gze},dc=yze;b();b();var uc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var uK=t=>t instanceof Uint8Array;var Z4=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Fd=(t,e)=>t<<32-e|t>>>e,mze=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!mze)throw new Error("Non little-endian hardware is not supported");var Ize=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ble(t){if(!uK(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Ize[t[r]];return e}function hK(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function bA(t){if(typeof t=="string"&&(t=hK(t)),!uK(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function mC(...t){let e=new Uint8Array(t.reduce((i,n)=>i+n.length,0)),r=0;return t.forEach(i=>{if(!uK(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}var cb=class{clone(){return this._cloneInto()}};function EA(t){let e=i=>t().update(bA(i)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function BA(t=32){if(uc&&typeof uc.getRandomValues=="function")return uc.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}b();var $4=class extends cb{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,dc.hash(e);let i=bA(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,o=new Uint8Array(n);o.set(i.length>n?e.create().update(i).digest():i);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return dc.exists(this),this.iHash.update(e),this}digestInto(e){dc.exists(this),dc.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:i,finished:n,destroyed:o,blockLen:s,outputLen:f}=this;return e=e,e.finished=n,e.destroyed=o,e.blockLen=s,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},fb=(t,e,r)=>new $4(t,e).update(r).digest();fb.create=(t,e)=>new $4(t,e);function wze(t,e,r){return dc.hash(t),r===void 0&&(r=new Uint8Array(t.outputLen)),fb(t,bA(r),bA(e))}var lK=new Uint8Array([0]),Cle=new Uint8Array;function vze(t,e,r,i=32){if(dc.hash(t),dc.number(i),i>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");let n=Math.ceil(i/t.outputLen);r===void 0&&(r=Cle);let o=new Uint8Array(n*t.outputLen),s=fb.create(t,e),f=s._cloneInto(),d=new Uint8Array(s.outputLen);for(let p=0;p<n;p++)lK[0]=p+1,f.update(p===0?Cle:d).update(r).update(lK).digestInto(d),o.set(d,t.outputLen*p),s._cloneInto(f);return s.destroy(),f.destroy(),d.fill(0),lK.fill(0),o.slice(0,i)}var xle=(t,e,r,i,n)=>vze(t,wze(t,e,r),i,n);b();b();function bze(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);let n=BigInt(32),o=BigInt(4294967295),s=Number(r>>n&o),f=Number(r&o),d=i?4:0,p=i?0:4;t.setUint32(e+d,s,i),t.setUint32(e+p,f,i)}var db=class extends cb{constructor(e,r,i,n){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Z4(this.buffer)}update(e){dc.exists(this);let{view:r,buffer:i,blockLen:n}=this;e=bA(e);let o=e.length;for(let s=0;s<o;){let f=Math.min(n-this.pos,o-s);if(f===n){let d=Z4(e);for(;n<=o-s;s+=n)this.process(d,s);continue}i.set(e.subarray(s,s+f),this.pos),this.pos+=f,s+=f,this.pos===n&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){dc.exists(this),dc.output(e,this),this.finished=!0;let{buffer:r,view:i,blockLen:n,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(i,0),s=0);for(let y=s;y<n;y++)r[y]=0;bze(i,n-8,BigInt(this.length*8),o),this.process(i,0);let f=Z4(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let p=d/4,u=this.get();if(p>u.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<p;y++)f.setUint32(4*y,u[y],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:i,length:n,finished:o,destroyed:s,pos:f}=this;return e.length=n,e.pos=f,e.finished=o,e.destroyed=s,n%r&&e.buffer.set(i),e}};var Eze=(t,e,r)=>t&e^~t&r,Bze=(t,e,r)=>t&e^t&r^e&r,Cze=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),CA=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xA=new Uint32Array(64),X4=class extends db{constructor(){super(64,32,8,!1),this.A=CA[0]|0,this.B=CA[1]|0,this.C=CA[2]|0,this.D=CA[3]|0,this.E=CA[4]|0,this.F=CA[5]|0,this.G=CA[6]|0,this.H=CA[7]|0}get(){let{A:e,B:r,C:i,D:n,E:o,F:s,G:f,H:d}=this;return[e,r,i,n,o,s,f,d]}set(e,r,i,n,o,s,f,d){this.A=e|0,this.B=r|0,this.C=i|0,this.D=n|0,this.E=o|0,this.F=s|0,this.G=f|0,this.H=d|0}process(e,r){for(let y=0;y<16;y++,r+=4)xA[y]=e.getUint32(r,!1);for(let y=16;y<64;y++){let B=xA[y-15],S=xA[y-2],C=Fd(B,7)^Fd(B,18)^B>>>3,x=Fd(S,17)^Fd(S,19)^S>>>10;xA[y]=x+xA[y-7]+C+xA[y-16]|0}let{A:i,B:n,C:o,D:s,E:f,F:d,G:p,H:u}=this;for(let y=0;y<64;y++){let B=Fd(f,6)^Fd(f,11)^Fd(f,25),S=u+B+Eze(f,d,p)+Cze[y]+xA[y]|0,x=(Fd(i,2)^Fd(i,13)^Fd(i,22))+Bze(i,n,o)|0;u=p,p=d,d=f,f=s+S|0,s=o,o=n,n=i,i=S+x|0}i=i+this.A|0,n=n+this.B|0,o=o+this.C|0,s=s+this.D|0,f=f+this.E|0,d=d+this.F|0,p=p+this.G|0,u=u+this.H|0,this.set(i,n,o,s,f,d,p,u)}roundClean(){xA.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},pK=class extends X4{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},p0=EA(()=>new X4),$_t=EA(()=>new pK);b();b();b();var IC=class extends Error{};var Sn=class extends IC{},wC=class extends IC{},Sf=class extends IC{};b();b();b();var Um=class{checkAlgorithmName(e){let{algorithmName:r}=e;if(r===void 0)throw new TypeError("Required parameter missing: 'algorithmName'");if(r!==this.name)throw new wC(`Algorithm not supported: '${r}'`)}checkCryptoKey(e){let{key:r}=e;if(!("algorithm"in r&&"extractable"in r&&"type"in r&&"usages"in r))throw new TypeError("Object is not a CryptoKey")}checkKeyAlgorithm(e){let{keyAlgorithmName:r}=e;if(r===void 0)throw new TypeError("Required parameter missing: 'keyAlgorithmName'");if(r&&r!==this.name)throw new Sn(`Algorithm '${this.name}' does not match the provided '${r}' key.`)}checkKeyType(e){let{keyType:r,allowedKeyType:i}=e;if(r===void 0||i===void 0)throw new TypeError("One or more required parameters missing: 'keyType, allowedKeyType'");if(r&&r!==i)throw new Sn(`Requested operation is not valid for the provided '${r}' key.`)}checkKeyUsages(e){let{keyUsages:r,allowedKeyUsages:i}=e;if(!(r&&r.length>0))throw new TypeError("Required parameter missing or empty: 'keyUsages'");let n=Array.isArray(i)?i:[...i.privateKey,...i.publicKey];if(!r.every(o=>n.includes(o)))throw new Sn(`Requested operation(s) '${r.join(", ")}' is not valid for the provided key.`)}static create(){return new this}};var Xs={};Tt(Xs,{checkRequiredProperty:()=>$s,checkValidProperty:()=>ub,isBytesKeyPair:()=>Fm,isCryptoKeyPair:()=>Sze,isWebCryptoSupported:()=>yK,keyToMultibaseId:()=>gK,multibaseIdToKey:()=>_ze,randomBytes:()=>_le,randomUuid:()=>Qze});b();b();b();b();function Sle(t){return t.byteOffset!==0||t.byteLength!==t.buffer.byteLength}function Zs(t){let r=Object.prototype.toString.call(t).match(/\s([a-zA-Z0-9]+)/),[i,n]=r;return n}var e5=new TextEncoder,vC=new TextDecoder,_n=class t{constructor(e,r){this.data=e,this.format=r}static arrayBuffer(e){return new t(e,"ArrayBuffer")}static base58Btc(e){return new t(e,"Base58Btc")}static base64Url(e){return new t(e,"Base64Url")}static bufferSource(e){return new t(e,"BufferSource")}static hex(e){if(typeof e!="string")throw new TypeError("Hex input must be a string.");if(e.length%2!==0)throw new TypeError("Hex input must have an even number of characters.");return new t(e,"Hex")}static multibase(e){return new t(e,"Multibase")}static object(e){return new t(e,"Object")}static string(e){return new t(e,"String")}static uint8Array(e){return new t(e,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return $r.baseDecode(this.data).buffer;case"Base64Url":return Xt.baseDecode(this.data).buffer;case"BufferSource":{if(Zs(this.data)==="ArrayBuffer")return this.data;if(ArrayBuffer.isView(this.data))return Sle(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":return this.toUint8Array().buffer;case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toBase58Btc(){switch(this.format){case"ArrayBuffer":{let e=new Uint8Array(this.data);return $r.baseEncode(e)}case"Multibase":return this.data.substring(1);case"Uint8Array":return $r.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{let e=new Uint8Array(this.data);return Xt.baseEncode(e)}case"BufferSource":{let e=this.toUint8Array();return Xt.baseEncode(e)}case"Object":{let e=JSON.stringify(this.data),r=e5.encode(e);return Xt.baseEncode(r)}case"String":{let e=e5.encode(this.data);return Xt.baseEncode(e)}case"Uint8Array":return Xt.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toHex(){let e=Array.from({length:256},(r,i)=>i.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{let r=this.toUint8Array();return t.uint8Array(r).toHex()}case"Base64Url":{let r=this.toUint8Array();return t.uint8Array(r).toHex()}case"Uint8Array":{let r="";for(let i=0;i<this.data.length;i++)r+=e[this.data[i]];return r}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){switch(this.format){case"Base58Btc":return`z${this.data}`;default:throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}}toObject(){switch(this.format){case"Base64Url":{let e=Xt.baseDecode(this.data),r=vC.decode(e);return JSON.parse(r)}case"String":return JSON.parse(this.data);case"Uint8Array":{let e=vC.decode(this.data);return JSON.parse(e)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toString(){switch(this.format){case"ArrayBuffer":return vC.decode(this.data);case"Base64Url":{let e=Xt.baseDecode(this.data);return vC.decode(e)}case"Object":return JSON.stringify(this.data);case"Uint8Array":return vC.decode(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base58Btc":return $r.baseDecode(this.data);case"Base64Url":return Xt.baseDecode(this.data);case"BufferSource":{let e=Zs(this.data);if(e==="Uint8Array")return this.data;if(e==="ArrayBuffer")return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{let e=new Uint8Array(this.data.length/2);for(let r=0;r<this.data.length;r+=2){let i=parseInt(this.data.substring(r,r+2),16);if(isNaN(i))throw new TypeError("Input is not a valid hexadecimal string.");e[r/2]=i}return e}case"Object":{let e=JSON.stringify(this.data);return e5.encode(e)}case"String":return e5.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}};b();var Ss=class t{static addPrefix(e){var r;let{code:i,data:n,name:o}=e;if(!(o?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(i=t.codeToName.has(i)?i:t.nameToCode.get(o),i===void 0)throw new Error(`Unsupported multicodec: ${(r=e.name)!==null&&r!==void 0?r:e.code}`);let s=rn.encodingLength(i),f=new Uint8Array(s+n.byteLength);return f.set(n,s),rn.encodeTo(i,f),f}static getCodeFromData(e){let{prefixedData:r}=e,[i,n]=rn.decode(r);return i}static getCodeFromName(e){let{name:r}=e,i=t.nameToCode.get(r);if(i===void 0)throw new Error(`Unsupported multicodec: ${r}`);return i}static getNameFromCode(e){let{code:r}=e,i=t.codeToName.get(r);if(i===void 0)throw new Error(`Unsupported multicodec: ${r}`);return i}static registerCodec(e){t.codeToName.set(e.code,e.name),t.nameToCode.set(e.name,e.code)}static removePrefix(e){let{prefixedData:r}=e,[i,n]=rn.decode(r),o=t.codeToName.get(i);if(o===void 0)throw new Error(`Unsupported multicodec: ${i}`);return{code:i,data:r.slice(n),name:o}}};Ss.codeToName=new Map;Ss.nameToCode=new Map;Ss.registerCodec({code:237,name:"ed25519-pub"});Ss.registerCodec({code:4864,name:"ed25519-priv"});Ss.registerCodec({code:236,name:"x25519-pub"});Ss.registerCodec({code:4866,name:"x25519-priv"});Ss.registerCodec({code:231,name:"secp256k1-pub"});Ss.registerCodec({code:4865,name:"secp256k1-priv"});b();function AK(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&AK(t[e])})}b();var xze=Rt(pl(),1);function $s(t){if(!t||t.property===void 0||t.inObject===void 0)throw new TypeError("One or more required parameters missing: 'property, properties'");let{property:e,inObject:r}=t;if(!(e in r))throw new TypeError(`Required parameter missing: '${e}'`)}function ub(t){if(!t||t.property===void 0||t.allowedProperties===void 0)throw new TypeError("One or more required parameters missing: 'property, allowedProperties'");let{property:e,allowedProperties:r}=t;if(Array.isArray(r)&&!r.includes(e)||r instanceof Set&&!r.has(e)||r instanceof Map&&!r.has(e)){let i=Array.from(r instanceof Map?r.keys():r).join(", ");throw new TypeError(`Out of range: '${e}'. Must be one of '${i}'`)}}function Fm(t){return!!(t&&"privateKey"in t&&"publicKey"in t&&Zs(t.privateKey)==="Uint8Array"&&Zs(t.publicKey)==="Uint8Array")}function Sze(t){return t&&"privateKey"in t&&"publicKey"in t}function gK(t){let{key:e,multicodecCode:r,multicodecName:i}=t,n=Ss.addPrefix({code:r,data:e,name:i}),o=_n.uint8Array(n).toBase58Btc();return _n.base58Btc(o).toMultibase()}function yK(){return!!(globalThis.crypto&&globalThis.crypto.subtle)}function _ze(t){let{multibaseKeyId:e}=t,r=_n.multibase(e).toBase58Btc(),i=_n.base58Btc(r).toUint8Array(),{code:n,data:o,name:s}=Ss.removePrefix({prefixedData:i});return{key:o,multicodecCode:n,multicodecName:s}}function _le(t){return BA(t)}function Qze(){let t=_le(16);t[6]=t[6]&15|64,t[8]=t[8]&63|128;let e=Ble(t);t.fill(0);let r=[e.slice(0,8),e.slice(8,12),e.slice(12,16),e.slice(16,20),e.slice(20,32)],i=r.join("-");return r.fill("0"),i}var Qle=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},SA=class extends Um{checkGenerateKey(e){let{algorithm:r,keyUsages:i}=e;this.checkAlgorithmName({algorithmName:r.name}),$s({property:"namedCurve",inObject:r}),ub({property:r.namedCurve,allowedProperties:this.namedCurves}),this.checkKeyUsages({keyUsages:i,allowedKeyUsages:this.keyUsages})}decrypt(){return Qle(this,void 0,void 0,function*(){throw new Sn(`Requested operation 'decrypt' is not valid for ${this.name} keys.`)})}encrypt(){return Qle(this,void 0,void 0,function*(){throw new Sn(`Requested operation 'encrypt' is not valid for ${this.name} keys.`)})}};b();var Dle=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},t5=class extends SA{constructor(){super(...arguments),this.name="ECDH",this.keyUsages={privateKey:["deriveBits","deriveKey"],publicKey:["deriveBits","deriveKey"]}}checkAlgorithmOptions(e){let{algorithm:r,baseKey:i}=e;if(this.checkAlgorithmName({algorithmName:r.name}),$s({property:"publicKey",inObject:r}),this.checkCryptoKey({key:r.publicKey}),this.checkKeyType({keyType:r.publicKey.type,allowedKeyType:"public"}),this.checkKeyAlgorithm({keyAlgorithmName:r.publicKey.algorithm.name}),$s({property:"baseKey",inObject:e}),this.checkCryptoKey({key:i}),this.checkKeyAlgorithm({keyAlgorithmName:i.algorithm.name}),this.checkKeyType({keyType:i.type,allowedKeyType:"private"}),"namedCurve"in r.publicKey.algorithm&&"namedCurve"in i.algorithm&&r.publicKey.algorithm.namedCurve!==i.algorithm.namedCurve)throw new Sn("The named curve of the publicKey and baseKey must match.")}sign(){return Dle(this,void 0,void 0,function*(){throw new Sn(`Requested operation 'sign' is not valid for ${this.name} keys.`)})}verify(){return Dle(this,void 0,void 0,function*(){throw new Sn(`Requested operation 'verify' is not valid for ${this.name} keys.`)})}};b();var Dze=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},r5=class extends SA{constructor(){super(...arguments),this.name="ECDSA",this.keyUsages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmOptions(e){let{algorithm:r}=e;this.checkAlgorithmName({algorithmName:r.name}),$s({property:"hash",inObject:r}),ub({property:r.hash,allowedProperties:this.hashAlgorithms})}deriveBits(){return Dze(this,void 0,void 0,function*(){throw new Sn(`Requested operation 'deriveBits' is not valid for ${this.name} keys.`)})}};b();var Mze=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},i5=class extends SA{constructor(){super(...arguments),this.name="EdDSA",this.keyUsages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmOptions(e){let{algorithm:r}=e;this.checkAlgorithmName({algorithmName:r.name})}deriveBits(){return Mze(this,void 0,void 0,function*(){throw new Sn(`Requested operation 'deriveBits' is not valid for ${this.name} keys.`)})}};b();b();b();var mK=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},n5=class extends Um{checkGenerateKey(e){let{algorithm:r,keyUsages:i}=e;if(this.checkAlgorithmName({algorithmName:r.name}),$s({property:"length",inObject:r}),Zs(r.length)!=="Number")throw new TypeError("Algorithm 'length' is not of type: Number.");if(![128,192,256].includes(r.length))throw new Sf("Algorithm 'length' must be 128, 192, or 256.");this.checkKeyUsages({keyUsages:i,allowedKeyUsages:this.keyUsages})}deriveBits(){return mK(this,void 0,void 0,function*(){throw new Sn(`Requested operation 'deriveBits' is not valid for ${this.name} keys.`)})}sign(){return mK(this,void 0,void 0,function*(){throw new Sn(`Requested operation 'sign' is not valid for ${this.name} keys.`)})}verify(){return mK(this,void 0,void 0,function*(){throw new Sn(`Requested operation 'verify' is not valid for ${this.name} keys.`)})}};var o5=class extends n5{constructor(){super(...arguments),this.name="AES-CTR",this.keyUsages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmOptions(e){let{algorithm:r,key:i}=e;if(this.checkAlgorithmName({algorithmName:r.name}),$s({property:"counter",inObject:r}),Zs(r.counter)!=="Uint8Array")throw new TypeError("Algorithm 'counter' is not of type: Uint8Array.");if(r.counter.byteLength!==16)throw new Sf("Algorithm 'counter' must have length: 16 bytes.");if($s({property:"length",inObject:r}),Zs(r.length)!=="Number")throw new TypeError("Algorithm 'length' is not of type: Number.");if(r.length<1||r.length>128)throw new Sf("Algorithm 'length' should be in the range: 1 to 128.");$s({property:"key",inObject:e}),this.checkCryptoKey({key:i}),this.checkKeyAlgorithm({keyAlgorithmName:i.algorithm.name}),this.checkKeyType({keyType:i.type,allowedKeyType:"secret"})}};b();var so=class{constructor(e,r,i,n,o){this.algorithm=e,this.extractable=r,this.material=i,this.type=n,this.usages=o,Object.defineProperties(this,{type:{enumerable:!0,writable:!1,value:n},extractable:{enumerable:!0,writable:!0,value:r},algorithm:{enumerable:!0,writable:!1,value:e},usages:{enumerable:!0,writable:!0,value:o},material:{enumerable:!1,writable:!1,value:i}})}};b();b();b();b();b();b();var IK=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},bC=class t{static deriveKey(e){return IK(this,void 0,void 0,function*(){return yK()?t.deriveKeyWithWebCrypto(e):t.deriveKeyWithNodeCrypto(e)})}static deriveKeyWithNodeCrypto(e){return IK(this,void 0,void 0,function*(){let{password:r,salt:i,iterations:n}=e,s={"SHA-256":"sha256","SHA-384":"sha384","SHA-512":"sha512"}[e.hash],f=e.length/8,{pbkdf2:d}=yield Promise.resolve().then(()=>Rt(tv(),1));return new Promise(p=>{d(r,i,n,f,s,(u,y)=>{u||p(new Uint8Array(y))})})})}static deriveKeyWithWebCrypto(e){return IK(this,void 0,void 0,function*(){let{hash:r,password:i,salt:n,iterations:o,length:s}=e,f=yield uc.subtle.importKey("raw",i,{name:"PBKDF2"},!1,["deriveBits"]),d=yield uc.subtle.deriveBits({name:"PBKDF2",hash:r,salt:n,iterations:o},f,s);return new Uint8Array(d)})}};b();b();b();b();var s5=BigInt(4294967295),wK=BigInt(32);function Mle(t,e=!1){return e?{h:Number(t&s5),l:Number(t>>wK&s5)}:{h:Number(t>>wK&s5)|0,l:Number(t&s5)|0}}function kze(t,e=!1){let r=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let n=0;n<t.length;n++){let{h:o,l:s}=Mle(t[n],e);[r[n],i[n]]=[o,s]}return[r,i]}var Tze=(t,e)=>BigInt(t>>>0)<<wK|BigInt(e>>>0),Rze=(t,e,r)=>t>>>r,Uze=(t,e,r)=>t<<32-r|e>>>r,Fze=(t,e,r)=>t>>>r|e<<32-r,Nze=(t,e,r)=>t<<32-r|e>>>r,Pze=(t,e,r)=>t<<64-r|e>>>r-32,Oze=(t,e,r)=>t>>>r-32|e<<64-r,Kze=(t,e)=>e,qze=(t,e)=>t,Lze=(t,e,r)=>t<<r|e>>>32-r,Hze=(t,e,r)=>e<<r|t>>>32-r,Gze=(t,e,r)=>e<<r-32|t>>>64-r,jze=(t,e,r)=>t<<r-32|e>>>64-r;function zze(t,e,r,i){let n=(e>>>0)+(i>>>0);return{h:t+r+(n/2**32|0)|0,l:n|0}}var Yze=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Jze=(t,e,r,i)=>e+r+i+(t/2**32|0)|0,Vze=(t,e,r,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0),Wze=(t,e,r,i,n)=>e+r+i+n+(t/2**32|0)|0,Zze=(t,e,r,i,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0)+(n>>>0),$ze=(t,e,r,i,n,o)=>e+r+i+n+o+(t/2**32|0)|0,Xze={fromBig:Mle,split:kze,toBig:Tze,shrSH:Rze,shrSL:Uze,rotrSH:Fze,rotrSL:Nze,rotrBH:Pze,rotrBL:Oze,rotr32H:Kze,rotr32L:qze,rotlSH:Lze,rotlSL:Hze,rotlBH:Gze,rotlBL:jze,add:zze,add3L:Yze,add3H:Jze,add4L:Vze,add4H:Wze,add5H:$ze,add5L:Zze},gr=Xze;var[eYe,tYe]=gr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),_A=new Uint32Array(80),QA=new Uint32Array(80),hb=class extends db{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:i,Bl:n,Ch:o,Cl:s,Dh:f,Dl:d,Eh:p,El:u,Fh:y,Fl:B,Gh:S,Gl:C,Hh:x,Hl:_}=this;return[e,r,i,n,o,s,f,d,p,u,y,B,S,C,x,_]}set(e,r,i,n,o,s,f,d,p,u,y,B,S,C,x,_){this.Ah=e|0,this.Al=r|0,this.Bh=i|0,this.Bl=n|0,this.Ch=o|0,this.Cl=s|0,this.Dh=f|0,this.Dl=d|0,this.Eh=p|0,this.El=u|0,this.Fh=y|0,this.Fl=B|0,this.Gh=S|0,this.Gl=C|0,this.Hh=x|0,this.Hl=_|0}process(e,r){for(let k=0;k<16;k++,r+=4)_A[k]=e.getUint32(r),QA[k]=e.getUint32(r+=4);for(let k=16;k<80;k++){let K=_A[k-15]|0,T=QA[k-15]|0,L=gr.rotrSH(K,T,1)^gr.rotrSH(K,T,8)^gr.shrSH(K,T,7),H=gr.rotrSL(K,T,1)^gr.rotrSL(K,T,8)^gr.shrSL(K,T,7),O=_A[k-2]|0,G=QA[k-2]|0,v=gr.rotrSH(O,G,19)^gr.rotrBH(O,G,61)^gr.shrSH(O,G,6),a=gr.rotrSL(O,G,19)^gr.rotrBL(O,G,61)^gr.shrSL(O,G,6),h=gr.add4L(H,a,QA[k-7],QA[k-16]),g=gr.add4H(h,L,v,_A[k-7],_A[k-16]);_A[k]=g|0,QA[k]=h|0}let{Ah:i,Al:n,Bh:o,Bl:s,Ch:f,Cl:d,Dh:p,Dl:u,Eh:y,El:B,Fh:S,Fl:C,Gh:x,Gl:_,Hh:Q,Hl:R}=this;for(let k=0;k<80;k++){let K=gr.rotrSH(y,B,14)^gr.rotrSH(y,B,18)^gr.rotrBH(y,B,41),T=gr.rotrSL(y,B,14)^gr.rotrSL(y,B,18)^gr.rotrBL(y,B,41),L=y&S^~y&x,H=B&C^~B&_,O=gr.add5L(R,T,H,tYe[k],QA[k]),G=gr.add5H(O,Q,K,L,eYe[k],_A[k]),v=O|0,a=gr.rotrSH(i,n,28)^gr.rotrBH(i,n,34)^gr.rotrBH(i,n,39),h=gr.rotrSL(i,n,28)^gr.rotrBL(i,n,34)^gr.rotrBL(i,n,39),g=i&o^i&f^o&f,l=n&s^n&d^s&d;Q=x|0,R=_|0,x=S|0,_=C|0,S=y|0,C=B|0,{h:y,l:B}=gr.add(p|0,u|0,G|0,v|0),p=f|0,u=d|0,f=o|0,d=s|0,o=i|0,s=n|0;let A=gr.add3L(v,h,l);i=gr.add3H(A,G,a,g),n=A|0}({h:i,l:n}=gr.add(this.Ah|0,this.Al|0,i|0,n|0)),{h:o,l:s}=gr.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:f,l:d}=gr.add(this.Ch|0,this.Cl|0,f|0,d|0),{h:p,l:u}=gr.add(this.Dh|0,this.Dl|0,p|0,u|0),{h:y,l:B}=gr.add(this.Eh|0,this.El|0,y|0,B|0),{h:S,l:C}=gr.add(this.Fh|0,this.Fl|0,S|0,C|0),{h:x,l:_}=gr.add(this.Gh|0,this.Gl|0,x|0,_|0),{h:Q,l:R}=gr.add(this.Hh|0,this.Hl|0,Q|0,R|0),this.set(i,n,o,s,f,d,p,u,y,B,S,C,x,_,Q,R)}roundClean(){_A.fill(0),QA.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},vK=class extends hb{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},bK=class extends hb{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},EK=class extends hb{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},BK=EA(()=>new hb),j4t=EA(()=>new vK),z4t=EA(()=>new bK),Y4t=EA(()=>new EK);b();b();var f5={};Tt(f5,{bitGet:()=>sYe,bitLen:()=>oYe,bitMask:()=>EC,bitSet:()=>aYe,bytesToHex:()=>gh,bytesToNumberBE:()=>Nd,bytesToNumberLE:()=>_f,concatBytes:()=>Pd,createHmacDrbg:()=>SK,ensureBytes:()=>Ii,equalBytes:()=>Ule,hexToBytes:()=>Nm,hexToNumber:()=>xK,numberToBytesBE:()=>Qf,numberToBytesLE:()=>A0,numberToHexUnpadded:()=>Rle,numberToVarBytesBE:()=>nYe,utf8ToBytes:()=>Fle,validateObject:()=>hc});b();var Tle=BigInt(0),a5=BigInt(1),rYe=BigInt(2),c5=t=>t instanceof Uint8Array,iYe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function gh(t){if(!c5(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=iYe[t[r]];return e}function Rle(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function xK(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Nm(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let i=0;i<r.length;i++){let n=i*2,o=t.slice(n,n+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[i]=s}return r}function Nd(t){return xK(gh(t))}function _f(t){if(!c5(t))throw new Error("Uint8Array expected");return xK(gh(Uint8Array.from(t).reverse()))}function Qf(t,e){return Nm(t.toString(16).padStart(e*2,"0"))}function A0(t,e){return Qf(t,e).reverse()}function nYe(t){return Nm(Rle(t))}function Ii(t,e,r){let i;if(typeof e=="string")try{i=Nm(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(c5(e))i=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let n=i.length;if(typeof r=="number"&&n!==r)throw new Error(`${t} expected ${r} bytes, got ${n}`);return i}function Pd(...t){let e=new Uint8Array(t.reduce((i,n)=>i+n.length,0)),r=0;return t.forEach(i=>{if(!c5(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}function Ule(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Fle(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function oYe(t){let e;for(e=0;t>Tle;t>>=a5,e+=1);return e}function sYe(t,e){return t>>BigInt(e)&a5}var aYe=(t,e,r)=>t|(r?a5:Tle)<<BigInt(e),EC=t=>(rYe<<BigInt(t-1))-a5,CK=t=>new Uint8Array(t),kle=t=>Uint8Array.from(t);function SK(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let i=CK(t),n=CK(t),o=0,s=()=>{i.fill(1),n.fill(0),o=0},f=(...y)=>r(n,i,...y),d=(y=CK())=>{n=f(kle([0]),y),i=f(),y.length!==0&&(n=f(kle([1]),y),i=f())},p=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let y=0,B=[];for(;y<e;){i=f();let S=i.slice();B.push(S),y+=i.length}return Pd(...B)};return(y,B)=>{s(),d(y);let S;for(;!(S=B(p()));)d();return s(),S}}var cYe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function hc(t,e,r={}){let i=(n,o,s)=>{let f=cYe[o];if(typeof f!="function")throw new Error(`Invalid validator "${o}", expected function`);let d=t[n];if(!(s&&d===void 0)&&!f(d,t))throw new Error(`Invalid param ${String(n)}=${d} (${typeof d}), expected ${o}`)};for(let[n,o]of Object.entries(e))i(n,o,!1);for(let[n,o]of Object.entries(r))i(n,o,!0);return t}var ao=BigInt(0),an=BigInt(1),Pm=BigInt(2),fYe=BigInt(3),_K=BigInt(4),Nle=BigInt(5),Ple=BigInt(8),dYe=BigInt(9),uYe=BigInt(16);function ei(t,e){let r=t%e;return r>=ao?r:e+r}function QK(t,e,r){if(r<=ao||e<ao)throw new Error("Expected power/modulo > 0");if(r===an)return ao;let i=an;for(;e>ao;)e&an&&(i=i*t%r),t=t*t%r,e>>=an;return i}function Gi(t,e,r){let i=t;for(;e-- >ao;)i*=i,i%=r;return i}function d5(t,e){if(t===ao||e<=ao)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ei(t,e),i=e,n=ao,o=an,s=an,f=ao;for(;r!==ao;){let p=i/r,u=i%r,y=n-s*p,B=o-f*p;i=r,r=u,n=s,o=f,s=y,f=B}if(i!==an)throw new Error("invert: does not exist");return ei(n,e)}function hYe(t){let e=(t-an)/Pm,r,i,n;for(r=t-an,i=0;r%Pm===ao;r/=Pm,i++);for(n=Pm;n<t&&QK(n,e,t)!==t-an;n++);if(i===1){let s=(t+an)/_K;return function(d,p){let u=d.pow(p,s);if(!d.eql(d.sqr(u),p))throw new Error("Cannot find square root");return u}}let o=(r+an)/Pm;return function(f,d){if(f.pow(d,e)===f.neg(f.ONE))throw new Error("Cannot find square root");let p=i,u=f.pow(f.mul(f.ONE,n),r),y=f.pow(d,o),B=f.pow(d,r);for(;!f.eql(B,f.ONE);){if(f.eql(B,f.ZERO))return f.ZERO;let S=1;for(let x=f.sqr(B);S<p&&!f.eql(x,f.ONE);S++)x=f.sqr(x);let C=f.pow(u,an<<BigInt(p-S-1));u=f.sqr(C),y=f.mul(y,C),B=f.mul(B,u),p=S}return y}}function lYe(t){if(t%_K===fYe){let e=(t+an)/_K;return function(i,n){let o=i.pow(n,e);if(!i.eql(i.sqr(o),n))throw new Error("Cannot find square root");return o}}if(t%Ple===Nle){let e=(t-Nle)/Ple;return function(i,n){let o=i.mul(n,Pm),s=i.pow(o,e),f=i.mul(n,s),d=i.mul(i.mul(f,Pm),s),p=i.mul(f,i.sub(d,i.ONE));if(!i.eql(i.sqr(p),n))throw new Error("Cannot find square root");return p}}return t%uYe,hYe(t)}var Ole=(t,e)=>(ei(t,e)&an)===an,pYe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function DK(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=pYe.reduce((i,n)=>(i[n]="function",i),e);return hc(t,r)}function AYe(t,e,r){if(r<ao)throw new Error("Expected power > 0");if(r===ao)return t.ONE;if(r===an)return e;let i=t.ONE,n=e;for(;r>ao;)r&an&&(i=t.mul(i,n)),n=t.sqr(n),r>>=an;return i}function gYe(t,e){let r=new Array(e.length),i=e.reduce((o,s,f)=>t.is0(s)?o:(r[f]=o,t.mul(o,s)),t.ONE),n=t.inv(i);return e.reduceRight((o,s,f)=>t.is0(s)?o:(r[f]=t.mul(o,r[f]),t.mul(o,s)),n),r}function u5(t,e){let r=e!==void 0?e:t.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function h5(t,e,r=!1,i={}){if(t<=ao)throw new Error(`Expected Fp ORDER > 0, got ${t}`);let{nBitLength:n,nByteLength:o}=u5(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=lYe(t),f=Object.freeze({ORDER:t,BITS:n,BYTES:o,MASK:EC(n),ZERO:ao,ONE:an,create:d=>ei(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return ao<=d&&d<t},is0:d=>d===ao,isOdd:d=>(d&an)===an,neg:d=>ei(-d,t),eql:(d,p)=>d===p,sqr:d=>ei(d*d,t),add:(d,p)=>ei(d+p,t),sub:(d,p)=>ei(d-p,t),mul:(d,p)=>ei(d*p,t),pow:(d,p)=>AYe(f,d,p),div:(d,p)=>ei(d*d5(p,t),t),sqrN:d=>d*d,addN:(d,p)=>d+p,subN:(d,p)=>d-p,mulN:(d,p)=>d*p,inv:d=>d5(d,t),sqrt:i.sqrt||(d=>s(f,d)),invertBatch:d=>gYe(f,d),cmov:(d,p,u)=>u?p:d,toBytes:d=>r?A0(d,o):Qf(d,o),fromBytes:d=>{if(d.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${d.length}`);return r?_f(d):Nd(d)}});return Object.freeze(f)}function Kle(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}function qle(t,e,r=!1){t=Ii("privateHash",t);let i=t.length,n=u5(e).nByteLength+8;if(n<24||i<n||i>1024)throw new Error(`hashToPrivateScalar: expected ${n}-1024 bytes of input, got ${i}`);let o=r?_f(t):Nd(t);return ei(o,e-an)+an}b();var mYe=BigInt(0),MK=BigInt(1);function l5(t,e){let r=(n,o)=>{let s=o.negate();return n?s:o},i=n=>{let o=Math.ceil(e/n)+1,s=2**(n-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(n,o){let s=t.ZERO,f=n;for(;o>mYe;)o&MK&&(s=s.add(f)),f=f.double(),o>>=MK;return s},precomputeWindow(n,o){let{windows:s,windowSize:f}=i(o),d=[],p=n,u=p;for(let y=0;y<s;y++){u=p,d.push(u);for(let B=1;B<f;B++)u=u.add(p),d.push(u);p=u.double()}return d},wNAF(n,o,s){let{windows:f,windowSize:d}=i(n),p=t.ZERO,u=t.BASE,y=BigInt(2**n-1),B=2**n,S=BigInt(n);for(let C=0;C<f;C++){let x=C*d,_=Number(s&y);s>>=S,_>d&&(_-=B,s+=MK);let Q=x,R=x+Math.abs(_)-1,k=C%2!==0,K=_<0;_===0?u=u.add(r(k,o[Q])):p=p.add(r(K,o[R]))}return{p,f:u}},wNAFCached(n,o,s,f){let d=n._WINDOW_SIZE||1,p=o.get(n);return p||(p=this.precomputeWindow(n,d),d!==1&&o.set(n,f(p))),this.wNAF(d,p,s)}}}function BC(t){return DK(t.Fp),hc(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...u5(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}var Od=BigInt(0),lc=BigInt(1),p5=BigInt(2),IYe=BigInt(8),wYe={zip215:!0};function vYe(t){let e=BC(t);return hc(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function A5(t){let e=vYe(t),{Fp:r,n:i,prehash:n,hash:o,randomBytes:s,nByteLength:f,h:d}=e,p=p5<<BigInt(f*8)-lc,u=r.create,y=e.uvRatio||((m,c)=>{try{return{isValid:!0,value:r.sqrt(m*r.inv(c))}}catch{return{isValid:!1,value:Od}}}),B=e.adjustScalarBytes||(m=>m),S=e.domain||((m,c,I)=>{if(c.length||I)throw new Error("Contexts/pre-hash are not supported");return m}),C=m=>typeof m=="bigint"&&Od<m,x=(m,c)=>C(m)&&C(c)&&m<c,_=m=>m===Od||x(m,p);function Q(m,c){if(x(m,c))return m;throw new Error(`Expected valid scalar < ${c}, got ${typeof m} ${m}`)}function R(m){return m===Od?m:Q(m,i)}let k=new Map;function K(m){if(!(m instanceof T))throw new Error("ExtendedPoint expected")}class T{constructor(c,I,M,D){if(this.ex=c,this.ey=I,this.ez=M,this.et=D,!_(c))throw new Error("x required");if(!_(I))throw new Error("y required");if(!_(M))throw new Error("z required");if(!_(D))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(c){if(c instanceof T)throw new Error("extended point not allowed");let{x:I,y:M}=c||{};if(!_(I)||!_(M))throw new Error("invalid affine point");return new T(I,M,lc,u(I*M))}static normalizeZ(c){let I=r.invertBatch(c.map(M=>M.ez));return c.map((M,D)=>M.toAffine(I[D])).map(T.fromAffine)}_setWindowSize(c){this._WINDOW_SIZE=c,k.delete(this)}assertValidity(){let{a:c,d:I}=e;if(this.is0())throw new Error("bad point: ZERO");let{ex:M,ey:D,ez:P,et:j}=this,Y=u(M*M),z=u(D*D),$=u(P*P),W=u($*$),ee=u(Y*c),pe=u($*u(ee+z)),ne=u(W+u(I*u(Y*z)));if(pe!==ne)throw new Error("bad point: equation left != right (1)");let se=u(M*D),Le=u(P*j);if(se!==Le)throw new Error("bad point: equation left != right (2)")}equals(c){K(c);let{ex:I,ey:M,ez:D}=this,{ex:P,ey:j,ez:Y}=c,z=u(I*Y),$=u(P*D),W=u(M*Y),ee=u(j*D);return z===$&&W===ee}is0(){return this.equals(T.ZERO)}negate(){return new T(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:c}=e,{ex:I,ey:M,ez:D}=this,P=u(I*I),j=u(M*M),Y=u(p5*u(D*D)),z=u(c*P),$=I+M,W=u(u($*$)-P-j),ee=z+j,pe=ee-Y,ne=z-j,se=u(W*pe),Le=u(ee*ne),ce=u(W*ne),fe=u(pe*ee);return new T(se,Le,fe,ce)}add(c){K(c);let{a:I,d:M}=e,{ex:D,ey:P,ez:j,et:Y}=this,{ex:z,ey:$,ez:W,et:ee}=c;if(I===BigInt(-1)){let Nr=u((P-D)*($+z)),Be=u((P+D)*($-z)),we=u(Be-Nr);if(we===Od)return this.double();let qr=u(j*p5*ee),Ce=u(Y*p5*W),me=Ce+qr,Ir=Be+Nr,be=Ce-qr,Se=u(me*we),sr=u(Ir*be),xe=u(me*be),_e=u(we*Ir);return new T(Se,sr,_e,xe)}let pe=u(D*z),ne=u(P*$),se=u(Y*M*ee),Le=u(j*W),ce=u((D+P)*(z+$)-pe-ne),fe=Le-se,bt=Le+se,ge=u(ne-I*pe),Ie=u(ce*fe),mr=u(bt*ge),ve=u(ce*ge),ye=u(fe*bt);return new T(Ie,mr,ye,ve)}subtract(c){return this.add(c.negate())}wNAF(c){return O.wNAFCached(this,k,c,T.normalizeZ)}multiply(c){let{p:I,f:M}=this.wNAF(Q(c,i));return T.normalizeZ([I,M])[0]}multiplyUnsafe(c){let I=R(c);return I===Od?H:this.equals(H)||I===lc?this:this.equals(L)?this.wNAF(I).p:O.unsafeLadder(this,I)}isSmallOrder(){return this.multiplyUnsafe(d).is0()}isTorsionFree(){return O.unsafeLadder(this,i).is0()}toAffine(c){let{ex:I,ey:M,ez:D}=this,P=this.is0();c==null&&(c=P?IYe:r.inv(D));let j=u(I*c),Y=u(M*c),z=u(D*c);if(P)return{x:Od,y:lc};if(z!==lc)throw new Error("invZ was invalid");return{x:j,y:Y}}clearCofactor(){let{h:c}=e;return c===lc?this:this.multiplyUnsafe(c)}static fromHex(c,I=!1){let{d:M,a:D}=e,P=r.BYTES;c=Ii("pointHex",c,P);let j=c.slice(),Y=c[P-1];j[P-1]=Y&-129;let z=_f(j);z===Od||(I?Q(z,p):Q(z,r.ORDER));let $=u(z*z),W=u($-lc),ee=u(M*$-D),{isValid:pe,value:ne}=y(W,ee);if(!pe)throw new Error("Point.fromHex: invalid y coordinate");let se=(ne&lc)===lc,Le=(Y&128)!==0;if(!I&&ne===Od&&Le)throw new Error("Point.fromHex: x=0 and x_0=1");return Le!==se&&(ne=u(-ne)),T.fromAffine({x:ne,y:z})}static fromPrivateKey(c){return a(c).point}toRawBytes(){let{x:c,y:I}=this.toAffine(),M=A0(I,r.BYTES);return M[M.length-1]|=c&lc?128:0,M}toHex(){return gh(this.toRawBytes())}}T.BASE=new T(e.Gx,e.Gy,lc,u(e.Gx*e.Gy)),T.ZERO=new T(Od,lc,lc,Od);let{BASE:L,ZERO:H}=T,O=l5(T,f*8);function G(m){return ei(m,i)}function v(m){return G(_f(m))}function a(m){let c=f;m=Ii("private key",m,c);let I=Ii("hashed private key",o(m),2*c),M=B(I.slice(0,c)),D=I.slice(c,2*c),P=v(M),j=L.multiply(P),Y=j.toRawBytes();return{head:M,prefix:D,scalar:P,point:j,pointBytes:Y}}function h(m){return a(m).pointBytes}function g(m=new Uint8Array,...c){let I=Pd(...c);return v(o(S(I,Ii("context",m),!!n)))}function l(m,c,I={}){m=Ii("message",m),n&&(m=n(m));let{prefix:M,scalar:D,pointBytes:P}=a(c),j=g(I.context,M,m),Y=L.multiply(j).toRawBytes(),z=g(I.context,Y,P,m),$=G(j+z*D);R($);let W=Pd(Y,A0($,r.BYTES));return Ii("result",W,f*2)}let A=wYe;function w(m,c,I,M=A){let{context:D,zip215:P}=M,j=r.BYTES;m=Ii("signature",m,2*j),c=Ii("message",c),n&&(c=n(c));let Y=_f(m.slice(j,2*j)),z,$,W;try{z=T.fromHex(I,P),$=T.fromHex(m.slice(0,j),P),W=L.multiplyUnsafe(Y)}catch{return!1}if(!P&&z.isSmallOrder())return!1;let ee=g(D,$.toRawBytes(),z.toRawBytes(),c);return $.add(z.multiplyUnsafe(ee)).subtract(W).clearCofactor().equals(T.ZERO)}return L._setWindowSize(8),{CURVE:e,getPublicKey:h,sign:l,verify:w,ExtendedPoint:T,utils:{getExtendedPublicKey:a,randomPrivateKey:()=>s(r.BYTES),precompute(m=8,c=T.BASE){return c._setWindowSize(m),c.multiply(BigInt(3)),c}}}}b();var CC=BigInt(0),kK=BigInt(1);function bYe(t){return hc(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function Lle(t){let e=bYe(t),{P:r}=e,i=k=>ei(k,r),n=e.montgomeryBits,o=Math.ceil(n/8),s=e.nByteLength,f=e.adjustScalarBytes||(k=>k),d=e.powPminus2||(k=>QK(k,r-BigInt(2),r));function p(k,K,T){let L=i(k*(K-T));return K=i(K-L),T=i(T+L),[K,T]}function u(k){if(typeof k=="bigint"&&CC<=k&&k<r)return k;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}let y=(e.a-BigInt(2))/BigInt(4);function B(k,K){let T=u(k),L=u(K),H=T,O=kK,G=CC,v=T,a=kK,h=CC,g;for(let A=BigInt(n-1);A>=CC;A--){let w=L>>A&kK;h^=w,g=p(h,O,v),O=g[0],v=g[1],g=p(h,G,a),G=g[0],a=g[1],h=w;let E=O+G,m=i(E*E),c=O-G,I=i(c*c),M=m-I,D=v+a,P=v-a,j=i(P*E),Y=i(D*c),z=j+Y,$=j-Y;v=i(z*z),a=i(H*i($*$)),O=i(m*I),G=i(M*(m+i(y*M)))}g=p(h,O,v),O=g[0],v=g[1],g=p(h,G,a),G=g[0],a=g[1];let l=d(G);return i(O*l)}function S(k){return A0(i(k),o)}function C(k){let K=Ii("u coordinate",k,o);return s===o&&(K[s-1]&=127),_f(K)}function x(k){let K=Ii("scalar",k);if(K.length!==o&&K.length!==s)throw new Error(`Expected ${o} or ${s} bytes, got ${K.length}`);return _f(f(K))}function _(k,K){let T=C(K),L=x(k),H=B(T,L);if(H===CC)throw new Error("Invalid private or public key received");return S(H)}let Q=S(e.Gu);function R(k){return _(k,Q)}return{scalarMult:_,scalarMultBase:R,getSharedSecret:(k,K)=>_(k,K),getPublicKey:k=>R(k),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:Q}}b();var xC=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Hle=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),B5t=BigInt(0),BYe=BigInt(1),TK=BigInt(2),CYe=BigInt(5),Gle=BigInt(10),xYe=BigInt(20),SYe=BigInt(40),jle=BigInt(80);function zle(t){let e=xC,i=t*t%e*t%e,n=Gi(i,TK,e)*i%e,o=Gi(n,BYe,e)*t%e,s=Gi(o,CYe,e)*o%e,f=Gi(s,Gle,e)*s%e,d=Gi(f,xYe,e)*f%e,p=Gi(d,SYe,e)*d%e,u=Gi(p,jle,e)*p%e,y=Gi(u,jle,e)*p%e,B=Gi(y,Gle,e)*s%e;return{pow_p_5_8:Gi(B,TK,e)*t%e,b2:i}}function Yle(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function _Ye(t,e){let r=xC,i=ei(e*e*e,r),n=ei(i*i*e,r),o=zle(t*n).pow_p_5_8,s=ei(t*i*o,r),f=ei(e*s*s,r),d=s,p=ei(s*Hle,r),u=f===t,y=f===ei(-t,r),B=f===ei(-t*Hle,r);return u&&(s=d),(y||B)&&(s=p),Ole(s,r)&&(s=ei(-s,r)),{isValid:u||y,value:s}}var Df=h5(xC,void 0,!0),SC={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Df,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:BK,randomBytes:BA,adjustScalarBytes:Yle,uvRatio:_Ye},DA=A5(SC);function Jle(t,e,r){if(e.length>255)throw new Error("Context is too big");return mC(hK("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}var C5t=A5({...SC,domain:Jle}),x5t=A5({...SC,domain:Jle,prehash:BK}),_C=Lle({P:xC,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{let e=xC,{pow_p_5_8:r,b2:i}=zle(t);return ei(Gi(r,BigInt(3),e)*i,e)},adjustScalarBytes:Yle,randomBytes:BA});function Vle(t){let{y:e}=DA.ExtendedPoint.fromHex(t),r=BigInt(1);return Df.toBytes(Df.create((r+e)*Df.inv(r-e)))}function Wle(t){let e=SC.hash(t.subarray(0,32));return SC.adjustScalarBytes(e).subarray(0,32)}var QYe=(Df.ORDER+BigInt(3))/BigInt(8),S5t=Df.pow(TK,QYe),_5t=Df.sqrt(Df.neg(Df.ONE)),Q5t=(Df.ORDER-BigInt(5))/BigInt(8),D5t=BigInt(486662);var M5t=Kle(Df,Df.neg(BigInt(486664)));var k5t=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),T5t=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),R5t=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),U5t=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");var F5t=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var g5=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Om=class{static generateKeyPair(){return g5(this,void 0,void 0,function*(){let e=_C.utils.randomPrivateKey(),r=_C.getPublicKey(e);return{privateKey:e,publicKey:r}})}static getPublicKey(e){return g5(this,void 0,void 0,function*(){let{privateKey:r}=e;return _C.getPublicKey(r)})}static sharedSecret(e){return g5(this,void 0,void 0,function*(){let{privateKey:r,publicKey:i}=e;return _C.getSharedSecret(r,i)})}static validatePublicKey(e){return g5(this,void 0,void 0,function*(){throw new Error("Not implemented: 'validatePublicKey()'")})}};b();var y5=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},lb=class{static decrypt(e){return y5(this,void 0,void 0,function*(){let{counter:r,data:i,key:n,length:o}=e,s=yield this.importKey(n),f=yield uc.subtle.decrypt({name:"AES-CTR",counter:r,length:o},s,i);return new Uint8Array(f)})}static encrypt(e){return y5(this,void 0,void 0,function*(){let{counter:r,data:i,key:n,length:o}=e,s=yield this.importKey(n),f=yield uc.subtle.encrypt({name:"AES-CTR",counter:r,length:o},s,i);return new Uint8Array(f)})}static generateKey(e){return y5(this,void 0,void 0,function*(){let{length:r}=e,i=r/8;return uc.getRandomValues(new Uint8Array(i))})}static importKey(e){return y5(this,void 0,void 0,function*(){return uc.subtle.importKey("raw",e.buffer,{name:"AES-CTR",length:e.byteLength*8},!0,["encrypt","decrypt"])})}};b();b();var Km=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},MA=class t{static convertPrivateKeyToX25519(e){return Km(this,void 0,void 0,function*(){let{privateKey:r}=e;return Wle(r)})}static convertPublicKeyToX25519(e){return Km(this,void 0,void 0,function*(){let{publicKey:r}=e;if(!(yield t.validatePublicKey({key:r})))throw new Error("Ed25519: Invalid public key.");return Vle(r)})}static generateKeyPair(){return Km(this,void 0,void 0,function*(){let e=DA.utils.randomPrivateKey(),r=DA.getPublicKey(e);return{privateKey:e,publicKey:r}})}static getPublicKey(e){return Km(this,void 0,void 0,function*(){let{privateKey:r}=e;return DA.getPublicKey(r)})}static sign(e){return Km(this,void 0,void 0,function*(){let{key:r,data:i}=e;return DA.sign(i,r)})}static validatePublicKey(e){return Km(this,void 0,void 0,function*(){let{key:r}=e;try{DA.ExtendedPoint.fromHex(r).assertValidity()}catch{return!1}return!0})}static verify(e){return Km(this,void 0,void 0,function*(){let{key:r,signature:i,data:n}=e;return DA.verify(i,n,r)})}};b();b();b();b();function DYe(t){let e=BC(t);hc(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:i,a:n}=e;if(r){if(!i.eql(n,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:MYe,hexToBytes:kYe}=f5,qm={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=qm;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],i=t.subarray(2,r+2);if(!r||i.length!==r)throw new e("Invalid signature integer: wrong length");if(i[0]&128)throw new e("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:MYe(i),l:t.subarray(r+2)}},toSig(t){let{Err:e}=qm,r=typeof t=="string"?kYe(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let i=r.length;if(i<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==i-2)throw new e("Invalid signature: incorrect length");let{d:n,l:o}=qm._parseInt(r.subarray(2)),{d:s,l:f}=qm._parseInt(o);if(f.length)throw new e("Invalid signature: left bytes after parsing");return{r:n,s}},hexFromSig(t){let e=p=>Number.parseInt(p[0],16)&8?"00"+p:p,r=p=>{let u=p.toString(16);return u.length&1?`0${u}`:u},i=e(r(t.s)),n=e(r(t.r)),o=i.length/2,s=n.length/2,f=r(o),d=r(s);return`30${r(s+o+4)}02${d}${n}02${f}${i}`}},g0=BigInt(0),Mf=BigInt(1),sDt=BigInt(2),Zle=BigInt(3),aDt=BigInt(4);function TYe(t){let e=DYe(t),{Fp:r}=e,i=e.toBytes||((C,x,_)=>{let Q=x.toAffine();return Pd(Uint8Array.from([4]),r.toBytes(Q.x),r.toBytes(Q.y))}),n=e.fromBytes||(C=>{let x=C.subarray(1),_=r.fromBytes(x.subarray(0,r.BYTES)),Q=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:_,y:Q}});function o(C){let{a:x,b:_}=e,Q=r.sqr(C),R=r.mul(Q,C);return r.add(r.add(R,r.mul(C,x)),_)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(C){return typeof C=="bigint"&&g0<C&&C<e.n}function f(C){if(!s(C))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(C){let{allowedPrivateKeyLengths:x,nByteLength:_,wrapPrivateKey:Q,n:R}=e;if(x&&typeof C!="bigint"){if(C instanceof Uint8Array&&(C=gh(C)),typeof C!="string"||!x.includes(C.length))throw new Error("Invalid key");C=C.padStart(_*2,"0")}let k;try{k=typeof C=="bigint"?C:Nd(Ii("private key",C,_))}catch{throw new Error(`private key must be ${_} bytes, hex or bigint, not ${typeof C}`)}return Q&&(k=ei(k,R)),f(k),k}let p=new Map;function u(C){if(!(C instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(x,_,Q){if(this.px=x,this.py=_,this.pz=Q,x==null||!r.isValid(x))throw new Error("x required");if(_==null||!r.isValid(_))throw new Error("y required");if(Q==null||!r.isValid(Q))throw new Error("z required")}static fromAffine(x){let{x:_,y:Q}=x||{};if(!x||!r.isValid(_)||!r.isValid(Q))throw new Error("invalid affine point");if(x instanceof y)throw new Error("projective point not allowed");let R=k=>r.eql(k,r.ZERO);return R(_)&&R(Q)?y.ZERO:new y(_,Q,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){let _=r.invertBatch(x.map(Q=>Q.pz));return x.map((Q,R)=>Q.toAffine(_[R])).map(y.fromAffine)}static fromHex(x){let _=y.fromAffine(n(Ii("pointHex",x)));return _.assertValidity(),_}static fromPrivateKey(x){return y.BASE.multiply(d(x))}_setWindowSize(x){this._WINDOW_SIZE=x,p.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x,y:_}=this.toAffine();if(!r.isValid(x)||!r.isValid(_))throw new Error("bad point: x or y not FE");let Q=r.sqr(_),R=o(x);if(!r.eql(Q,R))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){u(x);let{px:_,py:Q,pz:R}=this,{px:k,py:K,pz:T}=x,L=r.eql(r.mul(_,T),r.mul(k,R)),H=r.eql(r.mul(Q,T),r.mul(K,R));return L&&H}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){let{a:x,b:_}=e,Q=r.mul(_,Zle),{px:R,py:k,pz:K}=this,T=r.ZERO,L=r.ZERO,H=r.ZERO,O=r.mul(R,R),G=r.mul(k,k),v=r.mul(K,K),a=r.mul(R,k);return a=r.add(a,a),H=r.mul(R,K),H=r.add(H,H),T=r.mul(x,H),L=r.mul(Q,v),L=r.add(T,L),T=r.sub(G,L),L=r.add(G,L),L=r.mul(T,L),T=r.mul(a,T),H=r.mul(Q,H),v=r.mul(x,v),a=r.sub(O,v),a=r.mul(x,a),a=r.add(a,H),H=r.add(O,O),O=r.add(H,O),O=r.add(O,v),O=r.mul(O,a),L=r.add(L,O),v=r.mul(k,K),v=r.add(v,v),O=r.mul(v,a),T=r.sub(T,O),H=r.mul(v,G),H=r.add(H,H),H=r.add(H,H),new y(T,L,H)}add(x){u(x);let{px:_,py:Q,pz:R}=this,{px:k,py:K,pz:T}=x,L=r.ZERO,H=r.ZERO,O=r.ZERO,G=e.a,v=r.mul(e.b,Zle),a=r.mul(_,k),h=r.mul(Q,K),g=r.mul(R,T),l=r.add(_,Q),A=r.add(k,K);l=r.mul(l,A),A=r.add(a,h),l=r.sub(l,A),A=r.add(_,R);let w=r.add(k,T);return A=r.mul(A,w),w=r.add(a,g),A=r.sub(A,w),w=r.add(Q,R),L=r.add(K,T),w=r.mul(w,L),L=r.add(h,g),w=r.sub(w,L),O=r.mul(G,A),L=r.mul(v,g),O=r.add(L,O),L=r.sub(h,O),O=r.add(h,O),H=r.mul(L,O),h=r.add(a,a),h=r.add(h,a),g=r.mul(G,g),A=r.mul(v,A),h=r.add(h,g),g=r.sub(a,g),g=r.mul(G,g),A=r.add(A,g),a=r.mul(h,A),H=r.add(H,a),a=r.mul(w,A),L=r.mul(l,L),L=r.sub(L,a),a=r.mul(l,h),O=r.mul(w,O),O=r.add(O,a),new y(L,H,O)}subtract(x){return this.add(x.negate())}is0(){return this.equals(y.ZERO)}wNAF(x){return S.wNAFCached(this,p,x,_=>{let Q=r.invertBatch(_.map(R=>R.pz));return _.map((R,k)=>R.toAffine(Q[k])).map(y.fromAffine)})}multiplyUnsafe(x){let _=y.ZERO;if(x===g0)return _;if(f(x),x===Mf)return this;let{endo:Q}=e;if(!Q)return S.unsafeLadder(this,x);let{k1neg:R,k1:k,k2neg:K,k2:T}=Q.splitScalar(x),L=_,H=_,O=this;for(;k>g0||T>g0;)k&Mf&&(L=L.add(O)),T&Mf&&(H=H.add(O)),O=O.double(),k>>=Mf,T>>=Mf;return R&&(L=L.negate()),K&&(H=H.negate()),H=new y(r.mul(H.px,Q.beta),H.py,H.pz),L.add(H)}multiply(x){f(x);let _=x,Q,R,{endo:k}=e;if(k){let{k1neg:K,k1:T,k2neg:L,k2:H}=k.splitScalar(_),{p:O,f:G}=this.wNAF(T),{p:v,f:a}=this.wNAF(H);O=S.constTimeNegate(K,O),v=S.constTimeNegate(L,v),v=new y(r.mul(v.px,k.beta),v.py,v.pz),Q=O.add(v),R=G.add(a)}else{let{p:K,f:T}=this.wNAF(_);Q=K,R=T}return y.normalizeZ([Q,R])[0]}multiplyAndAddUnsafe(x,_,Q){let R=y.BASE,k=(T,L)=>L===g0||L===Mf||!T.equals(R)?T.multiplyUnsafe(L):T.multiply(L),K=k(this,_).add(k(x,Q));return K.is0()?void 0:K}toAffine(x){let{px:_,py:Q,pz:R}=this,k=this.is0();x==null&&(x=k?r.ONE:r.inv(R));let K=r.mul(_,x),T=r.mul(Q,x),L=r.mul(R,x);if(k)return{x:r.ZERO,y:r.ZERO};if(!r.eql(L,r.ONE))throw new Error("invZ was invalid");return{x:K,y:T}}isTorsionFree(){let{h:x,isTorsionFree:_}=e;if(x===Mf)return!0;if(_)return _(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:x,clearCofactor:_}=e;return x===Mf?this:_?_(y,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),i(y,this,x)}toHex(x=!0){return gh(this.toRawBytes(x))}}y.BASE=new y(e.Gx,e.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);let B=e.nBitLength,S=l5(y,e.endo?Math.ceil(B/2):B);return{CURVE:e,ProjectivePoint:y,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:s}}function RYe(t){let e=BC(t);return hc(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function $le(t){let e=RYe(t),{Fp:r,n:i}=e,n=r.BYTES+1,o=2*r.BYTES+1;function s(A){return g0<A&&A<r.ORDER}function f(A){return ei(A,i)}function d(A){return d5(A,i)}let{ProjectivePoint:p,normPrivateKeyToScalar:u,weierstrassEquation:y,isWithinCurveOrder:B}=TYe({...e,toBytes(A,w,E){let m=w.toAffine(),c=r.toBytes(m.x),I=Pd;return E?I(Uint8Array.from([w.hasEvenY()?2:3]),c):I(Uint8Array.from([4]),c,r.toBytes(m.y))},fromBytes(A){let w=A.length,E=A[0],m=A.subarray(1);if(w===n&&(E===2||E===3)){let c=Nd(m);if(!s(c))throw new Error("Point is not on curve");let I=y(c),M=r.sqrt(I),D=(M&Mf)===Mf;return(E&1)===1!==D&&(M=r.neg(M)),{x:c,y:M}}else if(w===o&&E===4){let c=r.fromBytes(m.subarray(0,r.BYTES)),I=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:c,y:I}}else throw new Error(`Point of length ${w} was invalid. Expected ${n} compressed bytes or ${o} uncompressed bytes`)}}),S=A=>gh(Qf(A,e.nByteLength));function C(A){let w=i>>Mf;return A>w}function x(A){return C(A)?f(-A):A}let _=(A,w,E)=>Nd(A.slice(w,E));class Q{constructor(w,E,m){this.r=w,this.s=E,this.recovery=m,this.assertValidity()}static fromCompact(w){let E=e.nByteLength;return w=Ii("compactSignature",w,E*2),new Q(_(w,0,E),_(w,E,2*E))}static fromDER(w){let{r:E,s:m}=qm.toSig(Ii("DER",w));return new Q(E,m)}assertValidity(){if(!B(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!B(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(w){return new Q(this.r,this.s,w)}recoverPublicKey(w){let{r:E,s:m,recovery:c}=this,I=H(Ii("msgHash",w));if(c==null||![0,1,2,3].includes(c))throw new Error("recovery id invalid");let M=c===2||c===3?E+e.n:E;if(M>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let D=c&1?"03":"02",P=p.fromHex(D+S(M)),j=d(M),Y=f(-I*j),z=f(m*j),$=p.BASE.multiplyAndAddUnsafe(P,Y,z);if(!$)throw new Error("point at infinify");return $.assertValidity(),$}hasHighS(){return C(this.s)}normalizeS(){return this.hasHighS()?new Q(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return Nm(this.toDERHex())}toDERHex(){return qm.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Nm(this.toCompactHex())}toCompactHex(){return S(this.r)+S(this.s)}}let R={isValidPrivateKey(A){try{return u(A),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let A=e.randomBytes(r.BYTES+8),w=qle(A,i);return Qf(w,e.nByteLength)},precompute(A=8,w=p.BASE){return w._setWindowSize(A),w.multiply(BigInt(3)),w}};function k(A,w=!0){return p.fromPrivateKey(A).toRawBytes(w)}function K(A){let w=A instanceof Uint8Array,E=typeof A=="string",m=(w||E)&&A.length;return w?m===n||m===o:E?m===2*n||m===2*o:A instanceof p}function T(A,w,E=!0){if(K(A))throw new Error("first arg must be private key");if(!K(w))throw new Error("second arg must be public key");return p.fromHex(w).multiply(u(A)).toRawBytes(E)}let L=e.bits2int||function(A){let w=Nd(A),E=A.length*8-e.nBitLength;return E>0?w>>BigInt(E):w},H=e.bits2int_modN||function(A){return f(L(A))},O=EC(e.nBitLength);function G(A){if(typeof A!="bigint")throw new Error("bigint expected");if(!(g0<=A&&A<O))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Qf(A,e.nByteLength)}function v(A,w,E=a){if(["recovered","canonical"].some(ee=>ee in E))throw new Error("sign() legacy options not supported");let{hash:m,randomBytes:c}=e,{lowS:I,prehash:M,extraEntropy:D}=E;I==null&&(I=!0),A=Ii("msgHash",A),M&&(A=Ii("prehashed msgHash",m(A)));let P=H(A),j=u(w),Y=[G(j),G(P)];if(D!=null){let ee=D===!0?c(r.BYTES):D;Y.push(Ii("extraEntropy",ee,r.BYTES))}let z=Pd(...Y),$=P;function W(ee){let pe=L(ee);if(!B(pe))return;let ne=d(pe),se=p.BASE.multiply(pe).toAffine(),Le=f(se.x);if(Le===g0)return;let ce=f(ne*f($+Le*j));if(ce===g0)return;let fe=(se.x===Le?0:2)|Number(se.y&Mf),bt=ce;return I&&C(ce)&&(bt=x(ce),fe^=1),new Q(Le,bt,fe)}return{seed:z,k2sig:W}}let a={lowS:e.lowS,prehash:!1},h={lowS:e.lowS,prehash:!1};function g(A,w,E=a){let{seed:m,k2sig:c}=v(A,w,E),I=e;return SK(I.hash.outputLen,I.nByteLength,I.hmac)(m,c)}p.BASE._setWindowSize(8);function l(A,w,E,m=h){let c=A;if(w=Ii("msgHash",w),E=Ii("publicKey",E),"strict"in m)throw new Error("options.strict was renamed to lowS");let{lowS:I,prehash:M}=m,D,P;try{if(typeof c=="string"||c instanceof Uint8Array)try{D=Q.fromDER(c)}catch(se){if(!(se instanceof qm.Err))throw se;D=Q.fromCompact(c)}else if(typeof c=="object"&&typeof c.r=="bigint"&&typeof c.s=="bigint"){let{r:se,s:Le}=c;D=new Q(se,Le)}else throw new Error("PARSE");P=p.fromHex(E)}catch(se){if(se.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(I&&D.hasHighS())return!1;M&&(w=e.hash(w));let{r:j,s:Y}=D,z=H(w),$=d(Y),W=f(z*$),ee=f(j*$),pe=p.BASE.multiplyAndAddUnsafe(P,W,ee)?.toAffine();return pe?f(pe.x)===j:!1}return{CURVE:e,getPublicKey:k,getSharedSecret:T,sign:g,verify:l,ProjectivePoint:p,Signature:Q,utils:R}}b();function UYe(t){return{hash:t,hmac:(e,...r)=>fb(t,e,mC(...r)),randomBytes:BA}}function Xle(t,e){let r=i=>$le({...t,...UYe(i)});return Object.freeze({...r(e),create:r})}var r0e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),e0e=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),FYe=BigInt(1),RK=BigInt(2),t0e=(t,e)=>(t+e/RK)/e;function NYe(t){let e=r0e,r=BigInt(3),i=BigInt(6),n=BigInt(11),o=BigInt(22),s=BigInt(23),f=BigInt(44),d=BigInt(88),p=t*t*t%e,u=p*p*t%e,y=Gi(u,r,e)*u%e,B=Gi(y,r,e)*u%e,S=Gi(B,RK,e)*p%e,C=Gi(S,n,e)*S%e,x=Gi(C,o,e)*C%e,_=Gi(x,f,e)*x%e,Q=Gi(_,d,e)*_%e,R=Gi(Q,f,e)*x%e,k=Gi(R,r,e)*u%e,K=Gi(k,s,e)*C%e,T=Gi(K,i,e)*p%e,L=Gi(T,RK,e);if(!UK.eql(UK.sqr(L),t))throw new Error("Cannot find square root");return L}var UK=h5(r0e,void 0,void 0,{sqrt:NYe}),kf=Xle({a:BigInt(0),b:BigInt(7),Fp:UK,n:e0e,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=e0e,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-FYe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),f=t0e(o*t,e),d=t0e(-i*t,e),p=ei(t-f*r-d*n,e),u=ei(-f*i-d*o,e),y=p>s,B=u>s;if(y&&(p=e-p),B&&(u=e-u),p>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:y,k1:p,k2neg:B,k2:u}}}},p0),BDt=BigInt(0);var CDt=kf.ProjectivePoint;var y0=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},pc=class t{static convertPublicKey(e){return y0(this,void 0,void 0,function*(){let{publicKey:r,compressedPublicKey:i}=e;return kf.ProjectivePoint.fromHex(r).toRawBytes(i)})}static generateKeyPair(e){return y0(this,void 0,void 0,function*(){let{compressedPublicKey:r}=e??{};r??(r=!0);let i=kf.utils.randomPrivateKey(),n=kf.getPublicKey(i,r);return{privateKey:i,publicKey:n}})}static getCurvePoints(e){return y0(this,void 0,void 0,function*(){let{key:r}=e;r.byteLength===32&&(r=yield t.getPublicKey({privateKey:r}));let i=kf.ProjectivePoint.fromHex(r),n=Qf(i.x,32),o=Qf(i.y,32);return{x:n,y:o}})}static getPublicKey(e){return y0(this,void 0,void 0,function*(){let{privateKey:r,compressedPublicKey:i}=e;return i??(i=!0),kf.getPublicKey(r,i)})}static sharedSecret(e){return y0(this,void 0,void 0,function*(){let{privateKey:r,publicKey:i}=e;return kf.getSharedSecret(r,i).slice(1)})}static sign(e){return y0(this,void 0,void 0,function*(){let{data:r,hash:i,key:n}=e,o=this.hashAlgorithms[i],s=o(r);return kf.sign(s,n).toCompactRawBytes()})}static validatePrivateKey(e){return y0(this,void 0,void 0,function*(){let{key:r}=e;return kf.utils.isValidPrivateKey(r)})}static validatePublicKey(e){return y0(this,void 0,void 0,function*(){let{key:r}=e;try{kf.ProjectivePoint.fromHex(r).assertValidity()}catch{return!1}return!0})}static verify(e){return y0(this,void 0,void 0,function*(){let{data:r,hash:i,key:n,signature:o}=e,s=this.hashAlgorithms[i],f=s(r);return kf.verify(o,f,n,{lowS:!1})})}};pc.hashAlgorithms={"SHA-256":p0};b();b();b();var PYe=t=>t instanceof Uint8Array;var Tf=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),i0e=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),OYe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!OYe)throw new Error("Non little-endian hardware is not supported");function m5(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function I5(t){if(typeof t=="string"&&(t=m5(t)),!PYe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}var KYe=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function n0e(t,e){if(e!==void 0&&(typeof e!="object"||!KYe(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}function QC(t,e){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");if(typeof e=="number"&&t.length!==e)throw new Error(`Uint8Array length ${e} expected`)}function o0e(t,e){if(t.length!==e.length)throw new Error("equalBytes: Different size of Uint8Arrays");let r=!0;for(let i=0;i<t.length;i++)r&&(r=t[i]===e[i]);return r}function FK(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);let n=BigInt(32),o=BigInt(4294967295),s=Number(r>>n&o),f=Number(r&o),d=i?4:0,p=i?0:4;t.setUint32(e+d,s,i),t.setUint32(e+p,f,i)}b();b();function NK(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function qYe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function s0e(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function LYe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");NK(t.outputLen),NK(t.blockLen)}function HYe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function GYe(t,e){s0e(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var jYe={number:NK,bool:qYe,bytes:s0e,hash:LYe,exists:HYe,output:GYe},ea=jYe;var Jo=(t,e)=>t[e++]&255|(t[e++]&255)<<8,PK=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=I5(e),QC(e,32);let r=Jo(e,0),i=Jo(e,2),n=Jo(e,4),o=Jo(e,6),s=Jo(e,8),f=Jo(e,10),d=Jo(e,12),p=Jo(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|i<<3)&8191,this.r[2]=(i>>>10|n<<6)&7939,this.r[3]=(n>>>7|o<<9)&8191,this.r[4]=(o>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|f<<2)&8191,this.r[7]=(f>>>11|d<<5)&8065,this.r[8]=(d>>>8|p<<8)&8191,this.r[9]=p>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Jo(e,16+2*u)}process(e,r,i=!1){let n=i?0:2048,{h:o,r:s}=this,f=s[0],d=s[1],p=s[2],u=s[3],y=s[4],B=s[5],S=s[6],C=s[7],x=s[8],_=s[9],Q=Jo(e,r+0),R=Jo(e,r+2),k=Jo(e,r+4),K=Jo(e,r+6),T=Jo(e,r+8),L=Jo(e,r+10),H=Jo(e,r+12),O=Jo(e,r+14),G=o[0]+(Q&8191),v=o[1]+((Q>>>13|R<<3)&8191),a=o[2]+((R>>>10|k<<6)&8191),h=o[3]+((k>>>7|K<<9)&8191),g=o[4]+((K>>>4|T<<12)&8191),l=o[5]+(T>>>1&8191),A=o[6]+((T>>>14|L<<2)&8191),w=o[7]+((L>>>11|H<<5)&8191),E=o[8]+((H>>>8|O<<8)&8191),m=o[9]+(O>>>5|n),c=0,I=c+G*f+v*(5*_)+a*(5*x)+h*(5*C)+g*(5*S);c=I>>>13,I&=8191,I+=l*(5*B)+A*(5*y)+w*(5*u)+E*(5*p)+m*(5*d),c+=I>>>13,I&=8191;let M=c+G*d+v*f+a*(5*_)+h*(5*x)+g*(5*C);c=M>>>13,M&=8191,M+=l*(5*S)+A*(5*B)+w*(5*y)+E*(5*u)+m*(5*p),c+=M>>>13,M&=8191;let D=c+G*p+v*d+a*f+h*(5*_)+g*(5*x);c=D>>>13,D&=8191,D+=l*(5*C)+A*(5*S)+w*(5*B)+E*(5*y)+m*(5*u),c+=D>>>13,D&=8191;let P=c+G*u+v*p+a*d+h*f+g*(5*_);c=P>>>13,P&=8191,P+=l*(5*x)+A*(5*C)+w*(5*S)+E*(5*B)+m*(5*y),c+=P>>>13,P&=8191;let j=c+G*y+v*u+a*p+h*d+g*f;c=j>>>13,j&=8191,j+=l*(5*_)+A*(5*x)+w*(5*C)+E*(5*S)+m*(5*B),c+=j>>>13,j&=8191;let Y=c+G*B+v*y+a*u+h*p+g*d;c=Y>>>13,Y&=8191,Y+=l*f+A*(5*_)+w*(5*x)+E*(5*C)+m*(5*S),c+=Y>>>13,Y&=8191;let z=c+G*S+v*B+a*y+h*u+g*p;c=z>>>13,z&=8191,z+=l*d+A*f+w*(5*_)+E*(5*x)+m*(5*C),c+=z>>>13,z&=8191;let $=c+G*C+v*S+a*B+h*y+g*u;c=$>>>13,$&=8191,$+=l*p+A*d+w*f+E*(5*_)+m*(5*x),c+=$>>>13,$&=8191;let W=c+G*x+v*C+a*S+h*B+g*y;c=W>>>13,W&=8191,W+=l*u+A*p+w*d+E*f+m*(5*_),c+=W>>>13,W&=8191;let ee=c+G*_+v*x+a*C+h*S+g*B;c=ee>>>13,ee&=8191,ee+=l*y+A*u+w*p+E*d+m*f,c+=ee>>>13,ee&=8191,c=(c<<2)+c|0,c=c+I|0,I=c&8191,c=c>>>13,M+=c,o[0]=I,o[1]=M,o[2]=D,o[3]=P,o[4]=j,o[5]=Y,o[6]=z,o[7]=$,o[8]=W,o[9]=ee}finalize(){let{h:e,pad:r}=this,i=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let f=2;f<10;f++)e[f]+=n,n=e[f]>>>13,e[f]&=8191;e[0]+=n*5,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,i[0]=e[0]+5,n=i[0]>>>13,i[0]&=8191;for(let f=1;f<10;f++)i[f]=e[f]+n,n=i[f]>>>13,i[f]&=8191;i[9]-=8192;let o=(n^1)-1;for(let f=0;f<10;f++)i[f]&=o;o=~o;for(let f=0;f<10;f++)e[f]=e[f]&o|i[f];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+r[0];e[0]=s&65535;for(let f=1;f<8;f++)s=(e[f]+r[f]|0)+(s>>>16)|0,e[f]=s&65535}update(e){ea.exists(this);let{buffer:r,blockLen:i}=this;e=I5(e);let n=e.length;for(let o=0;o<n;){let s=Math.min(i-this.pos,n-o);if(s===i){for(;i<=n-o;o+=i)this.process(e,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){ea.exists(this),ea.output(e,this),this.finished=!0;let{buffer:r,h:i}=this,{pos:n}=this;if(n){for(r[n++]=1;n<16;n++)r[n]=0;this.process(r,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)e[o++]=i[s]>>>0,e[o++]=i[s]>>>8;return e}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let i=e.slice(0,r);return this.destroy(),i}};function zYe(t){let e=(i,n)=>t(n).update(I5(i)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=i=>t(i),e}var a0e=zYe(t=>new PK(t));b();var YYe=m5("expand 16-byte k"),JYe=m5("expand 32-byte k"),VYe=Tf(YYe),WYe=Tf(JYe),c0e=t=>!(t.byteOffset%4),pb=t=>{let{core:e,rounds:r,counterRight:i,counterLen:n,allow128bitKeys:o,extendNonceFn:s,blockLen:f}=n0e({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},t);ea.number(n),ea.number(r),ea.number(f),ea.bool(i),ea.bool(o);let d=f/4;if(f%4!==0)throw new Error("Salsa/ChaCha: blockLen should be aligned to 4 bytes");return(p,u,y,B,S=0)=>{if(ea.bytes(p),ea.bytes(u),ea.bytes(y),B||(B=new Uint8Array(y.length)),ea.bytes(B),ea.number(S),S<0||S>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(B.length<y.length)throw new Error(`Salsa/ChaCha: output (${B.length}) is shorter than data (${y.length})`);let C=[],x,_;if(p.length===32)x=p,_=WYe;else if(p.length===16&&o)x=new Uint8Array(32),x.set(p),x.set(p,16),_=VYe,C.push(x);else throw new Error(`Salsa/ChaCha: wrong key length=${p.length}, expected`);if(s){if(u.length<=16)throw new Error("Salsa/ChaCha: extended nonce should be bigger than 16 bytes");x=s(_,x,u.subarray(0,16),new Uint8Array(32)),C.push(x),u=u.subarray(16)}let Q=16-n;if(u.length!==Q)throw new Error(`Salsa/ChaCha: nonce should be ${Q} or 16 bytes`);if(Q!==12){let G=new Uint8Array(12);G.set(u,i?0:12-u.length),C.push(u=G)}let R=new Uint8Array(f),k=Tf(R),K=Tf(x),T=Tf(u),L=c0e(y)&&Tf(y),H=c0e(B)&&Tf(B);C.push(k);let O=y.length;for(let G=0,v=S;G<O;v++){if(e(_,K,T,k,v,r),v>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");let a=Math.min(f,O-G);if(a===f&&H&&L){let h=G/4;if(G%4!==0)throw new Error("Salsa/ChaCha: wrong block position");for(let g=0;g<d;g++)H[h+g]=L[h+g]^k[g];G+=f;continue}for(let h=0;h<a;h++)B[G+h]=y[G+h]^R[h];G+=a}for(let G=0;G<C.length;G++)C[G].fill(0);return B}};var At=(t,e)=>t<<e|t>>>32-e;function DC(t,e,r,i,n,o=20){let s=t[0],f=t[1],d=t[2],p=t[3],u=e[0],y=e[1],B=e[2],S=e[3],C=e[4],x=e[5],_=e[6],Q=e[7],R=n,k=r[0],K=r[1],T=r[2],L=s,H=f,O=d,G=p,v=u,a=y,h=B,g=S,l=C,A=x,w=_,E=Q,m=R,c=k,I=K,M=T;for(let P=0;P<o;P+=2)L=L+v|0,m=At(m^L,16),l=l+m|0,v=At(v^l,12),L=L+v|0,m=At(m^L,8),l=l+m|0,v=At(v^l,7),H=H+a|0,c=At(c^H,16),A=A+c|0,a=At(a^A,12),H=H+a|0,c=At(c^H,8),A=A+c|0,a=At(a^A,7),O=O+h|0,I=At(I^O,16),w=w+I|0,h=At(h^w,12),O=O+h|0,I=At(I^O,8),w=w+I|0,h=At(h^w,7),G=G+g|0,M=At(M^G,16),E=E+M|0,g=At(g^E,12),G=G+g|0,M=At(M^G,8),E=E+M|0,g=At(g^E,7),L=L+a|0,M=At(M^L,16),w=w+M|0,a=At(a^w,12),L=L+a|0,M=At(M^L,8),w=w+M|0,a=At(a^w,7),H=H+h|0,m=At(m^H,16),E=E+m|0,h=At(h^E,12),H=H+h|0,m=At(m^H,8),E=E+m|0,h=At(h^E,7),O=O+g|0,c=At(c^O,16),l=l+c|0,g=At(g^l,12),O=O+g|0,c=At(c^O,8),l=l+c|0,g=At(g^l,7),G=G+v|0,I=At(I^G,16),A=A+I|0,v=At(v^A,12),G=G+v|0,I=At(I^G,8),A=A+I|0,v=At(v^A,7);let D=0;i[D++]=s+L|0,i[D++]=f+H|0,i[D++]=d+O|0,i[D++]=p+G|0,i[D++]=u+v|0,i[D++]=y+a|0,i[D++]=B+h|0,i[D++]=S+g|0,i[D++]=C+l|0,i[D++]=x+A|0,i[D++]=_+w|0,i[D++]=Q+E|0,i[D++]=R+m|0,i[D++]=k+c|0,i[D++]=K+I|0,i[D++]=T+M|0}function ZYe(t,e,r,i){let n=Tf(e),o=Tf(r),s=Tf(i),f=t[0],d=t[1],p=t[2],u=t[3],y=n[0],B=n[1],S=n[2],C=n[3],x=n[4],_=n[5],Q=n[6],R=n[7],k=o[0],K=o[1],T=o[2],L=o[3];for(let H=0;H<20;H+=2)f=f+y|0,k=At(k^f,16),x=x+k|0,y=At(y^x,12),f=f+y|0,k=At(k^f,8),x=x+k|0,y=At(y^x,7),d=d+B|0,K=At(K^d,16),_=_+K|0,B=At(B^_,12),d=d+B|0,K=At(K^d,8),_=_+K|0,B=At(B^_,7),p=p+S|0,T=At(T^p,16),Q=Q+T|0,S=At(S^Q,12),p=p+S|0,T=At(T^p,8),Q=Q+T|0,S=At(S^Q,7),u=u+C|0,L=At(L^u,16),R=R+L|0,C=At(C^R,12),u=u+C|0,L=At(L^u,8),R=R+L|0,C=At(C^R,7),f=f+B|0,L=At(L^f,16),Q=Q+L|0,B=At(B^Q,12),f=f+B|0,L=At(L^f,8),Q=Q+L|0,B=At(B^Q,7),d=d+S|0,k=At(k^d,16),R=R+k|0,S=At(S^R,12),d=d+S|0,k=At(k^d,8),R=R+k|0,S=At(S^R,7),p=p+C|0,K=At(K^p,16),x=x+K|0,C=At(C^x,12),p=p+C|0,K=At(K^p,8),x=x+K|0,C=At(C^x,7),u=u+y|0,T=At(T^u,16),_=_+T|0,y=At(y^_,12),u=u+y|0,T=At(T^u,8),_=_+T|0,y=At(y^_,7);return s[0]=f,s[1]=d,s[2]=p,s[3]=u,s[4]=k,s[5]=K,s[6]=T,s[7]=L,i}var JDt=pb({core:DC,counterRight:!1,counterLen:8}),$Ye=pb({core:DC,counterRight:!1,counterLen:4,allow128bitKeys:!1}),u0e=pb({core:DC,counterRight:!1,counterLen:8,extendNonceFn:ZYe,allow128bitKeys:!1}),VDt=pb({core:DC,counterRight:!1,counterLen:4,rounds:8}),WDt=pb({core:DC,counterRight:!1,counterLen:4,rounds:12}),XYe=new Uint8Array(16),f0e=(t,e)=>{t.update(e);let r=e.length%16;r&&t.update(XYe.subarray(r))},d0e=(t,e,r,i,n)=>{let o=t(e,r,new Uint8Array(32)),s=a0e.create(o);n&&f0e(s,n),f0e(s,i);let f=new Uint8Array(16),d=i0e(f);FK(d,0,BigInt(n?n.length:0),!0),FK(d,8,BigInt(i.length),!0),s.update(f);let p=s.digest();return o.fill(0),p},h0e=t=>(e,r,i)=>(QC(e,32),QC(r),{tagLength:16,encrypt:o=>{let s=new Uint8Array(o.length+16);t(e,r,o,s,1);let f=d0e(t,e,r,s.subarray(0,-16),i);return s.set(f,o.length),s},decrypt:o=>{if(o.length<16)throw new Error("Encrypted data should be at least 16");let s=o.subarray(-16),f=o.subarray(0,-16),d=d0e(t,e,r,f,i);if(!o0e(s,d))throw new Error("Wrong tag");return t(e,r,f,void 0,1)}}),ZDt=h0e($Ye),OK=h0e(u0e);b();var KK=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},l0e=16,MC=class{static decrypt(e){return KK(this,void 0,void 0,function*(){let{additionalData:r,data:i,key:n,nonce:o,tag:s}=e,f=OK(n,o,r),d=new Uint8Array([...i,...s]);return f.decrypt(d)})}static encrypt(e){return KK(this,void 0,void 0,function*(){let{additionalData:r,data:i,key:n,nonce:o}=e,f=OK(n,o,r).encrypt(i),d=f.subarray(0,-l0e),p=f.subarray(-l0e);return{ciphertext:d,tag:p}})}static generateKey(){return KK(this,void 0,void 0,function*(){return crypto.getRandomValues(new Uint8Array(32))})}};var p0e=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},w5=class extends t5{constructor(){super(...arguments),this.namedCurves=["secp256k1","X25519"]}deriveBits(e){return p0e(this,void 0,void 0,function*(){let{algorithm:r,baseKey:i,length:n}=e;this.checkAlgorithmOptions({algorithm:r,baseKey:i}),this.checkKeyUsages({keyUsages:["deriveBits"],allowedKeyUsages:i.usages}),this.checkKeyUsages({keyUsages:["deriveBits"],allowedKeyUsages:r.publicKey.usages});let o,s=i.algorithm;switch(s.namedCurve){case"secp256k1":{let d=i.material,p=r.publicKey.material;o=yield pc.sharedSecret({privateKey:d,publicKey:p});break}case"X25519":{let d=i.material,p=r.publicKey.material;o=yield Om.sharedSecret({privateKey:d,publicKey:p});break}default:throw new TypeError(`Out of range: '${s.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}if(n===null)return o;if(n&&n%8!==0)throw new Sf("To be compatible with all browsers, 'length' must be a multiple of 8.");let f=n/8;if(o.byteLength<f)throw new Sf("Requested 'length' exceeds the byte length of the derived secret.");return f===o.byteLength?o:o.slice(0,f)})}generateKey(e){var r,i;return p0e(this,void 0,void 0,function*(){let{algorithm:n,extractable:o,keyUsages:s}=e;this.checkGenerateKey({algorithm:n,keyUsages:s});let f,d;switch(n.namedCurve){case"secp256k1":{(r=(i=n).compressedPublicKey)!==null&&r!==void 0||(i.compressedPublicKey=!0),f=yield pc.generateKeyPair({compressedPublicKey:n.compressedPublicKey});break}case"X25519":{f=yield Om.generateKeyPair();break}}if(!Fm(f))throw new Error("Operation failed to generate key pair.");return d={privateKey:new so(n,o,f.privateKey,"private",this.keyUsages.privateKey),publicKey:new so(n,!0,f.publicKey,"public",this.keyUsages.publicKey)},d})}};b();var qK=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},v5=class extends r5{constructor(){super(...arguments),this.hashAlgorithms=["SHA-256"],this.namedCurves=["secp256k1"]}generateKey(e){var r;return qK(this,void 0,void 0,function*(){let{algorithm:i,extractable:n,keyUsages:o}=e;this.checkGenerateKey({algorithm:i,keyUsages:o});let s,f;switch(i.namedCurve){case"secp256k1":{(r=i.compressedPublicKey)!==null&&r!==void 0||(i.compressedPublicKey=!0),s=yield pc.generateKeyPair({compressedPublicKey:i.compressedPublicKey});break}}if(!Fm(s))throw new Error("Operation failed to generate key pair.");return f={privateKey:new so(i,n,s.privateKey,"private",this.keyUsages.privateKey),publicKey:new so(i,!0,s.publicKey,"public",this.keyUsages.publicKey)},f})}sign(e){return qK(this,void 0,void 0,function*(){let{algorithm:r,key:i,data:n}=e;this.checkAlgorithmOptions({algorithm:r}),this.checkKeyAlgorithm({keyAlgorithmName:i.algorithm.name}),this.checkKeyType({keyType:i.type,allowedKeyType:"private"}),this.checkKeyUsages({keyUsages:["sign"],allowedKeyUsages:i.usages});let o,s=i.algorithm;switch(s.namedCurve){case"secp256k1":{o=yield pc.sign({hash:r.hash,key:i.material,data:n});break}default:throw new TypeError(`Out of range: '${s.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}return o})}verify(e){return qK(this,void 0,void 0,function*(){let{algorithm:r,key:i,signature:n,data:o}=e;this.checkAlgorithmOptions({algorithm:r}),this.checkKeyAlgorithm({keyAlgorithmName:i.algorithm.name}),this.checkKeyType({keyType:i.type,allowedKeyType:"public"}),this.checkKeyUsages({keyUsages:["verify"],allowedKeyUsages:i.usages});let s,f=i.algorithm;switch(f.namedCurve){case"secp256k1":{s=yield pc.verify({hash:r.hash,key:i.material,signature:n,data:o});break}default:throw new TypeError(`Out of range: '${f.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}return s})}};b();var LK=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},b5=class extends i5{constructor(){super(...arguments),this.namedCurves=["Ed25519","Ed448"]}generateKey(e){return LK(this,void 0,void 0,function*(){let{algorithm:r,extractable:i,keyUsages:n}=e;this.checkGenerateKey({algorithm:r,keyUsages:n});let o,s;switch(r.namedCurve){case"Ed25519":{o=yield MA.generateKeyPair();break}}if(!Fm(o))throw new Error("Operation failed to generate key pair.");return s={privateKey:new so(r,i,o.privateKey,"private",this.keyUsages.privateKey),publicKey:new so(r,!0,o.publicKey,"public",this.keyUsages.publicKey)},s})}sign(e){return LK(this,void 0,void 0,function*(){let{algorithm:r,key:i,data:n}=e;this.checkAlgorithmOptions({algorithm:r}),this.checkKeyAlgorithm({keyAlgorithmName:i.algorithm.name}),this.checkKeyType({keyType:i.type,allowedKeyType:"private"}),this.checkKeyUsages({keyUsages:["sign"],allowedKeyUsages:i.usages});let o,s=i.algorithm;switch(s.namedCurve){case"Ed25519":{o=yield MA.sign({key:i.material,data:n});break}default:throw new TypeError(`Out of range: '${s.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}return o})}verify(e){return LK(this,void 0,void 0,function*(){let{algorithm:r,key:i,signature:n,data:o}=e;this.checkAlgorithmOptions({algorithm:r}),this.checkKeyAlgorithm({keyAlgorithmName:i.algorithm.name}),this.checkKeyType({keyType:i.type,allowedKeyType:"public"}),this.checkKeyUsages({keyUsages:["verify"],allowedKeyUsages:i.usages});let s,f=i.algorithm;switch(f.namedCurve){case"Ed25519":{s=yield MA.verify({key:i.material,signature:n,data:o});break}default:throw new TypeError(`Out of range: '${f.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}return s})}};b();b();var HK=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},E5=class extends o5{decrypt(e){return HK(this,void 0,void 0,function*(){let{algorithm:r,key:i,data:n}=e;return this.checkAlgorithmOptions({algorithm:r,key:i}),this.checkKeyUsages({keyUsages:["decrypt"],allowedKeyUsages:i.usages}),lb.decrypt({counter:r.counter,data:n,key:i.material,length:r.length})})}encrypt(e){return HK(this,void 0,void 0,function*(){let{algorithm:r,key:i,data:n}=e;return this.checkAlgorithmOptions({algorithm:r,key:i}),this.checkKeyUsages({keyUsages:["encrypt"],allowedKeyUsages:i.usages}),lb.encrypt({counter:r.counter,data:n,key:i.material,length:r.length})})}generateKey(e){return HK(this,void 0,void 0,function*(){let{algorithm:r,extractable:i,keyUsages:n}=e;this.checkGenerateKey({algorithm:r,keyUsages:n});let o=yield lb.generateKey({length:r.length});if(Zs(o)!=="Uint8Array")throw new Error("Operation failed to generate key.");return new so(r,i,o,"secret",this.keyUsages)})}};b();var yh=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},eJe=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r},tJe={Ed25519:{name:"EdDSA",namedCurve:"Ed25519"},Ed448:{name:"EdDSA",namedCurve:"Ed448"},X25519:{name:"ECDH",namedCurve:"X25519"},"secp256k1:ES256K":{name:"ECDSA",namedCurve:"secp256k1"},secp256k1:{name:"ECDH",namedCurve:"secp256k1"},"P-256":{name:"ECDSA",namedCurve:"P-256"},"P-384":{name:"ECDSA",namedCurve:"P-384"},"P-521":{name:"ECDSA",namedCurve:"P-521"},A128CBC:{name:"AES-CBC",length:128},A192CBC:{name:"AES-CBC",length:192},A256CBC:{name:"AES-CBC",length:256},A128CTR:{name:"AES-CTR",length:128},A192CTR:{name:"AES-CTR",length:192},A256CTR:{name:"AES-CTR",length:256},A128GCM:{name:"AES-GCM",length:128},A192GCM:{name:"AES-GCM",length:192},A256GCM:{name:"AES-GCM",length:256},HS256:{name:"HMAC",hash:{name:"SHA-256"}},HS384:{name:"HMAC",hash:{name:"SHA-384"}},HS512:{name:"HMAC",hash:{name:"SHA-512"}}},rJe={"EdDSA:Ed25519":{alg:"EdDSA",crv:"Ed25519",kty:"OKP"},"EdDSA:Ed448":{alg:"EdDSA",crv:"Ed448",kty:"OKP"},"ECDH:X25519":{crv:"X25519",kty:"OKP"},"ECDSA:secp256k1":{alg:"ES256K",crv:"secp256k1",kty:"EC"},"ECDH:secp256k1":{crv:"secp256k1",kty:"EC"},"ECDSA:P-256":{alg:"ES256",crv:"P-256",kty:"EC"},"ECDSA:P-384":{alg:"ES384",crv:"P-384",kty:"EC"},"ECDSA:P-521":{alg:"ES512",crv:"P-521",kty:"EC"},"AES-CBC:128":{alg:"A128CBC",kty:"oct"},"AES-CBC:192":{alg:"A192CBC",kty:"oct"},"AES-CBC:256":{alg:"A256CBC",kty:"oct"},"AES-CTR:128":{alg:"A128CTR",kty:"oct"},"AES-CTR:192":{alg:"A192CTR",kty:"oct"},"AES-CTR:256":{alg:"A256CTR",kty:"oct"},"AES-GCM:128":{alg:"A128GCM",kty:"oct"},"AES-GCM:192":{alg:"A192GCM",kty:"oct"},"AES-GCM:256":{alg:"A256GCM",kty:"oct"},"HMAC:SHA-256":{alg:"HS256",kty:"oct"},"HMAC:SHA-384":{alg:"HS384",kty:"oct"},"HMAC:SHA-512":{alg:"HS512",kty:"oct"}},iJe={"ed25519-pub":{alg:"EdDSA",crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{alg:"EdDSA",crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{alg:"ES256K",crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{alg:"ES256K",crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},nJe={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},_s=class t{static cryptoKeyToJwk(e){return yh(this,void 0,void 0,function*(){let{algorithm:r,extractable:i,material:n,type:o,usages:s}=e.key,f=t.webCryptoToJose(r);return f.ext=i?"true":"false",f.key_ops=s,f=yield t.keyToJwk(Object.assign({keyMaterial:n,keyType:o},f)),Object.assign({},f)})}static cryptoKeyToJwkPair(e){return yh(this,void 0,void 0,function*(){let{keyPair:r}=e,i=yield t.cryptoKeyToJwk({key:r.privateKey}),n=yield t.cryptoKeyToJwk({key:r.publicKey});return Object.assign({},{privateKeyJwk:i,publicKeyJwk:n})})}static joseToMulticodec(e){return yh(this,void 0,void 0,function*(){let r=e.key,i=[];"crv"in r&&(i.push(r.crv),"d"in r?i.push("private"):i.push("public"));let n=i.join(":"),o=nJe[n];if(o===void 0)throw new Error(`Unsupported JOSE to Multicodec conversion: '${n}'`);return{code:Ss.getCodeFromName({name:o}),name:o}})}static joseToWebCrypto(e){let r=[];if("crv"in e&&e.crv)r.push(e.crv),e.crv==="secp256k1"&&e.alg==="ES256K"&&r.push(e.alg);else if(e.alg!==void 0)r.push(e.alg);else throw new TypeError("One or more parameters missing: 'alg' or 'crv'");let i=r.join(":"),n=tJe[i];if(n===void 0)throw new Error(`Unsupported JOSE to WebCrypto conversion: '${i}'`);return Object.assign({},n)}static jwkThumbprint(e){return yh(this,void 0,void 0,function*(){let{key:r}=e,i=r.kty,n;if(i==="EC")n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if(i==="oct")n={k:r.k,kty:r.kty};else if(i==="OKP")n={crv:r.crv,kty:r.kty,x:r.x};else if(i==="RSA")n={e:r.e,kty:r.kty,n:r.n};else throw new Error(`Unsupported key type: ${i}`);AK(n);let o=t.canonicalize(n),s=_n.string(o).toUint8Array(),f=p0(s);return _n.uint8Array(f).toBase64Url()})}static jwkToCryptoKey(e){return yh(this,void 0,void 0,function*(){let r=e.key,{keyMaterial:i,keyType:n}=yield t.jwkToKey({key:r}),o=t.joseToWebCrypto(r),s;if("ext"in r&&r.ext!==void 0)s=r.ext==="true";else throw new Error("Conversion from JWK to CryptoKey failed. Required parameter missing: 'ext'");let f;if("key_ops"in r&&r.key_ops!==void 0)f=r.key_ops;else throw new Error("Conversion from JWK to CryptoKey failed. Required parameter missing: 'key_ops'");return new so(o,s,i,n,f)})}static jwkToKey(e){return yh(this,void 0,void 0,function*(){let r=e.key,i,n;if("d"in r)i=_n.base64Url(r.d).toUint8Array(),n="private";else if("y"in r&&r.y){let o=new Uint8Array([4]),s=_n.base64Url(r.x).toUint8Array(),f=_n.base64Url(r.y).toUint8Array();i=new Uint8Array([...o,...s,...f]),n="public"}else if("x"in r)i=_n.base64Url(r.x).toUint8Array(),n="public";else if("k"in r)i=_n.base64Url(r.k).toUint8Array(),n="private";else throw new Error("Jose: Unknown JSON Web Key format.");return{keyMaterial:i,keyType:n}})}static jwkToMultibaseId(e){return yh(this,void 0,void 0,function*(){let r=e.key,{name:i}=yield t.joseToMulticodec({key:r}),{keyMaterial:n}=yield t.jwkToKey({key:r});if("crv"in r&&!("d"in r))switch(r.crv){case"secp256k1":{n=yield pc.convertPublicKey({publicKey:n,compressedPublicKey:!0});break}}return gK({key:n,multicodecName:i})})}static keyToJwk(e){var r,i,n;return yh(this,void 0,void 0,function*(){let{keyMaterial:o,keyType:s}=e,f=eJe(e,["keyMaterial","keyType"]),d=Object.assign({},f);if("crv"in d){switch(d.crv){case"Ed25519":{let p=s==="private"?yield MA.getPublicKey({privateKey:o}):o;d.x=_n.uint8Array(p).toBase64Url(),(r=d.kty)!==null&&r!==void 0||(d.kty="OKP");break}case"X25519":{let p=s==="private"?yield Om.getPublicKey({privateKey:o}):o;d.x=_n.uint8Array(p).toBase64Url(),(i=d.kty)!==null&&i!==void 0||(d.kty="OKP");break}case"secp256k1":{let p=yield pc.getCurvePoints({key:o});d.x=_n.uint8Array(p.x).toBase64Url(),d.y=_n.uint8Array(p.y).toBase64Url(),(n=d.kty)!==null&&n!==void 0||(d.kty="EC");break}default:throw new Error(`Unsupported key to JWK conversion: ${d.crv}`)}s==="private"&&(d=Object.assign({d:_n.uint8Array(o).toBase64Url()},d))}return!("crv"in d)&&d.kty==="oct"&&(d.k=_n.uint8Array(o).toBase64Url()),Object.assign({},d)})}static multicodecToJose(e){return yh(this,void 0,void 0,function*(){let{code:r,name:i}=e;if(!(i?!r:r))throw new Error("Either 'name' or 'code' must be defined, but not both.");i=i===void 0?Ss.getNameFromCode({code:r}):i;let o=iJe[i];if(o===void 0)throw new Error(`Unsupported Multicodec to JOSE conversion: '${e.name}'`);return Object.assign({},o)})}static webCryptoToJose(e){let r=[];if(r.push(e.name),"namedCurve"in e)r.push(e.namedCurve);else if("length"in e&&e.length!==void 0)r.push(e.length.toString());else if("hash"in e)r.push(e.hash.name);else throw new TypeError("One or more parameters missing: 'name', 'namedCurve', 'length', or 'hash'");let i=r.join(":"),n=rJe[i];if(n===void 0)throw new Error(`Unsupported WebCrypto to JOSE conversion: '${i}'`);return Object.assign({},n)}static canonicalize(e){let i=Object.keys(e).sort().reduce((n,o)=>(n[o]=e[o],n),{});return JSON.stringify(i)}};function oJe(t){return class extends t{toJwk(){return yh(this,void 0,void 0,function*(){return _s.cryptoKeyToJwk({key:this})})}}}var ekt=oJe(so);var Rf=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},kC=class{constructor(e){var r,i;this._vaultUnlockKey=new Uint8Array,this._keyDerivationWorkFactor=(r=e?.keyDerivationWorkFactor)!==null&&r!==void 0?r:65e4,this._store=(i=e?.store)!==null&&i!==void 0?i:new f2}backup(e){return Rf(this,void 0,void 0,function*(){throw new Error("Not implemented")})}changePassphrase(e){return Rf(this,void 0,void 0,function*(){throw new Error("Not implemented")})}generateVaultUnlockKey(e){return Rf(this,void 0,void 0,function*(){let{passphrase:r,salt:i}=e;return yield bC.deriveKey({hash:"SHA-512",iterations:this._keyDerivationWorkFactor,length:256,password:ct.string(r).toUint8Array(),salt:i})})}getDid(){return Rf(this,void 0,void 0,function*(){let e=yield this._store.get("vaultKeySet"),[r]=e.split("."),o={verificationMethodKeys:[{publicKeyJwk:ct.base64Url(r).toObject().wrappedKey,relationships:["authentication"]}]},{did:s}=yield l0.create({keySet:o});return s})}getPublicKey(){return Rf(this,void 0,void 0,function*(){let e=yield this._store.get("vaultKeySet"),[r]=e.split("."),n=ct.base64Url(r).toObject().wrappedKey;return yield _s.jwkToCryptoKey({key:n})})}getPrivateKey(){return Rf(this,void 0,void 0,function*(){let e=yield this._store.get("vaultKeySet"),[r,i,n,o,s]=e.split("."),f=ct.base64Url(r).toObject(),d=ct.base64Url(i).toUint8Array(),p=ct.base64Url(n).toUint8Array(),u=ct.base64Url(s).toUint8Array(),y=yield MC.decrypt({additionalData:ct.object(f).toUint8Array(),data:d,key:this._vaultUnlockKey,nonce:p,tag:u}),B=yield this.getPublicKey();return new so(B.algorithm,B.extractable,y,"private",["sign"])})}getStatus(){return Rf(this,void 0,void 0,function*(){try{let e=yield this._store.get("appDataStatus");return JSON.parse(e)}catch{return{initialized:!1,lastBackup:void 0,lastRestore:void 0}}})}initialize(e){return Rf(this,void 0,void 0,function*(){let{keyPair:r,passphrase:i}=e,n=yield this.getStatus();if(n.initialized===!0)throw new Error("Operation 'initialize' failed. Data vault already initialized.");let o=r.publicKey.material,s=xle(p0,o,void 0,"vault_unlock_salt",32),f=ct.string("PBES2-HS512+XC20PKW").toUint8Array(),d=new Uint8Array([...f,0,...s]);this._vaultUnlockKey=yield this.generateVaultUnlockKey({passphrase:i,salt:d});let p=yield _s.cryptoKeyToJwk({key:r.publicKey}),u={alg:"PBES2-HS512+XC20PKW",crit:["wrappedKey"],enc:"XC20P",p2c:this._keyDerivationWorkFactor,p2s:ct.uint8Array(d).toBase64Url(),wrappedKey:p},y=Xs.randomBytes(24),B=r.privateKey.material,{ciphertext:S,tag:C}=yield MC.encrypt({additionalData:ct.object(u).toUint8Array(),data:B,key:this._vaultUnlockKey,nonce:y}),x=ct.object(u).toBase64Url()+"."+ct.uint8Array(S).toBase64Url()+"."+ct.uint8Array(y).toBase64Url()+"."+ct.string("unused").toBase64Url()+"."+ct.uint8Array(C).toBase64Url();yield this._store.set("vaultKeySet",x),n.initialized=!0,yield this.setStatus(n)})}lock(){return Rf(this,void 0,void 0,function*(){this._vaultUnlockKey.fill(0),this._vaultUnlockKey=new Uint8Array})}restore(e){return Rf(this,void 0,void 0,function*(){throw new Error("Not implemented")})}setStatus(e){var r,i,n;return Rf(this,void 0,void 0,function*(){let o=yield this.getStatus();return o.initialized=(r=e.initialized)!==null&&r!==void 0?r:o.initialized,o.lastBackup=(i=e.lastBackup)!==null&&i!==void 0?i:o.lastBackup,o.lastRestore=(n=e.lastRestore)!==null&&n!==void 0?n:o.lastRestore,yield this._store.set("appDataStatus",JSON.stringify(o)),!0})}unlock(e){return Rf(this,void 0,void 0,function*(){let{passphrase:r}=e,i=yield this._store.get("vaultKeySet"),[n]=i.split("."),o=ct.base64Url(n).toObject();if(o.p2s!==void 0){let s=ct.base64Url(o.p2s).toUint8Array();this._vaultUnlockKey=yield this.generateVaultUnlockKey({passphrase:r,salt:s})}return!0})}};b();b();var Kd=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},TC=class{constructor(){this._didRecordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/managed-did"}}deleteDid(e){var r;return Kd(this,void 0,void 0,function*(){let{agent:i,context:n,did:o}=e,s=yield this.getAuthor({agent:i,context:n,did:o}),{reply:f}=yield i.dwnManager.processRequest({author:s,target:s,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._didRecordProperties)}}),d;for(let u of(r=f.entries)!==null&&r!==void 0?r:[])if(u.encodedData){let y=ct.base64Url(u.encodedData).toObject();if(y&&y.did===o){d=u.recordId;break}}if(!d)return!1;let{reply:{status:p}}=yield i.dwnManager.processRequest({author:s,target:s,messageType:"RecordsDelete",messageOptions:{recordId:d}});return p.code===202})}findDid(e){var r;return Kd(this,void 0,void 0,function*(){let{agent:i,alias:n,context:o,did:s}=e,f=yield this.getAuthor({agent:i,context:o,did:s}),{reply:d}=yield i.dwnManager.processRequest({author:f,target:f,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._didRecordProperties)}});for(let p of(r=d.entries)!==null&&r!==void 0?r:[])if(p.encodedData){let u=ct.base64Url(p.encodedData).toObject();if(u&&u.did===s||u&&u.alias===n)return u}})}getDid(e){var r;return Kd(this,void 0,void 0,function*(){let{agent:i,context:n,did:o}=e,s=yield this.getAuthor({agent:i,context:n,did:o}),{reply:f}=yield i.dwnManager.processRequest({author:s,target:s,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._didRecordProperties)}});for(let d of(r=f.entries)!==null&&r!==void 0?r:[])if(d.encodedData){let p=ct.base64Url(d.encodedData).toObject();if(p&&p.did===o)return p}})}importDid(e){return Kd(this,void 0,void 0,function*(){let{agent:r,context:i,did:n}=e,o=yield this.getAuthor({agent:r,context:i,did:n.did});if(yield this.getDid({agent:r,context:i,did:n.did}))throw new Error(`DidStoreDwn: DID with ID already exists: '${n.did}'`);let f=ct.object(n).toUint8Array(),{reply:{status:d}}=yield r.dwnManager.processRequest({author:o,target:o,messageType:"RecordsWrite",messageOptions:Object.assign({},this._didRecordProperties),dataStream:new Blob([f])});if(d.code!==202)throw new Error("DidStoreDwn: Failed to write imported DID to store.")})}listDids(e){var r;return Kd(this,void 0,void 0,function*(){let{agent:i,context:n}=e,o=yield this.getAuthor({agent:i,context:n}),{reply:s}=yield i.dwnManager.processRequest({author:o,target:o,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._didRecordProperties)}}),f=[];for(let d of(r=s.entries)!==null&&r!==void 0?r:[])if(d.encodedData){let p=ct.base64Url(d.encodedData).toObject();f.push(p)}return f})}getAuthor(e){return Kd(this,void 0,void 0,function*(){let{context:r,did:i,agent:n}=e;if(r)return r;if(n.agentDid)return n.agentDid;if(!i)throw new Error("DidStoreDwn: Agent property 'agentDid' is undefined.");let o=yield n.didManager.getDefaultSigningKey({did:i});if(o?yield n.keyManager.getKey({keyRef:o}):void 0)return i;throw new Error(`DidStoreDwn: Agent property 'agentDid' is undefined and no keys were found for: '${i}'`)})}},RC=class{constructor(){this.store=new Map}deleteDid({did:e}){return Kd(this,void 0,void 0,function*(){return this.store.has(e)?(this.store.delete(e),!0):!1})}getDid({did:e}){return Kd(this,void 0,void 0,function*(){return this.store.get(e)})}findDid(e){return Kd(this,void 0,void 0,function*(){let{alias:r,did:i}=e;if(i)return this.store.get(i);if(r){for(let n of this.store.values())if(n.alias===r)return n}})}importDid(e){return Kd(this,void 0,void 0,function*(){let{did:r}=e;if(this.store.has(r.did))throw new Error(`DidStoreMemory: DID with ID already exists: '${r.did}'`);let i=structuredClone(r);this.store.set(r.did,i)})}listDids(){return Kd(this,void 0,void 0,function*(){return Array.from(this.store.values())})}};var Lm=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},sJe=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r},Hm;(function(t){t.Create="Create",t.Resolve="Resolve"})(Hm||(Hm={}));var UC=class{constructor(e){this._didMethods=new Map;let{agent:r,didMethods:i,store:n}=e;if(this._agent=r,this._store=n??new RC,!i)throw new TypeError("DidManager: Required parameter missing: 'didMethods'");for(let o of i)this._didMethods.set(o.methodName,o)}get agent(){if(this._agent===void 0)throw new Error("DidManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e}create(e){return Lm(this,void 0,void 0,function*(){let{alias:r,keySet:i,kms:n,metadata:o,method:s,context:f}=e,d=sJe(e,["alias","keySet","kms","metadata","method","context"]),p=this.getMethod(s);i?.verificationMethodKeys===void 0&&(i=yield p.generateKeySet()),i=yield this.importOrGetKeySet({keySet:i,kms:n});let u=yield p.create(Object.assign(Object.assign({},d),{keySet:i}));yield this.updateKeySet({canonicalId:u.canonicalId,didDocument:u.document,keySet:i});let y=Object.assign(Object.assign({},o),u.metadata),B=Object.assign(Object.assign({alias:r,method:s},u),{metadata:y});return f??(f=B.did),yield this._store.importDid({did:B,agent:this.agent,context:f}),B})}getDefaultSigningKey(e){return Lm(this,void 0,void 0,function*(){let{did:r}=e,{didDocument:i}=yield this.agent.didResolver.resolve(r),n=Vs.parseDid({didUrl:r});if(!(i&&n))throw new Error(`DidManager: Unable to resolve: ${r}`);return yield this.getMethod(n.method).getDefaultSigningKey({didDocument:i})})}get(e){return Lm(this,void 0,void 0,function*(){let r,{context:i,didRef:n}=e;if(r=yield this._store.getDid({did:n,agent:this.agent,context:i}),r||(r=yield this._store.findDid({alias:n,agent:this.agent,context:i}),r))return r})}import(e){return Lm(this,void 0,void 0,function*(){let{alias:r,context:i,did:n,kms:o}=e;if(n.keySet===void 0)throw new Error("Portable DID is missing required property: 'keySet'");let s=Vs.parseDid({didUrl:n.did});if(!s)throw new Error(`DidManager: Unable to resolve: ${n}`);let{method:f}=s;this.getMethod(f);let d=yield this.importOrGetKeySet({keySet:n.keySet,kms:o});yield this.updateKeySet({canonicalId:n.canonicalId,didDocument:n.document,keySet:d});let p=Object.assign(Object.assign({alias:r,method:f},n),{keySet:d});return i??(i=p.did),yield this._store.importDid({did:p,agent:this.agent,context:i}),p})}getMethod(e){let r=this._didMethods.get(e);if(r===void 0)throw new Error(`The DID method '${e}' is not supported`);return r}importOrGetKeySet(e){return Lm(this,void 0,void 0,function*(){let{kms:r}=e,i=this.agent,n=structuredClone(e.keySet);for(let o of n.verificationMethodKeys)if(o.keyManagerId===void 0)if("publicKeyJwk"in o&&"privateKeyJwk"in o&&o.publicKeyJwk&&o.privateKeyJwk){let s=yield _s.jwkToCryptoKey({key:o.publicKeyJwk}),f=yield _s.jwkToCryptoKey({key:o.privateKeyJwk}),d=yield i.keyManager.importKey({privateKey:Object.assign(Object.assign({kms:r},f),{material:f.material}),publicKey:Object.assign(Object.assign({kms:r},s),{material:s.material})});o.keyManagerId=d.privateKey.id,delete o.privateKeyJwk}else if("publicKeyJwk"in o&&o.publicKeyJwk){let s=yield _s.jwkToCryptoKey({key:o.publicKeyJwk}),f=yield i.keyManager.importKey(Object.assign(Object.assign({kms:r},s),{material:s.material}));o.keyManagerId=f.id}else throw new Error("Required parameter(s) missing: 'publicKeyJwk', and optionally, 'privateKeyJwk");else{let s=yield i.keyManager.getKey({keyRef:o.keyManagerId});if(!s)throw new Error(`Key with ID '${o.keyManagerId} not found.`);let f="publicKey"in s?s.publicKey:s;o.publicKeyJwk=yield _s.cryptoKeyToJwk({key:f})}return n})}processRequest(e){return Lm(this,void 0,void 0,function*(){let{messageOptions:r,messageType:i,store:n}=e;switch(i){case Hm.Create:return{result:yield this.create(r)};default:throw new Error(`DidManager: Unsupported request type: ${i}`)}})}updateKeySet(e){return Lm(this,void 0,void 0,function*(){let{canonicalId:r,didDocument:i,keySet:n}=e,o=this.agent,s=r??i.id;for(let f of n.verificationMethodKeys){let d=yield _s.jwkToMultibaseId({key:f.publicKeyJwk}),p=Vs.getVerificationMethodIds({didDocument:i,publicKeyJwk:f.publicKeyJwk,publicKeyMultibase:d});if(!(p&&p.includes("#")))throw new Error("DidManager: Unable to update key set due to malformed verification method ID");let[,u]=p.split("#"),y=`${s}#${u}`;yield o.keyManager.updateKey({keyRef:f.keyManagerId,alias:y})}})}};b();b();b();b();b();var L0e=Rt(P0e(),1);b();var jK=new TextEncoder,NJe=new TextDecoder,Kt=class t{static base64UrlToBytes(e){return Xt.baseDecode(e)}static base64UrlToObject(e){let r=Xt.baseDecode(e);return t.bytesToObject(r)}static bytesToBase64Url(e){return Xt.baseEncode(e)}static bytesToString(e){return NJe.decode(e)}static bytesToObject(e){let r=t.bytesToString(e);return JSON.parse(r)}static objectToBytes(e){let r=JSON.stringify(e);return jK.encode(r)}static stringToBase64Url(e){let r=jK.encode(e);return Xt.baseEncode(r)}static stringToBytes(e){return jK.encode(e)}};b();b();b();b();var Te=class extends Error{constructor(e,r){super(`${e}: ${r}`),this.code=e,this.name="DwnError"}},Ee;(function(t){t.AuthenticateJwsMissing="AuthenticateJwsMissing",t.AuthenticateDescriptorCidMismatch="AuthenticateDescriptorCidMismatch",t.AuthenticationMoreThanOneSignatureNotSupported="AuthenticationMoreThanOneSignatureNotSupported",t.AuthorizationAuthorNotOwner="AuthorizationAuthorNotOwner",t.AuthorizationNotGrantedToAuthor="AuthorizationNotGrantedToAuthor",t.ComputeCidCodecNotSupported="ComputeCidCodecNotSupported",t.ComputeCidMultihashNotSupported="ComputeCidMultihashNotSupported",t.DidMethodNotSupported="DidMethodNotSupported",t.DidNotString="DidNotString",t.DidNotValid="DidNotValid",t.DidResolutionFailed="DidResolutionFailed",t.Ed25519InvalidJwk="Ed25519InvalidJwk",t.GeneralJwsVerifierGetPublicKeyNotFound="GeneralJwsVerifierGetPublicKeyNotFound",t.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",t.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",t.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",t.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",t.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",t.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",t.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",t.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",t.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",t.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",t.JwsVerifySignatureUnsupportedCrv="JwsVerifySignatureUnsupportedCrv",t.IndexInvalidSortProperty="IndexInvalidSortProperty",t.IndexMissingIndexableProperty="IndexMissingIndexableProperty",t.JwsDecodePlainObjectPayloadInvalid="JwsDecodePlainObjectPayloadInvalid",t.MessageGetInvalidCid="MessageGetInvalidCid",t.ParseCidCodecNotSupported="ParseCidCodecNotSupported",t.ParseCidMultihashNotSupported="ParseCidMultihashNotSupported",t.PermissionsGrantGrantedByMismatch="PermissionsGrantGrantedByMismatch",t.PermissionsGrantNotADelegatedGrant="PermissionsGrantNotADelegatedGrant",t.PermissionsGrantScopeContextIdAndProtocolPath="PermissionsGrantScopeContextIdAndProtocolPath",t.PermissionsGrantScopeSchemaProhibitedFields="PermissionsGrantScopeSchemaProhibitedFields",t.PermissionsGrantUnauthorizedGrant="PermissionsGrantUnauthorizedGrant",t.PermissionsRevokeMissingPermissionsGrant="PermissionsRevokeMissingPermissionsGrant",t.PermissionsRevokeUnauthorizedRevoke="PermissionsRevokeUnauthorizedRevoke",t.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",t.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",t.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",t.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",t.ProtocolAuthorizationActionRulesNotFound="ProtocolAuthorizationActionRulesNotFound",t.ProtocolAuthorizationDuplicateContextRoleRecipient="ProtocolAuthorizationDuplicateContextRoleRecipient",t.ProtocolAuthorizationDuplicateGlobalRoleRecipient="ProtocolAuthorizationDuplicateGlobalRoleRecipient",t.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",t.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",t.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",t.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",t.ProtocolAuthorizationMissingContextId="ProtocolAuthorizationMissingContextId",t.ProtocolAuthorizationMissingRole="ProtocolAuthorizationMissingRole",t.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",t.ProtocolAuthorizationParentlessIncorrectProtocolPath="ProtocolAuthorizationParentlessIncorrectProtocolPath",t.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",t.ProtocolAuthorizationParentNotFound="ProtocolAuthorizationParentNotFound",t.ProtocolAuthorizationProtocolNotFound="ProtocolAuthorizationProtocolNotFound",t.ProtocolAuthorizationQueryWithoutRole="ProtocolAuthorizationQueryWithoutRole",t.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",t.ProtocolsConfigureContextRoleAtProhibitedProtocolPath="ProtocolsConfigureContextRoleAtProhibitedProtocolPath",t.ProtocolsConfigureGlobalRoleAtProhibitedProtocolPath="ProtocolsConfigureGlobalRoleAtProhibitedProtocolPath",t.ProtocolsConfigureInvalidRole="ProtocolsConfigureInvalidRole",t.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",t.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",t.ProtocolsConfigureInvalidRecipientOfAction="ProtocolsConfigureInvalidRecipientOfAction",t.ProtocolsConfigureQueryNotAllowed="ProtocolsConfigureQueryNotAllowed",t.ProtocolsConfigureUnauthorized="ProtocolsConfigureUnauthorized",t.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",t.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",t.RecordsDeleteAuthorizationFailed="RecordsDeleteAuthorizationFailed",t.RecordsQueryCreateFilterPublishedSortInvalid="RecordsQueryCreateFilterPublishedSortInvalid",t.RecordsQueryParseFilterPublishedSortInvalid="RecordsQueryParseFilterPublishedSortInvalid",t.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",t.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",t.RecordsGrantAuthorizationDeleteProtocolScopeMismatch="RecordsGrantAuthorizationDeleteProtocolScopeMismatch",t.RecordsGrantAuthorizationQueryProtocolScopeMismatch="RecordsGrantAuthorizationQueryProtocolScopeMismatch",t.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",t.RecordsGrantAuthorizationScopeNotProtocol="RecordsGrantAuthorizationScopeNotProtocol",t.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",t.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",t.RecordsGrantAuthorizationScopeSchema="RecordsGrantAuthorizationScopeSchema",t.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",t.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",t.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",t.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",t.RecordsQueryFilterMissingRequiredProperties="RecordsQueryFilterMissingRequiredProperties",t.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",t.RecordsReadAuthorizationFailed="RecordsReadAuthorizationFailed",t.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",t.RecordsValidateIntegrityDelegatedGrantAndIdExistenceMismatch="RecordsValidateIntegrityDelegatedGrantAndIdExistenceMismatch",t.RecordsValidateIntegrityGrantedToAndSignerMismatch="RecordsValidateIntegrityGrantedToAndSignerMismatch",t.RecordsWriteAttestationIntegrityMoreThanOneSignature="RecordsWriteAttestationIntegrityMoreThanOneSignature",t.RecordsWriteAttestationIntegrityDescriptorCidMismatch="RecordsWriteAttestationIntegrityDescriptorCidMismatch",t.RecordsWriteAttestationIntegrityInvalidPayloadProperty="RecordsWriteAttestationIntegrityInvalidPayloadProperty",t.RecordsWriteAuthorizationFailed="RecordsWriteAuthorizationFailed",t.RecordsWriteCreateMissingSigner="RecordsWriteCreateMissingSigner",t.RecordsWriteCreateContextIdAndParentIdMutuallyInclusive="RecordsWriteCreateContextIdAndParentIdMutuallyInclusive",t.RecordsWriteCreateDataAndDataCidMutuallyExclusive="RecordsWriteCreateDataAndDataCidMutuallyExclusive",t.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive="RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive",t.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive="RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive",t.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",t.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",t.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",t.RecordsWriteGetInitialWriteNotFound="RecordsWriteGetInitialWriteNotFound",t.RecordsWriteImmutablePropertyChanged="RecordsWriteImmutablePropertyChanged",t.RecordsWriteMissingSigner="RecordsWriteMissingSigner",t.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",t.RecordsWriteMissingEncodedDataInPrevious="RecordsWriteMissingEncodedDataInPrevious",t.RecordsWriteMissingDataAssociation="RecordsWriteMissingDataAssociation",t.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",t.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",t.RecordsWriteMissingSchema="RecordsWriteMissingSchema",t.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",t.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",t.RecordsWriteValidateIntegrityAttestationMismatch="RecordsWriteValidateIntegrityAttestationMismatch",t.RecordsWriteValidateIntegrityContextIdMismatch="RecordsWriteValidateIntegrityContextIdMismatch",t.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload="RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload",t.RecordsWriteValidateIntegrityDateCreatedMismatch="RecordsWriteValidateIntegrityDateCreatedMismatch",t.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",t.RecordsWriteValidateIntegrityRecordIdUnauthorized="RecordsWriteValidateIntegrityRecordIdUnauthorized",t.SchemaValidatorSchemaNotFound="SchemaValidatorSchemaNotFound",t.SchemaValidationFailure="SchemaValidationFailure",t.Secp256k1KeyNotValid="Secp256k1KeyNotValid",t.TimestampInvalid="TimestampInvalid",t.UrlProtocolNotNormalized="UrlProtocolNotNormalized",t.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",t.UrlSchemaNotNormalized="UrlSchemaNotNormalized",t.UrlSchemaNotNormalizable="UrlSchemaNotNormalizable"})(Ee||(Ee={}));var B5=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})};function O0e(t){if(t.kty!=="OKP"||t.crv!=="Ed25519")throw new Te(Ee.Ed25519InvalidJwk,"invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function K0e(t){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:Kt.bytesToBase64Url(t)}}var NC={sign:(t,e)=>B5(void 0,void 0,void 0,function*(){O0e(e);let r=Kt.base64UrlToBytes(e.d);return Whe(t,r)}),verify:(t,e,r)=>B5(void 0,void 0,void 0,function*(){O0e(r);let i=Kt.base64UrlToBytes(r.x);return Zhe(e,t,i)}),generateKeyPair:()=>B5(void 0,void 0,void 0,function*(){let t=$O.randomPrivateKey(),e=yield ZO(t),r=Kt.bytesToBase64Url(t),i=K0e(e),n=Object.assign(Object.assign({},i),{d:r});return{publicJwk:i,privateJwk:n}}),publicKeyToJwk:t=>B5(void 0,void 0,void 0,function*(){return K0e(t)})};b();b();var q0e=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),ta=xT({name:"sha2-256",code:18,encode:q0e("SHA-256")}),tTt=xT({name:"sha2-512",code:19,encode:q0e("SHA-512")});var qd=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},PJe=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r},Vn=class t{static validateKey(e){if(e.kty!=="EC"||e.crv!=="secp256k1")throw new Te(Ee.Secp256k1KeyNotValid,"Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static publicKeyToJwk(e){return qd(this,void 0,void 0,function*(){let r;e.byteLength===33?r=xs.fromHex(e).toRawBytes(!1):r=e;let i=Kt.bytesToBase64Url(r.subarray(1,33)),n=Kt.bytesToBase64Url(r.subarray(33,65));return{alg:"ES256K",kty:"EC",crv:"secp256k1",x:i,y:n}})}static privateKeyToJwk(e){return qd(this,void 0,void 0,function*(){let r=yield t.getPublicKey(e),i=yield t.publicKeyToJwk(r);return i.d=Kt.bytesToBase64Url(e),i})}static publicJwkToBytes(e){let r=Kt.base64UrlToBytes(e.x),i=Kt.base64UrlToBytes(e.y);return xs.fromAffine({x:Ah.bytesToNumberBE(r),y:Ah.bytesToNumberBE(i)}).toRawBytes(!0)}static privateJwkToBytes(e){return Kt.base64UrlToBytes(e.d)}static sign(e,r){return qd(this,void 0,void 0,function*(){t.validateKey(r);let i=yield ta.encode(e),n=t.privateJwkToBytes(r);return(yield oK(i,n)).toCompactRawBytes()})}static verify(e,r,i){return qd(this,void 0,void 0,function*(){t.validateKey(i);let n=t.publicJwkToBytes(i),o=yield ta.encode(e);return hle(r,o,n)})}static generateKeyPair(){return qd(this,void 0,void 0,function*(){let e=V4.randomPrivateKey(),r=gC(e,!1),i=Kt.bytesToBase64Url(e),n=yield t.publicKeyToJwk(r),o=Object.assign(Object.assign({},n),{d:i});return{publicJwk:n,privateJwk:o}})}static generateKeyPairRaw(){return qd(this,void 0,void 0,function*(){let e=V4.randomPrivateKey();return{publicKey:gC(e,!0),privateKey:e}})}static getPublicKey(e){return qd(this,void 0,void 0,function*(){return gC(e,!0)})}static getPublicJwk(e){return qd(this,void 0,void 0,function*(){let{d:r}=e;return PJe(e,["d"])})}static derivePublicKey(e,r){return qd(this,void 0,void 0,function*(){t.validateKeyDerivationPath(r);let i=yield t.derivePrivateKey(e,r);return yield t.getPublicKey(i)})}static derivePrivateKey(e,r){return qd(this,void 0,void 0,function*(){t.validateKeyDerivationPath(r);let i=e;for(let n of r){let o=Kt.stringToBytes(n);i=yield t.deriveChildPrivateKey(i,o)}return i})}static deriveChildPrivateKey(e,r){return qd(this,void 0,void 0,function*(){let i=yield ta.encode(e),n=yield ta.encode(r),o=Ah.concatBytes(i,n);return Ah.hashToPrivateKey(o)})}static validateKeyDerivationPath(e){if(e.includes(""))throw new Te(Ee.HdKeyDerivationPathInvalid,`Invalid key derivation path: ${e}`)}};var Ab={Ed25519:NC,secp256k1:{sign:Vn.sign,verify:Vn.verify,generateKeyPair:Vn.generateKeyPair,publicKeyToJwk:Vn.publicKeyToJwk}};var OJe=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},kA=class{constructor(e){var r,i;if(e.keyId===void 0&&e.privateJwk.kid===void 0)throw new Te(Ee.PrivateKeySignerUnableToDeduceKeyId,"Unable to deduce the key ID");if(e.algorithm===void 0&&e.privateJwk.alg===void 0)throw new Te(Ee.PrivateKeySignerUnableToDeduceAlgorithm,"Unable to deduce the signature algorithm");if(this.keyId=(r=e.keyId)!==null&&r!==void 0?r:e.privateJwk.kid,this.algorithm=(i=e.algorithm)!==null&&i!==void 0?i:e.privateJwk.alg,this.privateJwk=e.privateJwk,this.signatureAlgorithm=Ab[e.privateJwk.crv],!this.signatureAlgorithm)throw new Te(Ee.PrivateKeySignerUnsupportedCurve,`Unsupported crv ${e.privateJwk.crv}, crv must be one of ${Object.keys(Ab)}`)}sign(e){return OJe(this,void 0,void 0,function*(){return yield this.signatureAlgorithm.sign(e,this.privateJwk)})}};var KJe=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},ji=class t{static getKid(e){let{kid:r}=Kt.base64UrlToObject(e.protected);return r}static getSignerDid(e){let r=t.getKid(e);return t.extractDid(r)}static verifySignature(e,r,i){return KJe(this,void 0,void 0,function*(){let n=Ab[i.crv];if(!n)throw new Te(Ee.JwsVerifySignatureUnsupportedCrv,`unsupported crv. crv must be one of ${Object.keys(Ab)}`);let o=Kt.stringToBytes(`${r.protected}.${e}`),s=Kt.base64UrlToBytes(r.signature);return yield n.verify(o,s,i)})}static decodePlainObjectPayload(e){let r;try{r=Kt.base64UrlToObject(e.payload)}catch{throw new Te(Ee.JwsDecodePlainObjectPayloadInvalid,"payload is not a JSON object")}if(!(0,L0e.default)(r))throw new Te(Ee.JwsDecodePlainObjectPayloadInvalid,"signed payload must be a plain object");return r}static extractDid(e){let[r]=e.split("#");return r}static createSigners(e){return e.map(i=>t.createSigner(i))}static createSigner(e){let r=e.keyPair.privateJwk,i=e.keyId;return new kA({privateJwk:r,keyId:i})}};b();b();var PC=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,G0e=new Set,zK=typeof U.default=="object"&&U.default?U.default:{},j0e=(t,e,r,i)=>{typeof zK.emitWarning=="function"?zK.emitWarning(t,e,r,i):console.error(`[${r}] ${e}: ${t}`)},C5=globalThis.AbortController,H0e=globalThis.AbortSignal;if(typeof C5>"u"){H0e=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,n){this._onabort.push(n)}},C5=class{constructor(){e()}signal=new H0e;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(let n of this.signal._onabort)n(i);this.signal.onabort?.(i)}}};let t=zK.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,j0e("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var qJe=t=>!G0e.has(t),CTt=Symbol("type"),TA=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),z0e=t=>TA(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?gb:null:null,gb=class extends Array{constructor(e){super(e),this.fill(0)}},YK=class t{heap;length;static#i=!1;static create(e){let r=z0e(e);if(!r)return[];t.#i=!0;let i=new t(e,r);return t.#i=!1,i}constructor(e,r){if(!t.#i)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},x5=class t{#i;#a;#c;#u;#Q;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#n;#g;#o;#r;#e;#h;#p;#d;#s;#y;#f;#b;#E;#m;#I;#C;#l;static unsafeExposeInternals(e){return{starts:e.#E,ttls:e.#m,sizes:e.#b,keyMap:e.#o,keyList:e.#r,valList:e.#e,next:e.#h,prev:e.#p,get head(){return e.#d},get tail(){return e.#s},free:e.#y,isBackgroundFetch:r=>e.#t(r),backgroundFetch:(r,i,n,o)=>e.#k(r,i,n,o),moveToTail:r=>e.#_(r),indexes:r=>e.#w(r),rindexes:r=>e.#v(r),isStale:r=>e.#A(r)}}get max(){return this.#i}get maxSize(){return this.#a}get calculatedSize(){return this.#g}get size(){return this.#n}get fetchMethod(){return this.#Q}get dispose(){return this.#c}get disposeAfter(){return this.#u}constructor(e){let{max:r=0,ttl:i,ttlResolution:n=1,ttlAutopurge:o,updateAgeOnGet:s,updateAgeOnHas:f,allowStale:d,dispose:p,disposeAfter:u,noDisposeOnSet:y,noUpdateTTL:B,maxSize:S=0,maxEntrySize:C=0,sizeCalculation:x,fetchMethod:_,noDeleteOnFetchRejection:Q,noDeleteOnStaleGet:R,allowStaleOnFetchRejection:k,allowStaleOnFetchAbort:K,ignoreFetchAbort:T}=e;if(r!==0&&!TA(r))throw new TypeError("max option must be a nonnegative integer");let L=r?z0e(r):Array;if(!L)throw new Error("invalid max value: "+r);if(this.#i=r,this.#a=S,this.maxEntrySize=C||this.#a,this.sizeCalculation=x,this.sizeCalculation){if(!this.#a&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(_!==void 0&&typeof _!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#Q=_,this.#C=!!_,this.#o=new Map,this.#r=new Array(r).fill(void 0),this.#e=new Array(r).fill(void 0),this.#h=new L(r),this.#p=new L(r),this.#d=0,this.#s=0,this.#y=YK.create(r),this.#n=0,this.#g=0,typeof p=="function"&&(this.#c=p),typeof u=="function"?(this.#u=u,this.#f=[]):(this.#u=void 0,this.#f=void 0),this.#I=!!this.#c,this.#l=!!this.#u,this.noDisposeOnSet=!!y,this.noUpdateTTL=!!B,this.noDeleteOnFetchRejection=!!Q,this.allowStaleOnFetchRejection=!!k,this.allowStaleOnFetchAbort=!!K,this.ignoreFetchAbort=!!T,this.maxEntrySize!==0){if(this.#a!==0&&!TA(this.#a))throw new TypeError("maxSize must be a positive integer if specified");if(!TA(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#P()}if(this.allowStale=!!d,this.noDeleteOnStaleGet=!!R,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!f,this.ttlResolution=TA(n)||n===0?n:1,this.ttlAutopurge=!!o,this.ttl=i||0,this.ttl){if(!TA(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#T()}if(this.#i===0&&this.ttl===0&&this.#a===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#i&&!this.#a){let H="LRU_CACHE_UNBOUNDED";qJe(H)&&(G0e.add(H),j0e("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",H,t))}}getRemainingTTL(e){return this.#o.has(e)?1/0:0}#T(){let e=new gb(this.#i),r=new gb(this.#i);this.#m=e,this.#E=r,this.#R=(o,s,f=PC.now())=>{if(r[o]=s!==0?f:0,e[o]=s,s!==0&&this.ttlAutopurge){let d=setTimeout(()=>{this.#A(o)&&this.delete(this.#r[o])},s+1);d.unref&&d.unref()}},this.#x=o=>{r[o]=e[o]!==0?PC.now():0},this.#B=(o,s)=>{if(e[s]){let f=e[s],d=r[s];o.ttl=f,o.start=d,o.now=i||n();let p=o.now-d;o.remainingTTL=f-p}};let i=0,n=()=>{let o=PC.now();if(this.ttlResolution>0){i=o;let s=setTimeout(()=>i=0,this.ttlResolution);s.unref&&s.unref()}return o};this.getRemainingTTL=o=>{let s=this.#o.get(o);if(s===void 0)return 0;let f=e[s],d=r[s];if(f===0||d===0)return 1/0;let p=(i||n())-d;return f-p},this.#A=o=>e[o]!==0&&r[o]!==0&&(i||n())-r[o]>e[o]}#x=()=>{};#B=()=>{};#R=()=>{};#A=()=>!1;#P(){let e=new gb(this.#i);this.#g=0,this.#b=e,this.#S=r=>{this.#g-=e[r],e[r]=0},this.#U=(r,i,n,o)=>{if(this.#t(i))return 0;if(!TA(n))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(n=o(i,r),!TA(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#D=(r,i,n)=>{if(e[r]=i,this.#a){let o=this.#a-e[r];for(;this.#g>o;)this.#M(!0)}this.#g+=e[r],n&&(n.entrySize=i,n.totalCalculatedSize=this.#g)}}#S=e=>{};#D=(e,r,i)=>{};#U=(e,r,i,n)=>{if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:e=this.allowStale}={}){if(this.#n)for(let r=this.#s;!(!this.#F(r)||((e||!this.#A(r))&&(yield r),r===this.#d));)r=this.#p[r]}*#v({allowStale:e=this.allowStale}={}){if(this.#n)for(let r=this.#d;!(!this.#F(r)||((e||!this.#A(r))&&(yield r),r===this.#s));)r=this.#h[r]}#F(e){return e!==void 0&&this.#o.get(this.#r[e])===e}*entries(){for(let e of this.#w())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#r[e],this.#e[e]])}*rentries(){for(let e of this.#v())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#r[e],this.#e[e]])}*keys(){for(let e of this.#w()){let r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r)}}*rkeys(){for(let e of this.#v()){let r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r)}}*values(){for(let e of this.#w())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}*rvalues(){for(let e of this.#v())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let i of this.#w()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;if(o!==void 0&&e(o,this.#r[i],this))return this.get(this.#r[i],r)}}forEach(e,r=this){for(let i of this.#w()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;o!==void 0&&e.call(r,o,this.#r[i],this)}}rforEach(e,r=this){for(let i of this.#v()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;o!==void 0&&e.call(r,o,this.#r[i],this)}}purgeStale(){let e=!1;for(let r of this.#v({allowStale:!0}))this.#A(r)&&(this.delete(this.#r[r]),e=!0);return e}dump(){let e=[];for(let r of this.#w({allowStale:!0})){let i=this.#r[r],n=this.#e[r],o=this.#t(n)?n.__staleWhileFetching:n;if(o===void 0||i===void 0)continue;let s={value:o};if(this.#m&&this.#E){s.ttl=this.#m[r];let f=PC.now()-this.#E[r];s.start=Math.floor(Date.now()-f)}this.#b&&(s.size=this.#b[r]),e.unshift([i,s])}return e}load(e){this.clear();for(let[r,i]of e){if(i.start){let n=Date.now()-i.start;i.start=PC.now()-n}this.set(r,i.value,i)}}set(e,r,i={}){if(r===void 0)return this.delete(e),this;let{ttl:n=this.ttl,start:o,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:f=this.sizeCalculation,status:d}=i,{noUpdateTTL:p=this.noUpdateTTL}=i,u=this.#U(e,r,i.size||0,f);if(this.maxEntrySize&&u>this.maxEntrySize)return d&&(d.set="miss",d.maxEntrySizeExceeded=!0),this.delete(e),this;let y=this.#n===0?void 0:this.#o.get(e);if(y===void 0)y=this.#n===0?this.#s:this.#y.length!==0?this.#y.pop():this.#n===this.#i?this.#M(!1):this.#n,this.#r[y]=e,this.#e[y]=r,this.#o.set(e,y),this.#h[this.#s]=y,this.#p[y]=this.#s,this.#s=y,this.#n++,this.#D(y,u,d),d&&(d.set="add"),p=!1;else{this.#_(y);let B=this.#e[y];if(r!==B){if(this.#C&&this.#t(B)?B.__abortController.abort(new Error("replaced")):s||(this.#I&&this.#c?.(B,e,"set"),this.#l&&this.#f?.push([B,e,"set"])),this.#S(y),this.#D(y,u,d),this.#e[y]=r,d){d.set="replace";let S=B&&this.#t(B)?B.__staleWhileFetching:B;S!==void 0&&(d.oldValue=S)}}else d&&(d.set="update")}if(n!==0&&!this.#m&&this.#T(),this.#m&&(p||this.#R(y,n,o),d&&this.#B(d,y)),!s&&this.#l&&this.#f){let B=this.#f,S;for(;S=B?.shift();)this.#u?.(...S)}return this}pop(){try{for(;this.#n;){let e=this.#e[this.#d];if(this.#M(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#l&&this.#f){let e=this.#f,r;for(;r=e?.shift();)this.#u?.(...r)}}}#M(e){let r=this.#d,i=this.#r[r],n=this.#e[r];return this.#C&&this.#t(n)?n.__abortController.abort(new Error("evicted")):(this.#I||this.#l)&&(this.#I&&this.#c?.(n,i,"evict"),this.#l&&this.#f?.push([n,i,"evict"])),this.#S(r),e&&(this.#r[r]=void 0,this.#e[r]=void 0,this.#y.push(r)),this.#n===1?(this.#d=this.#s=0,this.#y.length=0):this.#d=this.#h[r],this.#o.delete(i),this.#n--,r}has(e,r={}){let{updateAgeOnHas:i=this.updateAgeOnHas,status:n}=r,o=this.#o.get(e);if(o!==void 0){let s=this.#e[o];if(this.#t(s)&&s.__staleWhileFetching===void 0)return!1;if(this.#A(o))n&&(n.has="stale",this.#B(n,o));else return i&&this.#x(o),n&&(n.has="hit",this.#B(n,o)),!0}else n&&(n.has="miss");return!1}peek(e,r={}){let{allowStale:i=this.allowStale}=r,n=this.#o.get(e);if(n!==void 0&&(i||!this.#A(n))){let o=this.#e[n];return this.#t(o)?o.__staleWhileFetching:o}}#k(e,r,i,n){let o=r===void 0?void 0:this.#e[r];if(this.#t(o))return o;let s=new C5,{signal:f}=i;f?.addEventListener("abort",()=>s.abort(f.reason),{signal:s.signal});let d={signal:s.signal,options:i,context:n},p=(x,_=!1)=>{let{aborted:Q}=s.signal,R=i.ignoreFetchAbort&&x!==void 0;if(i.status&&(Q&&!_?(i.status.fetchAborted=!0,i.status.fetchError=s.signal.reason,R&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),Q&&!R&&!_)return y(s.signal.reason);let k=S;return this.#e[r]===S&&(x===void 0?k.__staleWhileFetching?this.#e[r]=k.__staleWhileFetching:this.delete(e):(i.status&&(i.status.fetchUpdated=!0),this.set(e,x,d.options))),x},u=x=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=x),y(x)),y=x=>{let{aborted:_}=s.signal,Q=_&&i.allowStaleOnFetchAbort,R=Q||i.allowStaleOnFetchRejection,k=R||i.noDeleteOnFetchRejection,K=S;if(this.#e[r]===S&&(!k||K.__staleWhileFetching===void 0?this.delete(e):Q||(this.#e[r]=K.__staleWhileFetching)),R)return i.status&&K.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),K.__staleWhileFetching;if(K.__returned===K)throw x},B=(x,_)=>{let Q=this.#Q?.(e,o,d);Q&&Q instanceof Promise&&Q.then(R=>x(R),_),s.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(x(),i.allowStaleOnFetchAbort&&(x=R=>p(R,!0)))})};i.status&&(i.status.fetchDispatched=!0);let S=new Promise(B).then(p,u),C=Object.assign(S,{__abortController:s,__staleWhileFetching:o,__returned:void 0});return r===void 0?(this.set(e,C,{...d.options,status:void 0}),r=this.#o.get(e)):this.#e[r]=C,C}#t(e){if(!this.#C)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof C5}async fetch(e,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:f=this.noDisposeOnSet,size:d=0,sizeCalculation:p=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:y=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:B=this.allowStaleOnFetchRejection,ignoreFetchAbort:S=this.ignoreFetchAbort,allowStaleOnFetchAbort:C=this.allowStaleOnFetchAbort,context:x,forceRefresh:_=!1,status:Q,signal:R}=r;if(!this.#C)return Q&&(Q.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,status:Q});let k={allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,ttl:s,noDisposeOnSet:f,size:d,sizeCalculation:p,noUpdateTTL:u,noDeleteOnFetchRejection:y,allowStaleOnFetchRejection:B,allowStaleOnFetchAbort:C,ignoreFetchAbort:S,status:Q,signal:R},K=this.#o.get(e);if(K===void 0){Q&&(Q.fetch="miss");let T=this.#k(e,K,k,x);return T.__returned=T}else{let T=this.#e[K];if(this.#t(T)){let v=i&&T.__staleWhileFetching!==void 0;return Q&&(Q.fetch="inflight",v&&(Q.returnedStale=!0)),v?T.__staleWhileFetching:T.__returned=T}let L=this.#A(K);if(!_&&!L)return Q&&(Q.fetch="hit"),this.#_(K),n&&this.#x(K),Q&&this.#B(Q,K),T;let H=this.#k(e,K,k,x),G=H.__staleWhileFetching!==void 0&&i;return Q&&(Q.fetch=L?"stale":"refresh",G&&L&&(Q.returnedStale=!0)),G?H.__staleWhileFetching:H.__returned=H}}get(e,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:s}=r,f=this.#o.get(e);if(f!==void 0){let d=this.#e[f],p=this.#t(d);return s&&this.#B(s,f),this.#A(f)?(s&&(s.get="stale"),p?(s&&i&&d.__staleWhileFetching!==void 0&&(s.returnedStale=!0),i?d.__staleWhileFetching:void 0):(o||this.delete(e),s&&i&&(s.returnedStale=!0),i?d:void 0)):(s&&(s.get="hit"),p?d.__staleWhileFetching:(this.#_(f),n&&this.#x(f),d))}else s&&(s.get="miss")}#N(e,r){this.#p[r]=e,this.#h[e]=r}#_(e){e!==this.#s&&(e===this.#d?this.#d=this.#h[e]:this.#N(this.#p[e],this.#h[e]),this.#N(this.#s,e),this.#s=e)}delete(e){let r=!1;if(this.#n!==0){let i=this.#o.get(e);if(i!==void 0)if(r=!0,this.#n===1)this.clear();else{this.#S(i);let n=this.#e[i];this.#t(n)?n.__abortController.abort(new Error("deleted")):(this.#I||this.#l)&&(this.#I&&this.#c?.(n,e,"delete"),this.#l&&this.#f?.push([n,e,"delete"])),this.#o.delete(e),this.#r[i]=void 0,this.#e[i]=void 0,i===this.#s?this.#s=this.#p[i]:i===this.#d?this.#d=this.#h[i]:(this.#h[this.#p[i]]=this.#h[i],this.#p[this.#h[i]]=this.#p[i]),this.#n--,this.#y.push(i)}}if(this.#l&&this.#f?.length){let i=this.#f,n;for(;n=i?.shift();)this.#u?.(...n)}return r}clear(){for(let e of this.#v({allowStale:!0})){let r=this.#e[e];if(this.#t(r))r.__abortController.abort(new Error("deleted"));else{let i=this.#r[e];this.#I&&this.#c?.(r,i,"delete"),this.#l&&this.#f?.push([r,i,"delete"])}}if(this.#o.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#m&&this.#E&&(this.#m.fill(0),this.#E.fill(0)),this.#b&&this.#b.fill(0),this.#d=0,this.#s=0,this.#y.length=0,this.#g=0,this.#n=0,this.#l&&this.#f){let e=this.#f,r;for(;r=e?.shift();)this.#u?.(...r)}}};var Y0e=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},yb=class{constructor(e){this.timeToLiveInSeconds=e,this.cache=new x5({max:1e5,ttl:e*1e3})}set(e,r){return Y0e(this,void 0,void 0,function*(){try{this.cache.set(e,r)}catch{}})}get(e){return Y0e(this,void 0,void 0,function*(){return this.cache.get(e)})}};b();var rq={};Tt(rq,{Authorization:()=>LJe,AuthorizationDelegatedGrant:()=>HJe,AuthorizationOwner:()=>GJe,Definitions:()=>XJe,EventsFilter:()=>WJe,EventsGet:()=>ZJe,EventsQuery:()=>$Je,GeneralJwk:()=>eVe,GeneralJws:()=>tVe,GenericSignaturePayload:()=>yVe,JwkVerificationMethod:()=>rVe,MessagesGet:()=>iVe,NumberRangeFilter:()=>nVe,PermissionsDefinitions:()=>oVe,PermissionsGrant:()=>sVe,PermissionsRequest:()=>aVe,PermissionsRevoke:()=>cVe,PermissionsScopes:()=>fVe,ProtocolDefinition:()=>dVe,ProtocolRuleSet:()=>uVe,ProtocolsConfigure:()=>hVe,ProtocolsQuery:()=>lVe,PublicJwk:()=>gVe,RecordsDelete:()=>jJe,RecordsFilter:()=>AVe,RecordsQuery:()=>zJe,RecordsRead:()=>pVe,RecordsWrite:()=>YJe,RecordsWriteSignaturePayload:()=>mVe,RecordsWriteUnidentified:()=>VJe});b();var LJe=bi;var Gm=new RegExp("^[A-Za-z0-9_-]+$","u");function vi(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let u=s;for(let y in t)if(!(y==="payload"||y==="signatures")){return vi.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;break}if(u===s){if(t.payload!==void 0){let y=t.payload,B=s;if(s===s)if(typeof y=="string"){if(!Gm.test(y))return vi.errors=[{instancePath:e+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return vi.errors=[{instancePath:e+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=B===s}else var f=!0;if(f)if(t.signatures!==void 0){let y=t.signatures,B=s;if(s===B)if(Array.isArray(y)){if(y.length<1)return vi.errors=[{instancePath:e+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var d=!0;let C=y.length;for(let x=0;x<C;x++){let _=y[x],Q=s;if(s===Q)if(_&&typeof _=="object"&&!Array.isArray(_)){if(_.protected!==void 0){let k=_.protected,K=s;if(s===s)if(typeof k=="string"){if(!Gm.test(k))return vi.errors=[{instancePath:e+"/signatures/"+x+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return vi.errors=[{instancePath:e+"/signatures/"+x+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=K===s}else var p=!0;if(p)if(_.signature!==void 0){let k=_.signature,K=s;if(s===s)if(typeof k=="string"){if(!Gm.test(k))return vi.errors=[{instancePath:e+"/signatures/"+x+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return vi.errors=[{instancePath:e+"/signatures/"+x+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=K===s}else var p=!0}else return vi.errors=[{instancePath:e+"/signatures/"+x,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=Q===s;if(!d)break}}}else return vi.errors=[{instancePath:e+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var f=B===s}else var f=!0}}else return vi.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return vi.errors=o,s===0}function bi(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let f=s;for(let d in t)if(d!=="signature"){return bi.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:d},message:"must NOT have additional properties"}],!1;break}f===s&&t.signature!==void 0&&(vi(t.signature,{instancePath:e+"/signature",parentData:t,parentDataProperty:"signature",rootData:n})||(o=o===null?vi.errors:o.concat(vi.errors),s=o.length))}else return bi.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return bi.errors=o,s===0}var HJe=mc;var JK={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-grant.json",type:"object",required:["authorization","descriptor"],additionalProperties:!1,properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},delegationChain:{description:"the parent grant",$ref:"#"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","dateExpires"],properties:{messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},dateExpires:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},description:{type:"string"},delegated:{type:"boolean"},grantedTo:{description:"DID of the grantee",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{description:"DID of the grantor",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},grantedFor:{description:"DID of the DWN to which the grantee is given access",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor"},permissionsRequestId:{description:"CID of an associated PermissionsRequest message",type:"string"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Grant"],type:"string"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"}}}}};var ope={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function OC(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0,f=s,d=!1,p=null,u=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.interface!==void 0){let K=s;if(t.interface!=="Protocols"){let T={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};o===null?o=[T]:o.push(T),s++}var B=K===s}else var B=!0;if(B)if(t.method!==void 0){let K=s;if(t.method!=="Query"){let L={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};o===null?o=[L]:o.push(L),s++}var B=K===s}else var B=!0}else{let K={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[K]:o.push(K),s++}var _=u===s;_&&(d=!0,p=0);let S=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let K;if(t.interface===void 0&&(K="interface")||t.method===void 0&&(K="method")){let T={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"};o===null?o=[T]:o.push(T),s++}else{if(t.interface!==void 0){let T=s;if(t.interface!=="Records"){let L={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[L]:o.push(L),s++}var x=T===s}else var x=!0;if(x){if(t.method!==void 0){let T=s;if(t.method!=="Read"){let H={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0;if(x){if(t.schema!==void 0){let T=s;if(typeof t.schema!="string"){let H={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0;if(x){if(t.protocol!==void 0){let T=s;if(typeof t.protocol!="string"){let H={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0;if(x){if(t.contextId!==void 0){let T=s;if(typeof t.contextId!="string"){let H={instancePath:e+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0;if(x)if(t.protocolPath!==void 0){let T=s;if(typeof t.protocolPath!="string"){let H={instancePath:e+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0}}}}}}else{let K={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[K]:o.push(K),s++}var _=S===s;if(_&&d)d=!1,p=[p,1];else{_&&(d=!0,p=1);let K=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let H;if(t.interface===void 0&&(H="interface")||t.method===void 0&&(H="method")){let O={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/required",keyword:"required",params:{missingProperty:H},message:"must have required property '"+H+"'"};o===null?o=[O]:o.push(O),s++}else{if(t.interface!==void 0){let O=s;if(t.interface!=="Records"){let G={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[G]:o.push(G),s++}var Q=O===s}else var Q=!0;if(Q){if(t.method!==void 0){let O=s;if(t.method!=="Delete"){let v={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};o===null?o=[v]:o.push(v),s++}var Q=O===s}else var Q=!0;if(Q){if(t.protocol!==void 0){let O=s;if(typeof t.protocol!="string"){let v={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[v]:o.push(v),s++}var Q=O===s}else var Q=!0;if(Q)if(t.schema!==void 0){let O=s;if(typeof t.schema!="string"){let v={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[v]:o.push(v),s++}var Q=O===s}else var Q=!0}}}}else{let H={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[H]:o.push(H),s++}var _=K===s;if(_&&d)d=!1,p=[p,2];else{_&&(d=!0,p=2);let H=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.interface===void 0&&(v="interface")||t.method===void 0&&(v="method")){let a={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"};o===null?o=[a]:o.push(a),s++}else{if(t.interface!==void 0){let a=s;if(t.interface!=="Records"){let h={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[h]:o.push(h),s++}var R=a===s}else var R=!0;if(R){if(t.method!==void 0){let a=s;if(t.method!=="Write"){let g={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};o===null?o=[g]:o.push(g),s++}var R=a===s}else var R=!0;if(R){if(t.schema!==void 0){let a=s;if(typeof t.schema!="string"){let g={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}var R=a===s}else var R=!0;if(R){if(t.protocol!==void 0){let a=s;if(typeof t.protocol!="string"){let g={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}var R=a===s}else var R=!0;if(R){if(t.contextId!==void 0){let a=s;if(typeof t.contextId!="string"){let g={instancePath:e+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}var R=a===s}else var R=!0;if(R)if(t.protocolPath!==void 0){let a=s;if(typeof t.protocolPath!="string"){let g={instancePath:e+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}var R=a===s}else var R=!0}}}}}}else{let v={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[v]:o.push(v),s++}var _=H===s;if(_&&d)d=!1,p=[p,3];else{_&&(d=!0,p=3);let v=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let g;if(t.interface===void 0&&(g="interface")||t.method===void 0&&(g="method")){let l={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-query-scope/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"};o===null?o=[l]:o.push(l),s++}else{if(t.interface!==void 0){let l=s;if(t.interface!=="Records"){let A={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[A]:o.push(A),s++}var k=l===s}else var k=!0;if(k){if(t.method!==void 0){let l=s;if(t.method!=="Query"){let w={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};o===null?o=[w]:o.push(w),s++}var k=l===s}else var k=!0;if(k)if(t.protocol!==void 0){let l=s;if(typeof t.protocol!="string"){let w={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[w]:o.push(w),s++}var k=l===s}else var k=!0}}}else{let g={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[g]:o.push(g),s++}var _=v===s;_&&d?(d=!1,p=[p,4]):_&&(d=!0,p=4)}}}if(d)s=f,o!==null&&(f?o.length=f:o=null);else{let K={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:p},message:"must match exactly one schema in oneOf"};return o===null?o=[K]:o.push(K),s++,OC.errors=o,!1}return OC.errors=o,s===0}var qC=Object.prototype.hasOwnProperty,Fi=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),yc=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u");function Tr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.authorization===void 0&&(p="authorization")||t.descriptor===void 0&&(p="descriptor"))return Tr.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"}],!1;{let u=s;for(let y in t)if(!(y==="authorization"||y==="delegationChain"||y==="descriptor")){return Tr.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;break}if(u===s){if(t.authorization!==void 0){let y=s;bi(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?bi.errors:o.concat(bi.errors),s=o.length);var f=y===s}else var f=!0;if(f){if(t.delegationChain!==void 0){let y=s;Tr(t.delegationChain,{instancePath:e+"/delegationChain",parentData:t,parentDataProperty:"delegationChain",rootData:n})||(o=o===null?Tr.errors:o.concat(Tr.errors),s=o.length);var f=y===s}else var f=!0;if(f)if(t.descriptor!==void 0){let y=t.descriptor,B=s;if(s===B)if(y&&typeof y=="object"&&!Array.isArray(y)){let C;if(y.interface===void 0&&(C="interface")||y.method===void 0&&(C="method")||y.messageTimestamp===void 0&&(C="messageTimestamp")||y.dateExpires===void 0&&(C="dateExpires"))return Tr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"}],!1;{let x=s;for(let _ in y)if(!qC.call(JK.properties.descriptor.properties,_)){return Tr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_},message:"must NOT have additional properties"}],!1;break}if(x===s){if(y.messageTimestamp!==void 0){let _=y.messageTimestamp,Q=s;if(s===s)if(typeof _=="string"){if(!Fi.test(_))return Tr.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Tr.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=Q===s}else var d=!0;if(d){if(y.dateExpires!==void 0){let _=y.dateExpires,Q=s;if(s===s)if(typeof _=="string"){if(!Fi.test(_))return Tr.errors=[{instancePath:e+"/descriptor/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Tr.errors=[{instancePath:e+"/descriptor/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=Q===s}else var d=!0;if(d){if(y.description!==void 0){let _=s;if(typeof y.description!="string")return Tr.errors=[{instancePath:e+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=_===s}else var d=!0;if(d){if(y.delegated!==void 0){let _=s;if(typeof y.delegated!="boolean")return Tr.errors=[{instancePath:e+"/descriptor/delegated",schemaPath:"#/properties/descriptor/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var d=_===s}else var d=!0;if(d){if(y.grantedTo!==void 0){let _=y.grantedTo,Q=s;if(s===s)if(typeof _=="string"){if(!yc.test(_))return Tr.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Tr.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=Q===s}else var d=!0;if(d){if(y.grantedBy!==void 0){let _=y.grantedBy,Q=s;if(s===s)if(typeof _=="string"){if(!yc.test(_))return Tr.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Tr.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=Q===s}else var d=!0;if(d){if(y.grantedFor!==void 0){let _=y.grantedFor,Q=s;if(s===s)if(typeof _=="string"){if(!yc.test(_))return Tr.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Tr.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=Q===s}else var d=!0;if(d){if(y.permissionsRequestId!==void 0){let _=s;if(typeof y.permissionsRequestId!="string")return Tr.errors=[{instancePath:e+"/descriptor/permissionsRequestId",schemaPath:"#/properties/descriptor/properties/permissionsRequestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=_===s}else var d=!0;if(d){if(y.interface!==void 0){let _=y.interface,Q=s;if(typeof _!="string")return Tr.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(_!=="Permissions")return Tr.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:JK.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var d=Q===s}else var d=!0;if(d){if(y.method!==void 0){let _=y.method,Q=s;if(typeof _!="string")return Tr.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(_!=="Grant")return Tr.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:JK.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var d=Q===s}else var d=!0;if(d){if(y.scope!==void 0){let _=s;OC(y.scope,{instancePath:e+"/descriptor/scope",parentData:y,parentDataProperty:"scope",rootData:n})||(o=o===null?OC.errors:o.concat(OC.errors),s=o.length);var d=_===s}else var d=!0;if(d)if(y.conditions!==void 0){let _=y.conditions,Q=s;if(s===s)if(_&&typeof _=="object"&&!Array.isArray(_)){let K=s;for(let T in _)if(T!=="publication"){return Tr.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:T},message:"must NOT have additional properties"}],!1;break}if(K===s&&_.publication!==void 0){let T=_.publication;if(typeof T!="string")return Tr.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(T==="Required"||T==="Prohibited"))return Tr.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:ope.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}else return Tr.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=Q===s}else var d=!0}}}}}}}}}}}}}else return Tr.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=B===s}else var f=!0}}}}else return Tr.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Tr.errors=o,s===0}function mc(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d=s;for(let p in t)if(!(p==="signature"||p==="authorDelegatedGrant")){return mc.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:p},message:"must NOT have additional properties"}],!1;break}if(d===s){if(t.signature!==void 0){let p=s;vi(t.signature,{instancePath:e+"/signature",parentData:t,parentDataProperty:"signature",rootData:n})||(o=o===null?vi.errors:o.concat(vi.errors),s=o.length);var f=p===s}else var f=!0;if(f)if(t.authorDelegatedGrant!==void 0){let p=s;Tr(t.authorDelegatedGrant,{instancePath:e+"/authorDelegatedGrant",parentData:t,parentDataProperty:"authorDelegatedGrant",rootData:n})||(o=o===null?Tr.errors:o.concat(Tr.errors),s=o.length);var f=p===s}else var f=!0}}else return mc.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return mc.errors=o,s===0}var GJe=UA;function UA(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d=s;for(let p in t)if(!(p==="signature"||p==="authorDelegatedGrant"||p==="ownerSignature")){return UA.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:p},message:"must NOT have additional properties"}],!1;break}if(d===s){let p;if(t.ownerSignature!==void 0&&t.signature===void 0&&(p="signature"))return UA.errors=[{instancePath:e,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:p,depsCount:1,deps:"signature"},message:"must have property signature when property ownerSignature is present"}],!1;if(t.signature!==void 0){let u=s;vi(t.signature,{instancePath:e+"/signature",parentData:t,parentDataProperty:"signature",rootData:n})||(o=o===null?vi.errors:o.concat(vi.errors),s=o.length);var f=u===s}else var f=!0;if(f){if(t.authorDelegatedGrant!==void 0){let u=s;Tr(t.authorDelegatedGrant,{instancePath:e+"/authorDelegatedGrant",parentData:t,parentDataProperty:"authorDelegatedGrant",rootData:n})||(o=o===null?Tr.errors:o.concat(Tr.errors),s=o.length);var f=u===s}else var f=!0;if(f)if(t.ownerSignature!==void 0){let u=s;vi(t.ownerSignature,{instancePath:e+"/ownerSignature",parentData:t,parentDataProperty:"ownerSignature",rootData:n})||(o=o===null?vi.errors:o.concat(vi.errors),s=o.length);var f=u===s}else var f=!0}}}else return UA.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return UA.errors=o,s===0}var jJe=ra,J0e={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},recordId:{type:"string"}}}}};function ra(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.authorization===void 0&&(p="authorization")||t.descriptor===void 0&&(p="descriptor"))return ra.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"}],!1;{let u=s;for(let y in t)if(!(y==="authorization"||y==="descriptor")){return ra.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;break}if(u===s){if(t.authorization!==void 0){let y=s;mc(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?mc.errors:o.concat(mc.errors),s=o.length);var f=y===s}else var f=!0;if(f)if(t.descriptor!==void 0){let y=t.descriptor,B=s;if(s===B)if(y&&typeof y=="object"&&!Array.isArray(y)){let C;if(y.interface===void 0&&(C="interface")||y.method===void 0&&(C="method")||y.messageTimestamp===void 0&&(C="messageTimestamp")||y.recordId===void 0&&(C="recordId"))return ra.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"}],!1;{let x=s;for(let _ in y)if(!(_==="interface"||_==="method"||_==="messageTimestamp"||_==="recordId")){return ra.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_},message:"must NOT have additional properties"}],!1;break}if(x===s){if(y.interface!==void 0){let _=y.interface,Q=s;if(typeof _!="string")return ra.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(_!=="Records")return ra.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:J0e.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var d=Q===s}else var d=!0;if(d){if(y.method!==void 0){let _=y.method,Q=s;if(typeof _!="string")return ra.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(_!=="Delete")return ra.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:J0e.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var d=Q===s}else var d=!0;if(d){if(y.messageTimestamp!==void 0){let _=y.messageTimestamp,Q=s;if(s===s)if(typeof _=="string"){if(!Fi.test(_))return ra.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return ra.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=Q===s}else var d=!0;if(d)if(y.recordId!==void 0){let _=s;if(typeof y.recordId!="string")return ra.errors=[{instancePath:e+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=_===s}else var d=!0}}}}}else return ra.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=B===s}else var f=!0}}}else return ra.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ra.errors=o,s===0}var zJe=Kn,VK={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},cursor:{type:"string"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},V0e={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},author:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},contextId:{type:"string"},schema:{type:"string"},recordId:{type:"string"},parentId:{type:"string"},published:{type:"boolean"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dataCid:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function Bt(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){if(Object.keys(t).length<1)return Bt.errors=[{instancePath:e,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let K=s;for(let T in t)if(!qC.call(V0e.properties,T)){return Bt.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:T},message:"must NOT have additional properties"}],!1;break}if(K===s){if(t.datePublished!==void 0){let T=s,L=s,H=!1,O=null,G=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let g;if(t.published===void 0&&(g="published")){let l={instancePath:e,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"};o===null?o=[l]:o.push(l),s++}else if(t.published!==void 0&&t.published!==!0){let l={instancePath:e+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:V0e.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};o===null?o=[l]:o.push(l),s++}}var d=G===s;d&&(H=!0,O=0);let v=s,a=s,h=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let g;if(t.published===void 0&&(g="published")){let l={};o===null?o=[l]:o.push(l),s++}}var f=h===s;if(f){let g={instancePath:e,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[g]:o.push(g),s++}else s=a,o!==null&&(a?o.length=a:o=null);var d=v===s;if(d&&H?(H=!1,O=[O,1]):d&&(H=!0,O=1),H)s=L,o!==null&&(L?o.length=L:o=null);else{let g={instancePath:e,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:O},message:"must match exactly one schema in oneOf"};return o===null?o=[g]:o.push(g),s++,Bt.errors=o,!1}var p=T===s}else var p=!0;if(p){if(t.protocol!==void 0){let T=s;if(typeof t.protocol!="string")return Bt.errors=[{instancePath:e+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=T===s}else var u=!0;if(u){if(t.protocolPath!==void 0){let T=s;if(typeof t.protocolPath!="string")return Bt.errors=[{instancePath:e+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=T===s}else var u=!0;if(u){if(t.author!==void 0){let T=t.author,L=s;if(s===s)if(typeof T=="string"){if(!yc.test(T))return Bt.errors=[{instancePath:e+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Bt.errors=[{instancePath:e+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=L===s}else var u=!0;if(u){if(t.attester!==void 0){let T=t.attester,L=s;if(s===s)if(typeof T=="string"){if(!yc.test(T))return Bt.errors=[{instancePath:e+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Bt.errors=[{instancePath:e+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=L===s}else var u=!0;if(u){if(t.recipient!==void 0){let T=t.recipient,L=s;if(s===s)if(typeof T=="string"){if(!yc.test(T))return Bt.errors=[{instancePath:e+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Bt.errors=[{instancePath:e+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=L===s}else var u=!0;if(u){if(t.contextId!==void 0){let T=s;if(typeof t.contextId!="string")return Bt.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=T===s}else var u=!0;if(u){if(t.schema!==void 0){let T=s;if(typeof t.schema!="string")return Bt.errors=[{instancePath:e+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=T===s}else var u=!0;if(u){if(t.recordId!==void 0){let T=s;if(typeof t.recordId!="string")return Bt.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=T===s}else var u=!0;if(u){if(t.parentId!==void 0){let T=s;if(typeof t.parentId!="string")return Bt.errors=[{instancePath:e+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=T===s}else var u=!0;if(u){if(t.published!==void 0){let T=s;if(typeof t.published!="boolean")return Bt.errors=[{instancePath:e+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var u=T===s}else var u=!0;if(u){if(t.dataFormat!==void 0){let T=s;if(typeof t.dataFormat!="string")return Bt.errors=[{instancePath:e+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=T===s}else var u=!0;if(u){if(t.dataSize!==void 0){let T=t.dataSize,L=s;if(s===s)if(T&&typeof T=="object"&&!Array.isArray(T)){if(Object.keys(T).length<1)return Bt.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let G=s;for(let v in T)if(!(v==="gt"||v==="gte"||v==="lt"||v==="lte")){return Bt.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:v},message:"must NOT have additional properties"}],!1;break}if(G===s){if(T.gt!==void 0){let v=s,a=s,h=s;if(T&&typeof T=="object"&&!Array.isArray(T)){let g;if(T.gte===void 0&&(g="gte")){let l={};o===null?o=[l]:o.push(l),s++}}var y=h===s;if(y)return Bt.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=a,o!==null&&(a?o.length=a:o=null);var B=v===s}else var B=!0;if(B){if(T.gte!==void 0){let v=s,a=s,h=s;if(T&&typeof T=="object"&&!Array.isArray(T)){let l;if(T.gt===void 0&&(l="gt")){let A={};o===null?o=[A]:o.push(A),s++}}var S=h===s;if(S)return Bt.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=a,o!==null&&(a?o.length=a:o=null);var B=v===s}else var B=!0;if(B){if(T.lt!==void 0){let v=s,a=s,h=s;if(T&&typeof T=="object"&&!Array.isArray(T)){let l;if(T.lte===void 0&&(l="lte")){let A={};o===null?o=[A]:o.push(A),s++}}var C=h===s;if(C)return Bt.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=a,o!==null&&(a?o.length=a:o=null);var B=v===s}else var B=!0;if(B){if(T.lte!==void 0){let v=s,a=s,h=s;if(T&&typeof T=="object"&&!Array.isArray(T)){let l;if(T.lt===void 0&&(l="lt")){let A={};o===null?o=[A]:o.push(A),s++}}var x=h===s;if(x)return Bt.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=a,o!==null&&(a?o.length=a:o=null);var B=v===s}else var B=!0;if(B){if(T.gt!==void 0){let v=T.gt,a=s;if(!(typeof v=="number"&&isFinite(v)))return Bt.errors=[{instancePath:e+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var _=a===s}else var _=!0;if(_){if(T.gte!==void 0){let v=T.gte,a=s;if(!(typeof v=="number"&&isFinite(v)))return Bt.errors=[{instancePath:e+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var _=a===s}else var _=!0;if(_){if(T.lt!==void 0){let v=T.lt,a=s;if(!(typeof v=="number"&&isFinite(v)))return Bt.errors=[{instancePath:e+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var _=a===s}else var _=!0;if(_)if(T.lte!==void 0){let v=T.lte,a=s;if(!(typeof v=="number"&&isFinite(v)))return Bt.errors=[{instancePath:e+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var _=a===s}else var _=!0}}}}}}}}}else return Bt.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var u=L===s}else var u=!0;if(u){if(t.dataCid!==void 0){let T=s;if(typeof t.dataCid!="string")return Bt.errors=[{instancePath:e+"/dataCid",schemaPath:"#/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=T===s}else var u=!0;if(u){if(t.dateCreated!==void 0){let T=t.dateCreated,L=s;if(s===L)if(T&&typeof T=="object"&&!Array.isArray(T)){if(Object.keys(T).length<1)return Bt.errors=[{instancePath:e+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let O=s;for(let G in T)if(!(G==="from"||G==="to")){return Bt.errors=[{instancePath:e+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties"}],!1;break}if(O===s){if(T.from!==void 0){let G=T.from,v=s;if(s===s)if(typeof G=="string"){if(!Fi.test(G))return Bt.errors=[{instancePath:e+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Bt.errors=[{instancePath:e+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=v===s}else var Q=!0;if(Q)if(T.to!==void 0){let G=T.to,v=s;if(s===s)if(typeof G=="string"){if(!Fi.test(G))return Bt.errors=[{instancePath:e+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Bt.errors=[{instancePath:e+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=v===s}else var Q=!0}}}else return Bt.errors=[{instancePath:e+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var u=L===s}else var u=!0;if(u){if(t.datePublished!==void 0){let T=t.datePublished,L=s;if(s===L)if(T&&typeof T=="object"&&!Array.isArray(T)){if(Object.keys(T).length<1)return Bt.errors=[{instancePath:e+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let O=s;for(let G in T)if(!(G==="from"||G==="to")){return Bt.errors=[{instancePath:e+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties"}],!1;break}if(O===s){if(T.from!==void 0){let G=T.from,v=s;if(s===s)if(typeof G=="string"){if(!Fi.test(G))return Bt.errors=[{instancePath:e+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Bt.errors=[{instancePath:e+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=v===s}else var R=!0;if(R)if(T.to!==void 0){let G=T.to,v=s;if(s===s)if(typeof G=="string"){if(!Fi.test(G))return Bt.errors=[{instancePath:e+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Bt.errors=[{instancePath:e+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=v===s}else var R=!0}}}else return Bt.errors=[{instancePath:e+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var u=L===s}else var u=!0;if(u)if(t.dateUpdated!==void 0){let T=t.dateUpdated,L=s;if(s===L)if(T&&typeof T=="object"&&!Array.isArray(T)){if(Object.keys(T).length<1)return Bt.errors=[{instancePath:e+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let O=s;for(let G in T)if(!(G==="from"||G==="to")){return Bt.errors=[{instancePath:e+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties"}],!1;break}if(O===s){if(T.from!==void 0){let G=T.from,v=s;if(s===s)if(typeof G=="string"){if(!Fi.test(G))return Bt.errors=[{instancePath:e+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Bt.errors=[{instancePath:e+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=v===s}else var k=!0;if(k)if(T.to!==void 0){let G=T.to,v=s;if(s===s)if(typeof G=="string"){if(!Fi.test(G))return Bt.errors=[{instancePath:e+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Bt.errors=[{instancePath:e+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=v===s}else var k=!0}}}else return Bt.errors=[{instancePath:e+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var u=L===s}else var u=!0}}}}}}}}}}}}}}}}}}else return Bt.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Bt.errors=o,s===0}function Kn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.descriptor===void 0&&(u="descriptor"))return Kn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{let y=s;for(let B in t)if(!(B==="authorization"||B==="descriptor")){return Kn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"}],!1;break}if(y===s){if(t.authorization!==void 0){let B=s;mc(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?mc.errors:o.concat(mc.errors),s=o.length);var f=B===s}else var f=!0;if(f)if(t.descriptor!==void 0){let B=t.descriptor,S=s;if(s===S)if(B&&typeof B=="object"&&!Array.isArray(B)){let x;if(B.interface===void 0&&(x="interface")||B.method===void 0&&(x="method")||B.messageTimestamp===void 0&&(x="messageTimestamp")||B.filter===void 0&&(x="filter"))return Kn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:x},message:"must have required property '"+x+"'"}],!1;{let _=s;for(let Q in B)if(!(Q==="interface"||Q==="method"||Q==="messageTimestamp"||Q==="filter"||Q==="pagination"||Q==="dateSort")){return Kn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties"}],!1;break}if(_===s){if(B.interface!==void 0){let Q=B.interface,R=s;if(typeof Q!="string")return Kn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Q!=="Records")return Kn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:VK.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var d=R===s}else var d=!0;if(d){if(B.method!==void 0){let Q=B.method,R=s;if(typeof Q!="string")return Kn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Q!=="Query")return Kn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:VK.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var d=R===s}else var d=!0;if(d){if(B.messageTimestamp!==void 0){let Q=B.messageTimestamp,R=s;if(s===s)if(typeof Q=="string"){if(!Fi.test(Q))return Kn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Kn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=R===s}else var d=!0;if(d){if(B.filter!==void 0){let Q=s;Bt(B.filter,{instancePath:e+"/descriptor/filter",parentData:B,parentDataProperty:"filter",rootData:n})||(o=o===null?Bt.errors:o.concat(Bt.errors),s=o.length);var d=Q===s}else var d=!0;if(d){if(B.pagination!==void 0){let Q=B.pagination,R=s;if(s===R)if(Q&&typeof Q=="object"&&!Array.isArray(Q)){let K=s;for(let T in Q)if(!(T==="limit"||T==="cursor")){return Kn.errors=[{instancePath:e+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:T},message:"must NOT have additional properties"}],!1;break}if(K===s){if(Q.limit!==void 0){let T=Q.limit,L=s;if(s===L)if(typeof T=="number"&&isFinite(T)){if(T<1||isNaN(T))return Kn.errors=[{instancePath:e+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}else return Kn.errors=[{instancePath:e+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var p=L===s}else var p=!0;if(p)if(Q.cursor!==void 0){let T=s;if(typeof Q.cursor!="string")return Kn.errors=[{instancePath:e+"/descriptor/pagination/cursor",schemaPath:"#/properties/descriptor/properties/pagination/properties/cursor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=T===s}else var p=!0}}else return Kn.errors=[{instancePath:e+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=R===s}else var d=!0;if(d)if(B.dateSort!==void 0){let Q=B.dateSort,R=s;if(typeof Q!="string")return Kn.errors=[{instancePath:e+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(Q==="createdAscending"||Q==="createdDescending"||Q==="publishedAscending"||Q==="publishedDescending"))return Kn.errors=[{instancePath:e+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:VK.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;var d=R===s}else var d=!0}}}}}}}else return Kn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=S===s}else var f=!0}}}else return Kn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Kn.errors=o,s===0}var YJe=_5;var RA={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]};var spe={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function wi(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0,f=s,d=s,p=!1,u=null,y=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.crv===void 0&&(v="crv")||t.x===void 0&&(v="x")){let a={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"};o===null?o=[a]:o.push(a),s++}else{if(t.kty!==void 0){let a=s;if(t.kty!=="EC"){let h={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};o===null?o=[h]:o.push(h),s++}var B=a===s}else var B=!0;if(B){if(t.crv!==void 0){let a=s;if(typeof t.crv!="string"){let g={instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}var B=a===s}else var B=!0;if(B){if(t.x!==void 0){let a=s;if(typeof t.x!="string"){let g={instancePath:e+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}var B=a===s}else var B=!0;if(B){if(t.y!==void 0){let a=s;if(typeof t.y!="string"){let g={instancePath:e+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}var B=a===s}else var B=!0;if(B)if(t.d!==void 0){let a=s;if(typeof t.d!="string"){let g={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}var B=a===s}else var B=!0}}}}}var x=y===s;x&&(p=!0,u=0);let S=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.crv===void 0&&(v="crv")||t.x===void 0&&(v="x")){let a={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"};o===null?o=[a]:o.push(a),s++}else{if(t.kty!==void 0){let a=s;if(t.kty!=="OKP"){let h={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};o===null?o=[h]:o.push(h),s++}var C=a===s}else var C=!0;if(C){if(t.crv!==void 0){let a=s;if(typeof t.crv!="string"){let g={instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}var C=a===s}else var C=!0;if(C){if(t.x!==void 0){let a=s;if(typeof t.x!="string"){let g={instancePath:e+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}var C=a===s}else var C=!0;if(C)if(t.d!==void 0){let a=s;if(typeof t.d!="string"){let g={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}var C=a===s}else var C=!0}}}}var x=S===s;if(x&&p)p=!1,u=[u,1];else{x&&(p=!0,u=1);let v=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let h;if(t.n===void 0&&(h="n")||t.e===void 0&&(h="e")){let g={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:h},message:"must have required property '"+h+"'"};o===null?o=[g]:o.push(g),s++}else{if(t.kty!==void 0){let g=s;if(t.kty!=="RSA"){let l={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};o===null?o=[l]:o.push(l),s++}var _=g===s}else var _=!0;if(_){if(t.n!==void 0){let g=s;if(typeof t.n!="string"){let A={instancePath:e+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[A]:o.push(A),s++}var _=g===s}else var _=!0;if(_){if(t.e!==void 0){let g=s;if(typeof t.e!="string"){let A={instancePath:e+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[A]:o.push(A),s++}var _=g===s}else var _=!0;if(_){if(t.d!==void 0){let g=s;if(typeof t.d!="string"){let A={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[A]:o.push(A),s++}var _=g===s}else var _=!0;if(_){if(t.p!==void 0){let g=s;if(typeof t.p!="string"){let A={instancePath:e+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[A]:o.push(A),s++}var _=g===s}else var _=!0;if(_){if(t.q!==void 0){let g=s;if(typeof t.q!="string"){let A={instancePath:e+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[A]:o.push(A),s++}var _=g===s}else var _=!0;if(_){if(t.dp!==void 0){let g=s;if(typeof t.dp!="string"){let A={instancePath:e+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[A]:o.push(A),s++}var _=g===s}else var _=!0;if(_){if(t.dq!==void 0){let g=s;if(typeof t.dq!="string"){let A={instancePath:e+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[A]:o.push(A),s++}var _=g===s}else var _=!0;if(_){if(t.qi!==void 0){let g=s;if(typeof t.qi!="string"){let A={instancePath:e+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[A]:o.push(A),s++}var _=g===s}else var _=!0;if(_)if(t.oth!==void 0){let g=t.oth,l=s;if(!(g&&typeof g=="object"&&!Array.isArray(g))){let w={instancePath:e+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[w]:o.push(w),s++}var _=l===s}else var _=!0}}}}}}}}}}var x=v===s;if(x&&p)p=!1,u=[u,2];else{x&&(p=!0,u=2);let h=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let l;if(t.k===void 0&&(l="k")){let A={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:l},message:"must have required property '"+l+"'"};o===null?o=[A]:o.push(A),s++}else{if(t.kty!==void 0){let A=s;if(t.kty!=="oct"){let w={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};o===null?o=[w]:o.push(w),s++}var Q=A===s}else var Q=!0;if(Q)if(t.k!==void 0){let A=s;if(typeof t.k!="string"){let E={instancePath:e+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[E]:o.push(E),s++}var Q=A===s}else var Q=!0}}var x=h===s;x&&p?(p=!1,u=[u,3]):x&&(p=!0,u=3)}}if(p)s=d,o!==null&&(d?o.length=d:o=null);else{let v={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:u},message:"must match exactly one schema in oneOf"};return o===null?o=[v]:o.push(v),s++,wi.errors=o,!1}if(s===f)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.kty===void 0&&(v="kty"))return wi.errors=[{instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;if(t.alg!==void 0){let a=s;if(typeof t.alg!="string")return wi.errors=[{instancePath:e+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=a===s}else var R=!0;if(R){if(t.kid!==void 0){let a=s;if(typeof t.kid!="string")return wi.errors=[{instancePath:e+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=a===s}else var R=!0;if(R){if(t.kty!==void 0){let a=t.kty,h=s;if(!(a==="EC"||a==="RSA"||a==="oct"||a==="OKP"))return wi.errors=[{instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:spe.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;var R=h===s}else var R=!0;if(R){if(t.crv!==void 0){let a=s;if(typeof t.crv!="string")return wi.errors=[{instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=a===s}else var R=!0;if(R){if(t.use!==void 0){let a=s;if(typeof t.use!="string")return wi.errors=[{instancePath:e+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=a===s}else var R=!0;if(R){if(t.key_ops!==void 0){let a=s;if(typeof t.key_ops!="string")return wi.errors=[{instancePath:e+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=a===s}else var R=!0;if(R){if(t.x5u!==void 0){let a=s;if(typeof t.x5u!="string")return wi.errors=[{instancePath:e+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=a===s}else var R=!0;if(R){if(t.x5c!==void 0){let a=s;if(typeof t.x5c!="string")return wi.errors=[{instancePath:e+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=a===s}else var R=!0;if(R){if(t.x5t!==void 0){let a=s;if(typeof t.x5t!="string")return wi.errors=[{instancePath:e+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=a===s}else var R=!0;if(R)if(t["x5t#S256"]!==void 0){let a=s;if(typeof t["x5t#S256"]!="string")return wi.errors=[{instancePath:e+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=a===s}else var R=!0}}}}}}}}}else return wi.errors=[{instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var k=f===s;if(k){let v=s,a=s,h=s,g=!1,l=s,A=s,w=!1,E=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let m;if(t.d===void 0&&(m="d")){let c={};o===null?o=[c]:o.push(c),s++}}var K=E===s;if(w=w||K,w)s=A,o!==null&&(A?o.length=A:o=null);else{let m={};o===null?o=[m]:o.push(m),s++}if(s===l)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0&&t.kty!=="EC"){let m={};o===null?o=[m]:o.push(m),s++}}else{let m={};o===null?o=[m]:o.push(m),s++}var T=l===s;if(g=g||T,!g){let m=s,c=s,I=!1,M=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let P;if(t.d===void 0&&(P="d")){let j={};o===null?o=[j]:o.push(j),s++}}var L=M===s;if(I=I||L,I)s=c,o!==null&&(c?o.length=c:o=null);else{let P={};o===null?o=[P]:o.push(P),s++}if(s===m)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0&&t.kty!=="OKP"){let P={};o===null?o=[P]:o.push(P),s++}}else{let P={};o===null?o=[P]:o.push(P),s++}var T=m===s;if(g=g||T,!g){let P=s,j=s,Y=!1,z=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let W;if(t.d===void 0&&(W="d")){let ee={};o===null?o=[ee]:o.push(ee),s++}}var H=z===s;if(Y=Y||H,!Y){let W=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let pe;if(t.p===void 0&&(pe="p")){let ne={};o===null?o=[ne]:o.push(ne),s++}}var H=W===s;if(Y=Y||H,!Y){let pe=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let se;if(t.q===void 0&&(se="q")){let Le={};o===null?o=[Le]:o.push(Le),s++}}var H=pe===s;if(Y=Y||H,!Y){let se=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let ce;if(t.dp===void 0&&(ce="dp")){let fe={};o===null?o=[fe]:o.push(fe),s++}}var H=se===s;if(Y=Y||H,!Y){let ce=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let bt;if(t.dq===void 0&&(bt="dq")){let ge={};o===null?o=[ge]:o.push(ge),s++}}var H=ce===s;if(Y=Y||H,!Y){let bt=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let Ie;if(t.qi===void 0&&(Ie="qi")){let mr={};o===null?o=[mr]:o.push(mr),s++}}var H=bt===s;if(Y=Y||H,!Y){let Ie=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let ve;if(t.oth===void 0&&(ve="oth")){let ye={};o===null?o=[ye]:o.push(ye),s++}}var H=Ie===s;Y=Y||H}}}}}}if(Y)s=j,o!==null&&(j?o.length=j:o=null);else{let W={};o===null?o=[W]:o.push(W),s++}if(s===P)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0){let W=s;if(t.kty!=="RSA"){let ee={};o===null?o=[ee]:o.push(ee),s++}var O=W===s}else var O=!0;if(O)if(t.oth!==void 0){let W=t.oth,ee=s;if(!(W&&typeof W=="object"&&!Array.isArray(W))){let ne={};o===null?o=[ne]:o.push(ne),s++}var O=ee===s}else var O=!0}else{let W={};o===null?o=[W]:o.push(W),s++}var T=P===s;g=g||T}}if(g)s=h,o!==null&&(h?o.length=h:o=null);else{let m={};o===null?o=[m]:o.push(m),s++}var G=a===s;if(G)return wi.errors=[{instancePath:e,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=v,o!==null&&(v?o.length=v:o=null)}return wi.errors=o,s===0}var JJe=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u");function vt(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0,f=s,d=!1,p=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let G;if(t.contextId===void 0&&(G="contextId")){let v={instancePath:e,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:G},message:"must have required property '"+G+"'"};o===null?o=[v]:o.push(v),s++}else if(t.descriptor!==void 0){let v=t.descriptor;if(s===s)if(v&&typeof v=="object"&&!Array.isArray(v)){let h;if(v.protocol===void 0&&(h="protocol")||v.protocolPath===void 0&&(h="protocolPath")){let g={instancePath:e+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:h},message:"must have required property '"+h+"'"};o===null?o=[g]:o.push(g),s++}}else{let h={instancePath:e+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[h]:o.push(h),s++}}}var u=p===s;if(d=d||u,!d){let G=s,v=s,a=s,h=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let l;if(t.contextId===void 0&&(l="contextId")){let A={};o===null?o=[A]:o.push(A),s++}}var y=h===s;if(y){let l={instancePath:e,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[l]:o.push(l),s++}else s=a,o!==null&&(a?o.length=a:o=null);var B=v===s;if(B){let l=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.descriptor!==void 0){let w=t.descriptor;if(!(w&&typeof w=="object"&&!Array.isArray(w))){let c={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[c]:o.push(c),s++}let E=s,m=s;if(w&&typeof w=="object"&&!Array.isArray(w)){let c;if(w.protocol===void 0&&(c="protocol")){let I={};o===null?o=[I]:o.push(I),s++}}var S=m===s;if(S){let c={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[c]:o.push(c),s++}else s=E,o!==null&&(E?o.length=E:o=null)}var B=l===s;if(B){let w=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.descriptor!==void 0){let m=t.descriptor;if(!(m&&typeof m=="object"&&!Array.isArray(m))){let M={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[M]:o.push(M),s++}let c=s,I=s;if(m&&typeof m=="object"&&!Array.isArray(m)){let M;if(m.protocolPath===void 0&&(M="protocolPath")){let D={};o===null?o=[D]:o.push(D),s++}}var C=I===s;if(C){let M={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[M]:o.push(M),s++}else s=c,o!==null&&(c?o.length=c:o=null)}var B=w===s}}var u=G===s;d=d||u}if(d)s=f,o!==null&&(f?o.length=f:o=null);else{let G={instancePath:e,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return o===null?o=[G]:o.push(G),s++,vt.errors=o,!1}if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let G;if(t.descriptor===void 0&&(G="descriptor"))return vt.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:G},message:"must have required property '"+G+"'"}],!1;{let v=s;for(let a in t)if(!(a==="recordId"||a==="contextId"||a==="attestation"||a==="authorization"||a==="encryption"||a==="descriptor")){return vt.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;break}if(v===s){if(t.recordId!==void 0){let a=s;if(typeof t.recordId!="string")return vt.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var x=a===s}else var x=!0;if(x){if(t.contextId!==void 0){let a=s;if(typeof t.contextId!="string")return vt.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var x=a===s}else var x=!0;if(x){if(t.attestation!==void 0){let a=s;vi(t.attestation,{instancePath:e+"/attestation",parentData:t,parentDataProperty:"attestation",rootData:n})||(o=o===null?vi.errors:o.concat(vi.errors),s=o.length);var x=a===s}else var x=!0;if(x){if(t.authorization!==void 0){let a=s;UA(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?UA.errors:o.concat(UA.errors),s=o.length);var x=a===s}else var x=!0;if(x){if(t.encryption!==void 0){let a=t.encryption,h=s;if(s===h)if(a&&typeof a=="object"&&!Array.isArray(a)){let l;if(a.algorithm===void 0&&(l="algorithm")||a.initializationVector===void 0&&(l="initializationVector")||a.keyEncryption===void 0&&(l="keyEncryption"))return vt.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:l},message:"must have required property '"+l+"'"}],!1;{let A=s;for(let w in a)if(!(w==="algorithm"||w==="initializationVector"||w==="keyEncryption")){return vt.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:w},message:"must NOT have additional properties"}],!1;break}if(A===s){if(a.algorithm!==void 0){let w=a.algorithm,E=s;if(typeof w!="string")return vt.errors=[{instancePath:e+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(w!=="A256CTR")return vt.errors=[{instancePath:e+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:RA.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var _=E===s}else var _=!0;if(_){if(a.initializationVector!==void 0){let w=a.initializationVector,E=s;if(s===s)if(typeof w=="string"){if(!Gm.test(w))return vt.errors=[{instancePath:e+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return vt.errors=[{instancePath:e+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var _=E===s}else var _=!0;if(_)if(a.keyEncryption!==void 0){let w=a.keyEncryption,E=s;if(s===E)if(Array.isArray(w)){if(w.length<1)return vt.errors=[{instancePath:e+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var Q=!0;let c=w.length;for(let I=0;I<c;I++){let M=w[I],D=s;if(s===D)if(M&&typeof M=="object"&&!Array.isArray(M)){let j;if(M.rootKeyId===void 0&&(j="rootKeyId")||M.derivationScheme===void 0&&(j="derivationScheme")||M.algorithm===void 0&&(j="algorithm")||M.encryptedKey===void 0&&(j="encryptedKey")||M.initializationVector===void 0&&(j="initializationVector")||M.ephemeralPublicKey===void 0&&(j="ephemeralPublicKey")||M.messageAuthenticationCode===void 0&&(j="messageAuthenticationCode"))return vt.errors=[{instancePath:e+"/encryption/keyEncryption/"+I,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:j},message:"must have required property '"+j+"'"}],!1;{let Y=s;for(let z in M)if(!(z==="rootKeyId"||z==="derivationScheme"||z==="derivedPublicKey"||z==="algorithm"||z==="encryptedKey"||z==="initializationVector"||z==="ephemeralPublicKey"||z==="messageAuthenticationCode")){return vt.errors=[{instancePath:e+"/encryption/keyEncryption/"+I,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:z},message:"must NOT have additional properties"}],!1;break}if(Y===s){if(M.rootKeyId!==void 0){let z=s;if(typeof M.rootKeyId!="string")return vt.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=z===s}else var R=!0;if(R){if(M.derivationScheme!==void 0){let z=M.derivationScheme,$=s;if(typeof z!="string")return vt.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(z==="dataFormats"||z==="protocolContext"||z==="protocolPath"||z==="schemas"))return vt.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:RA.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;var R=$===s}else var R=!0;if(R){if(M.derivedPublicKey!==void 0){let z=s;wi(M.derivedPublicKey,{instancePath:e+"/encryption/keyEncryption/"+I+"/derivedPublicKey",parentData:M,parentDataProperty:"derivedPublicKey",rootData:n})||(o=o===null?wi.errors:o.concat(wi.errors),s=o.length);var R=z===s}else var R=!0;if(R){if(M.algorithm!==void 0){let z=M.algorithm,$=s;if(typeof z!="string")return vt.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(z!=="ECIES-ES256K")return vt.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:RA.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var R=$===s}else var R=!0;if(R){if(M.encryptedKey!==void 0){let z=M.encryptedKey,$=s;if(s===s)if(typeof z=="string"){if(!Gm.test(z))return vt.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return vt.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=$===s}else var R=!0;if(R){if(M.initializationVector!==void 0){let z=M.initializationVector,$=s;if(s===s)if(typeof z=="string"){if(!Gm.test(z))return vt.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return vt.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=$===s}else var R=!0;if(R){if(M.ephemeralPublicKey!==void 0){let z=s;wi(M.ephemeralPublicKey,{instancePath:e+"/encryption/keyEncryption/"+I+"/ephemeralPublicKey",parentData:M,parentDataProperty:"ephemeralPublicKey",rootData:n})||(o=o===null?wi.errors:o.concat(wi.errors),s=o.length);var R=z===s}else var R=!0;if(R)if(M.messageAuthenticationCode!==void 0){let z=M.messageAuthenticationCode,$=s;if(s===s)if(typeof z=="string"){if(!Gm.test(z))return vt.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return vt.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=$===s}else var R=!0}}}}}}}}}else return vt.errors=[{instancePath:e+"/encryption/keyEncryption/"+I,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Q=D===s;if(!Q)break}}}else return vt.errors=[{instancePath:e+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var _=E===s}else var _=!0}}}}else return vt.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var x=h===s}else var x=!0;if(x)if(t.descriptor!==void 0){let a=t.descriptor,h=s,g=s,l=!1,A=s;if(a&&typeof a=="object"&&!Array.isArray(a)){let E;if(a.published===void 0&&(E="published")||a.datePublished===void 0&&(E="datePublished")){let m={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:E},message:"must have required property '"+E+"'"};o===null?o=[m]:o.push(m),s++}else if(a.published!==void 0){let m=a.published;if(typeof m!="boolean"){let c={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};o===null?o=[c]:o.push(c),s++}if(m!==!0){let c={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:RA.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};o===null?o=[c]:o.push(c),s++}}}var k=A===s;if(l=l||k,!l){let E=s,m=s,c=s;if(a&&typeof a=="object"&&!Array.isArray(a)){let M;if(a.datePublished===void 0&&(M="datePublished")){let D={};o===null?o=[D]:o.push(D),s++}}var K=c===s;if(K){let M={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[M]:o.push(M),s++}else s=m,o!==null&&(m?o.length=m:o=null);if(s===E&&a&&typeof a=="object"&&!Array.isArray(a)&&a.published!==void 0){let M=a.published;if(typeof M!="boolean"){let D={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};o===null?o=[D]:o.push(D),s++}if(M!==!1){let D={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:RA.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};o===null?o=[D]:o.push(D),s++}}var k=E===s;if(l=l||k,!l){let M=s,D=s,P=s,j=s;if(a&&typeof a=="object"&&!Array.isArray(a)){let z;if(a.published===void 0&&(z="published")){let $={};o===null?o=[$]:o.push($),s++}}var T=j===s;if(T){let z={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[z]:o.push(z),s++}else s=P,o!==null&&(P?o.length=P:o=null);var L=D===s;if(L){let z=s,$=s,W=s;if(a&&typeof a=="object"&&!Array.isArray(a)){let pe;if(a.datePublished===void 0&&(pe="datePublished")){let ne={};o===null?o=[ne]:o.push(ne),s++}}var H=W===s;if(H){let pe={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[pe]:o.push(pe),s++}else s=$,o!==null&&($?o.length=$:o=null);var L=z===s}var k=M===s;l=l||k}}if(l)s=g,o!==null&&(g?o.length=g:o=null);else{let E={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return o===null?o=[E]:o.push(E),s++,vt.errors=o,!1}if(s===h)if(a&&typeof a=="object"&&!Array.isArray(a)){let E;if(a.interface===void 0&&(E="interface")||a.method===void 0&&(E="method")||a.dataCid===void 0&&(E="dataCid")||a.dataSize===void 0&&(E="dataSize")||a.dateCreated===void 0&&(E="dateCreated")||a.messageTimestamp===void 0&&(E="messageTimestamp")||a.dataFormat===void 0&&(E="dataFormat"))return vt.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:E},message:"must have required property '"+E+"'"}],!1;{let m=s;for(let c in a)if(!qC.call(RA.properties.descriptor.properties,c)){return vt.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:c},message:"must NOT have additional properties"}],!1;break}if(m===s){let c;if(a.parentId!==void 0&&a.protocol===void 0&&(c="protocol"))return vt.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:c,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(a.interface!==void 0){let I=a.interface,M=s;if(typeof I!="string")return vt.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Records")return vt.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:RA.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var O=M===s}else var O=!0;if(O){if(a.method!==void 0){let I=a.method,M=s;if(typeof I!="string")return vt.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Write")return vt.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:RA.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var O=M===s}else var O=!0;if(O){if(a.recipient!==void 0){let I=a.recipient,M=s;if(s===s)if(typeof I=="string"){if(!yc.test(I))return vt.errors=[{instancePath:e+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return vt.errors=[{instancePath:e+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=M===s}else var O=!0;if(O){if(a.protocol!==void 0){let I=s;if(typeof a.protocol!="string")return vt.errors=[{instancePath:e+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=I===s}else var O=!0;if(O){if(a.protocolPath!==void 0){let I=a.protocolPath,M=s;if(s===M)if(typeof I=="string"){if(!JJe.test(I))return vt.errors=[{instancePath:e+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}else return vt.errors=[{instancePath:e+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=M===s}else var O=!0;if(O){if(a.schema!==void 0){let I=s;if(typeof a.schema!="string")return vt.errors=[{instancePath:e+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=I===s}else var O=!0;if(O){if(a.parentId!==void 0){let I=s;if(typeof a.parentId!="string")return vt.errors=[{instancePath:e+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=I===s}else var O=!0;if(O){if(a.dataCid!==void 0){let I=s;if(typeof a.dataCid!="string")return vt.errors=[{instancePath:e+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=I===s}else var O=!0;if(O){if(a.dataSize!==void 0){let I=a.dataSize,M=s;if(!(typeof I=="number"&&isFinite(I)))return vt.errors=[{instancePath:e+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var O=M===s}else var O=!0;if(O){if(a.dateCreated!==void 0){let I=a.dateCreated,M=s;if(s===s)if(typeof I=="string"){if(!Fi.test(I))return vt.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return vt.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=M===s}else var O=!0;if(O){if(a.messageTimestamp!==void 0){let I=a.messageTimestamp,M=s;if(s===s)if(typeof I=="string"){if(!Fi.test(I))return vt.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return vt.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=M===s}else var O=!0;if(O){if(a.published!==void 0){let I=s;if(typeof a.published!="boolean")return vt.errors=[{instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var O=I===s}else var O=!0;if(O){if(a.datePublished!==void 0){let I=a.datePublished,M=s;if(s===s)if(typeof I=="string"){if(!Fi.test(I))return vt.errors=[{instancePath:e+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return vt.errors=[{instancePath:e+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=M===s}else var O=!0;if(O)if(a.dataFormat!==void 0){let I=s;if(typeof a.dataFormat!="string")return vt.errors=[{instancePath:e+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=I===s}else var O=!0}}}}}}}}}}}}}}}else return vt.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var x=h===s}else var x=!0}}}}}}}else return vt.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return vt.errors=o,s===0}function _5(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(!vt(t,{instancePath:e,parentData:r,parentDataProperty:i,rootData:n}))o=o===null?vt.errors:o.concat(vt.errors),s=o.length;else if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let d;if(t.recordId===void 0&&(d="recordId")||t.authorization===void 0&&(d="authorization"))return _5.errors=[{instancePath:e,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:d},message:"must have required property '"+d+"'"}],!1}else return _5.errors=[{instancePath:e,schemaPath:"#/allOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return _5.errors=o,s===0}var VJe=vt,WJe=Ut,S5={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/events-filter.json",type:"object",additionalProperties:!1,minProperties:1,properties:{interface:{enum:["Permissions","Protocols","Records"],type:"string"},method:{enum:["Configure","Delete","Grant","Revoke","Write"],type:"string"},protocol:{type:"string"},protocolPath:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},contextId:{type:"string"},schema:{type:"string"},recordId:{type:"string"},parentId:{type:"string"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function Ut(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){if(Object.keys(t).length<1)return Ut.errors=[{instancePath:e,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let K=s;for(let T in t)if(!qC.call(S5.properties,T)){return Ut.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:T},message:"must NOT have additional properties"}],!1;break}if(K===s){if(t.datePublished!==void 0){let T=s,L=s,H=!1,O=null,G=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let g;if(t.published===void 0&&(g="published")){let l={instancePath:e,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"};o===null?o=[l]:o.push(l),s++}else if(t.published!==void 0&&t.published!==!0){let l={instancePath:e+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:S5.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};o===null?o=[l]:o.push(l),s++}}var d=G===s;d&&(H=!0,O=0);let v=s,a=s,h=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let g;if(t.published===void 0&&(g="published")){let l={};o===null?o=[l]:o.push(l),s++}}var f=h===s;if(f){let g={instancePath:e,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[g]:o.push(g),s++}else s=a,o!==null&&(a?o.length=a:o=null);var d=v===s;if(d&&H?(H=!1,O=[O,1]):d&&(H=!0,O=1),H)s=L,o!==null&&(L?o.length=L:o=null);else{let g={instancePath:e,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:O},message:"must match exactly one schema in oneOf"};return o===null?o=[g]:o.push(g),s++,Ut.errors=o,!1}var p=T===s}else var p=!0;if(p){if(t.interface!==void 0){let T=t.interface,L=s;if(typeof T!="string")return Ut.errors=[{instancePath:e+"/interface",schemaPath:"#/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(T==="Permissions"||T==="Protocols"||T==="Records"))return Ut.errors=[{instancePath:e+"/interface",schemaPath:"#/properties/interface/enum",keyword:"enum",params:{allowedValues:S5.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var u=L===s}else var u=!0;if(u){if(t.method!==void 0){let T=t.method,L=s;if(typeof T!="string")return Ut.errors=[{instancePath:e+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(T==="Configure"||T==="Delete"||T==="Grant"||T==="Revoke"||T==="Write"))return Ut.errors=[{instancePath:e+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:S5.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var u=L===s}else var u=!0;if(u){if(t.protocol!==void 0){let T=s;if(typeof t.protocol!="string")return Ut.errors=[{instancePath:e+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=T===s}else var u=!0;if(u){if(t.protocolPath!==void 0){let T=s;if(typeof t.protocolPath!="string")return Ut.errors=[{instancePath:e+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=T===s}else var u=!0;if(u){if(t.recipient!==void 0){let T=t.recipient,L=s;if(s===s)if(typeof T=="string"){if(!yc.test(T))return Ut.errors=[{instancePath:e+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Ut.errors=[{instancePath:e+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=L===s}else var u=!0;if(u){if(t.contextId!==void 0){let T=s;if(typeof t.contextId!="string")return Ut.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=T===s}else var u=!0;if(u){if(t.schema!==void 0){let T=s;if(typeof t.schema!="string")return Ut.errors=[{instancePath:e+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=T===s}else var u=!0;if(u){if(t.recordId!==void 0){let T=s;if(typeof t.recordId!="string")return Ut.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=T===s}else var u=!0;if(u){if(t.parentId!==void 0){let T=s;if(typeof t.parentId!="string")return Ut.errors=[{instancePath:e+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=T===s}else var u=!0;if(u){if(t.dataFormat!==void 0){let T=s;if(typeof t.dataFormat!="string")return Ut.errors=[{instancePath:e+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=T===s}else var u=!0;if(u){if(t.dataSize!==void 0){let T=t.dataSize,L=s;if(s===s)if(T&&typeof T=="object"&&!Array.isArray(T)){if(Object.keys(T).length<1)return Ut.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let G=s;for(let v in T)if(!(v==="gt"||v==="gte"||v==="lt"||v==="lte")){return Ut.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:v},message:"must NOT have additional properties"}],!1;break}if(G===s){if(T.gt!==void 0){let v=s,a=s,h=s;if(T&&typeof T=="object"&&!Array.isArray(T)){let g;if(T.gte===void 0&&(g="gte")){let l={};o===null?o=[l]:o.push(l),s++}}var y=h===s;if(y)return Ut.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=a,o!==null&&(a?o.length=a:o=null);var B=v===s}else var B=!0;if(B){if(T.gte!==void 0){let v=s,a=s,h=s;if(T&&typeof T=="object"&&!Array.isArray(T)){let l;if(T.gt===void 0&&(l="gt")){let A={};o===null?o=[A]:o.push(A),s++}}var S=h===s;if(S)return Ut.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=a,o!==null&&(a?o.length=a:o=null);var B=v===s}else var B=!0;if(B){if(T.lt!==void 0){let v=s,a=s,h=s;if(T&&typeof T=="object"&&!Array.isArray(T)){let l;if(T.lte===void 0&&(l="lte")){let A={};o===null?o=[A]:o.push(A),s++}}var C=h===s;if(C)return Ut.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=a,o!==null&&(a?o.length=a:o=null);var B=v===s}else var B=!0;if(B){if(T.lte!==void 0){let v=s,a=s,h=s;if(T&&typeof T=="object"&&!Array.isArray(T)){let l;if(T.lt===void 0&&(l="lt")){let A={};o===null?o=[A]:o.push(A),s++}}var x=h===s;if(x)return Ut.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=a,o!==null&&(a?o.length=a:o=null);var B=v===s}else var B=!0;if(B){if(T.gt!==void 0){let v=T.gt,a=s;if(!(typeof v=="number"&&isFinite(v)))return Ut.errors=[{instancePath:e+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var _=a===s}else var _=!0;if(_){if(T.gte!==void 0){let v=T.gte,a=s;if(!(typeof v=="number"&&isFinite(v)))return Ut.errors=[{instancePath:e+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var _=a===s}else var _=!0;if(_){if(T.lt!==void 0){let v=T.lt,a=s;if(!(typeof v=="number"&&isFinite(v)))return Ut.errors=[{instancePath:e+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var _=a===s}else var _=!0;if(_)if(T.lte!==void 0){let v=T.lte,a=s;if(!(typeof v=="number"&&isFinite(v)))return Ut.errors=[{instancePath:e+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var _=a===s}else var _=!0}}}}}}}}}else return Ut.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var u=L===s}else var u=!0;if(u){if(t.dateCreated!==void 0){let T=t.dateCreated,L=s;if(s===L)if(T&&typeof T=="object"&&!Array.isArray(T)){if(Object.keys(T).length<1)return Ut.errors=[{instancePath:e+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let O=s;for(let G in T)if(!(G==="from"||G==="to")){return Ut.errors=[{instancePath:e+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties"}],!1;break}if(O===s){if(T.from!==void 0){let G=T.from,v=s;if(s===s)if(typeof G=="string"){if(!Fi.test(G))return Ut.errors=[{instancePath:e+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ut.errors=[{instancePath:e+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=v===s}else var Q=!0;if(Q)if(T.to!==void 0){let G=T.to,v=s;if(s===s)if(typeof G=="string"){if(!Fi.test(G))return Ut.errors=[{instancePath:e+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ut.errors=[{instancePath:e+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=v===s}else var Q=!0}}}else return Ut.errors=[{instancePath:e+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var u=L===s}else var u=!0;if(u){if(t.datePublished!==void 0){let T=t.datePublished,L=s;if(s===L)if(T&&typeof T=="object"&&!Array.isArray(T)){if(Object.keys(T).length<1)return Ut.errors=[{instancePath:e+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let O=s;for(let G in T)if(!(G==="from"||G==="to")){return Ut.errors=[{instancePath:e+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties"}],!1;break}if(O===s){if(T.from!==void 0){let G=T.from,v=s;if(s===s)if(typeof G=="string"){if(!Fi.test(G))return Ut.errors=[{instancePath:e+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ut.errors=[{instancePath:e+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=v===s}else var R=!0;if(R)if(T.to!==void 0){let G=T.to,v=s;if(s===s)if(typeof G=="string"){if(!Fi.test(G))return Ut.errors=[{instancePath:e+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ut.errors=[{instancePath:e+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var R=v===s}else var R=!0}}}else return Ut.errors=[{instancePath:e+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var u=L===s}else var u=!0;if(u)if(t.dateUpdated!==void 0){let T=t.dateUpdated,L=s;if(s===L)if(T&&typeof T=="object"&&!Array.isArray(T)){if(Object.keys(T).length<1)return Ut.errors=[{instancePath:e+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let O=s;for(let G in T)if(!(G==="from"||G==="to")){return Ut.errors=[{instancePath:e+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties"}],!1;break}if(O===s){if(T.from!==void 0){let G=T.from,v=s;if(s===s)if(typeof G=="string"){if(!Fi.test(G))return Ut.errors=[{instancePath:e+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ut.errors=[{instancePath:e+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=v===s}else var k=!0;if(k)if(T.to!==void 0){let G=T.to,v=s;if(s===s)if(typeof G=="string"){if(!Fi.test(G))return Ut.errors=[{instancePath:e+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ut.errors=[{instancePath:e+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=v===s}else var k=!0}}}else return Ut.errors=[{instancePath:e+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var u=L===s}else var u=!0}}}}}}}}}}}}}}}}else return Ut.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ut.errors=o,s===0}var ZJe=Ta,W0e={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/events-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{type:"string"},cursor:{type:"string"}}}}};function Ta(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.authorization===void 0&&(p="authorization")||t.descriptor===void 0&&(p="descriptor"))return Ta.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"}],!1;{let u=s;for(let y in t)if(!(y==="authorization"||y==="descriptor")){return Ta.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;break}if(u===s){if(t.authorization!==void 0){let y=s;bi(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?bi.errors:o.concat(bi.errors),s=o.length);var f=y===s}else var f=!0;if(f)if(t.descriptor!==void 0){let y=t.descriptor,B=s;if(s===B)if(y&&typeof y=="object"&&!Array.isArray(y)){let C;if(y.interface===void 0&&(C="interface")||y.method===void 0&&(C="method")||y.messageTimestamp===void 0&&(C="messageTimestamp"))return Ta.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"}],!1;{let x=s;for(let _ in y)if(!(_==="interface"||_==="method"||_==="messageTimestamp"||_==="cursor")){return Ta.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_},message:"must NOT have additional properties"}],!1;break}if(x===s){if(y.interface!==void 0){let _=y.interface,Q=s;if(typeof _!="string")return Ta.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(_!=="Events")return Ta.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:W0e.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var d=Q===s}else var d=!0;if(d){if(y.method!==void 0){let _=y.method,Q=s;if(typeof _!="string")return Ta.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(_!=="Get")return Ta.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:W0e.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var d=Q===s}else var d=!0;if(d){if(y.messageTimestamp!==void 0){let _=s;if(typeof y.messageTimestamp!="string")return Ta.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=_===s}else var d=!0;if(d)if(y.cursor!==void 0){let _=s;if(typeof y.cursor!="string")return Ta.errors=[{instancePath:e+"/descriptor/cursor",schemaPath:"#/properties/descriptor/properties/cursor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=_===s}else var d=!0}}}}}else return Ta.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=B===s}else var f=!0}}}else return Ta.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ta.errors=o,s===0}var $Je=Vo,Z0e={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/events-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},filters:{type:"array",minItems:1,items:{$ref:"https://identity.foundation/dwn/json-schemas/events-filter.json"}},cursor:{type:"string"}}}}};function Vo(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.authorization===void 0&&(u="authorization")||t.descriptor===void 0&&(u="descriptor"))return Vo.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{let y=s;for(let B in t)if(!(B==="authorization"||B==="descriptor")){return Vo.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"}],!1;break}if(y===s){if(t.authorization!==void 0){let B=s;bi(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?bi.errors:o.concat(bi.errors),s=o.length);var f=B===s}else var f=!0;if(f)if(t.descriptor!==void 0){let B=t.descriptor,S=s;if(s===S)if(B&&typeof B=="object"&&!Array.isArray(B)){let x;if(B.interface===void 0&&(x="interface")||B.method===void 0&&(x="method")||B.messageTimestamp===void 0&&(x="messageTimestamp")||B.filters===void 0&&(x="filters"))return Vo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:x},message:"must have required property '"+x+"'"}],!1;{let _=s;for(let Q in B)if(!(Q==="interface"||Q==="method"||Q==="messageTimestamp"||Q==="filters"||Q==="cursor")){return Vo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties"}],!1;break}if(_===s){if(B.interface!==void 0){let Q=B.interface,R=s;if(typeof Q!="string")return Vo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Q!=="Events")return Vo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Z0e.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var d=R===s}else var d=!0;if(d){if(B.method!==void 0){let Q=B.method,R=s;if(typeof Q!="string")return Vo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Q!=="Query")return Vo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Z0e.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var d=R===s}else var d=!0;if(d){if(B.messageTimestamp!==void 0){let Q=B.messageTimestamp,R=s;if(s===s)if(typeof Q=="string"){if(!Fi.test(Q))return Vo.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Vo.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=R===s}else var d=!0;if(d){if(B.filters!==void 0){let Q=B.filters,R=s;if(s===R)if(Array.isArray(Q)){if(Q.length<1)return Vo.errors=[{instancePath:e+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var p=!0;let K=Q.length;for(let T=0;T<K;T++){let L=s;Ut(Q[T],{instancePath:e+"/descriptor/filters/"+T,parentData:Q,parentDataProperty:T,rootData:n})||(o=o===null?Ut.errors:o.concat(Ut.errors),s=o.length);var p=L===s;if(!p)break}}}else return Vo.errors=[{instancePath:e+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var d=R===s}else var d=!0;if(d)if(B.cursor!==void 0){let Q=s;if(typeof B.cursor!="string")return Vo.errors=[{instancePath:e+"/descriptor/cursor",schemaPath:"#/properties/descriptor/properties/cursor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=Q===s}else var d=!0}}}}}}else return Vo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=S===s}else var f=!0}}}else return Vo.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Vo.errors=o,s===0}var XJe=XK;function XK(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;return t&&typeof t=="object"&&!Array.isArray(t)?(XK.errors=o,s===0):(XK.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var eVe=ia;function ia(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0,f=s,d=!1,p=null,u=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let R;if(t.crv===void 0&&(R="crv")||t.x===void 0&&(R="x")){let k={instancePath:e,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:R},message:"must have required property '"+R+"'"};o===null?o=[k]:o.push(k),s++}else{if(t.kty!==void 0){let k=s;if(t.kty!=="EC"){let K={instancePath:e+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};o===null?o=[K]:o.push(K),s++}var y=k===s}else var y=!0;if(y){if(t.crv!==void 0){let k=s;if(typeof t.crv!="string"){let T={instancePath:e+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[T]:o.push(T),s++}var y=k===s}else var y=!0;if(y){if(t.x!==void 0){let k=s;if(typeof t.x!="string"){let T={instancePath:e+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[T]:o.push(T),s++}var y=k===s}else var y=!0;if(y){if(t.y!==void 0){let k=s;if(typeof t.y!="string"){let T={instancePath:e+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[T]:o.push(T),s++}var y=k===s}else var y=!0;if(y)if(t.d!==void 0){let k=s;if(typeof t.d!="string"){let T={instancePath:e+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[T]:o.push(T),s++}var y=k===s}else var y=!0}}}}}var C=u===s;C&&(d=!0,p=0);let B=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let R;if(t.crv===void 0&&(R="crv")||t.x===void 0&&(R="x")){let k={instancePath:e,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:R},message:"must have required property '"+R+"'"};o===null?o=[k]:o.push(k),s++}else{if(t.kty!==void 0){let k=s;if(t.kty!=="OKP"){let K={instancePath:e+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};o===null?o=[K]:o.push(K),s++}var S=k===s}else var S=!0;if(S){if(t.crv!==void 0){let k=s;if(typeof t.crv!="string"){let T={instancePath:e+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[T]:o.push(T),s++}var S=k===s}else var S=!0;if(S){if(t.x!==void 0){let k=s;if(typeof t.x!="string"){let T={instancePath:e+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[T]:o.push(T),s++}var S=k===s}else var S=!0;if(S)if(t.d!==void 0){let k=s;if(typeof t.d!="string"){let T={instancePath:e+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[T]:o.push(T),s++}var S=k===s}else var S=!0}}}}var C=B===s;if(C&&d)d=!1,p=[p,1];else{C&&(d=!0,p=1);let R=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let K;if(t.n===void 0&&(K="n")||t.e===void 0&&(K="e")){let T={instancePath:e,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"};o===null?o=[T]:o.push(T),s++}else{if(t.kty!==void 0){let T=s;if(t.kty!=="RSA"){let L={instancePath:e+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};o===null?o=[L]:o.push(L),s++}var x=T===s}else var x=!0;if(x){if(t.n!==void 0){let T=s;if(typeof t.n!="string"){let H={instancePath:e+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0;if(x){if(t.e!==void 0){let T=s;if(typeof t.e!="string"){let H={instancePath:e+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0;if(x){if(t.d!==void 0){let T=s;if(typeof t.d!="string"){let H={instancePath:e+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0;if(x){if(t.p!==void 0){let T=s;if(typeof t.p!="string"){let H={instancePath:e+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0;if(x){if(t.q!==void 0){let T=s;if(typeof t.q!="string"){let H={instancePath:e+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0;if(x){if(t.dp!==void 0){let T=s;if(typeof t.dp!="string"){let H={instancePath:e+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0;if(x){if(t.dq!==void 0){let T=s;if(typeof t.dq!="string"){let H={instancePath:e+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0;if(x){if(t.qi!==void 0){let T=s;if(typeof t.qi!="string"){let H={instancePath:e+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0;if(x)if(t.oth!==void 0){let T=t.oth,L=s;if(!(T&&typeof T=="object"&&!Array.isArray(T))){let O={instancePath:e+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[O]:o.push(O),s++}var x=L===s}else var x=!0}}}}}}}}}}var C=R===s;if(C&&d)d=!1,p=[p,2];else{C&&(d=!0,p=2);let K=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let L;if(t.k===void 0&&(L="k")){let H={instancePath:e,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:L},message:"must have required property '"+L+"'"};o===null?o=[H]:o.push(H),s++}else{if(t.kty!==void 0){let H=s;if(t.kty!=="oct"){let O={instancePath:e+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};o===null?o=[O]:o.push(O),s++}var _=H===s}else var _=!0;if(_)if(t.k!==void 0){let H=s;if(typeof t.k!="string"){let G={instancePath:e+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[G]:o.push(G),s++}var _=H===s}else var _=!0}}var C=K===s;C&&d?(d=!1,p=[p,3]):C&&(d=!0,p=3)}}if(d)s=f,o!==null&&(f?o.length=f:o=null);else{let R={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:p},message:"must match exactly one schema in oneOf"};return o===null?o=[R]:o.push(R),s++,ia.errors=o,!1}if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let R;if(t.kty===void 0&&(R="kty"))return ia.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:R},message:"must have required property '"+R+"'"}],!1;if(t.alg!==void 0){let k=s;if(typeof t.alg!="string")return ia.errors=[{instancePath:e+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=k===s}else var Q=!0;if(Q){if(t.kid!==void 0){let k=s;if(typeof t.kid!="string")return ia.errors=[{instancePath:e+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=k===s}else var Q=!0;if(Q){if(t.kty!==void 0){let k=t.kty,K=s;if(!(k==="EC"||k==="RSA"||k==="oct"||k==="OKP"))return ia.errors=[{instancePath:e+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:spe.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;var Q=K===s}else var Q=!0;if(Q){if(t.crv!==void 0){let k=s;if(typeof t.crv!="string")return ia.errors=[{instancePath:e+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=k===s}else var Q=!0;if(Q){if(t.use!==void 0){let k=s;if(typeof t.use!="string")return ia.errors=[{instancePath:e+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=k===s}else var Q=!0;if(Q){if(t.key_ops!==void 0){let k=s;if(typeof t.key_ops!="string")return ia.errors=[{instancePath:e+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=k===s}else var Q=!0;if(Q){if(t.x5u!==void 0){let k=s;if(typeof t.x5u!="string")return ia.errors=[{instancePath:e+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=k===s}else var Q=!0;if(Q){if(t.x5c!==void 0){let k=s;if(typeof t.x5c!="string")return ia.errors=[{instancePath:e+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=k===s}else var Q=!0;if(Q){if(t.x5t!==void 0){let k=s;if(typeof t.x5t!="string")return ia.errors=[{instancePath:e+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=k===s}else var Q=!0;if(Q)if(t["x5t#S256"]!==void 0){let k=s;if(typeof t["x5t#S256"]!="string")return ia.errors=[{instancePath:e+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=k===s}else var Q=!0}}}}}}}}}else return ia.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ia.errors=o,s===0}var tVe=vi,rVe=m0;function m0(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d;if(t.id===void 0&&(d="id")||t.type===void 0&&(d="type")||t.controller===void 0&&(d="controller")||t.publicKeyJwk===void 0&&(d="publicKeyJwk"))return m0.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:d},message:"must have required property '"+d+"'"}],!1;{let p=s;for(let u in t)if(!(u==="id"||u==="type"||u==="controller"||u==="publicKeyJwk")){return m0.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:u},message:"must NOT have additional properties"}],!1;break}if(p===s){if(t.id!==void 0){let u=s;if(typeof t.id!="string")return m0.errors=[{instancePath:e+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=u===s}else var f=!0;if(f){if(t.type!==void 0){let u=s;if(t.type!=="JsonWebKey2020")return m0.errors=[{instancePath:e+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"JsonWebKey2020"},message:"must be equal to constant"}],!1;var f=u===s}else var f=!0;if(f){if(t.controller!==void 0){let u=t.controller,y=s;if(s===s)if(typeof u=="string"){if(!yc.test(u))return m0.errors=[{instancePath:e+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return m0.errors=[{instancePath:e+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=y===s}else var f=!0;if(f)if(t.publicKeyJwk!==void 0){let u=s;wi(t.publicKeyJwk,{instancePath:e+"/publicKeyJwk",parentData:t,parentDataProperty:"publicKeyJwk",rootData:n})||(o=o===null?wi.errors:o.concat(wi.errors),s=o.length);var f=u===s}else var f=!0}}}}}else return m0.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return m0.errors=o,s===0}var iVe=Wo,$0e={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/messages-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},messageCids:{type:"array",items:{type:"string"},minItems:1}}}}};function Wo(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.authorization===void 0&&(u="authorization")||t.descriptor===void 0&&(u="descriptor"))return Wo.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{let y=s;for(let B in t)if(!(B==="authorization"||B==="descriptor")){return Wo.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"}],!1;break}if(y===s){if(t.authorization!==void 0){let B=s;bi(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?bi.errors:o.concat(bi.errors),s=o.length);var f=B===s}else var f=!0;if(f)if(t.descriptor!==void 0){let B=t.descriptor,S=s;if(s===S)if(B&&typeof B=="object"&&!Array.isArray(B)){let x;if(B.interface===void 0&&(x="interface")||B.method===void 0&&(x="method")||B.messageTimestamp===void 0&&(x="messageTimestamp"))return Wo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:x},message:"must have required property '"+x+"'"}],!1;{let _=s;for(let Q in B)if(!(Q==="interface"||Q==="method"||Q==="messageTimestamp"||Q==="messageCids")){return Wo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties"}],!1;break}if(_===s){if(B.interface!==void 0){let Q=B.interface,R=s;if(typeof Q!="string")return Wo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Q!=="Messages")return Wo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:$0e.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var d=R===s}else var d=!0;if(d){if(B.method!==void 0){let Q=B.method,R=s;if(typeof Q!="string")return Wo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Q!=="Get")return Wo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:$0e.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var d=R===s}else var d=!0;if(d){if(B.messageTimestamp!==void 0){let Q=B.messageTimestamp,R=s;if(s===s)if(typeof Q=="string"){if(!Fi.test(Q))return Wo.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Wo.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=R===s}else var d=!0;if(d)if(B.messageCids!==void 0){let Q=B.messageCids,R=s;if(s===R)if(Array.isArray(Q)){if(Q.length<1)return Wo.errors=[{instancePath:e+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var p=!0;let K=Q.length;for(let T=0;T<K;T++){let L=s;if(typeof Q[T]!="string")return Wo.errors=[{instancePath:e+"/descriptor/messageCids/"+T,schemaPath:"#/properties/descriptor/properties/messageCids/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=L===s;if(!p)break}}}else return Wo.errors=[{instancePath:e+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var d=R===s}else var d=!0}}}}}else return Wo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=S===s}else var f=!0}}}else return Wo.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Wo.errors=o,s===0}var nVe=Ac;function Ac(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){if(Object.keys(t).length<1)return Ac.errors=[{instancePath:e,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let S=s;for(let C in t)if(!(C==="gt"||C==="gte"||C==="lt"||C==="lte")){return Ac.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;break}if(S===s){if(t.gt!==void 0){let C=s,x=s,_=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let Q;if(t.gte===void 0&&(Q="gte")){let R={};o===null?o=[R]:o.push(R),s++}}var f=_===s;if(f)return Ac.errors=[{instancePath:e,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=x,o!==null&&(x?o.length=x:o=null);var d=C===s}else var d=!0;if(d){if(t.gte!==void 0){let C=s,x=s,_=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let R;if(t.gt===void 0&&(R="gt")){let k={};o===null?o=[k]:o.push(k),s++}}var p=_===s;if(p)return Ac.errors=[{instancePath:e,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=x,o!==null&&(x?o.length=x:o=null);var d=C===s}else var d=!0;if(d){if(t.lt!==void 0){let C=s,x=s,_=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let R;if(t.lte===void 0&&(R="lte")){let k={};o===null?o=[k]:o.push(k),s++}}var u=_===s;if(u)return Ac.errors=[{instancePath:e,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=x,o!==null&&(x?o.length=x:o=null);var d=C===s}else var d=!0;if(d){if(t.lte!==void 0){let C=s,x=s,_=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let R;if(t.lt===void 0&&(R="lt")){let k={};o===null?o=[k]:o.push(k),s++}}var y=_===s;if(y)return Ac.errors=[{instancePath:e,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=x,o!==null&&(x?o.length=x:o=null);var d=C===s}else var d=!0;if(d){if(t.gt!==void 0){let C=t.gt,x=s;if(!(typeof C=="number"&&isFinite(C)))return Ac.errors=[{instancePath:e+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var B=x===s}else var B=!0;if(B){if(t.gte!==void 0){let C=t.gte,x=s;if(!(typeof C=="number"&&isFinite(C)))return Ac.errors=[{instancePath:e+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var B=x===s}else var B=!0;if(B){if(t.lt!==void 0){let C=t.lt,x=s;if(!(typeof C=="number"&&isFinite(C)))return Ac.errors=[{instancePath:e+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var B=x===s}else var B=!0;if(B)if(t.lte!==void 0){let C=t.lte,x=s;if(!(typeof C=="number"&&isFinite(C)))return Ac.errors=[{instancePath:e+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var B=x===s}else var B=!0}}}}}}}}}else return Ac.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ac.errors=o,s===0}var oVe=eq;function eq(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;return t&&typeof t=="object"&&!Array.isArray(t)?(eq.errors=o,s===0):(eq.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var sVe=Tr,aVe=zi,WK={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-request.json",additionalProperties:!1,type:"object",required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","grantedBy","grantedTo","grantedFor","scope"],properties:{interface:{enum:["Permissions"],type:"string"},method:{enum:["Request"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},description:{type:"string"},grantedTo:{description:"DID of the grantee",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{description:"DID of the grantor",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},grantedFor:{description:"DID of the DWN to which the grantee is given access",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"}}}}};function KC(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0,f=s,d=!1,p=null,u=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.interface!==void 0){let K=s;if(t.interface!=="Protocols"){let T={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};o===null?o=[T]:o.push(T),s++}var B=K===s}else var B=!0;if(B)if(t.method!==void 0){let K=s;if(t.method!=="Query"){let L={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};o===null?o=[L]:o.push(L),s++}var B=K===s}else var B=!0}else{let K={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[K]:o.push(K),s++}var _=u===s;_&&(d=!0,p=0);let S=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let K;if(t.interface===void 0&&(K="interface")||t.method===void 0&&(K="method")){let T={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"};o===null?o=[T]:o.push(T),s++}else{if(t.interface!==void 0){let T=s;if(t.interface!=="Records"){let L={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[L]:o.push(L),s++}var x=T===s}else var x=!0;if(x){if(t.method!==void 0){let T=s;if(t.method!=="Read"){let H={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0;if(x){if(t.schema!==void 0){let T=s;if(typeof t.schema!="string"){let H={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0;if(x){if(t.protocol!==void 0){let T=s;if(typeof t.protocol!="string"){let H={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0;if(x){if(t.contextId!==void 0){let T=s;if(typeof t.contextId!="string"){let H={instancePath:e+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0;if(x)if(t.protocolPath!==void 0){let T=s;if(typeof t.protocolPath!="string"){let H={instancePath:e+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[H]:o.push(H),s++}var x=T===s}else var x=!0}}}}}}else{let K={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[K]:o.push(K),s++}var _=S===s;if(_&&d)d=!1,p=[p,1];else{_&&(d=!0,p=1);let K=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let H;if(t.interface===void 0&&(H="interface")||t.method===void 0&&(H="method")){let O={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/required",keyword:"required",params:{missingProperty:H},message:"must have required property '"+H+"'"};o===null?o=[O]:o.push(O),s++}else{if(t.interface!==void 0){let O=s;if(t.interface!=="Records"){let G={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[G]:o.push(G),s++}var Q=O===s}else var Q=!0;if(Q){if(t.method!==void 0){let O=s;if(t.method!=="Delete"){let v={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};o===null?o=[v]:o.push(v),s++}var Q=O===s}else var Q=!0;if(Q){if(t.protocol!==void 0){let O=s;if(typeof t.protocol!="string"){let v={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[v]:o.push(v),s++}var Q=O===s}else var Q=!0;if(Q)if(t.schema!==void 0){let O=s;if(typeof t.schema!="string"){let v={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[v]:o.push(v),s++}var Q=O===s}else var Q=!0}}}}else{let H={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[H]:o.push(H),s++}var _=K===s;if(_&&d)d=!1,p=[p,2];else{_&&(d=!0,p=2);let H=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let v;if(t.interface===void 0&&(v="interface")||t.method===void 0&&(v="method")){let a={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"};o===null?o=[a]:o.push(a),s++}else{if(t.interface!==void 0){let a=s;if(t.interface!=="Records"){let h={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[h]:o.push(h),s++}var R=a===s}else var R=!0;if(R){if(t.method!==void 0){let a=s;if(t.method!=="Write"){let g={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};o===null?o=[g]:o.push(g),s++}var R=a===s}else var R=!0;if(R){if(t.schema!==void 0){let a=s;if(typeof t.schema!="string"){let g={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}var R=a===s}else var R=!0;if(R){if(t.protocol!==void 0){let a=s;if(typeof t.protocol!="string"){let g={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}var R=a===s}else var R=!0;if(R){if(t.contextId!==void 0){let a=s;if(typeof t.contextId!="string"){let g={instancePath:e+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}var R=a===s}else var R=!0;if(R)if(t.protocolPath!==void 0){let a=s;if(typeof t.protocolPath!="string"){let g={instancePath:e+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[g]:o.push(g),s++}var R=a===s}else var R=!0}}}}}}else{let v={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[v]:o.push(v),s++}var _=H===s;if(_&&d)d=!1,p=[p,3];else{_&&(d=!0,p=3);let v=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let g;if(t.interface===void 0&&(g="interface")||t.method===void 0&&(g="method")){let l={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-query-scope/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"};o===null?o=[l]:o.push(l),s++}else{if(t.interface!==void 0){let l=s;if(t.interface!=="Records"){let A={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};o===null?o=[A]:o.push(A),s++}var k=l===s}else var k=!0;if(k){if(t.method!==void 0){let l=s;if(t.method!=="Query"){let w={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};o===null?o=[w]:o.push(w),s++}var k=l===s}else var k=!0;if(k)if(t.protocol!==void 0){let l=s;if(typeof t.protocol!="string"){let w={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[w]:o.push(w),s++}var k=l===s}else var k=!0}}}else{let g={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[g]:o.push(g),s++}var _=v===s;_&&d?(d=!1,p=[p,4]):_&&(d=!0,p=4)}}}if(d)s=f,o!==null&&(f?o.length=f:o=null);else{let K={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:p},message:"must match exactly one schema in oneOf"};return o===null?o=[K]:o.push(K),s++,KC.errors=o,!1}return KC.errors=o,s===0}function zi(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.authorization===void 0&&(p="authorization")||t.descriptor===void 0&&(p="descriptor"))return zi.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"}],!1;{let u=s;for(let y in t)if(!(y==="authorization"||y==="descriptor")){return zi.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;break}if(u===s){if(t.authorization!==void 0){let y=s;bi(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?bi.errors:o.concat(bi.errors),s=o.length);var f=y===s}else var f=!0;if(f)if(t.descriptor!==void 0){let y=t.descriptor,B=s;if(s===B)if(y&&typeof y=="object"&&!Array.isArray(y)){let C;if(y.interface===void 0&&(C="interface")||y.method===void 0&&(C="method")||y.messageTimestamp===void 0&&(C="messageTimestamp")||y.grantedBy===void 0&&(C="grantedBy")||y.grantedTo===void 0&&(C="grantedTo")||y.grantedFor===void 0&&(C="grantedFor")||y.scope===void 0&&(C="scope"))return zi.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"}],!1;{let x=s;for(let _ in y)if(!qC.call(WK.properties.descriptor.properties,_)){return zi.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_},message:"must NOT have additional properties"}],!1;break}if(x===s){if(y.interface!==void 0){let _=y.interface,Q=s;if(typeof _!="string")return zi.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(_!=="Permissions")return zi.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:WK.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var d=Q===s}else var d=!0;if(d){if(y.method!==void 0){let _=y.method,Q=s;if(typeof _!="string")return zi.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(_!=="Request")return zi.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:WK.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var d=Q===s}else var d=!0;if(d){if(y.messageTimestamp!==void 0){let _=y.messageTimestamp,Q=s;if(s===s)if(typeof _=="string"){if(!Fi.test(_))return zi.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return zi.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=Q===s}else var d=!0;if(d){if(y.description!==void 0){let _=s;if(typeof y.description!="string")return zi.errors=[{instancePath:e+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=_===s}else var d=!0;if(d){if(y.grantedTo!==void 0){let _=y.grantedTo,Q=s;if(s===s)if(typeof _=="string"){if(!yc.test(_))return zi.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return zi.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=Q===s}else var d=!0;if(d){if(y.grantedBy!==void 0){let _=y.grantedBy,Q=s;if(s===s)if(typeof _=="string"){if(!yc.test(_))return zi.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return zi.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=Q===s}else var d=!0;if(d){if(y.grantedFor!==void 0){let _=y.grantedFor,Q=s;if(s===s)if(typeof _=="string"){if(!yc.test(_))return zi.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return zi.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=Q===s}else var d=!0;if(d){if(y.scope!==void 0){let _=s;KC(y.scope,{instancePath:e+"/descriptor/scope",parentData:y,parentDataProperty:"scope",rootData:n})||(o=o===null?KC.errors:o.concat(KC.errors),s=o.length);var d=_===s}else var d=!0;if(d)if(y.conditions!==void 0){let _=y.conditions,Q=s;if(s===s)if(_&&typeof _=="object"&&!Array.isArray(_)){let K=s;for(let T in _)if(T!=="publication"){return zi.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:T},message:"must NOT have additional properties"}],!1;break}if(K===s&&_.publication!==void 0){let T=_.publication;if(typeof T!="string")return zi.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(T==="Required"||T==="Prohibited"))return zi.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:ope.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}else return zi.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=Q===s}else var d=!0}}}}}}}}}}else return zi.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=B===s}else var f=!0}}}else return zi.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return zi.errors=o,s===0}var cVe=na,X0e={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-revoke.json",type:"object",required:["authorization","descriptor"],additionalProperties:!1,properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","permissionsGrantId"],properties:{messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},permissionsGrantId:{type:"string"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Revoke"],type:"string"}}}}};function na(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.authorization===void 0&&(p="authorization")||t.descriptor===void 0&&(p="descriptor"))return na.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"}],!1;{let u=s;for(let y in t)if(!(y==="authorization"||y==="descriptor")){return na.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;break}if(u===s){if(t.authorization!==void 0){let y=s;bi(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?bi.errors:o.concat(bi.errors),s=o.length);var f=y===s}else var f=!0;if(f)if(t.descriptor!==void 0){let y=t.descriptor,B=s;if(s===B)if(y&&typeof y=="object"&&!Array.isArray(y)){let C;if(y.interface===void 0&&(C="interface")||y.method===void 0&&(C="method")||y.messageTimestamp===void 0&&(C="messageTimestamp")||y.permissionsGrantId===void 0&&(C="permissionsGrantId"))return na.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"}],!1;{let x=s;for(let _ in y)if(!(_==="messageTimestamp"||_==="permissionsGrantId"||_==="interface"||_==="method")){return na.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_},message:"must NOT have additional properties"}],!1;break}if(x===s){if(y.messageTimestamp!==void 0){let _=y.messageTimestamp,Q=s;if(s===s)if(typeof _=="string"){if(!Fi.test(_))return na.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return na.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=Q===s}else var d=!0;if(d){if(y.permissionsGrantId!==void 0){let _=s;if(typeof y.permissionsGrantId!="string")return na.errors=[{instancePath:e+"/descriptor/permissionsGrantId",schemaPath:"#/properties/descriptor/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=_===s}else var d=!0;if(d){if(y.interface!==void 0){let _=y.interface,Q=s;if(typeof _!="string")return na.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(_!=="Permissions")return na.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:X0e.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var d=Q===s}else var d=!0;if(d)if(y.method!==void 0){let _=y.method,Q=s;if(typeof _!="string")return na.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(_!=="Revoke")return na.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:X0e.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var d=Q===s}else var d=!0}}}}}else return na.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=B===s}else var f=!0}}}else return na.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return na.errors=o,s===0}var fVe=tq;function tq(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;return t&&typeof t=="object"&&!Array.isArray(t)?(tq.errors=o,s===0):(tq.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var dVe=xo;var epe=new RegExp(".*","u"),ZK={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"string",enum:["delete","read","update","write"]}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a record with either $globalRole or $contextRole set to true",type:"string"},can:{type:"string",enum:["delete","query","read","update","write"]}}}]}},$globalRole:{$comment:"When `true`, this turns a record into `role` that may be used across contexts",type:"boolean"},$contextRole:{$comment:"When `true`, this turns a record into `role` that may be used within a context",type:"boolean"}},patternProperties:{"^[^$].*":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},tpe=new RegExp("^[^$].*","u"),$K={validate:Zo};function Zo(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let C=s;for(let x in t)if(!(x==="$encryption"||x==="$actions"||x==="$globalRole"||x==="$contextRole"||tpe.test(x))){return Zo.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:x},message:"must NOT have additional properties"}],!1;break}if(C===s){if(t.$encryption!==void 0){let x=t.$encryption,_=s;if(s===_)if(x&&typeof x=="object"&&!Array.isArray(x)){let Q=s;for(let R in x)if(!(R==="rootKeyId"||R==="publicKeyJwk")){return Zo.errors=[{instancePath:e+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:R},message:"must NOT have additional properties"}],!1;break}if(Q===s){if(x.rootKeyId!==void 0){let R=s;if(typeof x.rootKeyId!="string")return Zo.errors=[{instancePath:e+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=R===s}else var f=!0;if(f)if(x.publicKeyJwk!==void 0){let R=s;wi(x.publicKeyJwk,{instancePath:e+"/$encryption/publicKeyJwk",parentData:x,parentDataProperty:"publicKeyJwk",rootData:n})||(o=o===null?wi.errors:o.concat(wi.errors),s=o.length);var f=R===s}else var f=!0}}else return Zo.errors=[{instancePath:e+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=_===s}else var d=!0;if(d){if(t.$actions!==void 0){let x=t.$actions,_=s;if(s===_)if(Array.isArray(x)){if(x.length<1)return Zo.errors=[{instancePath:e+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var p=!0;let R=x.length;for(let k=0;k<R;k++){let K=x[k],T=s;if(!(K&&typeof K=="object"&&!Array.isArray(K)))return Zo.errors=[{instancePath:e+"/$actions/"+k,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;let L=s,H=!1,O=null,G=s;if(K&&typeof K=="object"&&!Array.isArray(K)){let h;if(K.who===void 0&&(h="who")||K.can===void 0&&(h="can")){let g={instancePath:e+"/$actions/"+k,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:h},message:"must have required property '"+h+"'"};o===null?o=[g]:o.push(g),s++}else{let g=s;for(let l in K)if(!(l==="who"||l==="of"||l==="can")){let A={instancePath:e+"/$actions/"+k,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"};o===null?o=[A]:o.push(A),s++;break}if(g===s){if(K.who!==void 0){let l=K.who,A=s;if(typeof l!="string"){let w={instancePath:e+"/$actions/"+k+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[w]:o.push(w),s++}if(!(l==="anyone"||l==="author"||l==="recipient")){let w={instancePath:e+"/$actions/"+k+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:ZK.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};o===null?o=[w]:o.push(w),s++}var u=A===s}else var u=!0;if(u){if(K.of!==void 0){let l=s;if(typeof K.of!="string"){let w={instancePath:e+"/$actions/"+k+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[w]:o.push(w),s++}var u=l===s}else var u=!0;if(u)if(K.can!==void 0){let l=K.can,A=s;if(typeof l!="string"){let E={instancePath:e+"/$actions/"+k+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[E]:o.push(E),s++}if(!(l==="delete"||l==="read"||l==="update"||l==="write")){let E={instancePath:e+"/$actions/"+k+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/enum",keyword:"enum",params:{allowedValues:ZK.properties.$actions.items.oneOf[0].properties.can.enum},message:"must be equal to one of the allowed values"};o===null?o=[E]:o.push(E),s++}var u=A===s}else var u=!0}}}}var B=G===s;B&&(H=!0,O=0);let v=s;if(K&&typeof K=="object"&&!Array.isArray(K)){let h;if(K.role===void 0&&(h="role")||K.can===void 0&&(h="can")){let g={instancePath:e+"/$actions/"+k,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:h},message:"must have required property '"+h+"'"};o===null?o=[g]:o.push(g),s++}else{if(K.role!==void 0){let g=s;if(typeof K.role!="string"){let l={instancePath:e+"/$actions/"+k+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[l]:o.push(l),s++}var y=g===s}else var y=!0;if(y)if(K.can!==void 0){let g=K.can,l=s;if(typeof g!="string"){let w={instancePath:e+"/$actions/"+k+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[w]:o.push(w),s++}if(!(g==="delete"||g==="query"||g==="read"||g==="update"||g==="write")){let w={instancePath:e+"/$actions/"+k+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/enum",keyword:"enum",params:{allowedValues:ZK.properties.$actions.items.oneOf[1].properties.can.enum},message:"must be equal to one of the allowed values"};o===null?o=[w]:o.push(w),s++}var y=l===s}else var y=!0}}var B=v===s;if(B&&H?(H=!1,O=[O,1]):B&&(H=!0,O=1),H)s=L,o!==null&&(L?o.length=L:o=null);else{let h={instancePath:e+"/$actions/"+k,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:O},message:"must match exactly one schema in oneOf"};return o===null?o=[h]:o.push(h),s++,Zo.errors=o,!1}var p=T===s;if(!p)break}}}else return Zo.errors=[{instancePath:e+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var d=_===s}else var d=!0;if(d){if(t.$globalRole!==void 0){let x=s;if(typeof t.$globalRole!="boolean")return Zo.errors=[{instancePath:e+"/$globalRole",schemaPath:"#/properties/%24globalRole/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var d=x===s}else var d=!0;if(d){if(t.$contextRole!==void 0){let x=s;if(typeof t.$contextRole!="boolean")return Zo.errors=[{instancePath:e+"/$contextRole",schemaPath:"#/properties/%24contextRole/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var d=x===s}else var d=!0;if(d){var S=!0;for(let x in t)if(tpe.test(x)){let _=s;$K.validate(t[x],{instancePath:e+"/"+x.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:t,parentDataProperty:x,rootData:n})||(o=o===null?$K.validate.errors:o.concat($K.validate.errors),s=o.length);var S=_===s;if(!S)break}}}}}}}else return Zo.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Zo.errors=o,s===0}function xo(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let B;if(t.protocol===void 0&&(B="protocol")||t.published===void 0&&(B="published")||t.types===void 0&&(B="types")||t.structure===void 0&&(B="structure"))return xo.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:B},message:"must have required property '"+B+"'"}],!1;{let S=s;for(let C in t)if(!(C==="protocol"||C==="published"||C==="types"||C==="structure")){return xo.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"}],!1;break}if(S===s){if(t.protocol!==void 0){let C=s;if(typeof t.protocol!="string")return xo.errors=[{instancePath:e+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=C===s}else var f=!0;if(f){if(t.published!==void 0){let C=s;if(typeof t.published!="boolean")return xo.errors=[{instancePath:e+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var f=C===s}else var f=!0;if(f){if(t.types!==void 0){let C=t.types,x=s;if(s===x)if(C&&typeof C=="object"&&!Array.isArray(C)){var d=!0;for(let Q in C)if(epe.test(Q)){let R=C[Q],k=s;if(s===k)if(R&&typeof R=="object"&&!Array.isArray(R)){let T=s;for(let L in R)if(!(L==="schema"||L==="dataFormats")){return xo.errors=[{instancePath:e+"/types/"+Q.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:L},message:"must NOT have additional properties"}],!1;break}if(T===s){if(R.schema!==void 0){let L=s;if(typeof R.schema!="string")return xo.errors=[{instancePath:e+"/types/"+Q.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=L===s}else var p=!0;if(p)if(R.dataFormats!==void 0){let L=R.dataFormats,H=s;if(s===H)if(Array.isArray(L)){if(L.length<1)return xo.errors=[{instancePath:e+"/types/"+Q.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var u=!0;let G=L.length;for(let v=0;v<G;v++){let a=s;if(typeof L[v]!="string")return xo.errors=[{instancePath:e+"/types/"+Q.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+v,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=a===s;if(!u)break}}}else return xo.errors=[{instancePath:e+"/types/"+Q.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var p=H===s}else var p=!0}}else return xo.errors=[{instancePath:e+"/types/"+Q.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=k===s;if(!d)break}}else return xo.errors=[{instancePath:e+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=x===s}else var f=!0;if(f)if(t.structure!==void 0){let C=t.structure,x=s;if(s===x)if(C&&typeof C=="object"&&!Array.isArray(C)){var y=!0;for(let Q in C)if(epe.test(Q)){let R=s;Zo(C[Q],{instancePath:e+"/structure/"+Q.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:C,parentDataProperty:Q,rootData:n})||(o=o===null?Zo.errors:o.concat(Zo.errors),s=o.length);var y=R===s;if(!y)break}}else return xo.errors=[{instancePath:e+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=x===s}else var f=!0}}}}}else return xo.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return xo.errors=o,s===0}var uVe=Zo,hVe=Ra,rpe={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function Ra(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.authorization===void 0&&(p="authorization")||t.descriptor===void 0&&(p="descriptor"))return Ra.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"}],!1;{let u=s;for(let y in t)if(!(y==="authorization"||y==="descriptor")){return Ra.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;break}if(u===s){if(t.authorization!==void 0){let y=s;bi(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?bi.errors:o.concat(bi.errors),s=o.length);var f=y===s}else var f=!0;if(f)if(t.descriptor!==void 0){let y=t.descriptor,B=s;if(s===B)if(y&&typeof y=="object"&&!Array.isArray(y)){let C;if(y.interface===void 0&&(C="interface")||y.method===void 0&&(C="method")||y.messageTimestamp===void 0&&(C="messageTimestamp")||y.definition===void 0&&(C="definition"))return Ra.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"}],!1;{let x=s;for(let _ in y)if(!(_==="interface"||_==="method"||_==="messageTimestamp"||_==="definition")){return Ra.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_},message:"must NOT have additional properties"}],!1;break}if(x===s){if(y.interface!==void 0){let _=y.interface,Q=s;if(typeof _!="string")return Ra.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(_!=="Protocols")return Ra.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:rpe.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var d=Q===s}else var d=!0;if(d){if(y.method!==void 0){let _=y.method,Q=s;if(typeof _!="string")return Ra.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(_!=="Configure")return Ra.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:rpe.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var d=Q===s}else var d=!0;if(d){if(y.messageTimestamp!==void 0){let _=y.messageTimestamp,Q=s;if(s===s)if(typeof _=="string"){if(!Fi.test(_))return Ra.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ra.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=Q===s}else var d=!0;if(d)if(y.definition!==void 0){let _=s;xo(y.definition,{instancePath:e+"/descriptor/definition",parentData:y,parentDataProperty:"definition",rootData:n})||(o=o===null?xo.errors:o.concat(xo.errors),s=o.length);var d=_===s}else var d=!0}}}}}else return Ra.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=B===s}else var f=!0}}}else return Ra.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ra.errors=o,s===0}var lVe=Wn,ipe={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"}}}}}}};function Wn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.descriptor===void 0&&(u="descriptor"))return Wn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{let y=s;for(let B in t)if(!(B==="authorization"||B==="descriptor")){return Wn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"}],!1;break}if(y===s){if(t.authorization!==void 0){let B=s;bi(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?bi.errors:o.concat(bi.errors),s=o.length);var f=B===s}else var f=!0;if(f)if(t.descriptor!==void 0){let B=t.descriptor,S=s;if(s===S)if(B&&typeof B=="object"&&!Array.isArray(B)){let x;if(B.interface===void 0&&(x="interface")||B.method===void 0&&(x="method")||B.messageTimestamp===void 0&&(x="messageTimestamp"))return Wn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:x},message:"must have required property '"+x+"'"}],!1;{let _=s;for(let Q in B)if(!(Q==="interface"||Q==="method"||Q==="messageTimestamp"||Q==="filter")){return Wn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties"}],!1;break}if(_===s){if(B.interface!==void 0){let Q=B.interface,R=s;if(typeof Q!="string")return Wn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Q!=="Protocols")return Wn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:ipe.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var d=R===s}else var d=!0;if(d){if(B.method!==void 0){let Q=B.method,R=s;if(typeof Q!="string")return Wn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Q!=="Query")return Wn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:ipe.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var d=R===s}else var d=!0;if(d){if(B.messageTimestamp!==void 0){let Q=B.messageTimestamp,R=s;if(s===s)if(typeof Q=="string"){if(!Fi.test(Q))return Wn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Wn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=R===s}else var d=!0;if(d)if(B.filter!==void 0){let Q=B.filter,R=s;if(s===R)if(Q&&typeof Q=="object"&&!Array.isArray(Q)){if(Object.keys(Q).length<1)return Wn.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let K=s;for(let T in Q)if(!(T==="protocol"||T==="recipient")){return Wn.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:T},message:"must NOT have additional properties"}],!1;break}if(K===s){if(Q.protocol!==void 0){let T=s;if(typeof Q.protocol!="string")return Wn.errors=[{instancePath:e+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=T===s}else var p=!0;if(p)if(Q.recipient!==void 0){let T=Q.recipient,L=s;if(s===s)if(typeof T=="string"){if(!yc.test(T))return Wn.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Wn.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=L===s}else var p=!0}}}else return Wn.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=R===s}else var d=!0}}}}}else return Wn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=S===s}else var f=!0}}}else return Wn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Wn.errors=o,s===0}var pVe=Ua,npe={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function Ua(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let p;if(t.descriptor===void 0&&(p="descriptor"))return Ua.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:p},message:"must have required property '"+p+"'"}],!1;{let u=s;for(let y in t)if(!(y==="authorization"||y==="descriptor")){return Ua.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;break}if(u===s){if(t.authorization!==void 0){let y=s;mc(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?mc.errors:o.concat(mc.errors),s=o.length);var f=y===s}else var f=!0;if(f)if(t.descriptor!==void 0){let y=t.descriptor,B=s;if(s===B)if(y&&typeof y=="object"&&!Array.isArray(y)){let C;if(y.interface===void 0&&(C="interface")||y.method===void 0&&(C="method")||y.messageTimestamp===void 0&&(C="messageTimestamp")||y.filter===void 0&&(C="filter"))return Ua.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"}],!1;{let x=s;for(let _ in y)if(!(_==="interface"||_==="method"||_==="messageTimestamp"||_==="filter")){return Ua.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_},message:"must NOT have additional properties"}],!1;break}if(x===s){if(y.interface!==void 0){let _=y.interface,Q=s;if(typeof _!="string")return Ua.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(_!=="Records")return Ua.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:npe.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var d=Q===s}else var d=!0;if(d){if(y.method!==void 0){let _=y.method,Q=s;if(typeof _!="string")return Ua.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(_!=="Read")return Ua.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:npe.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var d=Q===s}else var d=!0;if(d){if(y.messageTimestamp!==void 0){let _=y.messageTimestamp,Q=s;if(s===s)if(typeof _=="string"){if(!Fi.test(_))return Ua.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ua.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=Q===s}else var d=!0;if(d)if(y.filter!==void 0){let _=s;Bt(y.filter,{instancePath:e+"/descriptor/filter",parentData:y,parentDataProperty:"filter",rootData:n})||(o=o===null?Bt.errors:o.concat(Bt.errors),s=o.length);var d=_===s}else var d=!0}}}}}else return Ua.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=B===s}else var f=!0}}}else return Ua.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ua.errors=o,s===0}var AVe=Bt,gVe=wi,yVe=I0;function I0(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d;if(t.descriptorCid===void 0&&(d="descriptorCid"))return I0.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:d},message:"must have required property '"+d+"'"}],!1;{let p=s;for(let u in t)if(!(u==="descriptorCid"||u==="delegatedGrantId"||u==="permissionsGrantId"||u==="protocolRole")){return I0.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:u},message:"must NOT have additional properties"}],!1;break}if(p===s){if(t.descriptorCid!==void 0){let u=s;if(typeof t.descriptorCid!="string")return I0.errors=[{instancePath:e+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=u===s}else var f=!0;if(f){if(t.delegatedGrantId!==void 0){let u=s;if(typeof t.delegatedGrantId!="string")return I0.errors=[{instancePath:e+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=u===s}else var f=!0;if(f){if(t.permissionsGrantId!==void 0){let u=s;if(typeof t.permissionsGrantId!="string")return I0.errors=[{instancePath:e+"/permissionsGrantId",schemaPath:"#/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=u===s}else var f=!0;if(f)if(t.protocolRole!==void 0){let u=s;if(typeof t.protocolRole!="string")return I0.errors=[{instancePath:e+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=u===s}else var f=!0}}}}}else return I0.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return I0.errors=o,s===0}var mVe=gc;function gc(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d;if(t.descriptorCid===void 0&&(d="descriptorCid")||t.recordId===void 0&&(d="recordId"))return gc.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:d},message:"must have required property '"+d+"'"}],!1;{let p=s;for(let u in t)if(!(u==="descriptorCid"||u==="recordId"||u==="contextId"||u==="attestationCid"||u==="encryptionCid"||u==="delegatedGrantId"||u==="permissionsGrantId"||u==="protocolRole")){return gc.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:u},message:"must NOT have additional properties"}],!1;break}if(p===s){if(t.descriptorCid!==void 0){let u=s;if(typeof t.descriptorCid!="string")return gc.errors=[{instancePath:e+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=u===s}else var f=!0;if(f){if(t.recordId!==void 0){let u=s;if(typeof t.recordId!="string")return gc.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=u===s}else var f=!0;if(f){if(t.contextId!==void 0){let u=s;if(typeof t.contextId!="string")return gc.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=u===s}else var f=!0;if(f){if(t.attestationCid!==void 0){let u=s;if(typeof t.attestationCid!="string")return gc.errors=[{instancePath:e+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=u===s}else var f=!0;if(f){if(t.encryptionCid!==void 0){let u=s;if(typeof t.encryptionCid!="string")return gc.errors=[{instancePath:e+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=u===s}else var f=!0;if(f){if(t.delegatedGrantId!==void 0){let u=s;if(typeof t.delegatedGrantId!="string")return gc.errors=[{instancePath:e+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=u===s}else var f=!0;if(f){if(t.permissionsGrantId!==void 0){let u=s;if(typeof t.permissionsGrantId!="string")return gc.errors=[{instancePath:e+"/permissionsGrantId",schemaPath:"#/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=u===s}else var f=!0;if(f)if(t.protocolRole!==void 0){let u=s;if(typeof t.protocolRole!="string")return gc.errors=[{instancePath:e+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=u===s}else var f=!0}}}}}}}}}else return gc.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return gc.errors=o,s===0}function LC(t,e){let r=rq[t];if(!r)throw new Te(Ee.SchemaValidatorSchemaNotFound,`schema for ${t} not found.`);if(r(e),!r.errors)return;let[i]=r.errors,{instancePath:n,message:o}=i;throw n||(n=t),new Te(Ee.SchemaValidationFailure,`${n}: ${o}`)}var iq=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},mb=class t{constructor(e){this.cache=e||new yb(600)}static get singleton(){return t._singleton===void 0&&(t._singleton=new t),t._singleton}static verifySignatures(e,r){return iq(this,void 0,void 0,function*(){return yield t.singleton.verifySignatures(e,r)})}verifySignatures(e,r){return iq(this,void 0,void 0,function*(){let i=[];for(let n of e.signatures){let o,s=ji.getKid(n),f=`${n.protected}.${e.payload}.${n.signature}`,d=yield this.cache.get(f);if(d===void 0){let u=yield t.getPublicKey(s,r);o=yield ji.verifySignature(e.payload,n,u),yield this.cache.set(f,o)}else o=d;let p=ji.extractDid(s);if(o)i.push(p);else throw new Te(Ee.GeneralJwsVerifierInvalidSignature,`Signature verification failed for ${p}`)}return{signers:i}})}static getPublicKey(e,r){return iq(this,void 0,void 0,function*(){let i=ji.extractDid(e),{didDocument:n}=yield r.resolve(i),{verificationMethod:o=[]}=n||{},s;for(let d of o)if(e.endsWith(d.id)){s=d;break}if(!s)throw new Te(Ee.GeneralJwsVerifierGetPublicKeyNotFound,"public key needed to verify signature not found in DID Document");LC("JwkVerificationMethod",s);let{publicKeyJwk:f}=s;return f})}};b();b();b();b();var b0={};Tt(b0,{code:()=>zm,decode:()=>vq,encode:()=>DWe,name:()=>QWe});b();b();b();b();var IVe=["string","number","bigint","symbol"],wVe=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function ape(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(IVe.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(vVe(t))return"Buffer";let r=bVe(t);return r||"Object"}function vVe(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function bVe(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(wVe.includes(e))return e}b();var Ge=class{constructor(e,r,i){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=i}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};Ge.uint=new Ge(0,"uint",!0);Ge.negint=new Ge(1,"negint",!0);Ge.bytes=new Ge(2,"bytes",!0);Ge.string=new Ge(3,"string",!0);Ge.array=new Ge(4,"array",!1);Ge.map=new Ge(5,"map",!1);Ge.tag=new Ge(6,"tag",!1);Ge.float=new Ge(7,"float",!0);Ge.false=new Ge(7,"false",!0);Ge.true=new Ge(7,"true",!0);Ge.null=new Ge(7,"null",!0);Ge.undefined=new Ge(7,"undefined",!0);Ge.break=new Ge(7,"break",!0);var ut=class{constructor(e,r,i){this.type=e,this.value=r,this.encodedLength=i,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};b();b();var Ib=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",EVe=new TextDecoder,BVe=new TextEncoder;function Q5(t){return Ib&&globalThis.Buffer.isBuffer(t)}function nq(t){return t instanceof Uint8Array?Q5(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var upe=Ib?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):fpe(t,e,r):(t,e,r)=>r-e>64?EVe.decode(t.subarray(e,r)):fpe(t,e,r),hpe=Ib?t=>t.length>64?globalThis.Buffer.from(t):cpe(t):t=>t.length>64?BVe.encode(t):cpe(t),mh=t=>Uint8Array.from(t),wb=Ib?(t,e,r)=>Q5(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),lpe=Ib?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),nq(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),i=0;for(let n of t)i+n.length>r.length&&(n=n.subarray(0,r.length-i)),r.set(n,i),i+=n.length;return r},ppe=Ib?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function Ape(t,e){if(Q5(t)&&Q5(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function cpe(t,e=1/0){let r,i=t.length,n=null,o=[];for(let s=0;s<i;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function fpe(t,e,r){let i=[];for(;e<r;){let n=t[e],o=null,s=n>239?4:n>223?3:n>191?2:1;if(e+s<=r){let f,d,p,u;switch(s){case 1:n<128&&(o=n);break;case 2:f=t[e+1],(f&192)===128&&(u=(n&31)<<6|f&63,u>127&&(o=u));break;case 3:f=t[e+1],d=t[e+2],(f&192)===128&&(d&192)===128&&(u=(n&15)<<12|(f&63)<<6|d&63,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:f=t[e+1],d=t[e+2],p=t[e+3],(f&192)===128&&(d&192)===128&&(p&192)===128&&(u=(n&15)<<18|(f&63)<<12|(d&63)<<6|p&63,u>65535&&u<1114112&&(o=u))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),e+=s}return CVe(i)}var dpe=4096;function CVe(t){let e=t.length;if(e<=dpe)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=dpe));return r}var xVe=256,HC=class{constructor(e=xVe){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let n=r.length-(this.maxCursor-this.cursor)-1;r.set(e,n)}else{if(r){let n=r.length-(this.maxCursor-this.cursor)-1;n<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,n),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=ppe(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let i=this.chunks[0];e&&this.cursor>i.length/2?(r=this.cursor===i.length?i:i.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=wb(i,0,this.cursor)}else r=lpe(this.chunks,this.cursor);return e&&this.reset(),r}};b();var er="CBOR decode error:",oq="CBOR encode error:",GC=[];GC[23]=1;GC[24]=2;GC[25]=3;GC[26]=5;GC[27]=9;function w0(t,e,r){if(t.length-e<r)throw new Error(`${er} not enough data for type`)}b();b();var So=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Ic(t,e,r){w0(t,e,1);let i=t[e];if(r.strict===!0&&i<So[0])throw new Error(`${er} integer encoded in more bytes than necessary (strict decode)`);return i}function wc(t,e,r){w0(t,e,2);let i=t[e]<<8|t[e+1];if(r.strict===!0&&i<So[1])throw new Error(`${er} integer encoded in more bytes than necessary (strict decode)`);return i}function vc(t,e,r){w0(t,e,4);let i=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&i<So[2])throw new Error(`${er} integer encoded in more bytes than necessary (strict decode)`);return i}function bc(t,e,r){w0(t,e,8);let i=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],n=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],o=(BigInt(i)<<BigInt(32))+BigInt(n);if(r.strict===!0&&o<So[3])throw new Error(`${er} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(r.allowBigInt===!0)return o;throw new Error(`${er} integers outside of the safe integer range are not supported`)}function gpe(t,e,r,i){return new ut(Ge.uint,Ic(t,e+1,i),2)}function ype(t,e,r,i){return new ut(Ge.uint,wc(t,e+1,i),3)}function mpe(t,e,r,i){return new ut(Ge.uint,vc(t,e+1,i),5)}function Ipe(t,e,r,i){return new ut(Ge.uint,bc(t,e+1,i),9)}function Uf(t,e){return $o(t,0,e.value)}function $o(t,e,r){if(r<So[0]){let i=Number(r);t.push([e|i])}else if(r<So[1]){let i=Number(r);t.push([e|24,i])}else if(r<So[2]){let i=Number(r);t.push([e|25,i>>>8,i&255])}else if(r<So[3]){let i=Number(r);t.push([e|26,i>>>24&255,i>>>16&255,i>>>8&255,i&255])}else{let i=BigInt(r);if(i<So[4]){let n=[e|27,0,0,0,0,0,0,0],o=Number(i&BigInt(4294967295)),s=Number(i>>BigInt(32)&BigInt(4294967295));n[8]=o&255,o=o>>8,n[7]=o&255,o=o>>8,n[6]=o&255,o=o>>8,n[5]=o&255,n[4]=s&255,s=s>>8,n[3]=s&255,s=s>>8,n[2]=s&255,s=s>>8,n[1]=s&255,t.push(n)}else throw new Error(`${er} encountered BigInt larger than allowable range`)}}Uf.encodedSize=function(e){return $o.encodedSize(e.value)};$o.encodedSize=function(e){return e<So[0]?1:e<So[1]?2:e<So[2]?3:e<So[3]?5:9};Uf.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};b();function wpe(t,e,r,i){return new ut(Ge.negint,-1-Ic(t,e+1,i),2)}function vpe(t,e,r,i){return new ut(Ge.negint,-1-wc(t,e+1,i),3)}function bpe(t,e,r,i){return new ut(Ge.negint,-1-vc(t,e+1,i),5)}var sq=BigInt(-1),Epe=BigInt(1);function Bpe(t,e,r,i){let n=bc(t,e+1,i);if(typeof n!="bigint"){let o=-1-n;if(o>=Number.MIN_SAFE_INTEGER)return new ut(Ge.negint,o,9)}if(i.allowBigInt!==!0)throw new Error(`${er} integers outside of the safe integer range are not supported`);return new ut(Ge.negint,sq-BigInt(n),9)}function D5(t,e){let r=e.value,i=typeof r=="bigint"?r*sq-Epe:r*-1-1;$o(t,e.type.majorEncoded,i)}D5.encodedSize=function(e){let r=e.value,i=typeof r=="bigint"?r*sq-Epe:r*-1-1;return i<So[0]?1:i<So[1]?2:i<So[2]?3:i<So[3]?5:9};D5.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};b();function jC(t,e,r,i){w0(t,e,r+i);let n=wb(t,e+r,e+r+i);return new ut(Ge.bytes,n,r+i)}function Cpe(t,e,r,i){return jC(t,e,1,r)}function xpe(t,e,r,i){return jC(t,e,2,Ic(t,e+1,i))}function Spe(t,e,r,i){return jC(t,e,3,wc(t,e+1,i))}function _pe(t,e,r,i){return jC(t,e,5,vc(t,e+1,i))}function Qpe(t,e,r,i){let n=bc(t,e+1,i);if(typeof n=="bigint")throw new Error(`${er} 64-bit integer bytes lengths not supported`);return jC(t,e,9,n)}function M5(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===Ge.string?hpe(t.value):t.value),t.encodedBytes}function vb(t,e){let r=M5(e);$o(t,e.type.majorEncoded,r.length),t.push(r)}vb.encodedSize=function(e){let r=M5(e);return $o.encodedSize(r.length)+r.length};vb.compareTokens=function(e,r){return _Ve(M5(e),M5(r))};function _Ve(t,e){return t.length<e.length?-1:t.length>e.length?1:Ape(t,e)}b();function zC(t,e,r,i,n){let o=r+i;w0(t,e,o);let s=new ut(Ge.string,upe(t,e+r,e+o),o);return n.retainStringBytes===!0&&(s.byteValue=wb(t,e+r,e+o)),s}function Dpe(t,e,r,i){return zC(t,e,1,r,i)}function Mpe(t,e,r,i){return zC(t,e,2,Ic(t,e+1,i),i)}function kpe(t,e,r,i){return zC(t,e,3,wc(t,e+1,i),i)}function Tpe(t,e,r,i){return zC(t,e,5,vc(t,e+1,i),i)}function Rpe(t,e,r,i){let n=bc(t,e+1,i);if(typeof n=="bigint")throw new Error(`${er} 64-bit integer string lengths not supported`);return zC(t,e,9,n,i)}var Upe=vb;b();function bb(t,e,r,i){return new ut(Ge.array,i,r)}function Fpe(t,e,r,i){return bb(t,e,1,r)}function Npe(t,e,r,i){return bb(t,e,2,Ic(t,e+1,i))}function Ppe(t,e,r,i){return bb(t,e,3,wc(t,e+1,i))}function Ope(t,e,r,i){return bb(t,e,5,vc(t,e+1,i))}function Kpe(t,e,r,i){let n=bc(t,e+1,i);if(typeof n=="bigint")throw new Error(`${er} 64-bit integer array lengths not supported`);return bb(t,e,9,n)}function qpe(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${er} indefinite length items not allowed`);return bb(t,e,1,1/0)}function k5(t,e){$o(t,Ge.array.majorEncoded,e.value)}k5.compareTokens=Uf.compareTokens;k5.encodedSize=function(e){return $o.encodedSize(e.value)};b();function Eb(t,e,r,i){return new ut(Ge.map,i,r)}function Lpe(t,e,r,i){return Eb(t,e,1,r)}function Hpe(t,e,r,i){return Eb(t,e,2,Ic(t,e+1,i))}function Gpe(t,e,r,i){return Eb(t,e,3,wc(t,e+1,i))}function jpe(t,e,r,i){return Eb(t,e,5,vc(t,e+1,i))}function zpe(t,e,r,i){let n=bc(t,e+1,i);if(typeof n=="bigint")throw new Error(`${er} 64-bit integer map lengths not supported`);return Eb(t,e,9,n)}function Ype(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${er} indefinite length items not allowed`);return Eb(t,e,1,1/0)}function T5(t,e){$o(t,Ge.map.majorEncoded,e.value)}T5.compareTokens=Uf.compareTokens;T5.encodedSize=function(e){return $o.encodedSize(e.value)};b();function Jpe(t,e,r,i){return new ut(Ge.tag,r,1)}function Vpe(t,e,r,i){return new ut(Ge.tag,Ic(t,e+1,i),2)}function Wpe(t,e,r,i){return new ut(Ge.tag,wc(t,e+1,i),3)}function Zpe(t,e,r,i){return new ut(Ge.tag,vc(t,e+1,i),5)}function $pe(t,e,r,i){return new ut(Ge.tag,bc(t,e+1,i),9)}function R5(t,e){$o(t,Ge.tag.majorEncoded,e.value)}R5.compareTokens=Uf.compareTokens;R5.encodedSize=function(e){return $o.encodedSize(e.value)};b();var RVe=20,UVe=21,FVe=22,NVe=23;function Xpe(t,e,r,i){if(i.allowUndefined===!1)throw new Error(`${er} undefined values are not supported`);return i.coerceUndefinedToNull===!0?new ut(Ge.null,null,1):new ut(Ge.undefined,void 0,1)}function eAe(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${er} indefinite length items not allowed`);return new ut(Ge.break,void 0,1)}function aq(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${er} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${er} Infinity values are not supported`)}return new ut(Ge.float,t,e)}function tAe(t,e,r,i){return aq(cq(t,e+1),3,i)}function rAe(t,e,r,i){return aq(fq(t,e+1),5,i)}function iAe(t,e,r,i){return aq(aAe(t,e+1),9,i)}function U5(t,e,r){let i=e.value;if(i===!1)t.push([Ge.float.majorEncoded|RVe]);else if(i===!0)t.push([Ge.float.majorEncoded|UVe]);else if(i===null)t.push([Ge.float.majorEncoded|FVe]);else if(i===void 0)t.push([Ge.float.majorEncoded|NVe]);else{let n,o=!1;(!r||r.float64!==!0)&&(oAe(i),n=cq(Ld,1),i===n||Number.isNaN(i)?(Ld[0]=249,t.push(Ld.slice(0,3)),o=!0):(sAe(i),n=fq(Ld,1),i===n&&(Ld[0]=250,t.push(Ld.slice(0,5)),o=!0))),o||(PVe(i),n=aAe(Ld,1),Ld[0]=251,t.push(Ld.slice(0,9)))}}U5.encodedSize=function(e,r){let i=e.value;if(i===!1||i===!0||i===null||i===void 0)return 1;if(!r||r.float64!==!0){oAe(i);let n=cq(Ld,1);if(i===n||Number.isNaN(i))return 3;if(sAe(i),n=fq(Ld,1),i===n)return 5}return 9};var nAe=new ArrayBuffer(9),Ff=new DataView(nAe,1),Ld=new Uint8Array(nAe,0);function oAe(t){if(t===1/0)Ff.setUint16(0,31744,!1);else if(t===-1/0)Ff.setUint16(0,64512,!1);else if(Number.isNaN(t))Ff.setUint16(0,32256,!1);else{Ff.setFloat32(0,t);let e=Ff.getUint32(0),r=(e&2139095040)>>23,i=e&8388607;if(r===255)Ff.setUint16(0,31744,!1);else if(r===0)Ff.setUint16(0,(t&2147483648)>>16|i>>13,!1);else{let n=r-127;n<-24?Ff.setUint16(0,0):n<-14?Ff.setUint16(0,(e&2147483648)>>16|1<<24+n,!1):Ff.setUint16(0,(e&2147483648)>>16|n+15<<10|i>>13,!1)}}}function cq(t,e){if(t.length-e<2)throw new Error(`${er} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let i=r>>10&31,n=r&1023,o;return i===0?o=n*2**-24:i!==31?o=(n+1024)*2**(i-25):o=n===0?1/0:NaN,r&32768?-o:o}function sAe(t){Ff.setFloat32(0,t,!1)}function fq(t,e){if(t.length-e<4)throw new Error(`${er} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function PVe(t){Ff.setFloat64(0,t,!1)}function aAe(t,e){if(t.length-e<8)throw new Error(`${er} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}U5.compareTokens=Uf.compareTokens;function ti(t,e,r){throw new Error(`${er} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function F5(t){return()=>{throw new Error(`${er} ${t}`)}}var it=[];for(let t=0;t<=23;t++)it[t]=ti;it[24]=gpe;it[25]=ype;it[26]=mpe;it[27]=Ipe;it[28]=ti;it[29]=ti;it[30]=ti;it[31]=ti;for(let t=32;t<=55;t++)it[t]=ti;it[56]=wpe;it[57]=vpe;it[58]=bpe;it[59]=Bpe;it[60]=ti;it[61]=ti;it[62]=ti;it[63]=ti;for(let t=64;t<=87;t++)it[t]=Cpe;it[88]=xpe;it[89]=Spe;it[90]=_pe;it[91]=Qpe;it[92]=ti;it[93]=ti;it[94]=ti;it[95]=F5("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)it[t]=Dpe;it[120]=Mpe;it[121]=kpe;it[122]=Tpe;it[123]=Rpe;it[124]=ti;it[125]=ti;it[126]=ti;it[127]=F5("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)it[t]=Fpe;it[152]=Npe;it[153]=Ppe;it[154]=Ope;it[155]=Kpe;it[156]=ti;it[157]=ti;it[158]=ti;it[159]=qpe;for(let t=160;t<=183;t++)it[t]=Lpe;it[184]=Hpe;it[185]=Gpe;it[186]=jpe;it[187]=zpe;it[188]=ti;it[189]=ti;it[190]=ti;it[191]=Ype;for(let t=192;t<=215;t++)it[t]=Jpe;it[216]=Vpe;it[217]=Wpe;it[218]=Zpe;it[219]=$pe;it[220]=ti;it[221]=ti;it[222]=ti;it[223]=ti;for(let t=224;t<=243;t++)it[t]=F5("simple values are not supported");it[244]=ti;it[245]=ti;it[246]=ti;it[247]=Xpe;it[248]=F5("simple values are not supported");it[249]=tAe;it[250]=rAe;it[251]=iAe;it[252]=ti;it[253]=ti;it[254]=ti;it[255]=eAe;var Hd=[];for(let t=0;t<24;t++)Hd[t]=new ut(Ge.uint,t,1);for(let t=-1;t>=-24;t--)Hd[31-t]=new ut(Ge.negint,t,1);Hd[64]=new ut(Ge.bytes,new Uint8Array(0),1);Hd[96]=new ut(Ge.string,"",1);Hd[128]=new ut(Ge.array,0,1);Hd[160]=new ut(Ge.map,0,1);Hd[244]=new ut(Ge.false,!1,1);Hd[245]=new ut(Ge.true,!0,1);Hd[246]=new ut(Ge.null,null,1);function cAe(t){switch(t.type){case Ge.false:return mh([244]);case Ge.true:return mh([245]);case Ge.null:return mh([246]);case Ge.bytes:return t.value.length?void 0:mh([64]);case Ge.string:return t.value===""?mh([96]):void 0;case Ge.array:return t.value===0?mh([128]):void 0;case Ge.map:return t.value===0?mh([160]):void 0;case Ge.uint:return t.value<24?mh([Number(t.value)]):void 0;case Ge.negint:if(t.value>=-24)return mh([31-Number(t.value)])}}var KVe={float64:!1,mapSorter:HVe,quickEncodeToken:cAe};function qVe(){let t=[];return t[Ge.uint.major]=Uf,t[Ge.negint.major]=D5,t[Ge.bytes.major]=vb,t[Ge.string.major]=Upe,t[Ge.array.major]=k5,t[Ge.map.major]=T5,t[Ge.tag.major]=R5,t[Ge.float.major]=U5,t}var fAe=qVe(),dq=new HC,P5=class t{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${oq} object contains circular references`);return new t(r,e)}},FA={null:new ut(Ge.null,null),undefined:new ut(Ge.undefined,void 0),true:new ut(Ge.true,!0),false:new ut(Ge.false,!1),emptyArray:new ut(Ge.array,0),emptyMap:new ut(Ge.map,0)},NA={number(t,e,r,i){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new ut(Ge.float,t):t>=0?new ut(Ge.uint,t):new ut(Ge.negint,t)},bigint(t,e,r,i){return t>=BigInt(0)?new ut(Ge.uint,t):new ut(Ge.negint,t)},Uint8Array(t,e,r,i){return new ut(Ge.bytes,t)},string(t,e,r,i){return new ut(Ge.string,t)},boolean(t,e,r,i){return t?FA.true:FA.false},null(t,e,r,i){return FA.null},undefined(t,e,r,i){return FA.undefined},ArrayBuffer(t,e,r,i){return new ut(Ge.bytes,new Uint8Array(t))},DataView(t,e,r,i){return new ut(Ge.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,i){if(!t.length)return r.addBreakTokens===!0?[FA.emptyArray,new ut(Ge.break)]:FA.emptyArray;i=P5.createCheck(i,t);let n=[],o=0;for(let s of t)n[o++]=N5(s,r,i);return r.addBreakTokens?[new ut(Ge.array,t.length),n,new ut(Ge.break)]:[new ut(Ge.array,t.length),n]},Object(t,e,r,i){let n=e!=="Object",o=n?t.keys():Object.keys(t),s=n?t.size:o.length;if(!s)return r.addBreakTokens===!0?[FA.emptyMap,new ut(Ge.break)]:FA.emptyMap;i=P5.createCheck(i,t);let f=[],d=0;for(let p of o)f[d++]=[N5(p,r,i),N5(n?t.get(p):t[p],r,i)];return LVe(f,r),r.addBreakTokens?[new ut(Ge.map,s),f,new ut(Ge.break)]:[new ut(Ge.map,s),f]}};NA.Map=NA.Object;NA.Buffer=NA.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))NA[`${t}Array`]=NA.DataView;function N5(t,e={},r){let i=ape(t),n=e&&e.typeEncoders&&e.typeEncoders[i]||NA[i];if(typeof n=="function"){let s=n(t,i,e,r);if(s!=null)return s}let o=NA[i];if(!o)throw new Error(`${oq} unsupported type: ${i}`);return o(t,i,e,r)}function LVe(t,e){e.mapSorter&&t.sort(e.mapSorter)}function HVe(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],i=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==i.type)return r.type.compare(i.type);let n=r.type.major,o=fAe[n].compareTokens(r,i);return o===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o}function dAe(t,e,r,i){if(Array.isArray(e))for(let n of e)dAe(t,n,r,i);else r[e.type.major](t,e,i)}function GVe(t,e,r){let i=N5(t,r);if(!Array.isArray(i)&&r.quickEncodeToken){let n=r.quickEncodeToken(i);if(n)return n;let o=e[i.type.major];if(o.encodedSize){let s=o.encodedSize(i,r),f=new HC(s);if(o(f,i,r),f.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return nq(f.chunks[0])}}return dq.reset(),dAe(dq,i,e,r),dq.toBytes(!0)}function uq(t,e){return e=Object.assign({},KVe,e),GVe(t,fAe,e)}b();var jVe={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},hq=class{constructor(e,r={}){this.pos=0,this.data=e,this.options=r}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],r=Hd[e];if(r===void 0){let i=it[e];if(!i)throw new Error(`${er} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=e&31;r=i(this.data,this.pos,n,this.options)}return this.pos+=r.encodedLength,r}},YC=Symbol.for("DONE"),O5=Symbol.for("BREAK");function zVe(t,e,r){let i=[];for(let n=0;n<t.value;n++){let o=JC(e,r);if(o===O5){if(t.value===1/0)break;throw new Error(`${er} got unexpected break to lengthed array`)}if(o===YC)throw new Error(`${er} found array but not enough entries (got ${n}, expected ${t.value})`);i[n]=o}return i}function YVe(t,e,r){let i=r.useMaps===!0,n=i?void 0:{},o=i?new Map:void 0;for(let s=0;s<t.value;s++){let f=JC(e,r);if(f===O5){if(t.value===1/0)break;throw new Error(`${er} got unexpected break to lengthed map`)}if(f===YC)throw new Error(`${er} found map but not enough entries (got ${s} [no key], expected ${t.value})`);if(i!==!0&&typeof f!="string")throw new Error(`${er} non-string keys not supported (got ${typeof f})`);if(r.rejectDuplicateMapKeys===!0&&(i&&o.has(f)||!i&&f in n))throw new Error(`${er} found repeat map key "${f}"`);let d=JC(e,r);if(d===YC)throw new Error(`${er} found map but not enough entries (got ${s} [no value], expected ${t.value})`);i?o.set(f,d):n[f]=d}return i?o:n}function JC(t,e){if(t.done())return YC;let r=t.next();if(r.type===Ge.break)return O5;if(r.type.terminal)return r.value;if(r.type===Ge.array)return zVe(r,t,e);if(r.type===Ge.map)return YVe(r,t,e);if(r.type===Ge.tag){if(e.tags&&typeof e.tags[r.value]=="function"){let i=JC(t,e);return e.tags[r.value](i)}throw new Error(`${er} tag not supported (${r.value})`)}throw new Error("unsupported")}function lq(t,e){if(!(t instanceof Uint8Array))throw new Error(`${er} data to decode must be a Uint8Array`);e=Object.assign({},jVe,e);let r=e.tokenizer||new hq(t,e),i=JC(r,e);if(i===YC)throw new Error(`${er} did not find any content to decode`);if(i===O5)throw new Error(`${er} got unexpected break`);if(!r.done())throw new Error(`${er} too many terminals, data makes no sense`);return i}b();b();b();b();function VVe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=n}var f=t.length,d=t.charAt(0),p=Math.log(f)/Math.log(256),u=Math.log(256)/Math.log(f);function y(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var x=0,_=0,Q=0,R=C.length;Q!==R&&C[Q]===0;)Q++,x++;for(var k=(R-Q)*u+1>>>0,K=new Uint8Array(k);Q!==R;){for(var T=C[Q],L=0,H=k-1;(T!==0||L<_)&&H!==-1;H--,L++)T+=256*K[H]>>>0,K[H]=T%f>>>0,T=T/f>>>0;if(T!==0)throw new Error("Non-zero carry");_=L,Q++}for(var O=k-_;O!==k&&K[O]===0;)O++;for(var G=d.repeat(x);O<k;++O)G+=t.charAt(K[O]);return G}function B(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var x=0;if(C[x]!==" "){for(var _=0,Q=0;C[x]===d;)_++,x++;for(var R=(C.length-x)*p+1>>>0,k=new Uint8Array(R);C[x];){var K=r[C.charCodeAt(x)];if(K===255)return;for(var T=0,L=R-1;(K!==0||T<Q)&&L!==-1;L--,T++)K+=f*k[L]>>>0,k[L]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");Q=T,x++}if(C[x]!==" "){for(var H=R-Q;H!==R&&k[H]===0;)H++;for(var O=new Uint8Array(_+(R-H)),G=_;H!==R;)O[G++]=k[H++];return O}}}function S(C){var x=B(C);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:B,decode:S}}var WVe=VVe,ZVe=WVe,uAe=ZVe;b();var i9t=new Uint8Array(0);var hAe=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Bb=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};b();var pq=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Aq=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return lAe(this,e)}},gq=class{constructor(e){this.decoders=e}or(e){return lAe(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},lAe=(t,e)=>new gq({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),yq=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new pq(e,r,i),this.decoder=new Aq(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},pAe=({name:t,prefix:e,encode:r,decode:i})=>new yq(t,e,r,i),mq=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=uAe(r,e);return pAe({prefix:t,name:e,encode:i,decode:o=>Bb(n(o))})},$Ve=(t,e,r,i)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),f=0,d=0,p=0;for(let u=0;u<o;++u){let y=n[t[u]];if(y===void 0)throw new SyntaxError(`Non-${i} character`);d=d<<r|y,f+=r,f>=8&&(f-=8,s[p++]=255&d>>f)}if(f>=r||255&d<<8-f)throw new SyntaxError("Unexpected end of data");return s},XVe=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,o="",s=0,f=0;for(let d=0;d<t.length;++d)for(f=f<<8|t[d],s+=8;s>r;)s-=r,o+=e[n&f>>s];if(s&&(o+=e[n&f<<r-s]),i)for(;o.length*r&7;)o+="=";return o},Ih=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>pAe({prefix:e,name:t,encode(n){return XVe(n,i,r)},decode(n){return $Ve(n,i,r,t)}});var VC=Ih({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),l9t=Ih({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),p9t=Ih({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),A9t=Ih({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),g9t=Ih({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),y9t=Ih({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),m9t=Ih({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),I9t=Ih({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),w9t=Ih({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});b();var v0=mq({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),B9t=mq({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});b();b();b();var eWe=yAe,AAe=128,tWe=127,rWe=~tWe,iWe=Math.pow(2,31);function yAe(t,e,r){e=e||[],r=r||0;for(var i=r;t>=iWe;)e[r++]=t&255|AAe,t/=128;for(;t&rWe;)e[r++]=t&255|AAe,t>>>=7;return e[r]=t|0,yAe.bytes=r-i+1,e}var nWe=Iq,oWe=128,gAe=127;function Iq(t,i){var r=0,i=i||0,n=0,o=i,s,f=t.length;do{if(o>=f)throw Iq.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&gAe)<<n:(s&gAe)*Math.pow(2,n),n+=7}while(s>=oWe);return Iq.bytes=o-i,r}var sWe=Math.pow(2,7),aWe=Math.pow(2,14),cWe=Math.pow(2,21),fWe=Math.pow(2,28),dWe=Math.pow(2,35),uWe=Math.pow(2,42),hWe=Math.pow(2,49),lWe=Math.pow(2,56),pWe=Math.pow(2,63),AWe=function(t){return t<sWe?1:t<aWe?2:t<cWe?3:t<fWe?4:t<dWe?5:t<uWe?6:t<hWe?7:t<lWe?8:t<pWe?9:10},gWe={encode:eWe,decode:nWe,encodingLength:AWe},yWe=gWe,WC=yWe;var ZC=(t,e=0)=>[WC.decode(t,e),WC.decode.bytes],Cb=(t,e,r=0)=>(WC.encode(t,e,r),e),xb=t=>WC.encodingLength(t);var IAe=(t,e)=>{let r=e.byteLength,i=xb(t),n=i+xb(r),o=new Uint8Array(n+r);return Cb(t,o,0),Cb(r,o,i),o.set(e,n),new Sb(t,r,e,o)},wAe=t=>{let e=Bb(t),[r,i]=ZC(e),[n,o]=ZC(e.subarray(i)),s=e.subarray(i+o);if(s.byteLength!==n)throw new Error("Incorrect length");return new Sb(r,n,s,e)},vAe=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&hAe(t.bytes,r.bytes)}},Sb=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};b();var bAe=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return wWe(r,wq(t),e||v0.encoder);default:return vWe(r,wq(t),e||VC.encoder)}};var EAe=new WeakMap,wq=t=>{let e=EAe.get(t);if(e==null){let r=new Map;return EAe.set(t,r),r}return e},XC=class t{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==$C)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==bWe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=IAe(e,r);return t.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&vAe(e.multihash,i.multihash)}toString(e){return bAe(this,e)}toJSON(){return{"/":bAe(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof t)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:o,bytes:s}=r;return new t(i,n,o,s||BAe(i,n,o.bytes))}else if(r[EWe]===!0){let{version:i,multihash:n,code:o}=r,s=wAe(n);return t.create(i,o,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==$C)throw new Error(`Version 0 CID must use dag-pb (code: ${$C}) block encoding`);return new t(e,r,i,i.bytes)}case 1:{let n=BAe(e,r,i.bytes);return new t(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,$C,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,i]=t.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),i=r.size-r.multihashSize,n=Bb(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=n.subarray(r.multihashSize-r.digestSize),s=new Sb(r.multihashCode,r.digestSize,o,n);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[y,B]=ZC(e.subarray(r));return r+=B,y},n=i(),o=$C;if(n===18?(n=0,r=0):o=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=r,f=i(),d=i(),p=r+d,u=p-s;return{version:n,codec:o,multihashCode:f,digestSize:d,multihashSize:u,size:p}}static parse(e,r){let[i,n]=IWe(e,r),o=t.decode(n);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return wq(o).set(i,e),o}},IWe=(t,e)=>{switch(t[0]){case"Q":{let r=e||v0;return[v0.prefix,r.decode(`${v0.prefix}${t}`)]}case v0.prefix:{let r=e||v0;return[v0.prefix,r.decode(t)]}case VC.prefix:{let r=e||VC;return[VC.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},wWe=(t,e,r)=>{let{prefix:i}=r;if(i!==v0.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let o=r.encode(t).slice(1);return e.set(i,o),o}else return n},vWe=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let o=r.encode(t);return e.set(i,o),o}else return n},$C=112,bWe=18,BAe=(t,e,r)=>{let i=xb(t),n=i+xb(e),o=new Uint8Array(n+r.byteLength);return Cb(t,o,0),Cb(e,o,i),o.set(r,n),o},EWe=Symbol.for("@ipld/js-cid/CID");var CAe=42;function BWe(t){if(t.asCID!==t&&t["/"]!==t.bytes)return null;let e=XC.asCID(t);if(!e)return null;let r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new ut(Ge.tag,CAe),new ut(Ge.bytes,r)]}function CWe(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function xWe(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var SWe={float64:!0,typeEncoders:{Object:BWe,undefined:CWe,number:xWe}};function _We(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return XC.decode(t.subarray(1))}var xAe={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};xAe.tags[CAe]=_We;var QWe="dag-cbor",zm=113,DWe=t=>uq(t,SWe),vq=t=>lq(t,xAe);b();var Xet=Rt(Fa(),1);b();b();b();function kWe(t){return t[Symbol.asyncIterator]!=null}function TWe(t,e=1){return e=Number(e),kWe(t)?async function*(){let r=[];if(e<1&&(e=1),e!==Math.round(e))throw new Error("Batch size must be an integer");for await(let i of t)for(r.push(i);r.length>=e;)yield r.slice(0,e),r=r.slice(e);for(;r.length>0;)yield r.slice(0,e),r=r.slice(e)}():function*(){let r=[];if(e<1&&(e=1),e!==Math.round(e))throw new Error("Batch size must be an integer");for(let i of t)for(r.push(i);r.length>=e;)yield r.slice(0,e),r=r.slice(e);for(;r.length>0;)yield r.slice(0,e),r=r.slice(e)}()}var ex=TWe;async function*tx(t,e=1){for await(let r of ex(t,e)){let i=r.map(async n=>n().then(o=>({ok:!0,value:o}),o=>({ok:!1,err:o})));for(let n=0;n<i.length;n++){let o=await i[n];if(o.ok)yield o.value;else throw o.err}}}b();b();b();b();function _b(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function E0(t=0){return globalThis.Buffer?.alloc!=null?_b(globalThis.Buffer.alloc(t)):new Uint8Array(t)}function rx(t=0){return globalThis.Buffer?.allocUnsafe!=null?_b(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}b();function bq(t,e){if(globalThis.Buffer!=null)return _b(globalThis.Buffer.concat(t,e));e==null&&(e=t.reduce((n,o)=>n+o.length,0));let r=rx(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return _b(r)}b();function QAe(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var MAe=Symbol.for("@achingbrain/uint8arraylist");function DAe(t,e){if(e==null||e<0)throw new RangeError("index is out of bounds");let r=0;for(let i of t){let n=r+i.byteLength;if(e<n)return{buf:i,index:e-r};r=n}throw new RangeError("index is out of bounds")}function K5(t){return!!t?.[MAe]}var Qb=class t{bufs;length;[MAe]=!0;constructor(...e){this.bufs=[],this.length=0,e.length>0&&this.appendAll(e)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...e){this.appendAll(e)}appendAll(e){let r=0;for(let i of e)if(i instanceof Uint8Array)r+=i.byteLength,this.bufs.push(i);else if(K5(i))r+=i.byteLength,this.bufs.push(...i.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}prepend(...e){this.prependAll(e)}prependAll(e){let r=0;for(let i of e.reverse())if(i instanceof Uint8Array)r+=i.byteLength,this.bufs.unshift(i);else if(K5(i))r+=i.byteLength,this.bufs.unshift(...i.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}get(e){let r=DAe(this.bufs,e);return r.buf[r.index]}set(e,r){let i=DAe(this.bufs,e);i.buf[i.index]=r}write(e,r=0){if(e instanceof Uint8Array)for(let i=0;i<e.length;i++)this.set(r+i,e[i]);else if(K5(e))for(let i=0;i<e.length;i++)this.set(r+i,e.get(i));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(e){if(e=Math.trunc(e),!(Number.isNaN(e)||e<=0)){if(e===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(e>=this.bufs[0].byteLength)e-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(e),this.length-=e;break}}}slice(e,r){let{bufs:i,length:n}=this._subList(e,r);return bq(i,n)}subarray(e,r){let{bufs:i,length:n}=this._subList(e,r);return i.length===1?i[0]:bq(i,n)}sublist(e,r){let{bufs:i,length:n}=this._subList(e,r),o=new t;return o.length=n,o.bufs=[...i],o}_subList(e,r){if(e=e??0,r=r??this.length,e<0&&(e=this.length+e),r<0&&(r=this.length+r),e<0||r>this.length)throw new RangeError("index is out of bounds");if(e===r)return{bufs:[],length:0};if(e===0&&r===this.length)return{bufs:this.bufs,length:this.length};let i=[],n=0;for(let o=0;o<this.bufs.length;o++){let s=this.bufs[o],f=n,d=f+s.byteLength;if(n=d,e>=d)continue;let p=e>=f&&e<d,u=r>f&&r<=d;if(p&&u){if(e===f&&r===d){i.push(s);break}let y=e-f;i.push(s.subarray(y,y+(r-e)));break}if(p){if(e===0){i.push(s);continue}i.push(s.subarray(e-f));continue}if(u){if(r===d){i.push(s);break}i.push(s.subarray(0,r-f));break}i.push(s)}return{bufs:i,length:r-e}}indexOf(e,r=0){if(!K5(e)&&!(e instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');let i=e instanceof Uint8Array?e:e.subarray();if(r=Number(r??0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),e.length===0)return r>this.length?this.length:r;let n=i.byteLength;if(n===0)throw new TypeError("search must be at least 1 byte long");let o=256,s=new Int32Array(o);for(let y=0;y<o;y++)s[y]=-1;for(let y=0;y<n;y++)s[i[y]]=y;let f=s,d=this.byteLength-i.byteLength,p=i.byteLength-1,u;for(let y=r;y<=d;y+=u){u=0;for(let B=p;B>=0;B--){let S=this.get(y+B);if(i[B]!==S){u=Math.max(1,B-f[S]);break}}if(u===0)return y}return-1}getInt8(e){let r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt8(0)}setInt8(e,r){let i=rx(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt8(0,r),this.write(i,e)}getInt16(e,r){let i=this.subarray(e,e+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt16(0,r)}setInt16(e,r,i){let n=E0(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt16(0,r,i),this.write(n,e)}getInt32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt32(0,r)}setInt32(e,r,i){let n=E0(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt32(0,r,i),this.write(n,e)}getBigInt64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigInt64(0,r)}setBigInt64(e,r,i){let n=E0(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigInt64(0,r,i),this.write(n,e)}getUint8(e){let r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint8(0)}setUint8(e,r){let i=rx(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint8(0,r),this.write(i,e)}getUint16(e,r){let i=this.subarray(e,e+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint16(0,r)}setUint16(e,r,i){let n=E0(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint16(0,r,i),this.write(n,e)}getUint32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint32(0,r)}setUint32(e,r,i){let n=E0(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,r,i),this.write(n,e)}getBigUint64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigUint64(0,r)}setBigUint64(e,r,i){let n=E0(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigUint64(0,r,i),this.write(n,e)}getFloat32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat32(0,r)}setFloat32(e,r,i){let n=E0(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat32(0,r,i),this.write(n,e)}getFloat64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat64(0,r)}setFloat64(e,r,i){let n=E0(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat64(0,r,i),this.write(n,e)}equals(e){if(e==null||!(e instanceof t)||e.bufs.length!==this.bufs.length)return!1;for(let r=0;r<this.bufs.length;r++)if(!QAe(this.bufs[r],e.bufs[r]))return!1;return!0}static fromUint8Arrays(e,r){let i=new t;return i.bufs=e,r==null&&(r=e.reduce((n,o)=>n+o.byteLength,0)),i.length=r,i}};var RWe=262144,kAe=(t={})=>{let e=t.chunkSize??RWe;return async function*(i){let n=new Qb,o=0,s=!1;for await(let f of i)for(n.append(f),o+=f.length;o>=e;)if(yield n.slice(0,e),s=!0,e===n.length)n=new Qb,o=0;else{let d=new Qb;d.append(n.sublist(e)),n=d,o-=e}(!s||o>0)&&(yield n.subarray(0,o))}};b();var Ym={};Tt(Ym,{code:()=>cx,createLink:()=>rge,createNode:()=>tge,decode:()=>x0,encode:()=>Bc,name:()=>wZe,prepare:()=>Ec,validate:()=>kq});b();b();b();b();b();var yUt=new Uint8Array(0);function TAe(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function Db(t){if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")}b();function UWe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=n}var f=t.length,d=t.charAt(0),p=Math.log(f)/Math.log(256),u=Math.log(256)/Math.log(f);function y(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var x=0,_=0,Q=0,R=C.length;Q!==R&&C[Q]===0;)Q++,x++;for(var k=(R-Q)*u+1>>>0,K=new Uint8Array(k);Q!==R;){for(var T=C[Q],L=0,H=k-1;(T!==0||L<_)&&H!==-1;H--,L++)T+=256*K[H]>>>0,K[H]=T%f>>>0,T=T/f>>>0;if(T!==0)throw new Error("Non-zero carry");_=L,Q++}for(var O=k-_;O!==k&&K[O]===0;)O++;for(var G=d.repeat(x);O<k;++O)G+=t.charAt(K[O]);return G}function B(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var x=0;if(C[x]!==" "){for(var _=0,Q=0;C[x]===d;)_++,x++;for(var R=(C.length-x)*p+1>>>0,k=new Uint8Array(R);C[x];){var K=r[C.charCodeAt(x)];if(K===255)return;for(var T=0,L=R-1;(K!==0||T<Q)&&L!==-1;L--,T++)K+=f*k[L]>>>0,k[L]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");Q=T,x++}if(C[x]!==" "){for(var H=R-Q;H!==R&&k[H]===0;)H++;for(var O=new Uint8Array(_+(R-H)),G=_;H!==R;)O[G++]=k[H++];return O}}}function S(C){var x=B(C);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:B,decode:S}}var FWe=UWe,NWe=FWe,RAe=NWe;var Eq=class{name;prefix;baseEncode;constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Bq=class{name;prefix;baseDecode;prefixCodePoint;constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return UAe(this,e)}},Cq=class{decoders;constructor(e){this.decoders=e}or(e){return UAe(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i!=null)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function UAe(t,e){return new Cq({...t.decoders??{[t.prefix]:t},...e.decoders??{[e.prefix]:e}})}var xq=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new Eq(e,r,i),this.decoder=new Bq(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};function FAe({name:t,prefix:e,encode:r,decode:i}){return new xq(t,e,r,i)}function Sq({name:t,prefix:e,alphabet:r}){let{encode:i,decode:n}=RAe(r,t);return FAe({prefix:e,name:t,encode:i,decode:o=>Db(n(o))})}function PWe(t,e,r,i){let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),f=0,d=0,p=0;for(let u=0;u<o;++u){let y=n[t[u]];if(y===void 0)throw new SyntaxError(`Non-${i} character`);d=d<<r|y,f+=r,f>=8&&(f-=8,s[p++]=255&d>>f)}if(f>=r||255&d<<8-f)throw new SyntaxError("Unexpected end of data");return s}function OWe(t,e,r){let i=e[e.length-1]==="=",n=(1<<r)-1,o="",s=0,f=0;for(let d=0;d<t.length;++d)for(f=f<<8|t[d],s+=8;s>r;)s-=r,o+=e[n&f>>s];if(s!==0&&(o+=e[n&f<<r-s]),i)for(;o.length*r&7;)o+="=";return o}function wh({name:t,prefix:e,bitsPerChar:r,alphabet:i}){return FAe({prefix:e,name:t,encode(n){return OWe(n,i,r)},decode(n){return PWe(n,i,r,t)}})}var ix=wh({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),SUt=wh({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_Ut=wh({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),QUt=wh({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),DUt=wh({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),MUt=wh({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),kUt=wh({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),TUt=wh({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),RUt=wh({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});b();var B0=Sq({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),PUt=Sq({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});b();b();b();var KWe=OAe,NAe=128,qWe=127,LWe=~qWe,HWe=Math.pow(2,31);function OAe(t,e,r){e=e||[],r=r||0;for(var i=r;t>=HWe;)e[r++]=t&255|NAe,t/=128;for(;t&LWe;)e[r++]=t&255|NAe,t>>>=7;return e[r]=t|0,OAe.bytes=r-i+1,e}var GWe=_q,jWe=128,PAe=127;function _q(t,i){var r=0,i=i||0,n=0,o=i,s,f=t.length;do{if(o>=f)throw _q.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&PAe)<<n:(s&PAe)*Math.pow(2,n),n+=7}while(s>=jWe);return _q.bytes=o-i,r}var zWe=Math.pow(2,7),YWe=Math.pow(2,14),JWe=Math.pow(2,21),VWe=Math.pow(2,28),WWe=Math.pow(2,35),ZWe=Math.pow(2,42),$We=Math.pow(2,49),XWe=Math.pow(2,56),eZe=Math.pow(2,63),tZe=function(t){return t<zWe?1:t<YWe?2:t<JWe?3:t<VWe?4:t<WWe?5:t<ZWe?6:t<$We?7:t<XWe?8:t<eZe?9:10},rZe={encode:KWe,decode:GWe,encodingLength:tZe},iZe=rZe,nx=iZe;function ox(t,e=0){return[nx.decode(t,e),nx.decode.bytes]}function Mb(t,e,r=0){return nx.encode(t,e,r),e}function kb(t){return nx.encodingLength(t)}function qAe(t,e){let r=e.byteLength,i=kb(t),n=i+kb(r),o=new Uint8Array(n+r);return Mb(t,o,0),Mb(r,o,i),o.set(e,n),new Tb(t,r,e,o)}function LAe(t){let e=Db(t),[r,i]=ox(e),[n,o]=ox(e.subarray(i)),s=e.subarray(i+o);if(s.byteLength!==n)throw new Error("Incorrect length");return new Tb(r,n,s,e)}function HAe(t,e){if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&TAe(t.bytes,r.bytes)}}var Tb=class{code;size;digest;bytes;constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};b();function GAe(t,e){let{bytes:r,version:i}=t;switch(i){case 0:return sZe(r,Qq(t),e??B0.encoder);default:return aZe(r,Qq(t),e??ix.encoder)}}var jAe=new WeakMap;function Qq(t){let e=jAe.get(t);if(e==null){let r=new Map;return jAe.set(t,r),r}return e}var C0=class t{code;version;multihash;bytes;"/";constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==sx)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==cZe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=qAe(e,r);return t.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t.equals(this,e)}static equals(e,r){let i=r;return i!=null&&e.code===i.code&&e.version===i.version&&HAe(e.multihash,i.multihash)}toString(e){return GAe(this,e)}toJSON(){return{"/":GAe(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof t)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:o,bytes:s}=r;return new t(i,n,o,s??zAe(i,n,o.bytes))}else if(r[fZe]===!0){let{version:i,multihash:n,code:o}=r,s=LAe(n);return t.create(i,o,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==sx)throw new Error(`Version 0 CID must use dag-pb (code: ${sx}) block encoding`);return new t(e,r,i,i.bytes)}case 1:{let n=zAe(e,r,i.bytes);return new t(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,sx,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,i]=t.decodeFirst(e);if(i.length!==0)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),i=r.size-r.multihashSize,n=Db(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=n.subarray(r.multihashSize-r.digestSize),s=new Tb(r.multihashCode,r.digestSize,o,n);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[y,B]=ox(e.subarray(r));return r+=B,y},n=i(),o=sx;if(n===18?(n=0,r=0):o=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=r,f=i(),d=i(),p=r+d,u=p-s;return{version:n,codec:o,multihashCode:f,digestSize:d,multihashSize:u,size:p}}static parse(e,r){let[i,n]=oZe(e,r),o=t.decode(n);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Qq(o).set(i,e),o}};function oZe(t,e){switch(t[0]){case"Q":{let r=e??B0;return[B0.prefix,r.decode(`${B0.prefix}${t}`)]}case B0.prefix:{let r=e??B0;return[B0.prefix,r.decode(t)]}case ix.prefix:{let r=e??ix;return[ix.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}}function sZe(t,e,r){let{prefix:i}=r;if(i!==B0.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let o=r.encode(t).slice(1);return e.set(i,o),o}else return n}function aZe(t,e,r){let{prefix:i}=r,n=e.get(i);if(n==null){let o=r.encode(t);return e.set(i,o),o}else return n}var sx=112,cZe=18;function zAe(t,e,r){let i=kb(t),n=i+kb(e),o=new Uint8Array(n+r.byteLength);return Mb(t,o,0),Mb(e,o,i),o.set(r,n),o}var fZe=Symbol.for("@ipld/js-cid/CID");b();var dZe=new TextDecoder;function Dq(t,e){let r=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(e>=t.length)throw new Error("protobuf: unexpected end of data");let n=t[e++];if(r+=i<28?(n&127)<<i:(n&127)*2**i,n<128)break}return[r,e]}function q5(t,e){let r;[r,e]=Dq(t,e);let i=e+r;if(r<0||i<0)throw new Error("protobuf: invalid length");if(i>t.length)throw new Error("protobuf: unexpected end of data");return[t.subarray(e,i),i]}function YAe(t,e){let r;return[r,e]=Dq(t,e),[r&7,r>>3,e]}function uZe(t){let e={},r=t.length,i=0;for(;i<r;){let n,o;if([n,o,i]=YAe(t,i),o===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,i]=q5(t,i)}else if(o===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let s;[s,i]=q5(t,i),e.Name=dZe.decode(s)}else if(o===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(n!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Tsize`);[e.Tsize,i]=Dq(t,i)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${o}`)}if(i>r)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function JAe(t){let e=t.length,r=0,i,n=!1,o;for(;r<e;){let f,d;if([f,d,r]=YAe(t,r),f!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${f}`);if(d===1){if(o)throw new Error("protobuf: (PBNode) duplicate Data section");[o,r]=q5(t,r),i&&(n=!0)}else if(d===2){if(n)throw new Error("protobuf: (PBNode) duplicate Links section");i||(i=[]);let p;[p,r]=q5(t,r),i.push(uZe(p))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${d}`)}if(r>e)throw new Error("protobuf: (PBNode) unexpected end of data");let s={};return o&&(s.Data=o),s.Links=i||[],s}b();var WAe=new TextEncoder,VAe=2**32,hZe=2**31;function lZe(t,e){let r=e.length;if(typeof t.Tsize=="number"){if(t.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(t.Tsize))throw new Error("Tsize too large for encoding");r=ax(e,r,t.Tsize)-1,e[r]=24}if(typeof t.Name=="string"){let i=WAe.encode(t.Name);r-=i.length,e.set(i,r),r=ax(e,r,i.length)-1,e[r]=18}return t.Hash&&(r-=t.Hash.length,e.set(t.Hash,r),r=ax(e,r,t.Hash.length)-1,e[r]=10),e.length-r}function ZAe(t){let e=AZe(t),r=new Uint8Array(e),i=e;if(t.Data&&(i-=t.Data.length,r.set(t.Data,i),i=ax(r,i,t.Data.length)-1,r[i]=10),t.Links)for(let n=t.Links.length-1;n>=0;n--){let o=lZe(t.Links[n],r.subarray(0,i));i-=o,i=ax(r,i,o)-1,r[i]=18}return r}function pZe(t){let e=0;if(t.Hash){let r=t.Hash.length;e+=1+r+Rb(r)}if(typeof t.Name=="string"){let r=WAe.encode(t.Name).length;e+=1+r+Rb(r)}return typeof t.Tsize=="number"&&(e+=1+Rb(t.Tsize)),e}function AZe(t){let e=0;if(t.Data){let r=t.Data.length;e+=1+r+Rb(r)}if(t.Links)for(let r of t.Links){let i=pZe(r);e+=1+i+Rb(i)}return e}function ax(t,e,r){e-=Rb(r);let i=e;for(;r>=hZe;)t[e++]=r&127|128,r/=128;for(;r>=128;)t[e++]=r&127|128,r>>>=7;return t[e]=r,i}function Rb(t){return t%2===0&&t++,Math.floor((gZe(t)+6)/7)}function gZe(t){let e=0;return t>=VAe&&(t=Math.floor(t/VAe),e=32),t>=65536&&(t>>>=16,e+=16),t>=256&&(t>>>=8,e+=8),e+yZe[t]}var yZe=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];b();var mZe=["Data","Links"],IZe=["Hash","Name","Tsize"],Mq=new TextEncoder;function XAe(t,e){if(t===e)return 0;let r=t.Name?Mq.encode(t.Name):[],i=e.Name?Mq.encode(e.Name):[],n=r.length,o=i.length;for(let s=0,f=Math.min(n,o);s<f;++s)if(r[s]!==i[s]){n=r[s],o=i[s];break}return n<o?-1:o<n?1:0}function $Ae(t,e){return!Object.keys(t).some(r=>!e.includes(r))}function ege(t){if(typeof t.asCID=="object"){let r=C0.asCID(t);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");let e={};if(t.Hash){let r=C0.asCID(t.Hash);try{r||(typeof t.Hash=="string"?r=C0.parse(t.Hash):t.Hash instanceof Uint8Array&&(r=C0.decode(t.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}r&&(e.Hash=r)}if(!e.Hash)throw new TypeError("Invalid DAG-PB form");return typeof t.Name=="string"&&(e.Name=t.Name),typeof t.Tsize=="number"&&(e.Tsize=t.Tsize),e}function Ec(t){if((t instanceof Uint8Array||typeof t=="string")&&(t={Data:t}),typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");let e={};if(t.Data!==void 0)if(typeof t.Data=="string")e.Data=Mq.encode(t.Data);else if(t.Data instanceof Uint8Array)e.Data=t.Data;else throw new TypeError("Invalid DAG-PB form");if(t.Links!==void 0)if(Array.isArray(t.Links))e.Links=t.Links.map(ege),e.Links.sort(XAe);else throw new TypeError("Invalid DAG-PB form");else e.Links=[];return e}function kq(t){if(!t||typeof t!="object"||Array.isArray(t)||t instanceof Uint8Array||t["/"]&&t["/"]===t.bytes)throw new TypeError("Invalid DAG-PB form");if(!$Ae(t,mZe))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(t.Data!==void 0&&!(t.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(t.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let e=0;e<t.Links.length;e++){let r=t.Links[e];if(!r||typeof r!="object"||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!$Ae(r,IZe))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(r.Hash===void 0)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash==null||!r.Hash["/"]||r.Hash["/"]!==r.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0){if(typeof r.Tsize!="number"||r.Tsize%1!==0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(r.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(e>0&&XAe(r,t.Links[e-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function tge(t,e=[]){return Ec({Data:t,Links:e})}function rge(t,e,r){return ege({Hash:r,Name:t,Tsize:e})}var wZe="dag-pb",cx=112;function Bc(t){kq(t);let e={};return t.Links&&(e.Links=t.Links.map(r=>{let i={};return r.Hash&&(i.Hash=r.Hash.bytes),r.Name!==void 0&&(i.Name=r.Name),r.Tsize!==void 0&&(i.Tsize=r.Tsize),i})),t.Data&&(e.Data=t.Data),ZAe(e)}function x0(t){let e=JAe(t),r={};return e.Data&&(r.Data=e.Data),e.Links&&(r.Links=e.Links.map(i=>{let n={};try{n.Hash=C0.decode(i.Hash)}catch{}if(!n.Hash)throw new Error("Invalid Hash field found in link, expected CID");return i.Name!==void 0&&(n.Name=i.Name),i.Tsize!==void 0&&(n.Tsize=i.Tsize),n})),r}b();var lL=Rt(Fa(),1);b();b();b();b();b();var Tq=new Float32Array([-0]),PA=new Uint8Array(Tq.buffer);function ige(t,e,r){Tq[0]=t,e[r]=PA[0],e[r+1]=PA[1],e[r+2]=PA[2],e[r+3]=PA[3]}function nge(t,e){return PA[0]=t[e],PA[1]=t[e+1],PA[2]=t[e+2],PA[3]=t[e+3],Tq[0]}var Rq=new Float64Array([-0]),Qs=new Uint8Array(Rq.buffer);function oge(t,e,r){Rq[0]=t,e[r]=Qs[0],e[r+1]=Qs[1],e[r+2]=Qs[2],e[r+3]=Qs[3],e[r+4]=Qs[4],e[r+5]=Qs[5],e[r+6]=Qs[6],e[r+7]=Qs[7]}function sge(t,e){return Qs[0]=t[e],Qs[1]=t[e+1],Qs[2]=t[e+2],Qs[3]=t[e+3],Qs[4]=t[e+4],Qs[5]=t[e+5],Qs[6]=t[e+6],Qs[7]=t[e+7],Rq[0]}b();var vZe=BigInt(Number.MAX_SAFE_INTEGER),bZe=BigInt(Number.MIN_SAFE_INTEGER),Na=class t{lo;hi;constructor(e,r){this.lo=e|0,this.hi=r|0}toNumber(e=!1){if(!e&&this.hi>>>31>0){let r=~this.lo+1>>>0,i=~this.hi>>>0;return r===0&&(i=i+1>>>0),-(r+i*4294967296)}return this.lo+this.hi*4294967296}toBigInt(e=!1){if(e)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){let r=~this.lo+1>>>0,i=~this.hi>>>0;return r===0&&(i=i+1>>>0),-(BigInt(r)+(BigInt(i)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(e=!1){return this.toBigInt(e).toString()}zzEncode(){let e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this}zzDecode(){let e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this}length(){let e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10}static fromBigInt(e){if(e===0n)return Jm;if(e<vZe&&e>bZe)return this.fromNumber(Number(e));let r=e<0n;r&&(e=-e);let i=e>>32n,n=e-(i<<32n);return r&&(i=~i|0n,n=~n|0n,++n>age&&(n=0n,++i>age&&(i=0n))),new t(Number(n),Number(i))}static fromNumber(e){if(e===0)return Jm;let r=e<0;r&&(e=-e);let i=e>>>0,n=(e-i)/4294967296>>>0;return r&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new t(i,n)}static from(e){return typeof e=="number"?t.fromNumber(e):typeof e=="bigint"?t.fromBigInt(e):typeof e=="string"?t.fromBigInt(BigInt(e)):e.low!=null||e.high!=null?new t(e.low>>>0,e.high>>>0):Jm}},Jm=new Na(0,0);Jm.toBigInt=function(){return 0n};Jm.zzEncode=Jm.zzDecode=function(){return this};Jm.length=function(){return 1};var age=4294967296n;b();function cge(t){let e=0,r=0;for(let i=0;i<t.length;++i)r=t.charCodeAt(i),r<128?e+=1:r<2048?e+=2:(r&64512)===55296&&(t.charCodeAt(i+1)&64512)===56320?(++i,e+=4):e+=3;return e}function fge(t,e,r){if(r-e<1)return"";let n,o=[],s=0,f;for(;e<r;)f=t[e++],f<128?o[s++]=f:f>191&&f<224?o[s++]=(f&31)<<6|t[e++]&63:f>239&&f<365?(f=((f&7)<<18|(t[e++]&63)<<12|(t[e++]&63)<<6|t[e++]&63)-65536,o[s++]=55296+(f>>10),o[s++]=56320+(f&1023)):o[s++]=(f&15)<<12|(t[e++]&63)<<6|t[e++]&63,s>8191&&((n??(n=[])).push(String.fromCharCode.apply(String,o)),s=0);return n!=null?(s>0&&n.push(String.fromCharCode.apply(String,o.slice(0,s))),n.join("")):String.fromCharCode.apply(String,o.slice(0,s))}function Uq(t,e,r){let i=r,n,o;for(let s=0;s<t.length;++s)n=t.charCodeAt(s),n<128?e[r++]=n:n<2048?(e[r++]=n>>6|192,e[r++]=n&63|128):(n&64512)===55296&&((o=t.charCodeAt(s+1))&64512)===56320?(n=65536+((n&1023)<<10)+(o&1023),++s,e[r++]=n>>18|240,e[r++]=n>>12&63|128,e[r++]=n>>6&63|128,e[r++]=n&63|128):(e[r++]=n>>12|224,e[r++]=n>>6&63|128,e[r++]=n&63|128);return r-i}function Gd(t,e){return RangeError(`index out of range: ${t.pos} + ${e??1} > ${t.len}`)}function L5(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}var Fq=class{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(e){this.buf=e,this.pos=0,this.len=e.length}uint32(){let e=4294967295;if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Gd(this,10);return e}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)|0}bool(){return this.uint32()!==0}fixed32(){if(this.pos+4>this.len)throw Gd(this,4);return L5(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw Gd(this,4);return L5(this.buf,this.pos+=4)|0}float(){if(this.pos+4>this.len)throw Gd(this,4);let e=nge(this.buf,this.pos);return this.pos+=4,e}double(){if(this.pos+8>this.len)throw Gd(this,4);let e=sge(this.buf,this.pos);return this.pos+=8,e}bytes(){let e=this.uint32(),r=this.pos,i=this.pos+e;if(i>this.len)throw Gd(this,e);return this.pos+=e,r===i?new Uint8Array(0):this.buf.subarray(r,i)}string(){let e=this.bytes();return fge(e,0,e.length)}skip(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Gd(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Gd(this);while(this.buf[this.pos++]&128);return this}skipType(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${e} at offset ${this.pos}`)}return this}readLongVarint(){let e=new Na(0,0),r=0;if(this.len-this.pos>4){for(;r<4;++r)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<r*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;r=0}else{for(;r<3;++r){if(this.pos>=this.len)throw Gd(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<r*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<r*7)>>>0,e}if(this.len-this.pos>4){for(;r<5;++r)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<r*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;r<5;++r){if(this.pos>=this.len)throw Gd(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<r*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw Gd(this,8);let e=L5(this.buf,this.pos+=4),r=L5(this.buf,this.pos+=4);return new Na(e,r)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){return this.readLongVarint().toNumber(!0)}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}};function Nq(t){return new Fq(t instanceof Uint8Array?t:t.subarray())}function fx(t,e){let r=Nq(t);return e.decode(r)}b();b();b();b();function H5(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Vm(t=0){return globalThis.Buffer?.allocUnsafe!=null?H5(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}b();b();b();var Lq={};Tt(Lq,{base10:()=>_Ze});b();b();b();var Q7t=new Uint8Array(0);function uge(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function S0(t){if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")}function hge(t){return new TextEncoder().encode(t)}function lge(t){return new TextDecoder().decode(t)}b();function EZe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=n}var f=t.length,d=t.charAt(0),p=Math.log(f)/Math.log(256),u=Math.log(256)/Math.log(f);function y(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var x=0,_=0,Q=0,R=C.length;Q!==R&&C[Q]===0;)Q++,x++;for(var k=(R-Q)*u+1>>>0,K=new Uint8Array(k);Q!==R;){for(var T=C[Q],L=0,H=k-1;(T!==0||L<_)&&H!==-1;H--,L++)T+=256*K[H]>>>0,K[H]=T%f>>>0,T=T/f>>>0;if(T!==0)throw new Error("Non-zero carry");_=L,Q++}for(var O=k-_;O!==k&&K[O]===0;)O++;for(var G=d.repeat(x);O<k;++O)G+=t.charAt(K[O]);return G}function B(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var x=0;if(C[x]!==" "){for(var _=0,Q=0;C[x]===d;)_++,x++;for(var R=(C.length-x)*p+1>>>0,k=new Uint8Array(R);C[x];){var K=r[C.charCodeAt(x)];if(K===255)return;for(var T=0,L=R-1;(K!==0||T<Q)&&L!==-1;L--,T++)K+=f*k[L]>>>0,k[L]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");Q=T,x++}if(C[x]!==" "){for(var H=R-Q;H!==R&&k[H]===0;)H++;for(var O=new Uint8Array(_+(R-H)),G=_;H!==R;)O[G++]=k[H++];return O}}}function S(C){var x=B(C);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:B,decode:S}}var BZe=EZe,CZe=BZe,Age=CZe;var Pq=class{name;prefix;baseEncode;constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Oq=class{name;prefix;baseDecode;prefixCodePoint;constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return gge(this,e)}},Kq=class{decoders;constructor(e){this.decoders=e}or(e){return gge(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i!=null)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function gge(t,e){return new Kq({...t.decoders??{[t.prefix]:t},...e.decoders??{[e.prefix]:e}})}var qq=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new Pq(e,r,i),this.decoder=new Oq(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};function Ub({name:t,prefix:e,encode:r,decode:i}){return new qq(t,e,r,i)}function OA({name:t,prefix:e,alphabet:r}){let{encode:i,decode:n}=Age(r,t);return Ub({prefix:e,name:t,encode:i,decode:o=>S0(n(o))})}function xZe(t,e,r,i){let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),f=0,d=0,p=0;for(let u=0;u<o;++u){let y=n[t[u]];if(y===void 0)throw new SyntaxError(`Non-${i} character`);d=d<<r|y,f+=r,f>=8&&(f-=8,s[p++]=255&d>>f)}if(f>=r||255&d<<8-f)throw new SyntaxError("Unexpected end of data");return s}function SZe(t,e,r){let i=e[e.length-1]==="=",n=(1<<r)-1,o="",s=0,f=0;for(let d=0;d<t.length;++d)for(f=f<<8|t[d],s+=8;s>r;)s-=r,o+=e[n&f>>s];if(s!==0&&(o+=e[n&f<<r-s]),i)for(;o.length*r&7;)o+="=";return o}function Qn({name:t,prefix:e,bitsPerChar:r,alphabet:i}){return Ub({prefix:e,name:t,encode(n){return SZe(n,i,r)},decode(n){return xZe(n,i,r,t)}})}var _Ze=OA({prefix:"9",name:"base10",alphabet:"0123456789"});var Hq={};Tt(Hq,{base16:()=>QZe,base16upper:()=>DZe});b();var QZe=Qn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),DZe=Qn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Gq={};Tt(Gq,{base2:()=>MZe});b();var MZe=Qn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var jq={};Tt(jq,{base256emoji:()=>FZe});b();var yge=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),kZe=yge.reduce((t,e,r)=>(t[r]=e,t),[]),TZe=yge.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function RZe(t){return t.reduce((e,r)=>(e+=kZe[r],e),"")}function UZe(t){let e=[];for(let r of t){let i=TZe[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}var FZe=Ub({prefix:"\u{1F680}",name:"base256emoji",encode:RZe,decode:UZe});var zq={};Tt(zq,{base32:()=>Fb,base32hex:()=>KZe,base32hexpad:()=>LZe,base32hexpadupper:()=>HZe,base32hexupper:()=>qZe,base32pad:()=>PZe,base32padupper:()=>OZe,base32upper:()=>NZe,base32z:()=>GZe});b();var Fb=Qn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),NZe=Qn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),PZe=Qn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),OZe=Qn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),KZe=Qn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),qZe=Qn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),LZe=Qn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),HZe=Qn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),GZe=Qn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Yq={};Tt(Yq,{base36:()=>jZe,base36upper:()=>zZe});b();var jZe=OA({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),zZe=OA({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Jq={};Tt(Jq,{base58btc:()=>vh,base58flickr:()=>YZe});b();var vh=OA({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),YZe=OA({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Vq={};Tt(Vq,{base64:()=>JZe,base64pad:()=>VZe,base64url:()=>WZe,base64urlpad:()=>ZZe});b();var JZe=Qn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),VZe=Qn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),WZe=Qn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ZZe=Qn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Wq={};Tt(Wq,{base8:()=>$Ze});b();var $Ze=Qn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Zq={};Tt(Zq,{identity:()=>XZe});b();var XZe=Ub({prefix:"\0",name:"identity",encode:t=>lge(t),decode:t=>hge(t)});b();var nFt=new TextEncoder,oFt=new TextDecoder;b();var Xq={};Tt(Xq,{identity:()=>b$e});b();b();b();b();var r$e=wge,mge=128,i$e=127,n$e=~i$e,o$e=Math.pow(2,31);function wge(t,e,r){e=e||[],r=r||0;for(var i=r;t>=o$e;)e[r++]=t&255|mge,t/=128;for(;t&n$e;)e[r++]=t&255|mge,t>>>=7;return e[r]=t|0,wge.bytes=r-i+1,e}var s$e=$q,a$e=128,Ige=127;function $q(t,i){var r=0,i=i||0,n=0,o=i,s,f=t.length;do{if(o>=f)throw $q.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&Ige)<<n:(s&Ige)*Math.pow(2,n),n+=7}while(s>=a$e);return $q.bytes=o-i,r}var c$e=Math.pow(2,7),f$e=Math.pow(2,14),d$e=Math.pow(2,21),u$e=Math.pow(2,28),h$e=Math.pow(2,35),l$e=Math.pow(2,42),p$e=Math.pow(2,49),A$e=Math.pow(2,56),g$e=Math.pow(2,63),y$e=function(t){return t<c$e?1:t<f$e?2:t<d$e?3:t<u$e?4:t<h$e?5:t<l$e?6:t<p$e?7:t<A$e?8:t<g$e?9:10},m$e={encode:r$e,decode:s$e,encodingLength:y$e},I$e=m$e,dx=I$e;function ux(t,e=0){return[dx.decode(t,e),dx.decode.bytes]}function Nb(t,e,r=0){return dx.encode(t,e,r),e}function Pb(t){return dx.encodingLength(t)}function Wm(t,e){let r=e.byteLength,i=Pb(t),n=i+Pb(r),o=new Uint8Array(n+r);return Nb(t,o,0),Nb(r,o,i),o.set(e,n),new Ob(t,r,e,o)}function vge(t){let e=S0(t),[r,i]=ux(e),[n,o]=ux(e.subarray(i)),s=e.subarray(i+o);if(s.byteLength!==n)throw new Error("Incorrect length");return new Ob(r,n,s,e)}function bge(t,e){if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&uge(t.bytes,r.bytes)}}var Ob=class{code;size;digest;bytes;constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};var Ege=0,w$e="identity",Bge=S0;function v$e(t){return Wm(Ege,Bge(t))}var b$e={code:Ege,name:w$e,encode:Bge,digest:v$e};var rL={};Tt(rL,{sha256:()=>E$e,sha512:()=>B$e});b();b();function tL({name:t,code:e,encode:r}){return new eL(t,e,r)}var eL=class{name;code;encode;constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Wm(this.code,r):r.then(i=>Wm(this.code,i))}else throw Error("Unknown type, must be binary type")}};function xge(t){return async e=>new Uint8Array(await crypto.subtle.digest(t,e))}var E$e=tL({name:"sha2-256",code:18,encode:xge("SHA-256")}),B$e=tL({name:"sha2-512",code:19,encode:xge("SHA-512")});b();b();b();function Sge(t,e){let{bytes:r,version:i}=t;switch(i){case 0:return x$e(r,iL(t),e??vh.encoder);default:return S$e(r,iL(t),e??Fb.encoder)}}var _ge=new WeakMap;function iL(t){let e=_ge.get(t);if(e==null){let r=new Map;return _ge.set(t,r),r}return e}var j5=class t{code;version;multihash;bytes;"/";constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==lx)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==_$e)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=Wm(e,r);return t.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t.equals(this,e)}static equals(e,r){let i=r;return i!=null&&e.code===i.code&&e.version===i.version&&bge(e.multihash,i.multihash)}toString(e){return Sge(this,e)}toJSON(){return{"/":Sge(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof t)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:o,bytes:s}=r;return new t(i,n,o,s??Qge(i,n,o.bytes))}else if(r[Q$e]===!0){let{version:i,multihash:n,code:o}=r,s=vge(n);return t.create(i,o,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==lx)throw new Error(`Version 0 CID must use dag-pb (code: ${lx}) block encoding`);return new t(e,r,i,i.bytes)}case 1:{let n=Qge(e,r,i.bytes);return new t(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,lx,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,i]=t.decodeFirst(e);if(i.length!==0)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),i=r.size-r.multihashSize,n=S0(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=n.subarray(r.multihashSize-r.digestSize),s=new Ob(r.multihashCode,r.digestSize,o,n);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[y,B]=ux(e.subarray(r));return r+=B,y},n=i(),o=lx;if(n===18?(n=0,r=0):o=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=r,f=i(),d=i(),p=r+d,u=p-s;return{version:n,codec:o,multihashCode:f,digestSize:d,multihashSize:u,size:p}}static parse(e,r){let[i,n]=C$e(e,r),o=t.decode(n);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return iL(o).set(i,e),o}};function C$e(t,e){switch(t[0]){case"Q":{let r=e??vh;return[vh.prefix,r.decode(`${vh.prefix}${t}`)]}case vh.prefix:{let r=e??vh;return[vh.prefix,r.decode(t)]}case Fb.prefix:{let r=e??Fb;return[Fb.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}}function x$e(t,e,r){let{prefix:i}=r;if(i!==vh.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let o=r.encode(t).slice(1);return e.set(i,o),o}else return n}function S$e(t,e,r){let{prefix:i}=r,n=e.get(i);if(n==null){let o=r.encode(t);return e.set(i,o),o}else return n}var lx=112,_$e=18;function Qge(t,e,r){let i=Pb(t),n=i+Pb(e),o=new Uint8Array(n+r.byteLength);return Nb(t,o,0),Nb(e,o,i),o.set(r,n),o}var Q$e=Symbol.for("@ipld/js-cid/CID");b();b();b();b();b();var nL={...Zq,...Gq,...Wq,...Lq,...Hq,...zq,...Yq,...Jq,...Vq,...jq},LFt={...rL,...Xq};function Mge(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}var Dge=Mge("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),oL=Mge("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=Vm(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),D$e={utf8:Dge,"utf-8":Dge,hex:nL.base16,latin1:oL,ascii:oL,binary:oL,...nL},kge=D$e;function Tge(t,e="utf8"){let r=kge[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?H5(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}b();function sL(t){let e=t??8192,r=e>>>1,i,n=e;return function(s){if(s<1||s>r)return Vm(s);n+s>e&&(i=Vm(e),n=0);let f=i.subarray(n,n+=s);return n&7&&(n=(n|7)+1),f}}var Zm=class{fn;len;next;val;constructor(e,r,i){this.fn=e,this.len=r,this.next=void 0,this.val=i}};function aL(){}var fL=class{head;tail;len;next;constructor(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}},M$e=sL();function k$e(t){return globalThis.Buffer!=null?Vm(t):M$e(t)}var gx=class{len;head;tail;states;constructor(){this.len=0,this.head=new Zm(aL,0,0),this.tail=this.head,this.states=null}_push(e,r,i){return this.tail=this.tail.next=new Zm(e,r,i),this.len+=r,this}uint32(e){return this.len+=(this.tail=this.tail.next=new dL((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this}int32(e){return e<0?this._push(px,10,Na.fromNumber(e)):this.uint32(e)}sint32(e){return this.uint32((e<<1^e>>31)>>>0)}uint64(e){let r=Na.fromBigInt(e);return this._push(px,r.length(),r)}uint64Number(e){let r=Na.fromNumber(e);return this._push(px,r.length(),r)}uint64String(e){return this.uint64(BigInt(e))}int64(e){return this.uint64(e)}int64Number(e){return this.uint64Number(e)}int64String(e){return this.uint64String(e)}sint64(e){let r=Na.fromBigInt(e).zzEncode();return this._push(px,r.length(),r)}sint64Number(e){let r=Na.fromNumber(e).zzEncode();return this._push(px,r.length(),r)}sint64String(e){return this.sint64(BigInt(e))}bool(e){return this._push(cL,1,e?1:0)}fixed32(e){return this._push(Ax,4,e>>>0)}sfixed32(e){return this.fixed32(e)}fixed64(e){let r=Na.fromBigInt(e);return this._push(Ax,4,r.lo)._push(Ax,4,r.hi)}fixed64Number(e){let r=Na.fromNumber(e);return this._push(Ax,4,r.lo)._push(Ax,4,r.hi)}fixed64String(e){return this.fixed64(BigInt(e))}sfixed64(e){return this.fixed64(e)}sfixed64Number(e){return this.fixed64Number(e)}sfixed64String(e){return this.fixed64String(e)}float(e){return this._push(ige,4,e)}double(e){return this._push(oge,8,e)}bytes(e){let r=e.length>>>0;return r===0?this._push(cL,1,0):this.uint32(r)._push(R$e,r,e)}string(e){let r=cge(e);return r!==0?this.uint32(r)._push(Uq,r,e):this._push(cL,1,0)}fork(){return this.states=new fL(this),this.head=this.tail=new Zm(aL,0,0),this.len=0,this}reset(){return this.states!=null?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Zm(aL,0,0),this.len=0),this}ldelim(){let e=this.head,r=this.tail,i=this.len;return this.reset().uint32(i),i!==0&&(this.tail.next=e.next,this.tail=r,this.len+=i),this}finish(){let e=this.head.next,r=k$e(this.len),i=0;for(;e!=null;)e.fn(e.val,r,i),i+=e.len,e=e.next;return r}};function cL(t,e,r){e[r]=t&255}function T$e(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}var dL=class extends Zm{next;constructor(e,r){super(T$e,e,r),this.next=void 0}};function px(t,e,r){for(;t.hi!==0;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}function Ax(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function R$e(t,e,r){e.set(t,r)}globalThis.Buffer!=null&&(gx.prototype.bytes=function(t){let e=t.length>>>0;return this.uint32(e),e>0&&this._push(U$e,e,t),this},gx.prototype.string=function(t){let e=globalThis.Buffer.byteLength(t);return this.uint32(e),e>0&&this._push(F$e,e,t),this});function U$e(t,e,r){e.set(t,r)}function F$e(t,e,r){t.length<40?Uq(t,e,r):e.utf8Write!=null?e.utf8Write(t,r):e.set(Tge(t),r)}function uL(){return new gx}function yx(t,e){let r=uL();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}b();b();var Kb;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(Kb||(Kb={}));function z5(t,e,r,i){return{name:t,type:e,encode:r,decode:i}}function hL(t){function e(n){if(t[n.toString()]==null)throw new Error("Invalid enum value");return t[n]}let r=function(o,s){let f=e(o);s.int32(f)},i=function(o){let s=o.int32();return e(s)};return z5("enum",Kb.VARINT,r,i)}b();function mx(t,e){return z5("message",Kb.LENGTH_DELIMITED,t,e)}var jd;(function(t){let e;(function(n){n.Raw="Raw",n.Directory="Directory",n.File="File",n.Metadata="Metadata",n.Symlink="Symlink",n.HAMTShard="HAMTShard"})(e=t.DataType||(t.DataType={}));let r;(function(n){n[n.Raw=0]="Raw",n[n.Directory=1]="Directory",n[n.File=2]="File",n[n.Metadata=3]="Metadata",n[n.Symlink=4]="Symlink",n[n.HAMTShard=5]="HAMTShard"})(r||(r={})),function(n){n.codec=()=>hL(r)}(e=t.DataType||(t.DataType={}));let i;t.codec=()=>(i==null&&(i=mx((n,o,s={})=>{if(s.lengthDelimited!==!1&&o.fork(),n.Type!=null&&(o.uint32(8),t.DataType.codec().encode(n.Type,o)),n.Data!=null&&(o.uint32(18),o.bytes(n.Data)),n.filesize!=null&&(o.uint32(24),o.uint64(n.filesize)),n.blocksizes!=null)for(let f of n.blocksizes)o.uint32(32),o.uint64(f);n.hashType!=null&&(o.uint32(40),o.uint64(n.hashType)),n.fanout!=null&&(o.uint32(48),o.uint64(n.fanout)),n.mode!=null&&(o.uint32(56),o.uint32(n.mode)),n.mtime!=null&&(o.uint32(66),Y5.codec().encode(n.mtime,o)),s.lengthDelimited!==!1&&o.ldelim()},(n,o)=>{let s={blocksizes:[]},f=o==null?n.len:n.pos+o;for(;n.pos<f;){let d=n.uint32();switch(d>>>3){case 1:s.Type=t.DataType.codec().decode(n);break;case 2:s.Data=n.bytes();break;case 3:s.filesize=n.uint64();break;case 4:s.blocksizes.push(n.uint64());break;case 5:s.hashType=n.uint64();break;case 6:s.fanout=n.uint64();break;case 7:s.mode=n.uint32();break;case 8:s.mtime=Y5.codec().decode(n,n.uint32());break;default:n.skipType(d&7);break}}return s})),i),t.encode=n=>yx(n,t.codec()),t.decode=n=>fx(n,t.codec())})(jd||(jd={}));var Y5;(function(t){let e;t.codec=()=>(e==null&&(e=mx((r,i,n={})=>{n.lengthDelimited!==!1&&i.fork(),r.Seconds!=null&&(i.uint32(8),i.int64(r.Seconds)),r.FractionalNanoseconds!=null&&(i.uint32(21),i.fixed32(r.FractionalNanoseconds)),n.lengthDelimited!==!1&&i.ldelim()},(r,i)=>{let n={},o=i==null?r.len:r.pos+i;for(;r.pos<o;){let s=r.uint32();switch(s>>>3){case 1:n.Seconds=r.int64();break;case 2:n.FractionalNanoseconds=r.fixed32();break;default:r.skipType(s&7);break}}return n})),e),t.encode=r=>yx(r,t.codec()),t.decode=r=>fx(r,t.codec())})(Y5||(Y5={}));var Rge;(function(t){let e;t.codec=()=>(e==null&&(e=mx((r,i,n={})=>{n.lengthDelimited!==!1&&i.fork(),r.MimeType!=null&&(i.uint32(10),i.string(r.MimeType)),n.lengthDelimited!==!1&&i.ldelim()},(r,i)=>{let n={},o=i==null?r.len:r.pos+i;for(;r.pos<o;){let s=r.uint32();switch(s>>>3){case 1:n.MimeType=r.string();break;default:r.skipType(s&7);break}}return n})),e),t.encode=r=>yx(r,t.codec()),t.decode=r=>fx(r,t.codec())})(Rge||(Rge={}));var Uge={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},N$e=["directory","hamt-sharded-directory"],Fge=parseInt("0644",8),Nge=parseInt("0755",8),_o=class t{static unmarshal(e){let r=jd.decode(e),i=new t({type:Uge[r.Type!=null?r.Type.toString():"File"],data:r.Data,blockSizes:r.blocksizes,mode:r.mode,mtime:r.mtime!=null?{secs:r.mtime.Seconds??0n,nsecs:r.mtime.FractionalNanoseconds}:void 0,fanout:r.fanout});return i._originalMode=r.mode??0,i}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(e={type:"file"}){let{type:r,data:i,blockSizes:n,hashType:o,fanout:s,mtime:f,mode:d}=e;if(r!=null&&!Object.values(Uge).includes(r))throw(0,lL.default)(new Error("Type: "+r+" is not valid"),"ERR_INVALID_TYPE");this.type=r??"file",this.data=i,this.hashType=o,this.fanout=s,this.blockSizes=n??[],this._originalMode=0,this.mode=d,this.mtime=f}set mode(e){e==null?this._mode=this.isDirectory()?Nge:Fge:this._mode=e&4095}get mode(){return this._mode}isDirectory(){return N$e.includes(this.type)}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0n;let e=0n;return this.blockSizes.forEach(r=>{e+=r}),this.data!=null&&(e+=BigInt(this.data.length)),e}marshal(){let e;switch(this.type){case"raw":e=jd.DataType.Raw;break;case"directory":e=jd.DataType.Directory;break;case"file":e=jd.DataType.File;break;case"metadata":e=jd.DataType.Metadata;break;case"symlink":e=jd.DataType.Symlink;break;case"hamt-sharded-directory":e=jd.DataType.HAMTShard;break;default:throw(0,lL.default)(new Error(`Type: ${e} is not valid`),"ERR_INVALID_TYPE")}let r=this.data;(this.data==null||this.data.length===0)&&(r=void 0);let i;this.mode!=null&&(i=this._originalMode&4294963200|(this.mode??0),i===Fge&&!this.isDirectory()&&(i=void 0),i===Nge&&this.isDirectory()&&(i=void 0));let n;return this.mtime!=null&&(n={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),jd.encode({Type:e,Data:r,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:n})}};var $m={};Tt($m,{code:()=>bh,decode:()=>K$e,encode:()=>O$e,name:()=>P$e});b();var P$e="raw",bh=85,O$e=t=>ed(t),K$e=t=>ed(t);b();var Dn=class extends Event{constructor(e,r){super(e),this.detail=r}};b();var zd=async(t,e,r)=>{r.codec==null&&(r.codec=Ym);let i=await ta.digest(t),n=Gr.create(r.cidVersion,r.codec.code,i);return await e.put(n,t,r),n};function Pge(t){return async function*(r,i){let n=0n;for await(let o of r.content)yield async()=>{let s,f={codec:Ym,cidVersion:t.cidVersion,onProgress:t.onProgress};t.rawLeaves?(f.codec=$m,f.cidVersion=1):(s=new _o({type:t.leafType,data:o}),o=Bc({Data:s.marshal(),Links:[]}));let d=await zd(o,i,f);return n+=BigInt(o.byteLength),t.onProgress?.(new Dn("unixfs:importer:progress:file:write",{bytesWritten:n,cid:d,path:r.path})),{cid:d,unixfs:s,size:BigInt(o.length),block:o}}}}b();var pL=Rt(Fa(),1);b();var Oge=async(t,e,r)=>{let i=new _o({type:"directory",mtime:t.mtime,mode:t.mode}),n=Bc(Ec({Data:i.marshal()})),o=await zd(n,e,r),s=t.path;return{cid:o,path:s,unixfs:i,size:BigInt(n.length),originalPath:t.originalPath,block:n}};b();async function*q$e(t,e,r){let i=-1,n;for await(let o of tx(r.bufferImporter(t,e),r.blockWriteConcurrency)){if(i++,i===0){n={...o,single:!0};continue}else i===1&&n!=null&&(yield{...n,block:void 0,single:void 0},n=void 0);yield{...o,block:void 0}}n!=null&&(yield n)}function Kge(t){return t.single===!0}var L$e=(t,e,r)=>async function(n){if(n.length===1&&Kge(n[0])&&r.reduceSingleLeafToSelf){let u=n[0],y=u.block;return Kge(u)&&(t.mtime!==void 0||t.mode!==void 0)&&(u.unixfs=new _o({type:"file",mtime:t.mtime,mode:t.mode,data:u.block}),y={Data:u.unixfs.marshal(),Links:[]},u.block=Bc(Ec(y)),u.cid=await zd(u.block,e,{...r,cidVersion:r.cidVersion}),u.size=BigInt(u.block.length)),r.onProgress?.(new Dn("unixfs:importer:progress:file:layout",{cid:u.cid,path:u.originalPath})),{cid:u.cid,path:t.path,unixfs:u.unixfs,size:u.size,originalPath:u.originalPath}}let o=new _o({type:"file",mtime:t.mtime,mode:t.mode}),s=n.filter(u=>u.cid.code===bh&&u.size>0||u.unixfs!=null&&u.unixfs.data==null&&u.unixfs.fileSize()>0n?!0:!!u.unixfs?.data?.length).map(u=>u.cid.code===bh?(o.addBlockSize(u.size),{Name:"",Tsize:Number(u.size),Hash:u.cid}):(u.unixfs==null||u.unixfs.data==null?o.addBlockSize(u.unixfs?.fileSize()??0n):o.addBlockSize(BigInt(u.unixfs.data.length)),{Name:"",Tsize:Number(u.size),Hash:u.cid})),f={Data:o.marshal(),Links:s},d=Bc(Ec(f)),p=await zd(d,e,r);return r.onProgress?.(new Dn("unixfs:importer:progress:file:layout",{cid:p,path:t.originalPath})),{cid:p,path:t.path,unixfs:o,size:BigInt(d.length+f.Links.reduce((u,y)=>u+(y.Tsize??0),0)),originalPath:t.originalPath,block:d}},qge=async(t,e,r)=>r.layout(q$e(t,e,r),L$e(t,e,r));function H$e(t){return Symbol.iterator in t}function G$e(t){return Symbol.asyncIterator in t}function j$e(t){try{if(t instanceof Uint8Array)return async function*(){yield t}();if(H$e(t))return async function*(){yield*t}();if(G$e(t))return t}catch{throw(0,pL.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw(0,pL.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function Lge(t){return async function*(r,i){for await(let n of r){let o;if(n.path!=null&&(o=n.path,n.path=n.path.split("/").filter(s=>s!=null&&s!==".").join("/")),z$e(n)){let s={path:n.path,mtime:n.mtime,mode:n.mode,content:async function*(){let f=0n;for await(let d of t.chunker(t.chunkValidator(j$e(n.content)))){let p=BigInt(d.byteLength);f+=p,t.onProgress?.(new Dn("unixfs:importer:progress:file:read",{bytesRead:f,chunkSize:p,path:n.path})),yield d}}(),originalPath:o};yield async()=>qge(s,i,t)}else if(n.path!=null){let s={path:n.path,mtime:n.mtime,mode:n.mode,originalPath:o};yield async()=>Oge(s,i,t)}else throw new Error("Import candidate must have content or path or both")}}}function z$e(t){return t.content!=null}b();var NL=Rt(Fa(),1);b();b();function qb(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}b();b();var IL={};Tt(IL,{base10:()=>$$e});b();b();b();function Y$e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=n}var f=t.length,d=t.charAt(0),p=Math.log(f)/Math.log(256),u=Math.log(256)/Math.log(f);function y(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var x=0,_=0,Q=0,R=C.length;Q!==R&&C[Q]===0;)Q++,x++;for(var k=(R-Q)*u+1>>>0,K=new Uint8Array(k);Q!==R;){for(var T=C[Q],L=0,H=k-1;(T!==0||L<_)&&H!==-1;H--,L++)T+=256*K[H]>>>0,K[H]=T%f>>>0,T=T/f>>>0;if(T!==0)throw new Error("Non-zero carry");_=L,Q++}for(var O=k-_;O!==k&&K[O]===0;)O++;for(var G=d.repeat(x);O<k;++O)G+=t.charAt(K[O]);return G}function B(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var x=0;if(C[x]!==" "){for(var _=0,Q=0;C[x]===d;)_++,x++;for(var R=(C.length-x)*p+1>>>0,k=new Uint8Array(R);C[x];){var K=r[C.charCodeAt(x)];if(K===255)return;for(var T=0,L=R-1;(K!==0||T<Q)&&L!==-1;L--,T++)K+=f*k[L]>>>0,k[L]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");Q=T,x++}if(C[x]!==" "){for(var H=R-Q;H!==R&&k[H]===0;)H++;for(var O=new Uint8Array(_+(R-H)),G=_;H!==R;)O[G++]=k[H++];return O}}}function S(C){var x=B(C);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:B,decode:S}}var J$e=Y$e,V$e=J$e,Hge=V$e;b();var pPt=new Uint8Array(0);var Gge=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},_0=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var jge=t=>new TextEncoder().encode(t),zge=t=>new TextDecoder().decode(t);b();var AL=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},gL=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Jge(this,e)}},yL=class{constructor(e){this.decoders=e}or(e){return Jge(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Jge=(t,e)=>new yL({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),mL=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new AL(e,r,i),this.decoder=new gL(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Lb=({name:t,prefix:e,encode:r,decode:i})=>new mL(t,e,r,i),KA=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=Hge(r,e);return Lb({prefix:t,name:e,encode:i,decode:o=>_0(n(o))})},W$e=(t,e,r,i)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),f=0,d=0,p=0;for(let u=0;u<o;++u){let y=n[t[u]];if(y===void 0)throw new SyntaxError(`Non-${i} character`);d=d<<r|y,f+=r,f>=8&&(f-=8,s[p++]=255&d>>f)}if(f>=r||255&d<<8-f)throw new SyntaxError("Unexpected end of data");return s},Z$e=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,o="",s=0,f=0;for(let d=0;d<t.length;++d)for(f=f<<8|t[d],s+=8;s>r;)s-=r,o+=e[n&f>>s];if(s&&(o+=e[n&f<<r-s]),i)for(;o.length*r&7;)o+="=";return o},Mn=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>Lb({prefix:e,name:t,encode(n){return Z$e(n,i,r)},decode(n){return W$e(n,i,r,t)}});var $$e=KA({prefix:"9",name:"base10",alphabet:"0123456789"});var wL={};Tt(wL,{base16:()=>X$e,base16upper:()=>eXe});b();var X$e=Mn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),eXe=Mn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var vL={};Tt(vL,{base2:()=>tXe});b();var tXe=Mn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var bL={};Tt(bL,{base256emoji:()=>sXe});b();var Vge=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),rXe=Vge.reduce((t,e,r)=>(t[r]=e,t),[]),iXe=Vge.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function nXe(t){return t.reduce((e,r)=>(e+=rXe[r],e),"")}function oXe(t){let e=[];for(let r of t){let i=iXe[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}var sXe=Lb({prefix:"\u{1F680}",name:"base256emoji",encode:nXe,decode:oXe});var EL={};Tt(EL,{base32:()=>Hb,base32hex:()=>dXe,base32hexpad:()=>hXe,base32hexpadupper:()=>lXe,base32hexupper:()=>uXe,base32pad:()=>cXe,base32padupper:()=>fXe,base32upper:()=>aXe,base32z:()=>pXe});b();var Hb=Mn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),aXe=Mn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),cXe=Mn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),fXe=Mn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),dXe=Mn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),uXe=Mn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),hXe=Mn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),lXe=Mn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),pXe=Mn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var BL={};Tt(BL,{base36:()=>AXe,base36upper:()=>gXe});b();var AXe=KA({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),gXe=KA({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var CL={};Tt(CL,{base58btc:()=>Eh,base58flickr:()=>yXe});b();var Eh=KA({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),yXe=KA({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var xL={};Tt(xL,{base64:()=>mXe,base64pad:()=>IXe,base64url:()=>wXe,base64urlpad:()=>vXe});b();var mXe=Mn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),IXe=Mn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),wXe=Mn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),vXe=Mn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var SL={};Tt(SL,{base8:()=>bXe});b();var bXe=Mn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var _L={};Tt(_L,{identity:()=>EXe});b();var EXe=Lb({prefix:"\0",name:"identity",encode:t=>zge(t),decode:t=>jge(t)});b();var HPt=new TextEncoder,GPt=new TextDecoder;b();var DL={};Tt(DL,{identity:()=>zXe});b();b();b();b();var xXe=$ge,Wge=128,SXe=127,_Xe=~SXe,QXe=Math.pow(2,31);function $ge(t,e,r){e=e||[],r=r||0;for(var i=r;t>=QXe;)e[r++]=t&255|Wge,t/=128;for(;t&_Xe;)e[r++]=t&255|Wge,t>>>=7;return e[r]=t|0,$ge.bytes=r-i+1,e}var DXe=QL,MXe=128,Zge=127;function QL(t,i){var r=0,i=i||0,n=0,o=i,s,f=t.length;do{if(o>=f)throw QL.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&Zge)<<n:(s&Zge)*Math.pow(2,n),n+=7}while(s>=MXe);return QL.bytes=o-i,r}var kXe=Math.pow(2,7),TXe=Math.pow(2,14),RXe=Math.pow(2,21),UXe=Math.pow(2,28),FXe=Math.pow(2,35),NXe=Math.pow(2,42),PXe=Math.pow(2,49),OXe=Math.pow(2,56),KXe=Math.pow(2,63),qXe=function(t){return t<kXe?1:t<TXe?2:t<RXe?3:t<UXe?4:t<FXe?5:t<NXe?6:t<PXe?7:t<OXe?8:t<KXe?9:10},LXe={encode:xXe,decode:DXe,encodingLength:qXe},HXe=LXe,Ix=HXe;var wx=(t,e=0)=>[Ix.decode(t,e),Ix.decode.bytes],Gb=(t,e,r=0)=>(Ix.encode(t,e,r),e),jb=t=>Ix.encodingLength(t);var Xm=(t,e)=>{let r=e.byteLength,i=jb(t),n=i+jb(r),o=new Uint8Array(n+r);return Gb(t,o,0),Gb(r,o,i),o.set(e,n),new zb(t,r,e,o)},Xge=t=>{let e=_0(t),[r,i]=wx(e),[n,o]=wx(e.subarray(i)),s=e.subarray(i+o);if(s.byteLength!==n)throw new Error("Incorrect length");return new zb(r,n,s,e)},eye=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&Gge(t.bytes,r.bytes)}},zb=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};var tye=0,GXe="identity",rye=_0,jXe=t=>Xm(tye,rye(t)),zXe={code:tye,name:GXe,encode:rye,digest:jXe};var TL={};Tt(TL,{sha256:()=>YXe,sha512:()=>JXe});b();b();var kL=({name:t,code:e,encode:r})=>new ML(t,e,r),ML=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Xm(this.code,r):r.then(i=>Xm(this.code,i))}else throw Error("Unknown type, must be binary type")}};var nye=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),YXe=kL({name:"sha2-256",code:18,encode:nye("SHA-256")}),JXe=kL({name:"sha2-512",code:19,encode:nye("SHA-512")});b();b();b();var oye=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return WXe(r,RL(t),e||Eh.encoder);default:return ZXe(r,RL(t),e||Hb.encoder)}};var sye=new WeakMap,RL=t=>{let e=sye.get(t);if(e==null){let r=new Map;return sye.set(t,r),r}return e},V5=class t{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==bx)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==$Xe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=Xm(e,r);return t.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&eye(e.multihash,i.multihash)}toString(e){return oye(this,e)}toJSON(){return{"/":oye(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof t)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:o,bytes:s}=r;return new t(i,n,o,s||aye(i,n,o.bytes))}else if(r[XXe]===!0){let{version:i,multihash:n,code:o}=r,s=Xge(n);return t.create(i,o,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==bx)throw new Error(`Version 0 CID must use dag-pb (code: ${bx}) block encoding`);return new t(e,r,i,i.bytes)}case 1:{let n=aye(e,r,i.bytes);return new t(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,bx,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,i]=t.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),i=r.size-r.multihashSize,n=_0(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=n.subarray(r.multihashSize-r.digestSize),s=new zb(r.multihashCode,r.digestSize,o,n);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[y,B]=wx(e.subarray(r));return r+=B,y},n=i(),o=bx;if(n===18?(n=0,r=0):o=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=r,f=i(),d=i(),p=r+d,u=p-s;return{version:n,codec:o,multihashCode:f,digestSize:d,multihashSize:u,size:p}}static parse(e,r){let[i,n]=VXe(e,r),o=t.decode(n);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return RL(o).set(i,e),o}},VXe=(t,e)=>{switch(t[0]){case"Q":{let r=e||Eh;return[Eh.prefix,r.decode(`${Eh.prefix}${t}`)]}case Eh.prefix:{let r=e||Eh;return[Eh.prefix,r.decode(t)]}case Hb.prefix:{let r=e||Hb;return[Hb.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},WXe=(t,e,r)=>{let{prefix:i}=r;if(i!==Eh.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let o=r.encode(t).slice(1);return e.set(i,o),o}else return n},ZXe=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let o=r.encode(t);return e.set(i,o),o}else return n},bx=112,$Xe=18,aye=(t,e,r)=>{let i=jb(t),n=i+jb(e),o=new Uint8Array(n+r.byteLength);return Gb(t,o,0),Gb(e,o,i),o.set(r,n),o},XXe=Symbol.for("@ipld/js-cid/CID");b();var UL={..._L,...vL,...SL,...IL,...wL,...EL,...BL,...CL,...xL,...bL},IOt={...TL,...DL};b();function W5(t=0){return globalThis.Buffer?.allocUnsafe!=null?qb(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function fye(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}var cye=fye("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),FL=fye("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=W5(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),eet={utf8:cye,"utf-8":cye,hex:UL.base16,latin1:FL,ascii:FL,binary:FL,...UL},dye=eet;function Z5(t,e="utf8"){let r=dye[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?qb(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var uye=()=>async function*(e){for await(let r of e){if(r.length===void 0)throw(0,NL.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof r=="string"||r instanceof String)yield Z5(r.toString());else if(Array.isArray(r))yield Uint8Array.from(r);else if(r instanceof Uint8Array)yield r;else throw(0,NL.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}};b();b();var tet=174;function PL(t){let e=t?.maxChildrenPerNode??tet;return async function r(i,n){let o=[];for await(let s of ex(i,e))o.push(await n(s));return o.length>1?r(o,n):o[0]}}b();b();b();b();b();b();var Bh=class{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(e,r){this.options=r??{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime}},Ex=Gr.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),Bx=Gr.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");var eI=class extends Bh{_children;constructor(e,r){super(e,r),this._children=new Map}async put(e,r){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,this._children.set(e,r)}async get(e){return Promise.resolve(this._children.get(e))}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}async*eachChildSeries(){for(let[e,r]of this._children.entries())yield{key:e,child:r}}estimateNodeSize(){if(this.nodeSize!==void 0)return this.nodeSize;this.nodeSize=0;for(let[e,r]of this._children.entries())r.size!=null&&r.cid!=null&&(this.nodeSize+=e.length+(this.options.cidVersion===1?Bx.bytes.byteLength:Ex.bytes.byteLength));return this.nodeSize}async*flush(e){let r=[];for(let[d,p]of this._children.entries()){let u=p;if(p instanceof Bh)for await(let y of p.flush(e))u=y,yield y;u.size!=null&&u.cid!=null&&r.push({Name:d,Tsize:Number(u.size),Hash:u.cid})}let i=new _o({type:"directory",mtime:this.mtime,mode:this.mode}),n={Data:i.marshal(),Links:r},o=Bc(Ec(n)),s=await zd(o,e,this.options),f=o.length+n.Links.reduce((d,p)=>d+(p.Tsize==null?0:p.Tsize),0);this.cid=s,this.size=f,yield{cid:s,unixfs:i,path:this.path,size:BigInt(f)}}};b();b();b();b();var Cx={};Tt(Cx,{coerce:()=>tI,empty:()=>hye,equals:()=>OL,fromHex:()=>iet,fromString:()=>oet,isBinary:()=>net,toHex:()=>ret,toString:()=>set});b();var hye=new Uint8Array(0);function ret(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}function iet(t){let e=t.match(/../g);return e!=null?new Uint8Array(e.map(r=>parseInt(r,16))):hye}function OL(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function tI(t){if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")}function net(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}function oet(t){return new TextEncoder().encode(t)}function set(t){return new TextDecoder().decode(t)}b();b();b();b();function aet(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=n}var f=t.length,d=t.charAt(0),p=Math.log(f)/Math.log(256),u=Math.log(256)/Math.log(f);function y(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var x=0,_=0,Q=0,R=C.length;Q!==R&&C[Q]===0;)Q++,x++;for(var k=(R-Q)*u+1>>>0,K=new Uint8Array(k);Q!==R;){for(var T=C[Q],L=0,H=k-1;(T!==0||L<_)&&H!==-1;H--,L++)T+=256*K[H]>>>0,K[H]=T%f>>>0,T=T/f>>>0;if(T!==0)throw new Error("Non-zero carry");_=L,Q++}for(var O=k-_;O!==k&&K[O]===0;)O++;for(var G=d.repeat(x);O<k;++O)G+=t.charAt(K[O]);return G}function B(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var x=0;if(C[x]!==" "){for(var _=0,Q=0;C[x]===d;)_++,x++;for(var R=(C.length-x)*p+1>>>0,k=new Uint8Array(R);C[x];){var K=r[C.charCodeAt(x)];if(K===255)return;for(var T=0,L=R-1;(K!==0||T<Q)&&L!==-1;L--,T++)K+=f*k[L]>>>0,k[L]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");Q=T,x++}if(C[x]!==" "){for(var H=R-Q;H!==R&&k[H]===0;)H++;for(var O=new Uint8Array(_+(R-H)),G=_;H!==R;)O[G++]=k[H++];return O}}}function S(C){var x=B(C);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:B,decode:S}}var cet=aet,fet=cet,lye=fet;var KL=class{name;prefix;baseEncode;constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},qL=class{name;prefix;baseDecode;prefixCodePoint;constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return pye(this,e)}},LL=class{decoders;constructor(e){this.decoders=e}or(e){return pye(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i!=null)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function pye(t,e){return new LL({...t.decoders??{[t.prefix]:t},...e.decoders??{[e.prefix]:e}})}var HL=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new KL(e,r,i),this.decoder=new qL(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};function Aye({name:t,prefix:e,encode:r,decode:i}){return new HL(t,e,r,i)}function GL({name:t,prefix:e,alphabet:r}){let{encode:i,decode:n}=lye(r,t);return Aye({prefix:e,name:t,encode:i,decode:o=>tI(n(o))})}function det(t,e,r,i){let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),f=0,d=0,p=0;for(let u=0;u<o;++u){let y=n[t[u]];if(y===void 0)throw new SyntaxError(`Non-${i} character`);d=d<<r|y,f+=r,f>=8&&(f-=8,s[p++]=255&d>>f)}if(f>=r||255&d<<8-f)throw new SyntaxError("Unexpected end of data");return s}function uet(t,e,r){let i=e[e.length-1]==="=",n=(1<<r)-1,o="",s=0,f=0;for(let d=0;d<t.length;++d)for(f=f<<8|t[d],s+=8;s>r;)s-=r,o+=e[n&f>>s];if(s!==0&&(o+=e[n&f<<r-s]),i)for(;o.length*r&7;)o+="=";return o}function Ch({name:t,prefix:e,bitsPerChar:r,alphabet:i}){return Aye({prefix:e,name:t,encode(n){return uet(n,i,r)},decode(n){return det(n,i,r,t)}})}var xx=Ch({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),mKt=Ch({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),IKt=Ch({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wKt=Ch({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vKt=Ch({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),bKt=Ch({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),EKt=Ch({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),BKt=Ch({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),CKt=Ch({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});b();var Q0=GL({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),QKt=GL({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});b();b();b();var het=mye,gye=128,pet=127,Aet=~pet,get=Math.pow(2,31);function mye(t,e,r){e=e||[],r=r||0;for(var i=r;t>=get;)e[r++]=t&255|gye,t/=128;for(;t&Aet;)e[r++]=t&255|gye,t>>>=7;return e[r]=t|0,mye.bytes=r-i+1,e}var yet=jL,met=128,yye=127;function jL(t,i){var r=0,i=i||0,n=0,o=i,s,f=t.length;do{if(o>=f)throw jL.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&yye)<<n:(s&yye)*Math.pow(2,n),n+=7}while(s>=met);return jL.bytes=o-i,r}var Iet=Math.pow(2,7),wet=Math.pow(2,14),vet=Math.pow(2,21),bet=Math.pow(2,28),Eet=Math.pow(2,35),Bet=Math.pow(2,42),Cet=Math.pow(2,49),xet=Math.pow(2,56),_et=Math.pow(2,63),Qet=function(t){return t<Iet?1:t<wet?2:t<vet?3:t<bet?4:t<Eet?5:t<Bet?6:t<Cet?7:t<xet?8:t<_et?9:10},Det={encode:het,decode:yet,encodingLength:Qet},Met=Det,Sx=Met;function _x(t,e=0){return[Sx.decode(t,e),Sx.decode.bytes]}function Yb(t,e,r=0){return Sx.encode(t,e,r),e}function Jb(t){return Sx.encodingLength(t)}function Qx(t,e){let r=e.byteLength,i=Jb(t),n=i+Jb(r),o=new Uint8Array(n+r);return Yb(t,o,0),Yb(r,o,i),o.set(e,n),new Vb(t,r,e,o)}function Iye(t){let e=tI(t),[r,i]=_x(e),[n,o]=_x(e.subarray(i)),s=e.subarray(i+o);if(s.byteLength!==n)throw new Error("Incorrect length");return new Vb(r,n,s,e)}function wye(t,e){if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&OL(t.bytes,r.bytes)}}var Vb=class{code;size;digest;bytes;constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};b();function vye(t,e){let{bytes:r,version:i}=t;switch(i){case 0:return Tet(r,JL(t),e??Q0.encoder);default:return Ret(r,JL(t),e??xx.encoder)}}var bye=new WeakMap;function JL(t){let e=bye.get(t);if(e==null){let r=new Map;return bye.set(t,r),r}return e}var VL=class t{code;version;multihash;bytes;"/";constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==Dx)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Uet)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=Qx(e,r);return t.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t.equals(this,e)}static equals(e,r){let i=r;return i!=null&&e.code===i.code&&e.version===i.version&&wye(e.multihash,i.multihash)}toString(e){return vye(this,e)}toJSON(){return{"/":vye(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof t)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:o,bytes:s}=r;return new t(i,n,o,s??Eye(i,n,o.bytes))}else if(r[Fet]===!0){let{version:i,multihash:n,code:o}=r,s=Iye(n);return t.create(i,o,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Dx)throw new Error(`Version 0 CID must use dag-pb (code: ${Dx}) block encoding`);return new t(e,r,i,i.bytes)}case 1:{let n=Eye(e,r,i.bytes);return new t(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,Dx,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,i]=t.decodeFirst(e);if(i.length!==0)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),i=r.size-r.multihashSize,n=tI(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=n.subarray(r.multihashSize-r.digestSize),s=new Vb(r.multihashCode,r.digestSize,o,n);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[y,B]=_x(e.subarray(r));return r+=B,y},n=i(),o=Dx;if(n===18?(n=0,r=0):o=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=r,f=i(),d=i(),p=r+d,u=p-s;return{version:n,codec:o,multihashCode:f,digestSize:d,multihashSize:u,size:p}}static parse(e,r){let[i,n]=ket(e,r),o=t.decode(n);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return JL(o).set(i,e),o}};function ket(t,e){switch(t[0]){case"Q":{let r=e??Q0;return[Q0.prefix,r.decode(`${Q0.prefix}${t}`)]}case Q0.prefix:{let r=e??Q0;return[Q0.prefix,r.decode(t)]}case xx.prefix:{let r=e??xx;return[xx.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}}function Tet(t,e,r){let{prefix:i}=r;if(i!==Q0.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let o=r.encode(t).slice(1);return e.set(i,o),o}else return n}function Ret(t,e,r){let{prefix:i}=r,n=e.get(i);if(n==null){let o=r.encode(t);return e.set(i,o),o}else return n}var Dx=112,Uet=18;function Eye(t,e,r){let i=Jb(t),n=i+Jb(e),o=new Uint8Array(n+r.byteLength);return Yb(t,o,0),Yb(e,o,i),o.set(r,n),o}var Fet=Symbol.for("@ipld/js-cid/CID");b();function $5({name:t,code:e,encode:r}){return new WL(t,e,r)}var WL=class{name;code;encode;constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Qx(this.code,r):r.then(i=>Qx(this.code,i))}else throw Error("Unknown type, must be binary type")}};b();b();b();b();b();var eD=Rt(xye(),1);function Pet(t){let e=new Array(4);for(let r=0;r<4;r++)e[r]=t&255,t=t>>8;return new Uint8Array(e)}var uqt=$5({name:"murmur3-32",code:35,encode:t=>Pet(eD.default.x86.hash32(t))}),tD=$5({name:"murmur3-128",code:34,encode:t=>Cx.fromHex(eD.default.x64.hash128(t))}),hqt=$5({name:"murmur3-x64-64",code:34,encode:t=>Cx.fromHex(eD.default.x64.hash128(t)).subarray(0,8)});b();b();var Dye=Rt(Qye(),1);var xh=class t{constructor(e,r,i=0){this._options=e,this._popCount=0,this._parent=r,this._posAtParent=i,this._children=new Dye.default,this.key=null}async put(e,r){let i=await this._findNewBucketAndPos(e);await i.bucket._putAt(i,e,r)}async get(e){let r=await this._findChild(e);if(r!=null)return r.value}async del(e){let r=await this._findPlace(e),i=r.bucket._at(r.pos);i!=null&&i.key===e&&r.bucket._delAt(r.pos)}leafCount(){return this._children.compactArray().reduce((r,i)=>i instanceof t?r+i.leafCount():r+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){let e=this._children.compactArray();for(let r of e)r instanceof t?yield*r.eachLeafSeries():yield r}serialize(e,r){let i=[];return r(this._children.reduce((n,o,s)=>(o!=null&&(o instanceof t?n.push(o.serialize(e,r)):n.push(e(o,s))),n),i))}async asyncTransform(e,r){return await Mye(this,e,r)}toJSON(){return this.serialize(Het,Get)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){let r=await this._findPlace(e),i=r.bucket._at(r.pos);if(!(i instanceof t)&&i!=null&&i.key===e)return i}async _findPlace(e){let r=this._options.hash(typeof e=="string"?Z5(e):e),i=await r.take(this._options.bits),n=this._children.get(i);return n instanceof t?await n._findPlace(r):{bucket:this,pos:i,hash:r,existingChild:n}}async _findNewBucketAndPos(e){let r=await this._findPlace(e);if(r.existingChild!=null&&r.existingChild.key!==e){let i=new t(this._options,r.bucket,r.pos);r.bucket._putObjectAt(r.pos,i);let n=await i._findPlace(r.existingChild.hash);return n.bucket._putAt(n,r.existingChild.key,r.existingChild.value),await i._findNewBucketAndPos(r.hash)}return r}_putAt(e,r,i){this._putObjectAt(e.pos,{key:r,value:i,hash:e.hash})}_putObjectAt(e,r){this._children.get(e)==null&&this._popCount++,this._children.set(e,r)}_delAt(e){if(e===-1)throw new Error("Invalid position");this._children.get(e)!=null&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent!=null&&this._popCount<=1)if(this._popCount===1){let e=this._children.find(Let);if(e!=null&&!(e instanceof t)){let r=e.hash;r.untake(this._options.bits);let i={pos:this._posAtParent,hash:r,bucket:this._parent};this._parent._putAt(i,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}};function Let(t){return!!t}function Het(t,e){return t.key}function Get(t){return t}async function Mye(t,e,r){let i=[];for(let n of t._children.compactArray())if(n instanceof xh)await Mye(n,e,r);else{let o=await e(n);i.push({bitField:t._children.bitField(),children:o})}return await r(i)}b();b();var jet=[255,254,252,248,240,224,192,128],zet=[1,3,7,15,31,63,127,255],rD=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(e){let r=e,i=0;for(;r>0&&this._haveBits();){let n=this._value[this._currentBytePos],o=this._currentBitPos+1,s=Math.min(o,r),f=Yet(n,o-s,s);i=(i<<s)+f,r-=s,this._currentBitPos-=s,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function Yet(t,e,r){let i=Jet(e,r);return(t&i)>>>e}function Jet(t,e){return jet[t]&zet[Math.min(e+t-1,7)]}b();function kye(t,e){e==null&&(e=t.reduce((n,o)=>n+o.length,0));let r=W5(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return qb(r)}function Tye(t){function e(r){return r instanceof iD?r:new iD(r,t)}return e}var iD=class{constructor(e,r){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=r,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let r=e;for(;this._availableBits<r;)await this._produceMoreBits();let i=0;for(;r>0;){let n=this._buffers[this._currentBufferIndex],o=Math.min(n.availableBits(),r),s=n.take(o);i=(i<<o)+s,r-=o,this._availableBits-=o,n.availableBits()===0&&this._currentBufferIndex++}return i}untake(e){let r=e;for(;r>0;){let i=this._buffers[this._currentBufferIndex],n=Math.min(i.totalBits()-i.availableBits(),r);i.untake(n),r-=n,this._availableBits+=n,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;let e=this._depth>0?kye([this._value,Uint8Array.from([this._depth])]):this._value,r=await this._hashFn(e),i=new rD(r);this._buffers.push(i),this._availableBits+=i.availableBits()}};function nD(t){if(t==null||t.hashFn==null)throw new Error("please define an options.hashFn");let e={bits:t.bits??8,hash:Tye(t.hashFn)};return new xh(e)}async function Vet(t){return(await tD.encode(t)).slice(0,8).reverse()}var Rye=BigInt(34),ZL=class extends Bh{_bucket;constructor(e,r){super(e,r),this._bucket=nD({hashFn:Vet,bits:8})}async put(e,r){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,await this._bucket.put(e,r)}async get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(let{key:e,value:r}of this._bucket.eachLeafSeries())yield{key:e,child:r}}estimateNodeSize(){return this.nodeSize!==void 0?this.nodeSize:(this.nodeSize=Nye(this._bucket,this,this.options),this.nodeSize)}async*flush(e){for await(let r of Fye(this._bucket,e,this,this.options))yield{...r,path:this.path}}},Uye=ZL;async function*Fye(t,e,r,i){let n=t._children,o=[],s=0n;for(let S=0;S<n.length;S++){let C=n.get(S);if(C==null)continue;let x=S.toString(16).toUpperCase().padStart(2,"0");if(C instanceof xh){let _;for await(let Q of Fye(C,e,null,i))_=Q;if(_==null)throw new Error("Could not flush sharded directory, no subshard found");o.push({Name:x,Tsize:Number(_.size),Hash:_.cid}),s+=_.size}else if(Wet(C.value)){let _=C.value,Q;for await(let k of _.flush(e))Q=k,yield Q;if(Q==null)throw new Error("Did not flush dir");let R=x+C.key;o.push({Name:R,Tsize:Number(Q.size),Hash:Q.cid}),s+=Q.size}else{let _=C.value;if(_.cid==null)continue;let Q=x+C.key,R=_.size;o.push({Name:Q,Tsize:Number(R),Hash:_.cid}),s+=BigInt(R??0)}}let f=Uint8Array.from(n.bitField().reverse()),d=new _o({type:"hamt-sharded-directory",data:f,fanout:BigInt(t.tableSize()),hashType:Rye,mtime:r?.mtime,mode:r?.mode}),p={Data:d.marshal(),Links:o},u=Bc(Ec(p)),y=await zd(u,e,i),B=BigInt(u.byteLength)+s;yield{cid:y,unixfs:d,size:B}}function Wet(t){return typeof t.flush=="function"}function Nye(t,e,r){let i=t._children,n=[];for(let d=0;d<i.length;d++){let p=i.get(d);if(p==null)continue;let u=d.toString(16).toUpperCase().padStart(2,"0");if(p instanceof xh){let y=Nye(p,null,r);n.push({Name:u,Tsize:Number(y),Hash:r.cidVersion===0?Ex:Bx})}else if(typeof p.value.flush=="function"){let B=p.value.nodeSize();n.push({Name:u+p.key,Tsize:Number(B),Hash:r.cidVersion===0?Ex:Bx})}else{let y=p.value;if(y.cid==null)continue;let B=u+p.key,S=y.size;n.push({Name:B,Tsize:Number(S),Hash:y.cid})}}let o=Uint8Array.from(i.bitField().reverse()),s=new _o({type:"hamt-sharded-directory",data:o,fanout:BigInt(t.tableSize()),hashType:Rye,mtime:e?.mtime,mode:e?.mode});return Bc(Ec({Data:s.marshal(),Links:n})).length}async function $L(t,e,r,i){let n=e;e instanceof eI&&e.estimateNodeSize()>r&&(n=await Zet(e,i));let o=n.parent;if(o!=null){if(n!==e){if(t!=null&&(t.parent=n),n.parentKey==null)throw new Error("No parent key found");await o.put(n.parentKey,n)}return $L(n,o,r,i)}return n}async function Zet(t,e){let r=new Uye({root:t.root,dir:!0,parent:t.parent,parentKey:t.parentKey,path:t.path,dirty:t.dirty,flat:!1,mtime:t.mtime,mode:t.mode},e);for await(let{key:i,child:n}of t.eachChildSeries())await r.put(i,n);return r}b();var Pye=(t="")=>(t.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);async function $et(t,e,r){let i=Pye(t.path??""),n=i.length-1,o=e,s="";for(let f=0;f<i.length;f++){let d=i[f];s+=`${s!==""?"/":""}${d}`;let p=f===n;if(o.dirty=!0,o.cid=void 0,o.size=void 0,p)await o.put(d,t),e=await $L(null,o,r.shardSplitThresholdBytes,r);else{let u=await o.get(d);(u==null||!(u instanceof Bh))&&(u=new eI({root:!1,dir:!0,parent:o,parentKey:d,path:s,dirty:!0,flat:!0,mtime:u?.unixfs?.mtime,mode:u?.unixfs?.mode},r)),await o.put(d,u),o=u}}return e}async function*Oye(t,e){if(!(t instanceof Bh)){t.unixfs?.isDirectory()===!0&&(yield t);return}yield*t.flush(e)}function Kye(t){return async function*(r,i){let n=new eI({root:!0,dir:!0,path:"",dirty:!0,flat:!0},t),o,s=!1;for await(let f of r){if(f==null)continue;let d=`${f.originalPath??""}`.split("/")[0];d!=null&&d!==""&&(o==null?(o=d,s=!0):o!==d&&(s=!1)),n=await $et(f,n,t),(f.unixfs==null||!f.unixfs.isDirectory())&&(yield f)}if(t.wrapWithDirectory||s&&n.childCount()>1)yield*Oye(n,i);else for await(let f of n.eachChildSeries())f!=null&&(yield*Oye(f.child,i))}}async function*kx(t,e,r={}){let i;Symbol.asyncIterator in t||Symbol.iterator in t?i=t:i=[t];let n=r.wrapWithDirectory??!1,o=r.shardSplitThresholdBytes??262144,s=r.cidVersion??1,f=r.rawLeaves??!0,d=r.leafType??"file",p=r.fileImportConcurrency??50,u=r.blockWriteConcurrency??10,y=r.reduceSingleLeafToSelf??!0,B=r.chunker??kAe(),S=r.chunkValidator??uye(),C=r.dagBuilder??Lge({chunker:B,chunkValidator:S,wrapWithDirectory:n,layout:r.layout??PL(),bufferImporter:r.bufferImporter??Pge({cidVersion:s,rawLeaves:f,leafType:d,onProgress:r.onProgress}),blockWriteConcurrency:u,reduceSingleLeafToSelf:y,cidVersion:s,onProgress:r.onProgress}),x=r.treeBuilder??Kye({wrapWithDirectory:n,shardSplitThresholdBytes:o,cidVersion:s,onProgress:r.onProgress});for await(let _ of x(tx(C(i,e),p),e))yield{cid:_.cid,path:_.path,unixfs:_.unixfs,size:_.size}}b();var oD={};Tt(oD,{abortedError:()=>stt,closeFailedError:()=>ttt,deleteFailedError:()=>ntt,getFailedError:()=>itt,hasFailedError:()=>ott,notFoundError:()=>XL,openFailedError:()=>ett,putFailedError:()=>rtt});b();var D0=Rt(Fa(),1);function ett(t){return t=t??new Error("Open failed"),(0,D0.default)(t,"ERR_OPEN_FAILED")}function ttt(t){return t=t??new Error("Close failed"),(0,D0.default)(t,"ERR_CLOSE_FAILED")}function rtt(t){return t=t??new Error("Put failed"),(0,D0.default)(t,"ERR_PUT_FAILED")}function itt(t){return t=t??new Error("Get failed"),(0,D0.default)(t,"ERR_GET_FAILED")}function ntt(t){return t=t??new Error("Delete failed"),(0,D0.default)(t,"ERR_DELETE_FAILED")}function ott(t){return t=t??new Error("Has failed"),(0,D0.default)(t,"ERR_HAS_FAILED")}function XL(t){return t=t??new Error("Not Found"),(0,D0.default)(t,"ERR_NOT_FOUND")}function stt(t){return t=t??new Error("Aborted"),(0,D0.default)(t,"ERR_ABORTED")}b();var Tx=class{has(e,r){return Promise.reject(new Error(".has is not implemented"))}put(e,r,i){return Promise.reject(new Error(".put is not implemented"))}async*putMany(e,r){for await(let{cid:i,block:n}of e)await this.put(i,n,r),yield i}get(e,r){return Promise.reject(new Error(".get is not implemented"))}async*getMany(e,r){for await(let i of e)yield{cid:i,block:await this.get(i,r)}}async delete(e,r){await Promise.reject(new Error(".delete is not implemented"))}async*deleteMany(e,r){for await(let i of e)await this.delete(i,r),yield i}async*getAll(e){throw new Error(".getAll is not implemented")}};b();var Wb=class extends Tx{data;constructor(){super(),this.data=new Map}put(e,r){return this.data.set(rd.encode(e.multihash.bytes),r),e}get(e){let r=this.data.get(rd.encode(e.multihash.bytes));if(r==null)throw XL();return r}has(e){return this.data.has(rd.encode(e.multihash.bytes))}async delete(e){this.data.delete(rd.encode(e.multihash.bytes))}async*getAll(){for(let[e,r]of this.data.entries())yield{cid:Gr.createV1(bh,ow(rd.decode(e))),block:r}}};var wLt={...oD};var eH=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},qye=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(o){r[o]=t[o]&&function(s){return new Promise(function(f,d){s=t[o](s),n(f,d,s.done,s.value)})}}function n(o,s,f,d){Promise.resolve(d).then(function(p){o({value:p,done:f})},s)}},Lye={[ta.code]:ta},Hye={[zm]:b0},Yi=class{static computeCid(e,r=zm,i=ta.code){return eH(this,void 0,void 0,function*(){let n=Hye[r];if(!n)throw new Te(Ee.ComputeCidCodecNotSupported,`codec [${r}] not supported`);let o=Lye[i];if(!o)throw new Te(Ee.ComputeCidMultihashNotSupported,`multihash code [${i}] not supported`);let s=n.encode(e),f=yield o.digest(s);return(yield Gr.createV1(n.code,f)).toString()})}static parseCid(e){let r=Gr.parse(e).toV1();if(!Hye[r.code])throw new Te(Ee.ParseCidCodecNotSupported,`codec [${r.code}] not supported`);if(!Lye[r.multihash.code])throw new Te(Ee.ParseCidMultihashNotSupported,`multihash code [${r.multihash.code}] not supported`);return r}static computeDagPbCidFromBytes(e){var r,i,n,o;return eH(this,void 0,void 0,function*(){let s=kx([{content:e}],new Wb,{cidVersion:1}),f;try{for(var d=!0,p=qye(s),u;u=yield p.next(),r=u.done,!r;d=!0)o=u.value,d=!1,f=o}catch(y){i={error:y}}finally{try{!d&&!r&&(n=p.return)&&(yield n.call(p))}finally{if(i)throw i.error}}return f?f.cid.toString():""})}static computeDagPbCidFromStream(e){var r,i,n,o;return eH(this,void 0,void 0,function*(){let s=kx([{content:e}],new Wb,{cidVersion:1}),f;try{for(var d=!0,p=qye(s),u;u=yield p.next(),r=u.done,!r;d=!0)o=u.value,d=!1,f=o}catch(y){i={error:y}}finally{try{!d&&!r&&(n=p.return)&&(yield n.call(p))}finally{if(i)throw i.error}}return f?f.cid.toString():""})}};b();var Gye=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},rI=class t{constructor(e){this.jws=e}static create(e,r=[]){return Gye(this,void 0,void 0,function*(){let i={payload:Kt.bytesToBase64Url(e),signatures:[]},n=new t(i);for(let o of r)yield n.addSignature(o);return n})}addSignature(e){return Gye(this,void 0,void 0,function*(){let r={kid:e.keyId,alg:e.algorithm},i=JSON.stringify(r),n=Kt.stringToBase64Url(i),o=`${n}.${this.jws.payload}`,s=Kt.stringToBytes(o),f=yield e.sign(s),d=Kt.bytesToBase64Url(f);this.jws.signatures.push({protected:n,signature:d})})}getJws(){return this.jws}};b();function Rx(t,e){return t>e?1:t<e?-1:0}b();function tH(t){if(typeof t!="object")return!1;for(let e in t)return!1;return!0}function Di(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&Di(t[e])})}var Sh=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Ye=class t{static validateJsonSchema(e){let r=e.descriptor.interface,i=e.descriptor.method,n=r+i;LC(n,e)}static getSigner(e){return e.authorization===void 0?void 0:ji.getSignerDid(e.authorization.signature.signatures[0])}static getCid(e){return Sh(this,void 0,void 0,function*(){let r=Object.assign({},e);return r.encodedData&&delete r.encodedData,yield Yi.computeCid(r)})}static compareCid(e,r){return Sh(this,void 0,void 0,function*(){let i=yield t.getCid(e),n=yield t.getCid(r);return Rx(i,n)})}static createAuthorization(e){return Sh(this,void 0,void 0,function*(){let{descriptor:r,signer:i,delegatedGrant:n,permissionsGrantId:o,protocolRole:s}=e,f;n!==void 0&&(f=yield t.getCid(n));let p={signature:yield t.createSignature(r,i,{delegatedGrantId:f,permissionsGrantId:o,protocolRole:s})};return n!==void 0&&(p.authorDelegatedGrant=n),p})}static createSignature(e,r,i){return Sh(this,void 0,void 0,function*(){let n=yield Yi.computeCid(e),o=Object.assign({descriptorCid:n},i);Di(o);let s=Kt.objectToBytes(o);return(yield rI.create(s,[r])).getJws()})}static getNewestMessage(e){return Sh(this,void 0,void 0,function*(){let r;for(let i of e)(r===void 0||(yield t.isNewer(i,r)))&&(r=i);return r})}static getOldestMessage(e){return Sh(this,void 0,void 0,function*(){let r;for(let i of e)(r===void 0||(yield t.isOlder(i,r)))&&(r=i);return r})}static isNewer(e,r){return Sh(this,void 0,void 0,function*(){return(yield t.compareMessageTimestamp(e,r))>0})}static isOlder(e,r){return Sh(this,void 0,void 0,function*(){return(yield t.compareMessageTimestamp(e,r))<0})}static isSignedByDelegate(e){var r;return((r=e.authorization)===null||r===void 0?void 0:r.authorDelegatedGrant)!==void 0}static compareMessageTimestamp(e,r){return Sh(this,void 0,void 0,function*(){return e.descriptor.messageTimestamp>r.descriptor.messageTimestamp?1:e.descriptor.messageTimestamp<r.descriptor.messageTimestamp?-1:t.compareCid(e,r)})}static validateSignatureStructure(e,r,i="GenericSignaturePayload"){return Sh(this,void 0,void 0,function*(){if(e.signatures.length!==1)throw new Te(Ee.AuthenticationMoreThanOneSignatureNotSupported,"expected no more than 1 signature for authorization purpose");let n=ji.decodePlainObjectPayload(e);LC(i,n);let{descriptorCid:o}=n,s=yield Yi.computeCid(r);if(o!==s)throw new Te(Ee.AuthenticateDescriptorCidMismatch,`provided descriptorCid ${o} does not match expected CID ${s}`);return n})}};var cn=class{get message(){return this._message}get signer(){return this._signer}get author(){return this._author}get signaturePayload(){return this._signaturePayload}constructor(e){this._message=e,e.authorization!==void 0&&(this._signer=Ye.getSigner(e),e.authorization.authorDelegatedGrant!==void 0?this._author=Ye.getSigner(e.authorization.authorDelegatedGrant):this._author=this._signer,this._signaturePayload=ji.decodePlainObjectPayload(e.authorization.signature))}toJSON(){return this.message}};b();b();var J=Rt(jye(),1),dH={};function Fh(t,e){Object.defineProperty(t.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});for(let r of Object.getOwnPropertyNames(t)){let i=Object.getOwnPropertyDescriptor(t,r);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(t,r,i))}for(let r of Object.getOwnPropertyNames(t.prototype)){let i=Object.getOwnPropertyDescriptor(t.prototype,r);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(t.prototype,r,i))}ki(e,t),ki(`${e}.prototype`,t.prototype)}function ki(t,e){let r=`%${t}%`;if(dH[r]!==void 0)throw new Error(`intrinsic ${t} already exists`);dH[r]=e}function Je(t){return dH[t]}var zye,Yye,wt="slot-epochNanoSeconds",Qh="slot-timezone-identifier",Xe="slot-year",rt="slot-month",nt="slot-day",qt="slot-hour",Lt="slot-minute",Ht="slot-second",Gt="slot-millisecond",jt="slot-microsecond",zt="slot-nanosecond",Ae="slot-calendar",_me="slot-date-brand",Qme="slot-year-month-brand",Dme="slot-month-day-brand",Mo="slot-cached-instant",zr="slot-time-zone",Xo="slot-years",Zn="slot-months",Ds="slot-weeks",es="slot-days",ts="slot-hours",rs="slot-minutes",is="slot-seconds",ns="slot-milliseconds",os="slot-microseconds",ss="slot-nanoseconds",Mi="slot-calendar-identifier",Mme=new WeakMap,uH=Symbol.for("@@Temporal__GetSlots");(zye=globalThis)[uH]||(zye[uH]=function(e){return Mme.get(e)});var KH=globalThis[uH],hH=Symbol.for("@@Temporal__CreateSlots");(Yye=globalThis)[hH]||(Yye[hH]=function(e){Mme.set(e,Object.create(null))});var Nh=globalThis[hH];function Hn(t,...e){if(!t||typeof t!="object")return!1;let r=KH(t);return!!r&&e.every(i=>i in r)}function q(t,e){let r=KH(t)?.[e];if(r===void 0)throw new TypeError(`Missing internal slot ${e}`);return r}function Jt(t,e,r){let i=KH(t);if(i===void 0)throw new TypeError("Missing slots for the given container");if(i[e])throw new TypeError(`${e} already has set`);i[e]=r}var Jye=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,$x=new RegExp("(?:"+[`(?:${Jye.source})(?:\\/(?:${Jye.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),kme=/(?:[+\u2212-]\d{6}|\d{4})/,uD=/(?:0[1-9]|1[0-2])/,lH=/(?:0[1-9]|[12]\d|3[01])/,att=new RegExp(`(${kme.source})(?:-(${uD.source})-(${lH.source})|(${uD.source})(${lH.source}))`),Tme=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,Rme=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,Ume=new RegExp(`([zZ])|${Rme.source}?`),WA=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,ctt=new RegExp([`^${att.source}`,`(?:(?:T|\\s+)${Tme.source}(?:${Ume.source})?)?`,`(?:\\[!?(${$x.source})\\])?`,`((?:${WA.source})*)$`].join(""),"i"),ftt=new RegExp([`^T?${Tme.source}`,`(?:${Ume.source})?`,`(?:\\[!?${$x.source}\\])?`,`((?:${WA.source})*)$`].join(""),"i"),dtt=new RegExp(`^(${kme.source})-?(${uD.source})(?:\\[!?${$x.source}\\])?((?:${WA.source})*)$`),utt=new RegExp(`^(?:--)?(${uD.source})-?(${lH.source})(?:\\[!?${$x.source}\\])?((?:${WA.source})*)$`),nH=/(\d+)(?:[.,](\d{1,9}))?/,htt=new RegExp(`(?:${nH.source}H)?(?:${nH.source}M)?(?:${nH.source}S)?`),ltt=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${htt.source})?$`,"i"),ptt=Array.prototype.includes,Fme=Array.prototype.push,Nme=globalThis.Intl.DateTimeFormat,Att=Math.min,gtt=Math.max,hi=Math.abs,aa=Math.floor,a1=Math.sign,oI=Math.trunc,SD=Number.isNaN,as=Number.isFinite,ytt=Number,Xx=String,mtt=Number.MAX_SAFE_INTEGER,To=Object.create,Itt=Object.getOwnPropertyDescriptor,_D=Reflect.apply,wtt=Reflect.ownKeys,Ki=J.default.BigInt(0),g1=J.default.BigInt(1),Dh=J.default.BigInt(60),Pme=J.default.BigInt(24),Ur=J.default.BigInt(1e3),Sc=J.default.BigInt(1e6),Mh=J.default.BigInt(1e9),vtt=J.default.BigInt(-1),Ome=J.default.multiply(J.default.BigInt(3600),Mh),Kme=J.default.multiply(Dh,Mh),Th=J.default.multiply(Ome,Pme),Ox=J.default.multiply(J.default.BigInt(-86400),J.default.BigInt(1e17)),c1=J.default.multiply(J.default.BigInt(86400),J.default.BigInt(1e17)),hD=-271821,lD=275760,e1=J.default.multiply(J.default.BigInt(-388152),J.default.BigInt(1e13)),btt=J.default.multiply(Th,J.default.BigInt(3660)),qme=J.default.multiply(Th,J.default.BigInt(366)),Lme=J.default.multiply(Th,J.default.BigInt(14)),Ett=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function xc(t){return J.default.equal(t,Ki)}function Kr(t,e){let r=t[e];if(r!==void 0)return r}function lt(t,e,r){let i=arguments.length>2?r:[];return _D(t,e,i)}function li(t){return typeof t=="object"&&t!==null||typeof t=="function"}function f1(t){if(typeof t=="bigint")throw new TypeError("Cannot convert BigInt to number");return ytt(t)}function gn(t){let e=f1(t);if(SD(e)||e===0)return 0;if(!as(e))return e;let r=aa(hi(e));return r===0?0:a1(e)*r}function Ka(t){if(typeof t!="number"||SD(t)||!as(t))return!1;let e=hi(t);return aa(e)===e}function fs(t){if(typeof t=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return Xx(t)}function _r(t){let e=f1(t);if(e===0)return 0;if(SD(e)||!as(e))throw new RangeError("invalid number value");let r=oI(e);return r===0?0:r}function Vye(t,e){let r=_r(t);if(r<=0)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return r}function Ln(t){let e=f1(t);if(!as(e))throw new RangeError("infinity is out of range");if(!Ka(e))throw new RangeError(`unsupported fractional value ${t}`);return e===0?0:e}function fn(t,e){return{quotient:J.default.divide(t,e),remainder:J.default.remainder(t,e)}}function pD(t){return J.default.lessThan(t,Ki)}function Wye(t){return xc(t)?0:pD(t)?-1:1}function Yd(t){return J.default.lessThan(t,Ki)?J.default.multiply(t,vtt):t}var Zye=new Map([["year",_r],["month",Vye],["monthCode",fs],["day",Vye],["hour",_r],["minute",_r],["second",_r],["millisecond",_r],["microsecond",_r],["nanosecond",_r],["years",Ln],["months",Ln],["weeks",Ln],["days",Ln],["hours",Ln],["minutes",Ln],["seconds",Ln],["milliseconds",Ln],["microseconds",Ln],["nanoseconds",Ln],["era",fs],["eraYear",gn],["offset",fs]]),Btt=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),e3=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],AD=new Map(e3.map(t=>[t[0],t[1]])),Ctt=new Map(e3.map(([t,e])=>[e,t])),$ye=e3.map(([,t])=>t),Xye=Array.from(AD.keys()).sort(),eme=new Map;function Hme(t){let e=eme.get(t);return e===void 0&&(e=new Nme("en-us",{timeZone:Xx(t),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),eme.set(t,e)),e}function tme(t){if(t==null)throw new TypeError(`Expected object not ${t}`);return Object(t)}function t1(t,e,r,i){if(e==null)return;let n=wtt(e);for(let o of n)if(!r.some(s=>Object.is(s,o))&&Object.prototype.propertyIsEnumerable.call(e,o)){let s=e[o];if(i&&i.some(f=>Object.is(f,s)))continue;t[o]=s}}function Tn(t){return Hn(t,wt)&&!Hn(t,zr,Ae)}function Cc(t){return Hn(t,Qh)}function Ni(t){return Hn(t,Mi)}function Pi(t){return Hn(t,Xo,Zn,es,ts,rs,is,ns,os,ss)}function tr(t){return Hn(t,_me)}function Oi(t){return Hn(t,qt,Lt,Ht,Gt,jt,zt)&&!Hn(t,Xe,rt,nt)}function Pt(t){return Hn(t,Xe,rt,nt,qt,Lt,Ht,Gt,jt,zt)}function Rr(t){return Hn(t,Qme)}function qn(t){return Hn(t,Dme)}function st(t){return Hn(t,wt,zr,Ae)}function y1(t){if(Hn(t,Ae)||Hn(t,zr))throw new TypeError("with() does not support a calendar or timeZone property");if(Oi(t))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(t.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(t.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function xtt(t){let{ianaName:e,offset:r,z:i}=function(o){if(new RegExp(`^${$x.source}$`,"i").test(o))return{ianaName:o};try{let s=Ph(o);if(s.z||s.offset||s.ianaName)return s}catch{}throw new RangeError(`Invalid time zone: ${o}`)}(t);return e?ZH(e):i?"UTC":KD(GA(r))}function qH(t,e){return e==="never"?"":LH(ho(t),e)}function LH(t,e){return e==="never"||e==="auto"&&t==="iso8601"?"":`[${e==="critical"?"!":""}u-ca=${t}]`}function Ph(t){let e=ctt.exec(t);if(!e)throw new RangeError(`invalid ISO 8601 string: ${t}`);let r=e[1];if(r[0]==="\u2212"&&(r=`-${r.slice(1)}`),r==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);let i=gn(r),n=gn(e[2]||e[4]),o=gn(e[3]||e[5]),s=gn(e[6]),f=e[6]!==void 0,d=gn(e[7]||e[10]),p=gn(e[8]||e[11]);p===60&&(p=59);let u=(e[9]||e[12])+"000000000",y=gn(u.slice(0,3)),B=gn(u.slice(3,6)),S=gn(u.slice(6,9)),C,x=!1;if(e[13])C=void 0,x=!0;else if(e[14]&&e[15]){let k=e[14]==="-"||e[14]==="\u2212"?"-":"+",K=e[15]||"00",T=e[16]||"00",L=e[17]||"00",H=e[18]||"0";if(C=`${k}${K}:${T}`,+H){for(;H.endsWith("0");)H=H.slice(0,-1);C+=`:${L}.${H}`}else+L&&(C+=`:${L}`);C==="-00:00"&&(C="+00:00")}let _=e[19],Q=e[20],R;for(let[,k,K,T]of Q.matchAll(WA))if(K==="u-ca")R===void 0&&(R=T);else if(k==="!")throw new RangeError(`Unrecognized annotation: !${K}=${T}`);return eG(i,n,o,s,d,p,y,B,S),{year:i,month:n,day:o,hasTime:f,hour:s,minute:d,second:p,millisecond:y,microsecond:B,nanosecond:S,ianaName:_,offset:C,z:x,calendar:R}}function HH(t){let e=dtt.exec(t),r,i,n,o;if(e){let s=e[1];if(s[0]==="\u2212"&&(s=`-${s.slice(1)}`),s==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);r=gn(s),i=gn(e[2]);let f=e[3];for(let[,d,p,u]of f.matchAll(WA))if(p==="u-ca")n===void 0&&(n=u);else if(d==="!")throw new RangeError(`Unrecognized annotation: !${p}=${u}`);if(n!==void 0&&n!=="iso8601")throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let s;if({year:r,month:i,calendar:n,day:o,z:s}=Ph(t),s)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:r,month:i,calendar:n,referenceISODay:o}}function GH(t){let e=utt.exec(t),r,i,n,o;if(e){r=gn(e[1]),i=gn(e[2]);let s=e[3];for(let[,f,d,p]of s.matchAll(WA))if(d==="u-ca")n===void 0&&(n=p);else if(f==="!")throw new RangeError(`Unrecognized annotation: !${d}=${p}`);if(n!==void 0&&n!=="iso8601")throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let s;if({month:r,day:i,calendar:n,year:o,z:s}=Ph(t),s)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:r,day:i,calendar:n,referenceISOYear:o}}function Stt(t){let{year:e,month:r,day:i,hour:n,minute:o,second:s,millisecond:f,microsecond:d,nanosecond:p,offset:u,z:y}=function(x){let _=Ph(x);if(!_.z&&!_.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return _}(t);if(!y&&!u)throw new RangeError("Temporal.Instant requires a time zone offset");let B=y?0:GA(u);({year:e,month:r,day:i,hour:n,minute:o,second:s,millisecond:f,microsecond:d,nanosecond:p}=$H(e,r,i,n,o,s,f,d,p-B));let S=jA(e,r,i,n,o,s,f,d,p);if(S===null)throw new RangeError("DateTime outside of supported range");return S}function gD(t,e,r,i){let n=t,o=e,s=r;switch(i){case"reject":Rh(n,o,s);break;case"constrain":({year:n,month:o,day:s}=sIe(n,o,s))}return{year:n,month:o,day:s}}function QD(t,e,r,i,n,o,s){let f=t,d=e,p=r,u=i,y=n,B=o;switch(s){case"reject":LD(f,d,p,u,y,B);break;case"constrain":({hour:f,minute:d,second:p,millisecond:u,microsecond:y,nanosecond:B}=function(C,x,_,Q,R,k){let K=sa(C,0,23),T=sa(x,0,59),L=sa(_,0,59),H=sa(Q,0,999),O=sa(R,0,999),G=sa(k,0,999);return{hour:K,minute:T,second:L,millisecond:H,microsecond:O,nanosecond:G}}(f,d,p,u,y,B))}return{hour:f,minute:d,second:p,millisecond:u,microsecond:y,nanosecond:B}}function gI(t){if(!li(t))return function(C){let x=ltt.exec(C);if(!x)throw new RangeError(`invalid duration: ${C}`);if(x.slice(2).every(E=>E===void 0))throw new RangeError(`invalid duration: ${C}`);let _=x[1]==="-"||x[1]==="\u2212"?-1:1,Q=x[2]===void 0?0:_r(x[2])*_,R=x[3]===void 0?0:_r(x[3])*_,k=x[4]===void 0?0:_r(x[4])*_,K=x[5]===void 0?0:_r(x[5])*_,T=x[6]===void 0?0:_r(x[6])*_,L=x[7],H=x[8],O=x[9],G=x[10],v=x[11],a=0,h=0,g=0;if(L!==void 0){if(H??O??G??v)throw new RangeError("only the smallest unit can be fractional");g=3600*gn((L+"000000000").slice(0,9))*_}else if(a=H===void 0?0:_r(H)*_,O!==void 0){if(G??v)throw new RangeError("only the smallest unit can be fractional");g=60*gn((O+"000000000").slice(0,9))*_}else h=G===void 0?0:_r(G)*_,v!==void 0&&(g=gn((v+"000000000").slice(0,9))*_);let l=g%1e3,A=oI(g/1e3)%1e3,w=oI(g/1e6)%1e3;return h+=oI(g/1e9)%60,a+=oI(g/6e10),bD(Q,R,k,K,T,a,h,w,A,l),{years:Q,months:R,weeks:k,days:K,hours:T,minutes:a,seconds:h,milliseconds:w,microseconds:A,nanoseconds:l}}(fs(t));if(Pi(t))return{years:q(t,Xo),months:q(t,Zn),weeks:q(t,Ds),days:q(t,es),hours:q(t,ts),minutes:q(t,rs),seconds:q(t,is),milliseconds:q(t,ns),microseconds:q(t,os),nanoseconds:q(t,ss)};let e={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0},r=function(C){if(!li(C))throw new TypeError("invalid duration-like");let x={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0},_=!1;for(let Q of Xye){let R=C[Q];R!==void 0&&(_=!0,x[Q]=Ln(R))}if(!_)throw new TypeError("invalid duration-like");return x}(t);for(let S of Xye){let C=r[S];C!==void 0&&(e[S]=C)}let{years:i,months:n,weeks:o,days:s,hours:f,minutes:d,seconds:p,milliseconds:u,microseconds:y,nanoseconds:B}=e;return bD(i,n,o,s,f,d,p,u,y,B),{years:i,months:n,weeks:o,days:s,hours:f,minutes:d,seconds:p,milliseconds:u,microseconds:y,nanoseconds:B}}function dn(t){return t===void 0?"constrain":YA(t,"overflow",["constrain","reject"],"constrain")}function d1(t){return t===void 0?"compatible":YA(t,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function Vd(t,e){return YA(t,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],e)}function yD(t,e){return t===void 0?e:YA(t,"offset",["prefer","use","ignore","reject"],e)}function t3(t){return YA(t,"calendarName",["auto","always","never","critical"],"auto")}function m1(t){let e=t.roundingIncrement;if(e===void 0)return 1;if(e=f1(e),!as(e))throw new RangeError("roundingIncrement must be finite");let r=oI(e);if(r<1||r>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${e}`);return r}function I1(t,e,r){let i=r?e:e-1;if(t>i)throw new RangeError(`roundingIncrement must be at least 1 and less than ${i}, not ${t}`);if(e%t!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`)}function r3(t){let e=t.fractionalSecondDigits;if(e===void 0)return"auto";if(typeof e!="number"){if(fs(e)!=="auto")throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return"auto"}let r=aa(e);if(!as(r)||r<0||r>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return r}function i3(t,e){switch(t){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(e){case"auto":return{precision:e,unit:"nanosecond",increment:1};case 0:return{precision:e,unit:"second",increment:1};case 1:case 2:case 3:return{precision:e,unit:"millisecond",increment:10**(3-e)};case 4:case 5:case 6:return{precision:e,unit:"microsecond",increment:10**(6-e)};case 7:case 8:case 9:return{precision:e,unit:"nanosecond",increment:10**(9-e)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`)}}var dI=Symbol("~required~");function ca(t,e,r,i,n=[]){let o=[];for(let[,p,u]of e3)r!=="datetime"&&r!==u||o.push(p);o.push(...n);let s=i;s===dI?s=void 0:s!==void 0&&o.push(s);let f=[...o];for(let p of o){let u=Ctt.get(p);u!==void 0&&f.push(u)}let d=YA(t,e,f,s);if(d===void 0&&i===dI)throw new RangeError(`${e} is required`);return AD.has(d)?AD.get(d):d}function aD(t){let e=t.relativeTo;if(e===void 0)return e;let r,i,n,o,s,f,d,p,u,y,B,S,C="option",x=!1;if(li(e)){if(st(e)||tr(e))return e;if(Pt(e))return h1(e);y=a3(e);let _=yn(y,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);_.push("timeZone","offset");let Q=Wt(e,_,[]),R=To(null);R.overflow="constrain",{year:r,month:i,day:n,hour:o,minute:s,second:f,millisecond:d,microsecond:p,nanosecond:u}=n3(y,Q,R),S=Q.offset,S===void 0&&(C="wall"),B=Q.timeZone,B!==void 0&&(B=ko(B))}else{let _,Q;if({year:r,month:i,day:n,hour:o,minute:s,second:f,millisecond:d,microsecond:p,nanosecond:u,calendar:y,ianaName:_,offset:S,z:Q}=Ph(fs(e)),_)B=ko(_),Q?C="exact":S||(C="wall"),x=!0;else if(Q)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(y||(y="iso8601"),!P0(y))throw new RangeError(`invalid calendar identifier ${y}`);y=Uh(y)}return B===void 0?Qc(r,i,n,y):co(ID(r,i,n,o,s,f,d,p,u,C,C==="option"?GA(S):0,B,"compatible","reject",x),B,y)}function pH(t,e,r,i,n,o,s,f,d,p){for(let[u,y]of[["years",t],["months",e],["weeks",r],["days",i],["hours",n],["minutes",o],["seconds",s],["milliseconds",f],["microseconds",d],["nanoseconds",p]])if(y!==0)return AD.get(u);return"nanosecond"}function uI(t,e){return $ye.indexOf(t)>$ye.indexOf(e)?e:t}function Wt(t,e,r,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){let n=To(null),o=!1;e.sort();for(let s of e){let f=t[s];if(f!==void 0)o=!0,Zye.has(s)&&(f=Zye.get(s)(f)),n[s]=f;else if(r!=="partial"){if(ptt.call(r,s))throw new TypeError(`required property '${s}' missing or undefined`);f=Btt.get(s),n[s]=f}}if(r==="partial"&&!o)throw new TypeError(i);return n}function mD(t,e="complete"){let r=["hour","microsecond","millisecond","minute","nanosecond","second"],i=Wt(t,r,"partial",{emptySourceErrorMessage:"invalid time-like"}),n={};for(let o of r){let s=Itt(i,o);s!==void 0?n[o]=s.value:e==="complete"&&(n[o]=0)}return n}function Yr(t,e){let r=t;if(li(r)){if(tr(r))return r;if(st(r)&&(dn(e),r=Oa(q(r,zr),q(r,Mo),q(r,Ae))),Pt(r))return dn(e),Qc(q(r,Xe),q(r,rt),q(r,nt),q(r,Ae));let d=a3(r);return F0(d,Wt(r,yn(d,["day","month","monthCode","year"]),[]),e)}dn(e);let{year:i,month:n,day:o,calendar:s,z:f}=function(p){return Ph(p)}(fs(r));if(f)throw new RangeError("Z designator not supported for PlainDate");if(s||(s="iso8601"),!P0(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=Uh(s),Qc(i,n,o,s)}function n3(t,e,r){let{hour:i,minute:n,second:o,millisecond:s,microsecond:f,nanosecond:d}=mD(e),p=dn(r),u=F0(t,e,r),y=q(u,Xe),B=q(u,rt),S=q(u,nt);return{hour:i,minute:n,second:o,millisecond:s,microsecond:f,nanosecond:d}=QD(i,n,o,s,f,d,p),{year:y,month:B,day:S,hour:i,minute:n,second:o,millisecond:s,microsecond:f,nanosecond:d}}function sI(t,e){let r,i,n,o,s,f,d,p,u,y;if(li(t)){if(Pt(t))return t;if(st(t))return dn(e),Oa(q(t,zr),q(t,Mo),q(t,Ae));if(tr(t))return dn(e),oa(q(t,Xe),q(t,rt),q(t,nt),0,0,0,0,0,0,q(t,Ae));y=a3(t);let B=Wt(t,yn(y,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:r,month:i,day:n,hour:o,minute:s,second:f,millisecond:d,microsecond:p,nanosecond:u}=n3(y,B,e))}else{let B;if(dn(e),{year:r,month:i,day:n,hour:o,minute:s,second:f,millisecond:d,microsecond:p,nanosecond:u,calendar:y,z:B}=function(C){return Ph(C)}(fs(t)),B)throw new RangeError("Z designator not supported for PlainDateTime");if(eG(r,i,n,o,s,f,d,p,u),y||(y="iso8601"),!P0(y))throw new RangeError(`invalid calendar identifier ${y}`);y=Uh(y)}return oa(r,i,n,o,s,f,d,p,u,y)}function r1(t){if(Pi(t))return t;let{years:e,months:r,weeks:i,days:n,hours:o,minutes:s,seconds:f,milliseconds:d,microseconds:p,nanoseconds:u}=gI(t);return new(Je("%Temporal.Duration%"))(e,r,i,n,o,s,f,d,p,u)}function Jd(t){if(Tn(t))return t;if(st(t))return new(Je("%Temporal.Instant%"))(q(t,wt));let e=Stt(fs(t));return new(Je("%Temporal.Instant%"))(e)}function rme(t,e){let r=t;if(li(r)){if(qn(r))return r;let f,d;if(Hn(r,Ae))f=q(r,Ae),d=!1;else{let u=r.calendar;d=u===void 0,u===void 0&&(u="iso8601"),f=fa(u)}let p=Wt(r,yn(f,["day","month","monthCode","year"]),[]);return d&&p.month!==void 0&&p.monthCode===void 0&&p.year===void 0&&(p.year=1972),u1(f,p,e)}dn(e);let{month:i,day:n,referenceISOYear:o,calendar:s}=GH(fs(r));if(s===void 0&&(s="iso8601"),!P0(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=Uh(s),o===void 0?(Rh(1972,i,n),Kx(i,n,s)):u1(s,Kx(i,n,s,o))}function k0(t,e="constrain"){let r,i,n,o,s,f,d=t;if(li(d)){if(Oi(d))return d;if(st(d)&&(d=Oa(q(d,zr),q(d,Mo),q(d,Ae))),Pt(d))return new(Je("%Temporal.PlainTime%"))(q(d,qt),q(d,Lt),q(d,Ht),q(d,Gt),q(d,jt),q(d,zt));({hour:r,minute:i,second:n,millisecond:o,microsecond:s,nanosecond:f}=mD(d)),{hour:r,minute:i,second:n,millisecond:o,microsecond:s,nanosecond:f}=QD(r,i,n,o,s,f,e)}else({hour:r,minute:i,second:n,millisecond:o,microsecond:s,nanosecond:f}=function(u){let y=ftt.exec(u),B,S,C,x,_,Q,R;if(y){B=gn(y[1]),S=gn(y[2]||y[5]),C=gn(y[3]||y[6]),C===60&&(C=59);let k=(y[4]||y[7])+"000000000";x=gn(k.slice(0,3)),_=gn(k.slice(3,6)),Q=gn(k.slice(6,9)),R=y[14];for(let[,K,T,L]of R.matchAll(WA))if(T!=="u-ca"&&K==="!")throw new RangeError(`Unrecognized annotation: !${T}=${L}`);if(y[8])throw new RangeError("Z designator not supported for PlainTime")}else{let k,K;if({hasTime:K,hour:B,minute:S,second:C,millisecond:x,microsecond:_,nanosecond:Q,z:k}=Ph(u),!K)throw new RangeError(`time is missing in string: ${u}`);if(k)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(u))return{hour:B,minute:S,second:C,millisecond:x,microsecond:_,nanosecond:Q};try{let{month:k,day:K}=GH(u);Rh(1972,k,K)}catch{try{let{year:k,month:K}=HH(u);Rh(k,K,1)}catch{return{hour:B,minute:S,second:C,millisecond:x,microsecond:_,nanosecond:Q}}}throw new RangeError(`invalid ISO 8601 time-only string ${u}; may need a T prefix`)}(fs(d))),LD(r,i,n,o,s,f);return new(Je("%Temporal.PlainTime%"))(r,i,n,o,s,f)}function Ux(t,e){if(li(t)){if(Rr(t))return t;let s=a3(t);return lI(s,Wt(t,yn(s,["month","monthCode","year"]),[]),e)}dn(e);let{year:r,month:i,referenceISODay:n,calendar:o}=HH(fs(t));if(o===void 0&&(o="iso8601"),!P0(o))throw new RangeError(`invalid calendar identifier ${o}`);return o=Uh(o),n===void 0?(Rh(r,i,1),qx(r,i,o)):lI(o,qx(r,i,o,n))}function ID(t,e,r,i,n,o,s,f,d,p,u,y,B,S,C){let x=new(Je("%Temporal.PlainDateTime%"))(t,e,r,i,n,o,s,f,d);if(p==="wall"||S==="ignore")return q(cs(y,x,B),wt);if(p==="exact"||S==="use"){let Q=jA(t,e,r,i,n,o,s,f,d);if(Q===null)throw new RangeError("ZonedDateTime outside of supported range");return J.default.subtract(Q,J.default.BigInt(u))}let _=wD(y,x);for(let Q of _){let R=Wd(y,Q),k=J.default.toNumber(Pa(J.default.BigInt(R),Kme,"halfExpand"));if(R===u||C&&k===u)return q(Q,wt)}if(S==="reject"){let Q=KD(u),R=Cc(y)?q(y,Qh):"time zone";throw new RangeError(`Offset ${Q} is invalid for ${x.toString()} in ${R}`)}return q($me(_,y,x,B),wt)}function Fx(t,e){let r,i,n,o,s,f,d,p,u,y,B,S,C,x,_=!1,Q="option";if(li(t)){if(st(t))return t;S=a3(t);let k=yn(S,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);k.push("timeZone","offset");let K=Wt(t,k,["timeZone"]);y=ko(K.timeZone),B=K.offset,B===void 0&&(Q="wall"),C=d1(e),x=yD(e,"reject"),{year:r,month:i,day:n,hour:o,minute:s,second:f,millisecond:d,microsecond:p,nanosecond:u}=n3(S,K,e)}else{let k,K;if({year:r,month:i,day:n,hour:o,minute:s,second:f,millisecond:d,microsecond:p,nanosecond:u,ianaName:k,offset:B,z:K,calendar:S}=function(L){let H=Ph(L);if(!H.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return H}(fs(t)),y=ko(k),K?Q="exact":B||(Q="wall"),S||(S="iso8601"),!P0(S))throw new RangeError(`invalid calendar identifier ${S}`);S=Uh(S),_=!0,C=d1(e),x=yD(e,"reject"),dn(e)}let R=0;return Q==="option"&&(R=GA(B)),co(ID(r,i,n,o,s,f,d,p,u,Q,R,y,C,x,_),y,S)}function Gme(t,e,r,i,n){Rh(e,r,i),aIe(e,r,i),Nh(t),Jt(t,Xe,e),Jt(t,rt,r),Jt(t,nt,i),Jt(t,Ae,n),Jt(t,_me,!0)}function Qc(t,e,r,i="iso8601"){let n=Je("%Temporal.PlainDate%"),o=To(n.prototype);return Gme(o,t,e,r,i),o}function jme(t,e,r,i,n,o,s,f,d,p,u){eG(e,r,i,n,o,s,f,d,p),cIe(e,r,i,n,o,s,f,d,p),Nh(t),Jt(t,Xe,e),Jt(t,rt,r),Jt(t,nt,i),Jt(t,qt,n),Jt(t,Lt,o),Jt(t,Ht,s),Jt(t,Gt,f),Jt(t,jt,d),Jt(t,zt,p),Jt(t,Ae,u)}function oa(t,e,r,i,n,o,s,f,d,p="iso8601"){let u=Je("%Temporal.PlainDateTime%"),y=To(u.prototype);return jme(y,t,e,r,i,n,o,s,f,d,p),y}function zme(t,e,r,i,n){Rh(n,e,r),aIe(n,e,r),Nh(t),Jt(t,rt,e),Jt(t,nt,r),Jt(t,Xe,n),Jt(t,Ae,i),Jt(t,Dme,!0)}function Kx(t,e,r="iso8601",i=1972){let n=Je("%Temporal.PlainMonthDay%"),o=To(n.prototype);return zme(o,t,e,r,i),o}function Yme(t,e,r,i,n){Rh(e,r,n),function(s,f){uo(s,hD,lD),s===hD?uo(f,4,12):s===lD&&uo(f,1,9)}(e,r),Nh(t),Jt(t,Xe,e),Jt(t,rt,r),Jt(t,nt,n),Jt(t,Ae,i),Jt(t,Qme,!0)}function qx(t,e,r="iso8601",i=1){let n=Je("%Temporal.PlainYearMonth%"),o=To(n.prototype);return Yme(o,t,e,r,i),o}function Jme(t,e,r,i){nI(e),Nh(t),Jt(t,wt,e),Jt(t,zr,r),Jt(t,Ae,i);let n=new(Je("%Temporal.Instant%"))(q(t,wt));Jt(t,Mo,n)}function co(t,e,r="iso8601"){let i=Je("%Temporal.ZonedDateTime%"),n=To(i.prototype);return Jme(n,t,e,r),n}function yn(t,e){if(typeof t=="string"){let n=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.fields%"),n,[e])}let r=lt(Kr(t,"fields"),t,[e]),i=[];for(let n of r){if(typeof n!="string")throw new TypeError("bad return from calendar.fields()");Fme.call(i,n)}return i}function hI(t,e,r){if(typeof t=="string"){let n=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.mergeFields%"),n,[e,r])}let i=lt(Kr(t,"mergeFields"),t,[e,r]);if(!li(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function fo(t,e,r,i,n){let o=n;if(typeof t=="string"){let f=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.dateAdd%"),f,[e,r,i])}o===void 0&&(o=Kr(t,"dateAdd"));let s=_D(o,t,[e,r,i]);if(!tr(s))throw new TypeError("invalid result");return s}function HA(t,e,r,i,n){let o=n;if(typeof t=="string"){let f=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.dateUntil%"),f,[e,r,i])}o===void 0&&(o=Kr(t,"dateUntil"));let s=_D(o,t,[e,r,i]);if(!Pi(s))throw new TypeError("invalid result");return s}function DD(t,e){if(typeof t=="string"){let i=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.year%"),i,[e])}let r=lt(Kr(t,"year"),t,[e]);if(typeof r!="number")throw new TypeError("calendar year result must be an integer");if(!Ka(r))throw new RangeError("calendar year result must be an integer");return r}function MD(t,e){if(typeof t=="string"){let i=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.month%"),i,[e])}let r=lt(Kr(t,"month"),t,[e]);if(typeof r!="number")throw new TypeError("calendar month result must be a positive integer");if(!Ka(r)||r<1)throw new RangeError("calendar month result must be a positive integer");return r}function o3(t,e){if(typeof t=="string"){let i=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.monthCode%"),i,[e])}let r=lt(Kr(t,"monthCode"),t,[e]);if(typeof r!="string")throw new TypeError("calendar monthCode result must be a string");return r}function s3(t,e){if(typeof t=="string"){let i=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.day%"),i,[e])}let r=lt(Kr(t,"day"),t,[e]);if(typeof r!="number")throw new TypeError("calendar day result must be a positive integer");if(!Ka(r)||r<1)throw new RangeError("calendar day result must be a positive integer");return r}function kD(t,e){if(typeof t=="string"){let i=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.era%"),i,[e])}let r=lt(Kr(t,"era"),t,[e]);if(r===void 0)return r;if(typeof r!="string")throw new TypeError("calendar era result must be a string or undefined");return r}function TD(t,e){if(typeof t=="string"){let i=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.eraYear%"),i,[e])}let r=lt(Kr(t,"eraYear"),t,[e]);if(r===void 0)return r;if(typeof r!="number")throw new TypeError("calendar eraYear result must be an integer or undefined");if(!Ka(r))throw new RangeError("calendar eraYear result must be an integer or undefined");return r}function jH(t,e){if(typeof t=="string"){let i=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.dayOfWeek%"),i,[e])}let r=lt(Kr(t,"dayOfWeek"),t,[e]);if(typeof r!="number")throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!Ka(r)||r<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return r}function zH(t,e){if(typeof t=="string"){let i=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.dayOfYear%"),i,[e])}let r=lt(Kr(t,"dayOfYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar dayOfYear result must be a positive integer");if(!Ka(r)||r<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return r}function YH(t,e){if(typeof t=="string"){let i=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.weekOfYear%"),i,[e])}let r=lt(Kr(t,"weekOfYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar weekOfYear result must be a positive integer");if(!Ka(r)||r<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return r}function JH(t,e){if(typeof t=="string"){let i=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.yearOfWeek%"),i,[e])}let r=lt(Kr(t,"yearOfWeek"),t,[e]);if(typeof r!="number")throw new TypeError("calendar yearOfWeek result must be an integer");if(!Ka(r))throw new RangeError("calendar yearOfWeek result must be an integer");return r}function VH(t,e){if(typeof t=="string"){let i=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.daysInWeek%"),i,[e])}let r=lt(Kr(t,"daysInWeek"),t,[e]);if(typeof r!="number")throw new TypeError("calendar daysInWeek result must be a positive integer");if(!Ka(r)||r<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return r}function RD(t,e){if(typeof t=="string"){let i=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.daysInMonth%"),i,[e])}let r=lt(Kr(t,"daysInMonth"),t,[e]);if(typeof r!="number")throw new TypeError("calendar daysInMonth result must be a positive integer");if(!Ka(r)||r<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return r}function UD(t,e){if(typeof t=="string"){let i=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.daysInYear%"),i,[e])}let r=lt(Kr(t,"daysInYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar daysInYear result must be a positive integer");if(!Ka(r)||r<1)throw new RangeError("calendar daysInYear result must be a positive integer");return r}function FD(t,e){if(typeof t=="string"){let i=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.monthsInYear%"),i,[e])}let r=lt(Kr(t,"monthsInYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar monthsInYear result must be a positive integer");if(!Ka(r)||r<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return r}function ND(t,e){if(typeof t=="string"){let i=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.inLeapYear%"),i,[e])}let r=lt(Kr(t,"inLeapYear"),t,[e]);if(typeof r!="boolean")throw new TypeError("calendar inLeapYear result must be a boolean");return r}function fa(t){if(li(t)){if(Hn(t,Ae))return q(t,Ae);if(!function(n){return!!Ni(n)||"dateAdd"in n&&"dateFromFields"in n&&"dateUntil"in n&&"day"in n&&"dayOfWeek"in n&&"dayOfYear"in n&&"daysInMonth"in n&&"daysInWeek"in n&&"daysInYear"in n&&"fields"in n&&"id"in n&&"inLeapYear"in n&&"mergeFields"in n&&"month"in n&&"monthCode"in n&&"monthDayFromFields"in n&&"monthsInYear"in n&&"weekOfYear"in n&&"year"in n&&"yearMonthFromFields"in n&&"yearOfWeek"in n}(t))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return t}let e=fs(t);if(P0(e))return Uh(e);let r;try{({calendar:r}=Ph(e))}catch{try{({calendar:r}=HH(e))}catch{({calendar:r}=GH(e))}}if(r||(r="iso8601"),!P0(r))throw new RangeError(`invalid calendar identifier ${r}`);return Uh(r)}function a3(t){if(Hn(t,Ae))return q(t,Ae);let{calendar:e}=t;return e===void 0?"iso8601":fa(e)}function ho(t){if(typeof t=="string")return t;let e=t.id;if(typeof e!="string")throw new TypeError("calendar.id should be a string");return e}function w1(t){return li(t)?t:new(Je("%Temporal.Calendar%"))(t)}function c3(t,e){return t===e?!0:ho(t)===ho(e)}function PD(t,e,r){if(t===e)return;let i=ho(t),n=ho(e);if(i!==n)throw new RangeError(`cannot ${r} of ${i} and ${n} calendars`)}function Vme(t,e){if(t===e)return e;let r=ho(t),i=ho(e);if(r===i||r==="iso8601")return e;if(i==="iso8601")return t;throw new RangeError("irreconcilable calendars")}function F0(t,e,r,i){if(typeof t=="string"){let o=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.dateFromFields%"),o,[e,r])}let n=lt(i??Kr(t,"dateFromFields"),t,[e,r]);if(!tr(n))throw new TypeError("invalid result");return n}function lI(t,e,r){if(typeof t=="string"){let n=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.yearMonthFromFields%"),n,[e,r])}let i=lt(Kr(t,"yearMonthFromFields"),t,[e,r]);if(!Rr(i))throw new TypeError("invalid result");return i}function u1(t,e,r){if(typeof t=="string"){let n=new(Je("%Temporal.Calendar%"))(t);return lt(Je("%Temporal.Calendar.prototype.monthDayFromFields%"),n,[e,r])}let i=lt(Kr(t,"monthDayFromFields"),t,[e,r]);if(!qn(i))throw new TypeError("invalid result");return i}function ko(t){if(li(t)){if(st(t))return q(t,zr);if(!function(r){return!!Cc(r)||"getOffsetNanosecondsFor"in r&&"getPossibleInstantsFor"in r&&"id"in r}(t))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return t}return xtt(fs(t))}function Lx(t){if(typeof t=="string")return t;let e=t.id;if(typeof e!="string")throw new TypeError("timeZone.id should be a string");return e}function Wme(t){return li(t)?t:new(Je("%Temporal.TimeZone%"))(t)}function Zme(t,e){return t===e?!0:Lx(t)===Lx(e)}function h1(t){return Qc(q(t,Xe),q(t,rt),q(t,nt),q(t,Ae))}function WH(t){return new(Je("%Temporal.PlainTime%"))(q(t,qt),q(t,Lt),q(t,Ht),q(t,Gt),q(t,jt),q(t,zt))}function Wd(t,e,r){if(typeof t=="string"){let n=new(Je("%Temporal.TimeZone%"))(t);return lt(Je("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),n,[e])}let i=lt(r??Kr(t,"getOffsetNanosecondsFor"),t,[e]);if(typeof i!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!Ka(i)||hi(i)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function AH(t,e){return KD(Wd(t,e))}function Oa(t,e,r){let i=q(e,wt),n=Wd(t,e),{year:o,month:s,day:f,hour:d,minute:p,second:u,millisecond:y,microsecond:B,nanosecond:S}=eIe(i);return{year:o,month:s,day:f,hour:d,minute:p,second:u,millisecond:y,microsecond:B,nanosecond:S}=$H(o,s,f,d,p,u,y,B,S+n),oa(o,s,f,d,p,u,y,B,S,r)}function cs(t,e,r){return $me(wD(t,e),t,e,r)}function $me(t,e,r,i){let n=Je("%Temporal.Instant%"),o=t.length;if(o===1)return t[0];if(o)switch(i){case"compatible":case"earlier":return t[0];case"later":return t[o-1];case"reject":throw new RangeError("multiple instants found")}let s=q(r,Xe),f=q(r,rt),d=q(r,nt),p=q(r,qt),u=q(r,Lt),y=q(r,Ht),B=q(r,Gt),S=q(r,jt),C=q(r,zt),x=jA(s,f,d,p,u,y,B,S,C);if(x===null)throw new RangeError("DateTime outside of supported range");let _=new n(J.default.subtract(x,Th)),Q=new n(J.default.add(x,Th)),R=Wd(e,_),k=Wd(e,Q)-R;switch(i){case"earlier":{let K=q(r,Ae),T=Je("%Temporal.PlainDateTime%"),L=IH(s,f,d,p,u,y,B,S,C,K,0,0,0,0,0,0,0,0,0,-k,void 0);return wD(e,new T(L.year,L.month,L.day,L.hour,L.minute,L.second,L.millisecond,L.microsecond,L.nanosecond,K))[0]}case"compatible":case"later":{let K=q(r,Ae),T=Je("%Temporal.PlainDateTime%"),L=IH(s,f,d,p,u,y,B,S,C,K,0,0,0,0,0,0,0,0,0,k,void 0),H=wD(e,new T(L.year,L.month,L.day,L.hour,L.minute,L.second,L.millisecond,L.microsecond,L.nanosecond,K));return H[H.length-1]}case"reject":throw new RangeError("no such instant found")}}function wD(t,e,r){if(typeof t=="string"){let o=new(Je("%Temporal.TimeZone%"))(t);return lt(Je("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),o,[e])}let i=lt(r??Kr(t,"getPossibleInstantsFor"),t,[e]),n=[];for(let o of i){if(!Tn(o))throw new TypeError("bad return from getPossibleInstantsFor");Fme.call(n,o)}return n}function yI(t){let e;return t<0||t>9999?e=(t<0?"-":"+")+`000000${hi(t)}`.slice(-6):e=`0000${t}`.slice(-4),e}function Ci(t){return`00${t}`.slice(-2)}function OD(t,e,r,i,n){if(n==="minute")return"";let o=`:${Ci(t)}`,s,f=1e6*e+1e3*r+i;if(n==="auto"){if(f===0)return o;for(s=`${f}`.padStart(9,"0");s[s.length-1]==="0";)s=s.slice(0,-1)}else{if(n===0)return o;s=`${f}`.padStart(9,"0").slice(0,n)}return`${o}.${s}`}function ime(t,e,r){let i=e;i===void 0&&(i="UTC");let n=Oa(i,t,"iso8601"),o=yI(q(n,Xe)),s=Ci(q(n,rt)),f=Ci(q(n,nt)),d=Ci(q(n,qt)),p=Ci(q(n,Lt)),u=OD(q(n,Ht),q(n,Gt),q(n,jt),q(n,zt),r),y="Z";return e!==void 0&&(y=Xme(Wd(i,t))),`${o}-${s}-${f}T${d}:${p}${u}${y}`}function oH(t,e="auto",r){function i(G){return G<=mtt?G.toString(10):J.default.BigInt(G).toString(10)}let n=q(t,Xo),o=q(t,Zn),s=q(t,Ds),f=q(t,es),d=q(t,ts),p=q(t,rs),u=q(t,is),y=q(t,ns),B=q(t,os),S=q(t,ss),C=kh(n,o,s,f,d,p,u,y,B,S);if(r){let{unit:G,increment:v,roundingMode:a}=r;({seconds:u,milliseconds:y,microseconds:B,nanoseconds:S}=N0(0,0,0,0,0,0,u,y,B,S,v,G,a))}let x=[];n&&x.push(`${i(hi(n))}Y`),o&&x.push(`${i(hi(o))}M`),s&&x.push(`${i(hi(s))}W`),f&&x.push(`${i(hi(f))}D`);let _=[];d&&_.push(`${i(hi(d))}H`),p&&_.push(`${i(hi(p))}M`);let Q=[],R,k,K,T,L=l1(0,0,0,u,y,B,S,0);({quotient:L,remainder:R}=fn(L,Ur)),{quotient:L,remainder:k}=fn(L,Ur),{quotient:T,remainder:K}=fn(L,Ur);let H=1e6*hi(J.default.toNumber(K))+1e3*hi(J.default.toNumber(k))+hi(J.default.toNumber(R)),O;if(e==="auto"){if(H!==0)for(O=`${H}`.padStart(9,"0");O[O.length-1]==="0";)O=O.slice(0,-1)}else e!==0&&(O=`${H}`.padStart(9,"0").slice(0,e));return O&&Q.unshift(".",O),J.default.equal(T,Ki)&&!Q.length&&e==="auto"||Q.unshift(Yd(T).toString()),Q.length&&_.push(`${Q.join("")}S`),_.length&&_.unshift("T"),x.length||_.length?`${C<0?"-":""}P${x.join("")}${_.join("")}`:"PT0S"}function nme(t,e="auto"){return`${yI(q(t,Xe))}-${Ci(q(t,rt))}-${Ci(q(t,nt))}${qH(q(t,Ae),e)}`}function ome(t,e,r="auto",i){let n=q(t,Xe),o=q(t,rt),s=q(t,nt),f=q(t,qt),d=q(t,Lt),p=q(t,Ht),u=q(t,Gt),y=q(t,jt),B=q(t,zt);if(i){let{unit:S,increment:C,roundingMode:x}=i;({year:n,month:o,day:s,hour:f,minute:d,second:p,millisecond:u,microsecond:y,nanosecond:B}=nG(n,o,s,f,d,p,u,y,B,C,S,x))}return`${yI(n)}-${Ci(o)}-${Ci(s)}T${Ci(f)}:${Ci(d)}${OD(p,u,y,B,e)}${qH(q(t,Ae),r)}`}function sme(t,e="auto"){let r=`${Ci(q(t,rt))}-${Ci(q(t,nt))}`,i=ho(q(t,Ae));(e==="always"||e==="critical"||i!=="iso8601")&&(r=`${yI(q(t,Xe))}-${r}`);let n=LH(i,e);return n&&(r+=n),r}function ame(t,e="auto"){let r=`${yI(q(t,Xe))}-${Ci(q(t,rt))}`,i=ho(q(t,Ae));(e==="always"||e==="critical"||i!=="iso8601")&&(r+=`-${Ci(q(t,nt))}`);let n=LH(i,e);return n&&(r+=n),r}function cme(t,e,r="auto",i="auto",n="auto",o){let s=q(t,Mo);if(o){let{unit:u,increment:y,roundingMode:B}=o,S=ED(q(t,wt),y,u,B);s=new(Je("%Temporal.Instant%"))(S)}let f=q(t,zr),d=Oa(f,s,"iso8601"),p=`${yI(q(d,Xe))}-${Ci(q(d,rt))}-${Ci(q(d,nt))}T${Ci(q(d,qt))}:${Ci(q(d,Lt))}${OD(q(d,Ht),q(d,Gt),q(d,jt),q(d,zt),e)}`;return n!=="never"&&(p+=Xme(Wd(f,s))),i!=="never"&&(p+=`[${i==="critical"?"!":""}${Lx(f)}]`),p+=qH(q(t,Ae),r),p}function Xb(t){return AIe.test(Xx(t))}function GA(t){let e=AIe.exec(Xx(t));if(!e)throw new RangeError(`invalid time zone offset: ${t}`);return(e[1]==="-"||e[1]==="\u2212"?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}function ZH(t){return Xb(t)?KD(GA(t)):Hme(Xx(t)).resolvedOptions().timeZone}function T0(t,e){let{year:r,month:i,day:n,hour:o,minute:s,second:f,millisecond:d,microsecond:p,nanosecond:u}=tIe(t,e),y=r%400,B=(r-y)/400,S=J.default.multiply(J.default.BigInt(146097),Th),C=jA(y,i,n,o,s,f,d,p,u),x=J.default.add(C,J.default.multiply(S,J.default.BigInt(B)));return J.default.toNumber(J.default.subtract(x,e))}function KD(t){let e=t<0?"-":"+",r=hi(t),i=r%1e9,n=aa(r/1e9)%60,o=aa(r/6e10)%60,s=Ci(aa(r/36e11)),f=Ci(o),d=Ci(n),p="";if(i){let u=`${i}`.padStart(9,"0");for(;u[u.length-1]==="0";)u=u.slice(0,-1);p=`:${d}.${u}`}else n&&(p=`:${d}`);return`${e}${s}:${f}${p}`}function Xme(t){let e=J.default.toNumber(Pa(J.default.BigInt(t),Kme,"halfExpand")),r=e<0?"-":"+";e=hi(e);let i=e/6e10%60;return`${r}${Ci(aa(e/36e11))}:${Ci(i)}`}function jA(t,e,r,i,n,o,s,f,d){let p=new Date;p.setUTCHours(i,n,o,s),p.setUTCFullYear(t,e-1,r);let u=p.getTime();if(SD(u))return null;let y=J.default.multiply(J.default.BigInt(u),Sc);return y=J.default.add(y,J.default.multiply(J.default.BigInt(f),Ur)),y=J.default.add(y,J.default.BigInt(d)),J.default.lessThan(y,Ox)||J.default.greaterThan(y,c1)?null:y}function eIe(t){let{quotient:e,remainder:r}=fn(t,Sc),i=J.default.toNumber(e),n=J.default.toNumber(r);n<0&&(n+=1e6,i-=1);let o=aa(n/1e3)%1e3,s=n%1e3,f=new Date(i);return{epochMilliseconds:i,year:f.getUTCFullYear(),month:f.getUTCMonth()+1,day:f.getUTCDate(),hour:f.getUTCHours(),minute:f.getUTCMinutes(),second:f.getUTCSeconds(),millisecond:f.getUTCMilliseconds(),microsecond:o,nanosecond:s}}function tIe(t,e){let{epochMilliseconds:r,millisecond:i,microsecond:n,nanosecond:o}=eIe(e),{year:s,month:f,day:d,hour:p,minute:u,second:y}=function(S,C){let x=Hme(S).format(new Date(C));return function(Q){let R=Q.split(/[^\w]+/);if(R.length!==7)throw new RangeError(`expected 7 parts in "${Q}`);let k=+R[0],K=+R[1],T=+R[2],L=R[3].toUpperCase();if(L==="B"||L==="BC")T=1-T;else if(L!=="A"&&L!=="AD")throw new RangeError(`Unknown era ${L} in "${Q}`);let H=+R[4];H===24&&(H=0);let O=+R[5],G=+R[6];if(!(as(T)&&as(k)&&as(K)&&as(H)&&as(O)&&as(G)))throw new RangeError(`Invalid number in "${Q}`);return{year:T,month:k,day:K,hour:H,minute:O,second:G}}(x)}(t,r);return $H(s,f,d,p,u,y,i,n,o)}function fme(t,e){return J.default.lessThan(t,e)?e:t}function rIe(){return J.default.add(sG(),btt)}function iIe(t,e){if(J.default.lessThan(e,e1))return iIe(t,e1);let r=J.default.add(e,qme),i=fme(rIe(),r),n=fme(e1,e),o=T0(t,n),s=n,f=o;for(;o===f&&J.default.lessThan(J.default.BigInt(n),i);){if(s=J.default.add(n,Lme),J.default.greaterThan(s,c1))return null;f=T0(t,s),o===f&&(n=s)}return o===f?null:gIe(d=>T0(t,d),n,s,o,f)}function gH(t,e){let r=rIe(),i=J.default.greaterThan(e,r),n=i?J.default.subtract(e,qme):e1;if(t==="Africa/Casablanca"||t==="Africa/El_Aaiun"){let p=q(Jd("2088-01-01T00Z"),wt);if(J.default.lessThan(p,e))return gH(t,p)}let o=J.default.subtract(e,g1);if(J.default.lessThan(o,e1))return null;let s=T0(t,o),f=o,d=s;for(;s===d&&J.default.greaterThan(o,n);){if(f=J.default.subtract(o,Lme),J.default.lessThan(f,e1))return null;d=T0(t,f),s===d&&(o=f)}if(s===d){if(i){let p=J.default.subtract(r,Th);return gH(t,p)}return null}return gIe(p=>T0(t,p),f,o,d,s)}function zA(t){return t===void 0?!1:t%4==0&&(t%100!=0||t%400==0)}function R0(t,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[zA(t)?"leapyear":"standard"][e-1]}function yH(t,e,r){let i=e+(e<3?10:-2),n=t-(e<3?1:0),o=aa(n/100),s=n-100*o,f=(r+aa(2.6*i-.2)+(s+aa(s/4))+(aa(o/4)-2*o))%7;return f+(f<=0?7:0)}function vD(t,e,r){let i=r;for(let n=e-1;n>0;n--)i+=R0(t,n);return i}function dme(t,e,r){let i=vD(t,e,r),n=yH(t,e,r)||7,o=yH(t,1,1),s=aa((i-n+10)/7);return s<1?o===5||o===6&&zA(t-1)?{week:53,year:t-1}:{week:52,year:t-1}:s===53&&(zA(t)?366:365)-i<4-n?{week:1,year:t+1}:{week:s,year:t}}function kh(t,e,r,i,n,o,s,f,d,p){for(let u of[t,e,r,i,n,o,s,f,d,p])if(u!==0)return u<0?-1:1;return 0}function cD(t,e){let r=t,i=e;if(!as(r)||!as(i))throw new RangeError("infinity is out of range");return i-=1,r+=aa(i/12),i%=12,i<0&&(i+=12),i+=1,{year:r,month:i}}function qD(t,e,r){let i=t,n=e,o=r;if(!as(o))throw new RangeError("infinity is out of range");({year:i,month:n}=cD(i,n));let s=146097;if(hi(o)>s){let p=oI(o/s);i+=400*p,o-=p*s}let f=0,d=n>2?i:i-1;for(;f=zA(d)?366:365,o<-f;)i-=1,d-=1,o+=f;for(d+=1;f=zA(d)?366:365,o>f;)i+=1,d+=1,o-=f;for(;o<1;)({year:i,month:n}=cD(i,n-1)),o+=R0(i,n);for(;o>R0(i,n);)o-=R0(i,n),{year:i,month:n}=cD(i,n+1);return{year:i,month:n,day:o}}function $H(t,e,r,i,n,o,s,f,d){let{deltaDays:p,hour:u,minute:y,second:B,millisecond:S,microsecond:C,nanosecond:x}=M0(i,n,o,s,f,d),{year:_,month:Q,day:R}=qD(t,e,r+p);return{year:_,month:Q,day:R,hour:u,minute:y,second:B,millisecond:S,microsecond:C,nanosecond:x}}function M0(t,e,r,i,n,o){let s,f=J.default.BigInt(t),d=J.default.BigInt(e),p=J.default.BigInt(r),u=J.default.BigInt(i),y=J.default.BigInt(n),B=J.default.BigInt(o);return{quotient:s,remainder:B}=iI(B,Ur),y=J.default.add(y,s),{quotient:s,remainder:y}=iI(y,Ur),u=J.default.add(u,s),{quotient:s,remainder:u}=iI(u,Ur),p=J.default.add(p,s),{quotient:s,remainder:p}=iI(p,Dh),d=J.default.add(d,s),{quotient:s,remainder:d}=iI(d,Dh),f=J.default.add(f,s),{quotient:s,remainder:f}=iI(f,Pme),{deltaDays:J.default.toNumber(s),hour:J.default.toNumber(f),minute:J.default.toNumber(d),second:J.default.toNumber(p),millisecond:J.default.toNumber(u),microsecond:J.default.toNumber(y),nanosecond:J.default.toNumber(B)}}function l1(t,e,r,i,n,o,s,f){let d=J.default.BigInt(t),p=J.default.BigInt(s);t!==0&&(p=J.default.subtract(J.default.BigInt(s),J.default.BigInt(f)));let u=J.default.add(J.default.BigInt(e),J.default.multiply(d,J.default.BigInt(24))),y=J.default.add(J.default.BigInt(r),J.default.multiply(u,Dh)),B=J.default.add(J.default.BigInt(i),J.default.multiply(y,Dh)),S=J.default.add(J.default.BigInt(n),J.default.multiply(B,Ur)),C=J.default.add(J.default.BigInt(o),J.default.multiply(S,Ur));return J.default.add(J.default.BigInt(p),J.default.multiply(C,Ur))}function XH(t,e){let r=Je("%Temporal.Instant%"),i=a1(J.default.toNumber(t)),n=J.default.BigInt(t),o=864e11;if(i===0)return{days:0,nanoseconds:Ki,dayLengthNs:o};if(!st(e)){let k;return{quotient:k,remainder:n}=fn(n,J.default.BigInt(o)),{days:J.default.toNumber(k),nanoseconds:n,dayLengthNs:o}}let s=q(e,wt),f=q(e,Mo),d=J.default.add(s,n),p=new r(d),u=q(e,zr),y=q(e,Ae),B=Oa(u,f,y),S=Oa(u,p,y),{days:C}=iG(q(B,Xe),q(B,rt),q(B,nt),q(B,qt),q(B,Lt),q(B,Ht),q(B,Gt),q(B,jt),q(B,zt),q(S,Xe),q(S,rt),q(S,nt),q(S,qt),q(S,Lt),q(S,Ht),q(S,Gt),q(S,jt),q(S,zt),y,"day",To(null)),x=_c(f,u,y,0,0,0,C,0,0,0,0,0,0),_=J.default.BigInt(C);if(i===1)for(;J.default.greaterThan(_,Ki)&&J.default.greaterThan(x,d);)_=J.default.subtract(_,g1),x=_c(f,u,y,0,0,0,J.default.toNumber(_),0,0,0,0,0,0);n=J.default.subtract(d,x);let Q=!1,R=new r(x);do{let k=_c(R,u,y,0,0,0,i,0,0,0,0,0,0),K=q(R,wt);o=J.default.toNumber(J.default.subtract(k,K)),Q=J.default.greaterThanOrEqual(J.default.multiply(J.default.subtract(n,J.default.BigInt(o)),J.default.BigInt(i)),Ki),Q&&(n=J.default.subtract(n,J.default.BigInt(o)),R=new r(k),_=J.default.add(_,J.default.BigInt(i)))}while(Q);if(!xc(_)&&Wye(_)!==i)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!xc(n)&&Wye(n)!==i)throw pD(n)&&i===1?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(J.default.greaterThanOrEqual(Yd(n),Yd(J.default.BigInt(o))))throw new Error("assert not reached");return{days:J.default.toNumber(_),nanoseconds:n,dayLengthNs:hi(o)}}function Pf(t,e,r,i,n,o,s,f,d){let p=nIe(t,e,r,i,n,o,s,f,d);if(p==="positive overflow"||p==="negative overflow")throw new RangeError("Duration out of range");return p}function nIe(t,e,r,i,n,o,s,f,d){let p,u,y,B,S,C,x=t;if(st(d)){let H=_c(q(d,Mo),q(d,zr),q(d,Ae),0,0,0,x,e,r,i,n,o,s),O=q(d,wt);p=J.default.subtract(H,O)}else p=l1(x,e,r,i,n,o,s,0);f==="year"||f==="month"||f==="week"||f==="day"?{days:x,nanoseconds:p}=XH(p,d):x=0;let _=J.default.lessThan(p,Ki)?-1:1;switch(p=Yd(p),u=y=B=S=C=Ki,f){case"year":case"month":case"week":case"day":case"hour":({quotient:u,remainder:p}=fn(p,Ur)),{quotient:y,remainder:u}=fn(u,Ur),{quotient:B,remainder:y}=fn(y,Ur),{quotient:S,remainder:B}=fn(B,Dh),{quotient:C,remainder:S}=fn(S,Dh);break;case"minute":({quotient:u,remainder:p}=fn(p,Ur)),{quotient:y,remainder:u}=fn(u,Ur),{quotient:B,remainder:y}=fn(y,Ur),{quotient:S,remainder:B}=fn(B,Dh);break;case"second":({quotient:u,remainder:p}=fn(p,Ur)),{quotient:y,remainder:u}=fn(u,Ur),{quotient:B,remainder:y}=fn(y,Ur);break;case"millisecond":({quotient:u,remainder:p}=fn(p,Ur)),{quotient:y,remainder:u}=fn(u,Ur);break;case"microsecond":({quotient:u,remainder:p}=fn(p,Ur));break;case"nanosecond":break;default:throw new Error("assert not reached")}let Q=J.default.toNumber(C)*_,R=J.default.toNumber(S)*_,k=J.default.toNumber(B)*_,K=J.default.toNumber(y)*_,T=J.default.toNumber(u)*_,L=J.default.toNumber(p)*_;for(let H of[x,Q,R,k,K,T,L])if(!as(H))return _===1?"positive overflow":"negative overflow";return{days:x,hours:Q,minutes:R,seconds:k,milliseconds:K,microseconds:T,nanoseconds:L}}function sD(t,e,r,i,n,o){let s=Je("%Temporal.Duration%"),f=kh(t,e,r,i,0,0,0,0,0,0);if(f===0)return{years:t,months:e,weeks:r,days:i};let d=J.default.BigInt(f),p,u,y=J.default.BigInt(t),B=J.default.BigInt(e),S=J.default.BigInt(r),C=J.default.BigInt(i);o&&(u=Yr(o),p=q(u,Ae));let x=new s(f),_=new s(0,f),Q=new s(0,0,f);switch(n){case"year":break;case"month":{if(!p)throw new RangeError("a starting point is required for months balancing");let R,k;for(typeof p!="string"&&(R=Kr(p,"dateAdd"),k=Kr(p,"dateUntil"));!xc(y);){let K=fo(p,u,x,void 0,R),T=To(null);T.largestUnit="month";let L=HA(p,u,K,T,k),H=J.default.BigInt(q(L,Zn));u=K,B=J.default.add(B,H),y=J.default.subtract(y,d)}}break;case"week":{if(!p)throw new RangeError("a starting point is required for weeks balancing");let R=typeof p!="string"?Kr(p,"dateAdd"):void 0;for(;!xc(y);){let k;({relativeTo:u,days:k}=Do(p,u,x,R)),C=J.default.add(C,J.default.BigInt(k)),y=J.default.subtract(y,d)}for(;!xc(B);){let k;({relativeTo:u,days:k}=Do(p,u,_,R)),C=J.default.add(C,J.default.BigInt(k)),B=J.default.subtract(B,d)}break}default:{if(xc(y)&&xc(B)&&xc(S))break;if(!p)throw new RangeError("a starting point is required for balancing calendar units");let R=typeof p!="string"?Kr(p,"dateAdd"):void 0;for(;!xc(y);){let k;({relativeTo:u,days:k}=Do(p,u,x,R)),C=J.default.add(C,J.default.BigInt(k)),y=J.default.subtract(y,d)}for(;!xc(B);){let k;({relativeTo:u,days:k}=Do(p,u,_,R)),C=J.default.add(C,J.default.BigInt(k)),B=J.default.subtract(B,d)}for(;!xc(S);){let k;({relativeTo:u,days:k}=Do(p,u,Q,R)),C=J.default.add(C,J.default.BigInt(k)),S=J.default.subtract(S,d)}break}}return{years:J.default.toNumber(y),months:J.default.toNumber(B),weeks:J.default.toNumber(S),days:J.default.toNumber(C)}}function ume(t,e,r,i,n){if(st(t)){let o=q(t,Mo),s=q(t,zr),f=q(t,Ae),d=Wd(s,o),p=_c(o,s,f,e,r,i,n,0,0,0,0,0,0);return Wd(s,new(Je("%Temporal.Instant%"))(p))-d}return 0}function oIe(t){return new(Je("%Temporal.Duration%"))(-q(t,Xo),-q(t,Zn),-q(t,Ds),-q(t,es),-q(t,ts),-q(t,rs),-q(t,is),-q(t,ns),-q(t,os),-q(t,ss))}function sa(t,e,r){return Att(r,gtt(e,t))}function sIe(t,e,r){let i=sa(e,1,12);return{year:t,month:i,day:sa(r,1,R0(t,i))}}function uo(t,e,r){if(t<e||t>r)throw new RangeError(`value out of range: ${e} <= ${t} <= ${r}`)}function Rh(t,e,r){uo(e,1,12),uo(r,1,R0(t,e))}function aIe(t,e,r){cIe(t,e,r,12,0,0,0,0,0)}function LD(t,e,r,i,n,o){uo(t,0,23),uo(e,0,59),uo(r,0,59),uo(i,0,999),uo(n,0,999),uo(o,0,999)}function eG(t,e,r,i,n,o,s,f,d){Rh(t,e,r),LD(i,n,o,s,f,d)}function cIe(t,e,r,i,n,o,s,f,d){if(uo(t,hD,lD),t===hD&&jA(t,e,r+1,i,n,o,s,f,d-1)==null||t===lD&&jA(t,e,r-1,i,n,o,s,f,d+1)==null)throw new RangeError("DateTime outside of supported range")}function nI(t){if(J.default.lessThan(t,Ox)||J.default.greaterThan(t,c1))throw new RangeError("Instant outside of supported range")}function bD(t,e,r,i,n,o,s,f,d,p){let u=kh(t,e,r,i,n,o,s,f,d,p);for(let y of[t,e,r,i,n,o,s,f,d,p]){if(!as(y))throw new RangeError("infinite values not allowed as duration fields");let B=a1(y);if(B!==0&&B!==u)throw new RangeError("mixed-sign values not allowed as duration fields")}}function tG(t,e,r,i,n,o,s){switch(s){case"year":case"month":{let f=-LA(t,e,r,i,n,o);if(f===0)return{years:0,months:0,weeks:0,days:0};let d={year:t,month:e,day:r},p={year:i,month:n,day:o},u=p.year-d.year,y=aI(t,e,r,u,0,0,0,"constrain"),B=-LA(y.year,y.month,y.day,i,n,o);if(B===0)return s==="year"?{years:u,months:0,weeks:0,days:0}:{years:0,months:12*u,weeks:0,days:0};let S=p.month-d.month;if(B!==f&&(u-=f,S+=12*f),y=aI(t,e,r,u,S,0,0,"constrain"),B=-LA(y.year,y.month,y.day,i,n,o),B===0)return s==="year"?{years:u,months:S,weeks:0,days:0}:{years:0,months:S+12*u,weeks:0,days:0};B!==f&&(S-=f,S===-f&&(u-=f,S=11*f),y=aI(t,e,r,u,S,0,0,"constrain"));let C=0;return C=y.month===p.month?p.day-y.day:f<0?-y.day-(R0(p.year,p.month)-p.day):p.day+(R0(y.year,y.month)-y.day),s==="month"&&(S+=12*u,u=0),{years:u,months:S,weeks:0,days:C}}case"week":case"day":{let f,d,p;LA(t,e,r,i,n,o)<0?(d={year:t,month:e,day:r},f={year:i,month:n,day:o},p=1):(d={year:i,month:n,day:o},f={year:t,month:e,day:r},p=-1);let u=vD(f.year,f.month,f.day)-vD(d.year,d.month,d.day);for(let B=d.year;B<f.year;++B)u+=zA(B)?366:365;let y=0;return s==="week"&&(y=aa(u/7),u%=7),y*=p,u*=p,{years:0,months:0,weeks:y,days:u}}default:throw new Error("assert not reached")}}function fIe(t,e,r,i,n,o,s,f,d,p,u,y){let B=s-t,S=f-e,C=d-r,x=p-i,_=u-n,Q=y-o,R=kh(0,0,0,0,B,S,C,x,_,Q);B*=R,S*=R,C*=R,x*=R,_*=R,Q*=R;let k=0;if({deltaDays:k,hour:B,minute:S,second:C,millisecond:x,microsecond:_,nanosecond:Q}=M0(B,S,C,x,_,Q),k!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return B*=R,S*=R,C*=R,x*=R,_*=R,Q*=R,{hours:B,minutes:S,seconds:C,milliseconds:x,microseconds:_,nanoseconds:Q}}function rG(t,e,r,i,n,o){let s=J.default.subtract(e,t),f=0,d=0,p=J.default.toNumber(J.default.remainder(s,Ur)),u=J.default.toNumber(J.default.remainder(J.default.divide(s,Ur),Ur)),y=J.default.toNumber(J.default.remainder(J.default.divide(s,Sc),Ur)),B=J.default.toNumber(J.default.divide(s,Mh));return{hours:f,minutes:d,seconds:B,milliseconds:y,microseconds:u,nanoseconds:p}=N0(0,0,0,0,0,0,B,y,u,p,r,i,o),Pf(0,f,d,B,y,u,p,n)}function iG(t,e,r,i,n,o,s,f,d,p,u,y,B,S,C,x,_,Q,R,k,K){let T=t,L=e,H=r,{hours:O,minutes:G,seconds:v,milliseconds:a,microseconds:h,nanoseconds:g}=fIe(i,n,o,s,f,d,B,S,C,x,_,Q),l=kh(0,0,0,0,O,G,v,a,h,g);LA(p,u,y,T,L,H)===-l&&({year:T,month:L,day:H}=qD(T,L,H-l),{hours:O,minutes:G,seconds:v,milliseconds:a,microseconds:h,nanoseconds:g}=Pf(-l,O,G,v,a,h,g,k));let A=Qc(T,L,H,R),w=Qc(p,u,y,R),E=uI("day",k),m=ZA(K);m.largestUnit=E;let{years:c,months:I,weeks:M,days:D}=HA(R,A,w,m);return{days:D,hours:O,minutes:G,seconds:v,milliseconds:a,microseconds:h,nanoseconds:g}=Pf(D,O,G,v,a,h,g,k),{years:c,months:I,weeks:M,days:D,hours:O,minutes:G,seconds:v,milliseconds:a,microseconds:h,nanoseconds:g}}function dIe(t,e,r,i,n,o){let s=J.default.subtract(e,t);if(J.default.equal(s,Ki))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let f=Je("%Temporal.Instant%"),d=new f(t),p=new f(e),u=Oa(r,d,i),y=Oa(r,p,i),{years:B,months:S,weeks:C,days:x}=iG(q(u,Xe),q(u,rt),q(u,nt),q(u,qt),q(u,Lt),q(u,Ht),q(u,Gt),q(u,jt),q(u,zt),q(y,Xe),q(y,rt),q(y,nt),q(y,qt),q(y,Lt),q(y,Ht),q(y,Gt),q(y,jt),q(y,zt),i,n,o),_=_c(d,r,i,B,S,C,0,0,0,0,0,0,0),Q=J.default.subtract(e,_),R=co(_,r,i);({nanoseconds:Q,days:x}=XH(Q,R));let{hours:k,minutes:K,seconds:T,milliseconds:L,microseconds:H,nanoseconds:O}=Pf(0,0,0,0,0,0,J.default.toNumber(Q),"hour");return{years:B,months:S,weeks:C,days:x,hours:k,minutes:K,seconds:T,milliseconds:L,microseconds:H,nanoseconds:O}}function v1(t,e,r,i,n,o){let s=e3.reduce((S,C)=>{let x=C[0],_=C[1],Q=C[2];return r!=="datetime"&&Q!==r||i.includes(_)||S.push(_,x),S},[]),f=ca(e,"largestUnit",r,"auto");if(i.includes(f))throw new RangeError(`largestUnit must be one of ${s.join(", ")}, not ${f}`);let d=m1(e),p=Vd(e,"trunc");t==="since"&&(p=function(C){switch(C){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return C}}(p));let u=ca(e,"smallestUnit",r,n);if(i.includes(u))throw new RangeError(`smallestUnit must be one of ${s.join(", ")}, not ${u}`);let y=uI(o,u);if(f==="auto"&&(f=y),uI(f,u)!==f)throw new RangeError(`largestUnit ${f} cannot be smaller than smallestUnit ${u}`);let B={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[u];return B!==void 0&&I1(d,B,!1),{largestUnit:f,roundingIncrement:d,roundingMode:p,smallestUnit:u}}function hme(t,e,r,i){let n=t==="since"?-1:1,o=Jd(r),s=v1(t,ZA(i),"time",[],"nanosecond","second"),f=q(e,wt),d=q(o,wt),{hours:p,minutes:u,seconds:y,milliseconds:B,microseconds:S,nanoseconds:C}=rG(f,d,s.roundingIncrement,s.smallestUnit,s.largestUnit,s.roundingMode);return new(Je("%Temporal.Duration%"))(0,0,0,0,n*p,n*u,n*y,n*B,n*S,n*C)}function lme(t,e,r,i){let n=t==="since"?-1:1,o=Yr(r),s=q(e,Ae);PD(s,q(o,Ae),"compute difference between dates");let f=ZA(i),d=v1(t,f,"date",[],"day","day");f.largestUnit=d.largestUnit;let{years:p,months:u,weeks:y,days:B}=HA(s,e,o,f);return d.smallestUnit==="day"&&d.roundingIncrement===1||({years:p,months:u,weeks:y,days:B}=N0(p,u,y,B,0,0,0,0,0,0,d.roundingIncrement,d.smallestUnit,d.roundingMode,e)),new(Je("%Temporal.Duration%"))(n*p,n*u,n*y,n*B,0,0,0,0,0,0)}function pme(t,e,r,i){let n=t==="since"?-1:1,o=sI(r),s=q(e,Ae);PD(s,q(o,Ae),"compute difference between dates");let f=ZA(i),d=v1(t,f,"datetime",[],"nanosecond","day"),{years:p,months:u,weeks:y,days:B,hours:S,minutes:C,seconds:x,milliseconds:_,microseconds:Q,nanoseconds:R}=iG(q(e,Xe),q(e,rt),q(e,nt),q(e,qt),q(e,Lt),q(e,Ht),q(e,Gt),q(e,jt),q(e,zt),q(o,Xe),q(o,rt),q(o,nt),q(o,qt),q(o,Lt),q(o,Ht),q(o,Gt),q(o,jt),q(o,zt),s,d.largestUnit,f),k=h1(e);return{years:p,months:u,weeks:y,days:B,hours:S,minutes:C,seconds:x,milliseconds:_,microseconds:Q,nanoseconds:R}=N0(p,u,y,B,S,C,x,_,Q,R,d.roundingIncrement,d.smallestUnit,d.roundingMode,k),{days:B,hours:S,minutes:C,seconds:x,milliseconds:_,microseconds:Q,nanoseconds:R}=Pf(B,S,C,x,_,Q,R,d.largestUnit),new(Je("%Temporal.Duration%"))(n*p,n*u,n*y,n*B,n*S,n*C,n*x,n*_,n*Q,n*R)}function Ame(t,e,r,i){let n=t==="since"?-1:1,o=k0(r),s=v1(t,ZA(i),"time",[],"nanosecond","hour"),{hours:f,minutes:d,seconds:p,milliseconds:u,microseconds:y,nanoseconds:B}=fIe(q(e,qt),q(e,Lt),q(e,Ht),q(e,Gt),q(e,jt),q(e,zt),q(o,qt),q(o,Lt),q(o,Ht),q(o,Gt),q(o,jt),q(o,zt));return{hours:f,minutes:d,seconds:p,milliseconds:u,microseconds:y,nanoseconds:B}=N0(0,0,0,0,f,d,p,u,y,B,s.roundingIncrement,s.smallestUnit,s.roundingMode),{hours:f,minutes:d,seconds:p,milliseconds:u,microseconds:y,nanoseconds:B}=Pf(0,f,d,p,u,y,B,s.largestUnit),new(Je("%Temporal.Duration%"))(0,0,0,0,n*f,n*d,n*p,n*u,n*y,n*B)}function gme(t,e,r,i){let n=t==="since"?-1:1,o=Ux(r),s=q(e,Ae);PD(s,q(o,Ae),"compute difference between months");let f=ZA(i),d=v1(t,f,"date",["week","day"],"month","year");f.largestUnit=d.largestUnit;let p=yn(s,["monthCode","year"]),u=Wt(e,p,[]);u.day=1;let y=F0(s,u),B=Wt(o,p,[]);B.day=1;let S=F0(s,B),{years:C,months:x}=HA(s,y,S,f);return d.smallestUnit==="month"&&d.roundingIncrement===1||({years:C,months:x}=N0(C,x,0,0,0,0,0,0,0,0,d.roundingIncrement,d.smallestUnit,d.roundingMode,y)),new(Je("%Temporal.Duration%"))(n*C,n*x,0,0,0,0,0,0,0,0)}function yme(t,e,r,i){let n=t==="since"?-1:1,o=Fx(r),s=q(e,Ae);PD(s,q(o,Ae),"compute difference between dates");let f=ZA(i),d=v1(t,f,"datetime",[],"nanosecond","hour");f.largestUnit=d.largestUnit;let p=q(e,wt),u=q(o,wt),y,B,S,C,x,_,Q,R,k,K;if(d.largestUnit!=="year"&&d.largestUnit!=="month"&&d.largestUnit!=="week"&&d.largestUnit!=="day")y=0,B=0,S=0,C=0,{hours:x,minutes:_,seconds:Q,milliseconds:R,microseconds:k,nanoseconds:K}=rG(p,u,d.roundingIncrement,d.smallestUnit,d.largestUnit,d.roundingMode);else{let T=q(e,zr);if(!Zme(T,q(o,zr)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:y,months:B,weeks:S,days:C,hours:x,minutes:_,seconds:Q,milliseconds:R,microseconds:k,nanoseconds:K}=dIe(p,u,T,s,d.largestUnit,f)),{years:y,months:B,weeks:S,days:C,hours:x,minutes:_,seconds:Q,milliseconds:R,microseconds:k,nanoseconds:K}=N0(y,B,S,C,x,_,Q,R,k,K,d.roundingIncrement,d.smallestUnit,d.roundingMode,e),{years:y,months:B,weeks:S,days:C,hours:x,minutes:_,seconds:Q,milliseconds:R,microseconds:k,nanoseconds:K}=pIe(y,B,S,C,x,_,Q,R,k,K,d.roundingIncrement,d.smallestUnit,d.roundingMode,e)}return new(Je("%Temporal.Duration%"))(n*y,n*B,n*S,n*C,n*x,n*_,n*Q,n*R,n*k,n*K)}function aI(t,e,r,i,n,o,s,f){let d=t,p=e,u=r,y=o,B=s;return d+=i,p+=n,{year:d,month:p}=cD(d,p),{year:d,month:p,day:u}=gD(d,p,u,f),B+=7*y,u+=B,{year:d,month:p,day:u}=qD(d,p,u),{year:d,month:p,day:u}}function uIe(t,e,r,i,n,o,s,f,d,p,u,y){let B=t,S=e,C=r,x=i,_=n,Q=o;B+=s,S+=f,C+=d,x+=p,_+=u,Q+=y;let R=0;return{deltaDays:R,hour:B,minute:S,second:C,millisecond:x,microsecond:_,nanosecond:Q}=M0(B,S,C,x,_,Q),{deltaDays:R,hour:B,minute:S,second:C,millisecond:x,microsecond:_,nanosecond:Q}}function hIe(t,e,r,i,n,o,s,f,d,p,u,y,B,S,C,x,_,Q,R,k,K){let T=uI(pH(t,e,r,i,n,o,s,f,d,p),pH(u,y,B,S,C,x,_,Q,R,k)),L,H,O,G,v,a,h,g,l,A;if(K)if(tr(K)){let w=Je("%Temporal.Duration%"),E=q(K,Ae),m=new w(t,e,r,i,0,0,0,0,0,0),c=new w(u,y,B,S,0,0,0,0,0,0),I=typeof E!="string"?Kr(E,"dateAdd"):void 0,M=fo(E,K,m,void 0,I),D=fo(E,M,c,void 0,I),P=uI("day",T),j=To(null);j.largestUnit=P,{years:L,months:H,weeks:O,days:G}=HA(E,K,D,j),{days:G,hours:v,minutes:a,seconds:h,milliseconds:g,microseconds:l,nanoseconds:A}=Pf(G,J.default.add(J.default.BigInt(n),J.default.BigInt(C)),J.default.add(J.default.BigInt(o),J.default.BigInt(x)),J.default.add(J.default.BigInt(s),J.default.BigInt(_)),J.default.add(J.default.BigInt(f),J.default.BigInt(Q)),J.default.add(J.default.BigInt(d),J.default.BigInt(R)),J.default.add(J.default.BigInt(p),J.default.BigInt(k)),T)}else{let w=Je("%Temporal.Instant%"),E=q(K,zr),m=q(K,Ae),c=_c(q(K,Mo),E,m,t,e,r,i,n,o,s,f,d,p),I=_c(new w(c),E,m,u,y,B,S,C,x,_,Q,R,k);T!=="year"&&T!=="month"&&T!=="week"&&T!=="day"?(L=0,H=0,O=0,G=0,{hours:v,minutes:a,seconds:h,milliseconds:g,microseconds:l,nanoseconds:A}=rG(q(K,wt),I,1,"nanosecond",T,"halfExpand")):{years:L,months:H,weeks:O,days:G,hours:v,minutes:a,seconds:h,milliseconds:g,microseconds:l,nanoseconds:A}=dIe(q(K,wt),I,E,m,T,To(null))}else{if(T==="year"||T==="month"||T==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");L=H=O=0,{days:G,hours:v,minutes:a,seconds:h,milliseconds:g,microseconds:l,nanoseconds:A}=Pf(i+S,J.default.add(J.default.BigInt(n),J.default.BigInt(C)),J.default.add(J.default.BigInt(o),J.default.BigInt(x)),J.default.add(J.default.BigInt(s),J.default.BigInt(_)),J.default.add(J.default.BigInt(f),J.default.BigInt(Q)),J.default.add(J.default.BigInt(d),J.default.BigInt(R)),J.default.add(J.default.BigInt(p),J.default.BigInt(k)),T)}return bD(L,H,O,G,v,a,h,g,l,A),{years:L,months:H,weeks:O,days:G,hours:v,minutes:a,seconds:h,milliseconds:g,microseconds:l,nanoseconds:A}}function mH(t,e,r,i,n,o,s){let f=Ki;f=J.default.add(f,J.default.BigInt(s)),f=J.default.add(f,J.default.multiply(J.default.BigInt(o),Ur)),f=J.default.add(f,J.default.multiply(J.default.BigInt(n),Sc)),f=J.default.add(f,J.default.multiply(J.default.BigInt(i),Mh)),f=J.default.add(f,J.default.multiply(J.default.BigInt(r),J.default.BigInt(6e10))),f=J.default.add(f,J.default.multiply(J.default.BigInt(e),J.default.BigInt(36e11)));let d=J.default.add(t,f);return nI(d),d}function IH(t,e,r,i,n,o,s,f,d,p,u,y,B,S,C,x,_,Q,R,k,K){let T=S,{deltaDays:L,hour:H,minute:O,second:G,millisecond:v,microsecond:a,nanosecond:h}=uIe(i,n,o,s,f,d,C,x,_,Q,R,k);T+=L;let g=Je("%Temporal.Duration%"),l=fo(p,Qc(t,e,r,p),new g(u,y,B,T,0,0,0,0,0,0),K);return{year:q(l,Xe),month:q(l,rt),day:q(l,nt),hour:H,minute:O,second:G,millisecond:v,microsecond:a,nanosecond:h}}function _c(t,e,r,i,n,o,s,f,d,p,u,y,B,S){let C=Je("%Temporal.Duration%");if(kh(i,n,o,s,0,0,0,0,0,0)===0)return mH(q(t,wt),f,d,p,u,y,B);let x=Oa(e,t,r),_=fo(r,Qc(q(x,Xe),q(x,rt),q(x,nt),r),new C(i,n,o,s,0,0,0,0,0,0),S),Q=oa(q(_,Xe),q(_,rt),q(_,nt),q(x,qt),q(x,Lt),q(x,Ht),q(x,Gt),q(x,jt),q(x,zt),r);return mH(q(cs(e,Q,"compatible"),wt),f,d,p,u,y,B)}function mme(t,e,r,i){let n=t==="subtract"?-1:1,{years:o,months:s,weeks:f,days:d,hours:p,minutes:u,seconds:y,milliseconds:B,microseconds:S,nanoseconds:C}=gI(r),x=aD(ur(i));return{years:o,months:s,weeks:f,days:d,hours:p,minutes:u,seconds:y,milliseconds:B,microseconds:S,nanoseconds:C}=hIe(q(e,Xo),q(e,Zn),q(e,Ds),q(e,es),q(e,ts),q(e,rs),q(e,is),q(e,ns),q(e,os),q(e,ss),n*o,n*s,n*f,n*d,n*p,n*u,n*y,n*B,n*S,n*C,x),new(Je("%Temporal.Duration%"))(o,s,f,d,p,u,y,B,S,C)}function Ime(t,e,r){let i=t==="subtract"?-1:1,{hours:n,minutes:o,seconds:s,milliseconds:f,microseconds:d,nanoseconds:p}=function(B,S){let C=gI(B);for(let x of S)if(C[x]!==0)throw new RangeError(`Duration field ${x} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return C}(r,["years","months","weeks","days"]),u=mH(q(e,wt),i*n,i*o,i*s,i*f,i*d,i*p);return new(Je("%Temporal.Instant%"))(u)}function wme(t,e,r,i){let n=t==="subtract"?-1:1,{years:o,months:s,weeks:f,days:d,hours:p,minutes:u,seconds:y,milliseconds:B,microseconds:S,nanoseconds:C}=gI(r),x=ur(i),_=q(e,Ae),{year:Q,month:R,day:k,hour:K,minute:T,second:L,millisecond:H,microsecond:O,nanosecond:G}=IH(q(e,Xe),q(e,rt),q(e,nt),q(e,qt),q(e,Lt),q(e,Ht),q(e,Gt),q(e,jt),q(e,zt),_,n*o,n*s,n*f,n*d,n*p,n*u,n*y,n*B,n*S,n*C,x);return oa(Q,R,k,K,T,L,H,O,G,_)}function vme(t,e,r){let i=t==="subtract"?-1:1,{hours:n,minutes:o,seconds:s,milliseconds:f,microseconds:d,nanoseconds:p}=gI(r),{hour:u,minute:y,second:B,millisecond:S,microsecond:C,nanosecond:x}=uIe(q(e,qt),q(e,Lt),q(e,Ht),q(e,Gt),q(e,jt),q(e,zt),i*n,i*o,i*s,i*f,i*d,i*p);return{hour:u,minute:y,second:B,millisecond:S,microsecond:C,nanosecond:x}=QD(u,y,B,S,C,x,"reject"),new(Je("%Temporal.PlainTime%"))(u,y,B,S,C,x)}function bme(t,e,r,i){let n=gI(r);t==="subtract"&&(n={years:-n.years,months:-n.months,weeks:-n.weeks,days:-n.days,hours:-n.hours,minutes:-n.minutes,seconds:-n.seconds,milliseconds:-n.milliseconds,microseconds:-n.microseconds,nanoseconds:-n.nanoseconds});let{years:o,months:s,weeks:f,days:d,hours:p,minutes:u,seconds:y,milliseconds:B,microseconds:S,nanoseconds:C}=n;({days:d}=Pf(d,p,u,y,B,S,C,"day"));let x=ur(i),_=q(e,Ae),Q=yn(_,["monthCode","year"]),R=Wt(e,Q,[]),k=To(null);t1(k,R,[]),R.day=1;let K=F0(_,R),T=kh(o,s,f,d,0,0,0,0,0,0),L=Kr(_,"dateAdd"),H=Je("%Temporal.Duration%");if(T<0){let v=fo(_,K,new H(0,1,0,0,0,0,0,0,0,0),void 0,L),a=fo(_,v,new H(0,0,0,-1,0,0,0,0,0,0),void 0,L);k.day=s3(_,a),K=F0(_,k)}let O=new H(o,s,f,d,0,0,0,0,0,0),G=ZA(x);return lI(_,Wt(fo(_,K,O,x,L),Q,[]),G)}function Eme(t,e,r,i){let n=t==="subtract"?-1:1,{years:o,months:s,weeks:f,days:d,hours:p,minutes:u,seconds:y,milliseconds:B,microseconds:S,nanoseconds:C}=gI(r),x=ur(i),_=q(e,zr),Q=q(e,Ae);return co(_c(q(e,Mo),_,Q,n*o,n*s,n*f,n*d,n*p,n*u,n*y,n*B,n*S,n*C,x),_,Q)}function Pa(t,e,r){if(J.default.equal(e,g1))return t;let{quotient:i,remainder:n}=fn(t,e);if(J.default.equal(n,Ki))return t;let o=J.default.lessThan(n,Ki)?-1:1,s=Yd(J.default.multiply(n,J.default.BigInt(2))),f=J.default.equal(s,e),d=J.default.greaterThan(s,e);switch(r){case"ceil":o>0&&(i=J.default.add(i,J.default.BigInt(o)));break;case"floor":o<0&&(i=J.default.add(i,J.default.BigInt(o)));break;case"expand":i=J.default.add(i,J.default.BigInt(o));break;case"trunc":break;case"halfCeil":(d||f&&o>0)&&(i=J.default.add(i,J.default.BigInt(o)));break;case"halfFloor":(d||f&&o<0)&&(i=J.default.add(i,J.default.BigInt(o)));break;case"halfExpand":(d||f)&&(i=J.default.add(i,J.default.BigInt(o)));break;case"halfTrunc":d&&(i=J.default.add(i,J.default.BigInt(o)));break;case"halfEven":(d||f&&J.default.toNumber(J.default.remainder(Yd(i),J.default.BigInt(2)))===1)&&(i=J.default.add(i,J.default.BigInt(o)))}return J.default.multiply(i,e)}function ED(t,e,r,i){let{remainder:n}=iI(t,Th),o=J.default.subtract(t,n),s=Pa(n,J.default.BigInt(yIe[r]*e),i);return J.default.add(o,s)}function nG(t,e,r,i,n,o,s,f,d,p,u,y,B=864e11){let{deltaDays:S,hour:C,minute:x,second:_,millisecond:Q,microsecond:R,nanosecond:k}=oG(i,n,o,s,f,d,p,u,y,B),{year:K,month:T,day:L}=qD(t,e,r+S);return{year:K,month:T,day:L,hour:C,minute:x,second:_,millisecond:Q,microsecond:R,nanosecond:k}}function oG(t,e,r,i,n,o,s,f,d,p=864e11){let u=Ki;switch(f){case"day":case"hour":u=J.default.BigInt(t);case"minute":u=J.default.add(J.default.multiply(u,Dh),J.default.BigInt(e));case"second":u=J.default.add(J.default.multiply(u,Dh),J.default.BigInt(r));case"millisecond":u=J.default.add(J.default.multiply(u,Ur),J.default.BigInt(i));case"microsecond":u=J.default.add(J.default.multiply(u,Ur),J.default.BigInt(n));case"nanosecond":u=J.default.add(J.default.multiply(u,Ur),J.default.BigInt(o))}let y=f==="day"?p:yIe[f],B=Pa(u,J.default.BigInt(y*s),d),S=J.default.toNumber(J.default.divide(B,J.default.BigInt(y)));switch(f){case"day":return{deltaDays:S,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return M0(S,0,0,0,0,0);case"minute":return M0(t,S,0,0,0,0);case"second":return M0(t,e,S,0,0,0);case"millisecond":return M0(t,e,r,S,0,0);case"microsecond":return M0(t,e,r,i,S,0);case"nanosecond":return M0(t,e,r,i,n,S);default:throw new Error(`Invalid unit ${f}`)}}function fD(t,e){return tG(q(t,Xe),q(t,rt),q(t,nt),q(e,Xe),q(e,rt),q(e,nt),"day").days}function Do(t,e,r,i){let n=fo(t,e,r,void 0,i);return{relativeTo:n,days:fD(e,n)}}function lIe(t,e,r,i,n){let o=q(t,zr),s=q(t,Ae);return co(_c(q(t,Mo),o,s,e,r,i,n,0,0,0,0,0,0),o,s)}function pIe(t,e,r,i,n,o,s,f,d,p,u,y,B,S){let C=t,x=e,_=r,Q=i,R=n,k=o,K=s,T=f,L=d,H=p;if(!st(S)||y==="year"||y==="month"||y==="week"||y==="day"||y==="nanosecond"&&u===1)return{years:C,months:x,weeks:_,days:Q,hours:R,minutes:k,seconds:K,milliseconds:T,microseconds:L,nanoseconds:H};let O=l1(0,R,k,K,T,L,H,0),G=a1(J.default.toNumber(O)),v=q(S,zr),a=q(S,Ae),h=_c(q(S,Mo),v,a,C,x,_,Q,0,0,0,0,0,0),g=_c(new(Je("%Temporal.Instant%"))(h),v,a,0,0,0,G,0,0,0,0,0,0),l=J.default.subtract(g,h);return J.default.greaterThanOrEqual(J.default.multiply(J.default.subtract(O,l),J.default.BigInt(G)),Ki)&&({years:C,months:x,weeks:_,days:Q}=hIe(C,x,_,Q,0,0,0,0,0,0,0,0,0,G,0,0,0,0,0,0,S),O=ED(J.default.subtract(O,l),u,y,B),{hours:R,minutes:k,seconds:K,milliseconds:T,microseconds:L,nanoseconds:H}=Pf(0,0,0,0,0,0,J.default.toNumber(O),"hour")),{years:C,months:x,weeks:_,days:Q,hours:R,minutes:k,seconds:K,milliseconds:T,microseconds:L,nanoseconds:H}}function N0(t,e,r,i,n,o,s,f,d,p,u,y,B,S){let C=t,x=e,_=r,Q=i,R=n,k=o,K=s,T=f,L=d,H=J.default.BigInt(p),O=Je("%Temporal.Duration%"),G,v,a,h,g=S;if(g){if(st(g))v=g,g=Yr(g);else if(!tr(g))throw new TypeError("starting point must be PlainDate or ZonedDateTime");G=q(g,Ae)}if(y==="year"||y==="month"||y==="week"||y==="day"){let l,A,w;H=l1(0,R,k,K,T,L,p,0),v&&(l=lIe(v,C,x,_,Q)),{days:A,nanoseconds:H,dayLengthNs:w}=XH(H,l),a=J.default.BigInt(w),Q+=A,R=k=K=T=L=0}switch(y){case"year":{if(!G)throw new RangeError("A starting point is required for years rounding");let l=new O(C),A=typeof G!="string"?Kr(G,"dateAdd"):void 0,w=fo(G,g,l,void 0,A),E=fo(G,g,new O(C,x,_),void 0,A);g=w,Q+=fD(w,E);let m=fo(G,g,new O(0,0,0,Q),void 0,A),c=To(null);c.largestUnit="year";let I=HA(G,g,m,c).years;C+=I;let M=g;g=fo(G,g,new O(I),void 0,A),Q-=fD(M,g);let D=new O(Q<0?-1:1),{days:P}=Do(G,g,D,A);P=hi(P);let j=J.default.multiply(J.default.BigInt(P),a);H=J.default.add(J.default.add(J.default.multiply(j,J.default.BigInt(C)),J.default.multiply(J.default.BigInt(Q),a)),H);let Y=Pa(H,J.default.multiply(j,J.default.BigInt(u)),B);h=_h(H,j),C=J.default.toNumber(J.default.divide(Y,j)),H=Ki,x=_=Q=0;break}case"month":{if(!G)throw new RangeError("A starting point is required for months rounding");let l=new O(C,x),A=typeof G!="string"?Kr(G,"dateAdd"):void 0,w=fo(G,g,l,void 0,A),E=fo(G,g,new O(C,x,_),void 0,A);g=w,Q+=fD(w,E);let m=a1(Q),c=new O(0,Q<0?-1:1),I;for({relativeTo:g,days:I}=Do(G,g,c,A);hi(Q)>=hi(I);)x+=m,Q-=I,{relativeTo:g,days:I}=Do(G,g,c,A);I=hi(I);let M=J.default.multiply(J.default.BigInt(I),a);H=J.default.add(J.default.add(J.default.multiply(M,J.default.BigInt(x)),J.default.multiply(J.default.BigInt(Q),a)),H);let D=Pa(H,J.default.multiply(M,J.default.BigInt(u)),B);h=_h(H,M),x=J.default.toNumber(J.default.divide(D,M)),H=Ki,_=Q=0;break}case"week":{if(!G)throw new RangeError("A starting point is required for weeks rounding");let l=a1(Q),A=new O(0,0,Q<0?-1:1),w=typeof G!="string"?Kr(G,"dateAdd"):void 0,E;for({relativeTo:g,days:E}=Do(G,g,A,w);hi(Q)>=hi(E);)_+=l,Q-=E,{relativeTo:g,days:E}=Do(G,g,A,w);E=hi(E);let m=J.default.multiply(J.default.BigInt(E),a);H=J.default.add(J.default.add(J.default.multiply(m,J.default.BigInt(_)),J.default.multiply(J.default.BigInt(Q),a)),H);let c=Pa(H,J.default.multiply(m,J.default.BigInt(u)),B);h=_h(H,m),_=J.default.toNumber(J.default.divide(c,m)),H=Ki,Q=0;break}case"day":{let l=a;H=J.default.add(J.default.multiply(l,J.default.BigInt(Q)),H);let A=Pa(H,J.default.multiply(l,J.default.BigInt(u)),B);h=_h(H,l),Q=J.default.toNumber(J.default.divide(A,l)),H=Ki;break}case"hour":{let A=J.default.multiply(J.default.BigInt(R),J.default.BigInt(36e11));A=J.default.add(A,J.default.multiply(J.default.BigInt(k),J.default.BigInt(6e10))),A=J.default.add(A,J.default.multiply(J.default.BigInt(K),Mh)),A=J.default.add(A,J.default.multiply(J.default.BigInt(T),Sc)),A=J.default.add(A,J.default.multiply(J.default.BigInt(L),Ur)),A=J.default.add(A,H),h=_h(A,J.default.BigInt(36e11));let w=Pa(A,J.default.BigInt(36e11*u),B);R=J.default.toNumber(J.default.divide(w,J.default.BigInt(36e11))),H=Ki,k=K=T=L=0;break}case"minute":{let A=J.default.multiply(J.default.BigInt(k),J.default.BigInt(6e10));A=J.default.add(A,J.default.multiply(J.default.BigInt(K),Mh)),A=J.default.add(A,J.default.multiply(J.default.BigInt(T),Sc)),A=J.default.add(A,J.default.multiply(J.default.BigInt(L),Ur)),A=J.default.add(A,H),h=_h(A,J.default.BigInt(6e10));let w=Pa(A,J.default.BigInt(6e10*u),B);k=J.default.toNumber(J.default.divide(w,J.default.BigInt(6e10))),H=Ki,K=T=L=0;break}case"second":{let A=J.default.multiply(J.default.BigInt(K),Mh);A=J.default.add(A,J.default.multiply(J.default.BigInt(T),Sc)),A=J.default.add(A,J.default.multiply(J.default.BigInt(L),Ur)),A=J.default.add(A,H),h=_h(A,J.default.BigInt(1e9));let w=Pa(A,J.default.BigInt(1e9*u),B);K=J.default.toNumber(J.default.divide(w,J.default.BigInt(1e9))),H=Ki,T=L=0;break}case"millisecond":{let A=J.default.multiply(J.default.BigInt(T),Sc);A=J.default.add(A,J.default.multiply(J.default.BigInt(L),Ur)),A=J.default.add(A,H),h=_h(A,J.default.BigInt(1e6));let w=Pa(A,J.default.BigInt(1e6*u),B);T=J.default.toNumber(J.default.divide(w,J.default.BigInt(1e6))),H=Ki,L=0;break}case"microsecond":{let A=J.default.multiply(J.default.BigInt(L),Ur);A=J.default.add(A,H),h=_h(A,J.default.BigInt(1e3));let w=Pa(A,J.default.BigInt(1e3*u),B);L=J.default.toNumber(J.default.divide(w,J.default.BigInt(1e3))),H=Ki;break}case"nanosecond":h=J.default.toNumber(H),H=Pa(J.default.BigInt(H),J.default.BigInt(u),B)}return{years:C,months:x,weeks:_,days:Q,hours:R,minutes:k,seconds:K,milliseconds:T,microseconds:L,nanoseconds:J.default.toNumber(H),total:h}}function LA(t,e,r,i,n,o){for(let[s,f]of[[t,i],[e,n],[r,o]])if(s!==f)return cI(s-f);return 0}function iI(t,e){let{quotient:r,remainder:i}=fn(t,e);return J.default.lessThan(i,Ki)&&(r=J.default.subtract(r,g1),i=J.default.add(i,e)),{quotient:r,remainder:i}}function i1(t,e){let{quotient:r,remainder:i}=fn(t,e);return xc(i)||!pD(t)==!pD(e)?r:J.default.subtract(r,g1)}function _h(t,e){let{quotient:r,remainder:i}=fn(t,e);return J.default.toNumber(r)+J.default.toNumber(i)/J.default.toNumber(e)}function BD(t){let e=Nx(t);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function Nx(t){let e=t;if(typeof t=="object"){let r=t[Symbol.toPrimitive];r&&typeof r=="function"&&(e=_D(r,t,["number"]))}if(typeof e=="number")throw new TypeError("cannot convert number to bigint");return typeof e=="bigint"?J.default.BigInt(e.toString(10)):J.default.BigInt(e)}var sG=(()=>{let t=J.default.BigInt(Date.now()%1e6);return()=>{let e=J.default.BigInt(Date.now()),r=J.default.add(J.default.multiply(e,Sc),t);return t=J.default.remainder(e,Sc),J.default.greaterThan(r,c1)?c1:J.default.lessThan(r,Ox)?Ox:r}})();function qA(){return new Nme().resolvedOptions().timeZone}function cI(t){return t<0?-1:t>0?1:t}function ur(t){if(t===void 0)return To(null);if(li(t)&&t!==null)return t;throw new TypeError("Options parameter must be an object, not "+(t===null?"null":typeof t))}function p1(t,e){let r=To(null);return r[t]=e,r}function ZA(t){let e=To(null);return t1(e,ur(t),[]),e}function YA(t,e,r,i){let n=t[e];if(n!==void 0){if(n=fs(n),!r.includes(n))throw new RangeError(`${e} must be one of ${r.join(", ")}, not ${n}`);return n}return i}function P0(t){return Ett.includes(Uh(t))}function Uh(t){return t.replace(/[A-Z]/g,e=>{let r=e.charCodeAt(0);return String.fromCharCode(r+32)})}var AIe=new RegExp(`^${Rme.source}$`);function gIe(t,e,r,i=t(e),n=t(r)){let o=J.default.BigInt(e),s=J.default.BigInt(r),f=i,d=n;for(;J.default.greaterThan(J.default.subtract(s,o),g1);){let p=J.default.divide(J.default.add(o,s),J.default.BigInt(2)),u=t(p);if(u===f)o=p,f=u;else{if(u!==d)throw new Error(`invalid state in bisection ${f} - ${u} - ${d}`);s=p,d=u}}return s}var yIe={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},mIe=Symbol("date"),IIe=Symbol("ym"),wIe=Symbol("md"),vIe=Symbol("time"),bIe=Symbol("datetime"),EIe=Symbol("instant"),n1=Symbol("original"),$b=Symbol("timezone"),Nf=Symbol("calendar-id"),BIe=Symbol("locale"),wH=Symbol("options"),Px=t=>({value:t,enumerable:!0,writable:!1,configurable:!0}),o1=globalThis.Intl.DateTimeFormat,O0=Object.assign,_tt=Object.prototype.hasOwnProperty,Qtt=Reflect.apply;function Zb(t,e){let r=t[e];return typeof r=="function"&&(r=new o1(t[BIe],r(t[wH])),t[e]=r),r}function pI(t,e={}){if(!(this instanceof pI))return new pI(t,e);let r=e!==void 0,i=r?O0({},e):{},n=new o1(t,i),o=n.resolvedOptions();if(r){let s=O0({},o);for(let f in s)Qtt(_tt,i,[f])||delete s[f];this[wH]=s}else this[wH]=i;this[BIe]=o.locale,this[n1]=n,this[$b]=o.timeZone,this[Nf]=o.calendar,this[mIe]=Ttt,this[IIe]=Mtt,this[wIe]=ktt,this[vIe]=Dtt,this[bIe]=Rtt,this[EIe]=Utt}Object.defineProperty(pI,"name",{writable:!0,value:"DateTimeFormat"}),pI.supportedLocalesOf=function(t,e){return o1.supportedLocalesOf(t,e)};var sH={resolvedOptions:Px(function(){return this[n1].resolvedOptions()}),format:Px(function(e,...r){let{instant:i,formatter:n}=s1(e,this);return i&&n?n.format(i.epochMilliseconds):this[n1].format(e,...r)}),formatRange:Px(function(e,r){if(A1(e)||A1(r)){if(!CIe(e,r))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");let{instant:i,formatter:n}=s1(e,this),{instant:o,formatter:s}=s1(r,this);if(i&&o&&n&&s&&n===s)return n.formatRange(i.epochMilliseconds,o.epochMilliseconds)}return this[n1].formatRange(e,r)})};"formatToParts"in o1.prototype&&(sH.formatToParts=Px(function(e,...r){let{instant:i,formatter:n}=s1(e,this);return i&&n?n.formatToParts(i.epochMilliseconds):this[n1].formatToParts(e,...r)})),"formatRangeToParts"in o1.prototype&&(sH.formatRangeToParts=Px(function(e,r){if(A1(e)||A1(r)){if(!CIe(e,r))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");let{instant:i,formatter:n}=s1(e,this),{instant:o,formatter:s}=s1(r,this);if(i&&o&&n&&s&&n===s)return n.formatRangeToParts(i.epochMilliseconds,o.epochMilliseconds)}return this[n1].formatRangeToParts(e,r)})),pI.prototype=Object.create(o1.prototype,sH),Object.defineProperty(pI,"prototype",{writable:!1,enumerable:!1,configurable:!1});var K0=pI;function f3(t={},e={}){let r=O0({},t);for(let i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])r[i]=i in e?e[i]:r[i],r[i]!==!1&&r[i]!==void 0||delete r[i];return r}function Dtt(t){let e=f3(t,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return cG(e)||(e=O0({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function Mtt(t){let e=f3(t,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=O0(e,{year:"numeric",month:"numeric"})),e}function ktt(t){let e=f3(t,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=O0({},e,{month:"numeric",day:"numeric"})),e}function Ttt(t){let e=f3(t,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return aG(e)||(e=O0({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function Rtt(t){let e=f3(t,{timeZoneName:!1});return cG(e)||aG(e)||(e=O0({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function Utt(t){let e=t;return cG(e)||aG(e)||(e=O0({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function aG(t){return"year"in t||"month"in t||"day"in t||"weekday"in t||"dateStyle"in t}function cG(t){return"hour"in t||"minute"in t||"second"in t||"timeStyle"in t||"dayPeriod"in t}function A1(t){return tr(t)||Oi(t)||Pt(t)||st(t)||Rr(t)||qn(t)||Tn(t)}function CIe(t,e){return!(!A1(t)||!A1(e))&&!(Oi(t)&&!Oi(e))&&!(tr(t)&&!tr(e))&&!(Pt(t)&&!Pt(e))&&!(st(t)&&!st(e))&&!(Rr(t)&&!Rr(e))&&!(qn(t)&&!qn(e))&&!(Tn(t)&&!Tn(e))}function s1(t,e){let r=Je("%Temporal.PlainDateTime%");if(Oi(t)){let i=new r(1970,1,1,q(t,qt),q(t,Lt),q(t,Ht),q(t,Gt),q(t,jt),q(t,zt),e[Nf]);return{instant:cs(e[$b],i,"compatible"),formatter:Zb(e,vIe)}}if(Rr(t)){let i=q(t,Xe),n=q(t,rt),o=q(t,nt),s=ho(q(t,Ae));if(s!==e[Nf])throw new RangeError(`cannot format PlainYearMonth with calendar ${s} in locale with calendar ${e[Nf]}`);let f=new r(i,n,o,12,0,0,0,0,0,s);return{instant:cs(e[$b],f,"compatible"),formatter:Zb(e,IIe)}}if(qn(t)){let i=q(t,Xe),n=q(t,rt),o=q(t,nt),s=ho(q(t,Ae));if(s!==e[Nf])throw new RangeError(`cannot format PlainMonthDay with calendar ${s} in locale with calendar ${e[Nf]}`);let f=new r(i,n,o,12,0,0,0,0,0,s);return{instant:cs(e[$b],f,"compatible"),formatter:Zb(e,wIe)}}if(tr(t)){let i=q(t,Xe),n=q(t,rt),o=q(t,nt),s=ho(q(t,Ae));if(s!=="iso8601"&&s!==e[Nf])throw new RangeError(`cannot format PlainDate with calendar ${s} in locale with calendar ${e[Nf]}`);let f=new r(i,n,o,12,0,0,0,0,0,e[Nf]);return{instant:cs(e[$b],f,"compatible"),formatter:Zb(e,mIe)}}if(Pt(t)){let i=q(t,Xe),n=q(t,rt),o=q(t,nt),s=q(t,qt),f=q(t,Lt),d=q(t,Ht),p=q(t,Gt),u=q(t,jt),y=q(t,zt),B=ho(q(t,Ae));if(B!=="iso8601"&&B!==e[Nf])throw new RangeError(`cannot format PlainDateTime with calendar ${B} in locale with calendar ${e[Nf]}`);let S=t;return B==="iso8601"&&(S=new r(i,n,o,s,f,d,p,u,y,e[Nf])),{instant:cs(e[$b],S,"compatible"),formatter:Zb(e,bIe)}}if(st(t))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return Tn(t)?{instant:t,formatter:Zb(e,EIe)}:{}}var eHt=Object.freeze({__proto__:null,DateTimeFormat:K0}),Hx=class t{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");let r=Nx(e);nI(r),Nh(this),Jt(this,wt,r)}get epochSeconds(){if(!Tn(this))throw new TypeError("invalid receiver");let e=q(this,wt);return J.default.toNumber(i1(e,Mh))}get epochMilliseconds(){if(!Tn(this))throw new TypeError("invalid receiver");let e=J.default.BigInt(q(this,wt));return J.default.toNumber(i1(e,Sc))}get epochMicroseconds(){if(!Tn(this))throw new TypeError("invalid receiver");return BD(i1(J.default.BigInt(q(this,wt)),Ur))}get epochNanoseconds(){if(!Tn(this))throw new TypeError("invalid receiver");return BD(J.default.BigInt(q(this,wt)))}add(e){if(!Tn(this))throw new TypeError("invalid receiver");return Ime("add",this,e)}subtract(e){if(!Tn(this))throw new TypeError("invalid receiver");return Ime("subtract",this,e)}until(e,r){if(!Tn(this))throw new TypeError("invalid receiver");return hme("until",this,e,r)}since(e,r){if(!Tn(this))throw new TypeError("invalid receiver");return hme("since",this,e,r)}round(e){if(!Tn(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?p1("smallestUnit",e):ur(e),i=m1(r),n=Vd(r,"halfExpand"),o=ca(r,"smallestUnit","time",dI);I1(i,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[o],!0);let s=ED(q(this,wt),i,o,n);return new t(s)}equals(e){if(!Tn(this))throw new TypeError("invalid receiver");let r=Jd(e),i=q(this,wt),n=q(r,wt);return J.default.equal(J.default.BigInt(i),J.default.BigInt(n))}toString(e){if(!Tn(this))throw new TypeError("invalid receiver");let r=ur(e),i=r3(r),n=Vd(r,"trunc"),o=ca(r,"smallestUnit","time",void 0);if(o==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let s=r.timeZone;s!==void 0&&(s=ko(s));let{precision:f,unit:d,increment:p}=i3(o,i),u=ED(q(this,wt),p,d,n);return ime(new t(u),s,f)}toJSON(){if(!Tn(this))throw new TypeError("invalid receiver");return ime(this,void 0,"auto")}toLocaleString(e,r){if(!Tn(this))throw new TypeError("invalid receiver");return new K0(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!Tn(this))throw new TypeError("invalid receiver");if(!li(e))throw new TypeError("invalid argument in toZonedDateTime");let r=e.calendar;if(r===void 0)throw new TypeError("missing calendar property in toZonedDateTime");let i=fa(r),n=e.timeZone;if(n===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");let o=ko(n);return co(q(this,wt),o,i)}toZonedDateTimeISO(e){if(!Tn(this))throw new TypeError("invalid receiver");let r=ko(e);return co(q(this,wt),r,"iso8601")}static fromEpochSeconds(e){let r=f1(e),i=J.default.multiply(J.default.BigInt(r),Mh);return nI(i),new t(i)}static fromEpochMilliseconds(e){let r=f1(e),i=J.default.multiply(J.default.BigInt(r),Sc);return nI(i),new t(i)}static fromEpochMicroseconds(e){let r=Nx(e),i=J.default.multiply(r,Ur);return nI(i),new t(i)}static fromEpochNanoseconds(e){let r=Nx(e);return nI(r),new t(r)}static from(e){return Tn(e)?new t(q(e,wt)):Jd(e)}static compare(e,r){let i=Jd(e),n=Jd(r),o=q(i,wt),s=q(n,wt);return J.default.lessThan(o,s)?-1:J.default.greaterThan(o,s)?1:0}};Fh(Hx,"Temporal.Instant");var xIe=Array.prototype.includes,Ftt=Array.prototype.push,Ntt=globalThis.Intl.DateTimeFormat,Ptt=Array.prototype.sort,Ott=Math.abs,Ktt=Math.floor,aH=Object.create,vH=Object.entries,SIe=Set,Bme=Reflect.ownKeys,Qo=Set.prototype.add,_Ie=Set.prototype.values,Bi={},Ei=class{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");let r=fs(e);if(!P0(r))throw new RangeError(`invalid calendar identifier ${r}`);Nh(this),Jt(this,Mi,Uh(r))}get id(){if(!Ni(this))throw new TypeError("invalid receiver");return q(this,Mi)}dateFromFields(e,r){if(!Ni(this))throw new TypeError("invalid receiver");if(!li(e))throw new TypeError("invalid fields");let i=ur(r),n=q(this,Mi);return Bi[n].dateFromFields(e,i,n)}yearMonthFromFields(e,r){if(!Ni(this))throw new TypeError("invalid receiver");if(!li(e))throw new TypeError("invalid fields");let i=ur(r),n=q(this,Mi);return Bi[n].yearMonthFromFields(e,i,n)}monthDayFromFields(e,r){if(!Ni(this))throw new TypeError("invalid receiver");if(!li(e))throw new TypeError("invalid fields");let i=ur(r),n=q(this,Mi);return Bi[n].monthDayFromFields(e,i,n)}fields(e){if(!Ni(this))throw new TypeError("invalid receiver");let r=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(let n of e){if(typeof n!="string")throw new TypeError("invalid fields");if(!i.has(n))throw new RangeError(`invalid field name ${n}`);i.delete(n),Ftt.call(r,n)}return Bi[q(this,Mi)].fields(r)}mergeFields(e,r){if(!Ni(this))throw new TypeError("invalid receiver");let i=tme(e),n=aH(null);t1(n,i,[],[void 0]);let o=tme(r),s=aH(null);t1(s,o,[],[void 0]);let f=Bme(s),d=Bi[q(this,Mi)].fieldKeysToIgnore(f),p=aH(null),u=Bme(n);for(let y of u){let B;B=lt(xIe,d,[y])?s[y]:n[y],B!==void 0&&(p[y]=B)}return t1(p,s,[]),p}dateAdd(e,r,i){if(!Ni(this))throw new TypeError("invalid receiver");let n=Yr(e),o=r1(r),s=dn(ur(i)),{days:f}=Pf(q(o,es),q(o,ts),q(o,rs),q(o,is),q(o,ns),q(o,os),q(o,ss),"day"),d=q(this,Mi);return Bi[d].dateAdd(n,q(o,Xo),q(o,Zn),q(o,Ds),f,s,d)}dateUntil(e,r,i){if(!Ni(this))throw new TypeError("invalid receiver");let n=Yr(e),o=Yr(r),s=ca(ur(i),"largestUnit","date","auto");s==="auto"&&(s="day");let{years:f,months:d,weeks:p,days:u}=Bi[q(this,Mi)].dateUntil(n,o,s);return new(Je("%Temporal.Duration%"))(f,d,p,u,0,0,0,0,0,0)}year(e){let r=e;if(!Ni(this))throw new TypeError("invalid receiver");return Rr(r)||(r=Yr(r)),Bi[q(this,Mi)].year(r)}month(e){let r=e;if(!Ni(this))throw new TypeError("invalid receiver");if(qn(r))throw new TypeError("use monthCode on PlainMonthDay instead");return Rr(r)||(r=Yr(r)),Bi[q(this,Mi)].month(r)}monthCode(e){let r=e;if(!Ni(this))throw new TypeError("invalid receiver");return Rr(r)||qn(r)||(r=Yr(r)),Bi[q(this,Mi)].monthCode(r)}day(e){let r=e;if(!Ni(this))throw new TypeError("invalid receiver");return qn(r)||(r=Yr(r)),Bi[q(this,Mi)].day(r)}era(e){let r=e;if(!Ni(this))throw new TypeError("invalid receiver");return Rr(r)||(r=Yr(r)),Bi[q(this,Mi)].era(r)}eraYear(e){let r=e;if(!Ni(this))throw new TypeError("invalid receiver");return Rr(r)||(r=Yr(r)),Bi[q(this,Mi)].eraYear(r)}dayOfWeek(e){if(!Ni(this))throw new TypeError("invalid receiver");let r=Yr(e);return Bi[q(this,Mi)].dayOfWeek(r)}dayOfYear(e){if(!Ni(this))throw new TypeError("invalid receiver");let r=Yr(e);return Bi[q(this,Mi)].dayOfYear(r)}weekOfYear(e){if(!Ni(this))throw new TypeError("invalid receiver");let r=Yr(e);return Bi[q(this,Mi)].weekOfYear(r)}yearOfWeek(e){if(!Ni(this))throw new TypeError("invalid receiver");let r=Yr(e);return Bi[q(this,Mi)].yearOfWeek(r)}daysInWeek(e){if(!Ni(this))throw new TypeError("invalid receiver");let r=Yr(e);return Bi[q(this,Mi)].daysInWeek(r)}daysInMonth(e){let r=e;if(!Ni(this))throw new TypeError("invalid receiver");return Rr(r)||(r=Yr(r)),Bi[q(this,Mi)].daysInMonth(r)}daysInYear(e){let r=e;if(!Ni(this))throw new TypeError("invalid receiver");return Rr(r)||(r=Yr(r)),Bi[q(this,Mi)].daysInYear(r)}monthsInYear(e){let r=e;if(!Ni(this))throw new TypeError("invalid receiver");return Rr(r)||(r=Yr(r)),Bi[q(this,Mi)].monthsInYear(r)}inLeapYear(e){let r=e;if(!Ni(this))throw new TypeError("invalid receiver");return Rr(r)||(r=Yr(r)),Bi[q(this,Mi)].inLeapYear(r)}toString(){if(!Ni(this))throw new TypeError("invalid receiver");return q(this,Mi)}toJSON(){if(!Ni(this))throw new TypeError("invalid receiver");return q(this,Mi)}static from(e){return w1(fa(e))}};function fG(t){if(!t.startsWith("M"))throw new RangeError(`Invalid month code: ${t}.  Month codes must start with M.`);let e=+t.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${t}`);return e}function U0(t,e=!1){return`M${t.toString().padStart(2,"0")}${e?"L":""}`}function dD(t,e,r=12){let{month:i,monthCode:n}=t;if(n===void 0){if(i===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&uo(i,1,r),e==="constrain"&&(i=sa(i,1,r)),n=U0(i)}else{let o=fG(n);if(i!==void 0&&i!==o)throw new RangeError(`monthCode ${n} and month ${i} must match if both are present`);if(n!==U0(o))throw new RangeError(`Invalid month code: ${n}`);if(i=o,i<1||i>r)throw new RangeError(`Invalid monthCode: ${n}`)}return{...t,month:i,monthCode:n}}Fh(Ei,"Temporal.Calendar"),ki("Temporal.Calendar.from",Ei.from),ki("Temporal.Calendar.prototype.dateAdd",Ei.prototype.dateAdd),ki("Temporal.Calendar.prototype.dateFromFields",Ei.prototype.dateFromFields),ki("Temporal.Calendar.prototype.dateUntil",Ei.prototype.dateUntil),ki("Temporal.Calendar.prototype.day",Ei.prototype.day),ki("Temporal.Calendar.prototype.dayOfWeek",Ei.prototype.dayOfWeek),ki("Temporal.Calendar.prototype.dayOfYear",Ei.prototype.dayOfYear),ki("Temporal.Calendar.prototype.daysInMonth",Ei.prototype.daysInMonth),ki("Temporal.Calendar.prototype.daysInWeek",Ei.prototype.daysInWeek),ki("Temporal.Calendar.prototype.daysInYear",Ei.prototype.daysInYear),ki("Temporal.Calendar.prototype.era",Ei.prototype.era),ki("Temporal.Calendar.prototype.eraYear",Ei.prototype.eraYear),ki("Temporal.Calendar.prototype.fields",Ei.prototype.fields),ki("Temporal.Calendar.prototype.inLeapYear",Ei.prototype.inLeapYear),ki("Temporal.Calendar.prototype.mergeFields",Ei.prototype.mergeFields),ki("Temporal.Calendar.prototype.month",Ei.prototype.month),ki("Temporal.Calendar.prototype.monthCode",Ei.prototype.monthCode),ki("Temporal.Calendar.prototype.monthDayFromFields",Ei.prototype.monthDayFromFields),ki("Temporal.Calendar.prototype.monthsInYear",Ei.prototype.monthsInYear),ki("Temporal.Calendar.prototype.weekOfYear",Ei.prototype.weekOfYear),ki("Temporal.Calendar.prototype.year",Ei.prototype.year),ki("Temporal.Calendar.prototype.yearMonthFromFields",Ei.prototype.yearMonthFromFields),ki("Temporal.Calendar.prototype.yearOfWeek",Ei.prototype.yearOfWeek),Bi.iso8601={dateFromFields(t,e,r){let i=Wt(t,["day","month","monthCode","year"],["year","day"]),n=dn(e);i=dD(i);let{year:o,month:s,day:f}=i;return{year:o,month:s,day:f}=gD(o,s,f,n),Qc(o,s,f,r)},yearMonthFromFields(t,e,r){let i=Wt(t,["month","monthCode","year"],["year"]),n=dn(e);i=dD(i);let{year:o,month:s}=i;return{year:o,month:s}=function(d,p,u){let y=d,B=p;switch(u){case"reject":Rh(y,B,1);break;case"constrain":({year:y,month:B}=sIe(y,B))}return{year:y,month:B}}(o,s,n),qx(o,s,r,1)},monthDayFromFields(t,e,r){let i=Wt(t,["day","month","monthCode","year"],["day"]),n=dn(e);if(i.month!==void 0&&i.year===void 0&&i.monthCode===void 0)throw new TypeError("either year or monthCode required with month");let o=i.monthCode===void 0;i=dD(i);let{month:s,day:f,year:d}=i;return{month:s,day:f}=gD(o?d:1972,s,f,n),Kx(s,f,r,1972)},fields:t=>t,fieldKeysToIgnore(t){let e=new SIe;for(let r=0;r<t.length;r++){let i=t[r];lt(Qo,e,[i]),i==="month"?lt(Qo,e,["monthCode"]):i==="monthCode"&&lt(Qo,e,["month"])}return[...lt(_Ie,e,[])]},dateAdd(t,e,r,i,n,o,s){let f=q(t,Xe),d=q(t,rt),p=q(t,nt);return{year:f,month:d,day:p}=aI(f,d,p,e,r,i,n,o),Qc(f,d,p,s)},dateUntil:(t,e,r)=>tG(q(t,Xe),q(t,rt),q(t,nt),q(e,Xe),q(e,rt),q(e,nt),r),year:t=>q(t,Xe),era(){},eraYear(){},month:t=>q(t,rt),monthCode:t=>U0(q(t,rt)),day:t=>q(t,nt),dayOfWeek:t=>yH(q(t,Xe),q(t,rt),q(t,nt)),dayOfYear:t=>vD(q(t,Xe),q(t,rt),q(t,nt)),weekOfYear:t=>dme(q(t,Xe),q(t,rt),q(t,nt)).week,yearOfWeek:t=>dme(q(t,Xe),q(t,rt),q(t,nt)).year,daysInWeek:()=>7,daysInMonth:t=>R0(q(t,Xe),q(t,rt)),daysInYear(t){let e=t;return Hn(e,Xe)||(e=Yr(e)),zA(q(e,Xe))?366:365},monthsInYear:()=>12,inLeapYear(t){let e=t;return Hn(e,Xe)||(e=Yr(e)),zA(q(e,Xe))}};var kn=class t{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),e!==void 0){let r=0;for(let i of e.map.entries()){if(++r>t.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(e){let r=this.map.get(e);return r&&(this.hits++,this.report()),this.calls++,r}set(e,r){this.map.set(e,r),this.misses++,this.report()}report(){}setObject(e){if(t.objectMap.get(e))throw new RangeError("object already cached");t.objectMap.set(e,this),this.report()}static getCacheForObject(e){let r=t.objectMap.get(e);return r||(r=new t,t.objectMap.set(e,r)),r}};function QIe({isoYear:t,isoMonth:e,isoDay:r}){return`${yI(t)}-${Ci(e)}-${Ci(r)}T00:00Z`}function cH(t,e){return{years:t.year-e.year,months:t.month-e.month,days:t.day-e.day}}kn.objectMap=new WeakMap,kn.MAX_CACHE_ENTRIES=1e3;var JA=class{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return this.formatter===void 0&&(this.formatter=new Ntt(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,r){let{year:i,month:n,day:o}=e,s=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:n,isoDay:o,id:this.id}),f=r.get(s);if(f)return f;let d=this.getFormatter(),p,u;try{u=QIe({isoYear:i,isoMonth:n,isoDay:o}),p=d.formatToParts(new Date(u))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:n,isoDay:o})}`)}let y={};for(let{type:S,value:C}of p){if(S==="year"&&(y.eraYear=+C),S==="relatedYear"&&(y.eraYear=+C),S==="month"){let x=/^([0-9]*)(.*?)$/.exec(C);if(!x||x.length!=3||!x[1]&&!x[2])throw new RangeError(`Unexpected month: ${C}`);if(y.month=x[1]?+x[1]:1,y.month<1)throw new RangeError(`Invalid month ${C} from ${u}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(y.month>13)throw new RangeError(`Invalid month ${C} from ${u}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);x[2]&&(y.monthExtra=x[2])}S==="day"&&(y.day=+C),this.hasEra&&S==="era"&&C!=null&&C!==""&&(C=C.split(" (")[0],y.era=C.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(y.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){let{era:S,eraYear:C}=this.reviseIntlEra(y,e);y.era=S,y.eraYear=C}this.checkIcuBugs&&this.checkIcuBugs(e);let B=this.adjustCalendarDate(y,r,"constrain",!0);if(B.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(B.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(B.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return r.set(s,B),["constrain","reject"].forEach(S=>{let C=JSON.stringify({func:"calendarToIsoDate",year:B.year,month:B.month,day:B.day,overflow:S,id:this.id});r.set(C,e)}),B}validateCalendarDate(e){let{era:r,month:i,year:n,day:o,eraYear:s,monthCode:f,monthExtra:d}=e;if(d!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(n===void 0&&s===void 0)throw new TypeError("year or eraYear is required");if(i===void 0&&f===void 0)throw new TypeError("month or monthCode is required");if(o===void 0)throw new RangeError("Missing day");if(f!==void 0){if(typeof f!="string")throw new RangeError("monthCode must be a string, not "+typeof f);if(!/^M([01]?\d)(L?)$/.test(f))throw new RangeError(`Invalid monthCode: ${f}`)}if(this.constantEra){if(r!==void 0&&r!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${r}`);if(s!==void 0&&n!==void 0&&s!==n)throw new RangeError(`eraYear ${s} does not match year ${n}`)}if(this.hasEra&&e.era===void 0!=(e.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(e,r,i="constrain",n=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let o=e;if(this.validateCalendarDate(o),this.constantEra){let{year:p,eraYear:u}=o;o={...o,era:this.constantEra,year:p!==void 0?p:u,eraYear:u!==void 0?u:p}}let s=this.monthsInYear(o,r),{month:f,monthCode:d}=o;return{month:f,monthCode:d}=dD(o,i,s),{...o,month:f,monthCode:d}}regulateMonthDayNaive(e,r,i){let n=this.monthsInYear(e,i),{month:o,day:s}=e;return r==="reject"?(uo(o,1,n),uo(s,1,this.maximumMonthLength(e))):(o=sa(o,1,n),s=sa(s,1,this.maximumMonthLength({...e,month:o}))),{...e,month:o,day:s}}calendarToIsoDate(e,r="constrain",i){let n=e,o=this.adjustCalendarDate(e,i,r,!1);o=this.regulateMonthDayNaive(o,r,i);let{year:s,month:f,day:d}=o,p=JSON.stringify({func:"calendarToIsoDate",year:s,month:f,day:d,overflow:r,id:this.id}),u,y=i.get(p);if(y||n.year!==void 0&&n.month!==void 0&&n.day!==void 0&&(n.year!==o.year||n.month!==o.month||n.day!==o.day)&&(u=JSON.stringify({func:"calendarToIsoDate",year:n.year,month:n.month,day:n.day,overflow:r,id:this.id}),y=i.get(u),y))return y;let B=this.estimateIsoDate({year:s,month:f,day:d}),S=R=>{let k=this.addDaysIso(B,R);if(o.day>this.minimumMonthLength(o)){let K=this.isoToCalendarDate(k,i);for(;K.month!==f||K.year!==s;){if(r==="reject")throw new RangeError(`day ${d} does not exist in month ${f} of year ${s}`);k=this.addDaysIso(k,-1),K=this.isoToCalendarDate(k,i)}}return k},C=0,x=this.isoToCalendarDate(B,i),_=cH(o,x);if(_.years!==0||_.months!==0||_.days!==0){let R=365*_.years+30*_.months+_.days;B=this.addDaysIso(B,R),x=this.isoToCalendarDate(B,i),_=cH(o,x),_.years===0&&_.months===0?B=S(_.days):C=this.compareCalendarDates(o,x)}let Q=8;for(;C;){B=this.addDaysIso(B,C*Q);let R=x;x=this.isoToCalendarDate(B,i);let k=C;if(C=this.compareCalendarDates(o,x),C){if(_=cH(o,x),_.years===0&&_.months===0)B=S(_.days),C=0;else if(k&&C!==k)if(Q>1)Q/=2;else{if(r==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...n})}`);this.compareCalendarDates(x,R)>0&&(B=this.addDaysIso(B,-1)),C=0}}}if(i.set(p,B),u&&i.set(u,B),o.year===void 0||o.month===void 0||o.day===void 0||o.monthCode===void 0||this.hasEra&&(o.era===void 0||o.eraYear===void 0))throw new RangeError("Unexpected missing property");return B}temporalToCalendarDate(e,r){let i={year:q(e,Xe),month:q(e,rt),day:q(e,nt)};return this.isoToCalendarDate(i,r)}compareCalendarDates(e,r){let i=Wt(e,["day","month","year"],["day","month","year"]),n=Wt(r,["day","month","year"],["day","month","year"]);return i.year!==n.year?cI(i.year-n.year):i.month!==n.month?cI(i.month-n.month):i.day!==n.day?cI(i.day-n.day):0}regulateDate(e,r="constrain",i){let n=this.calendarToIsoDate(e,r,i);return this.isoToCalendarDate(n,i)}addDaysIso(e,r){return aI(e.year,e.month,e.day,0,0,0,r,"constrain")}addDaysCalendar(e,r,i){let n=this.calendarToIsoDate(e,"constrain",i),o=this.addDaysIso(n,r);return this.isoToCalendarDate(o,i)}addMonthsCalendar(e,r,i,n){let o=e,{day:s}=o;for(let f=0,d=Ott(r);f<d;f++){let{month:p}=o,u=o,y=r<0?-Math.max(s,this.daysInPreviousMonth(o,n)):this.daysInMonth(o,n),B=this.calendarToIsoDate(o,"constrain",n),S=this.addDaysIso(B,y);if(o=this.isoToCalendarDate(S,n),r>0){let C=this.monthsInYear(u,n);for(;o.month-1!=p%C;)S=this.addDaysIso(S,-1),o=this.isoToCalendarDate(S,n)}o.day!==s&&(o=this.regulateDate({...o,day:s},"constrain",n))}if(i==="reject"&&o.day!==s)throw new RangeError(`Day ${s} does not exist in resulting calendar month`);return o}addCalendar(e,{years:r=0,months:i=0,weeks:n=0,days:o=0},s,f){let{year:d,day:p,monthCode:u}=e,y=this.adjustCalendarDate({year:d+r,monthCode:u,day:p},f),B=this.addMonthsCalendar(y,i,s,f),S=o+7*n;return this.addDaysCalendar(B,S,f)}untilCalendar(e,r,i,n){let o=0,s=0,f=0,d=0;switch(i){case"day":o=this.calendarDaysUntil(e,r,n);break;case"week":{let p=this.calendarDaysUntil(e,r,n);o=p%7,s=(p-o)/7;break}case"month":case"year":{let p=this.compareCalendarDates(r,e);if(!p)return{years:0,months:0,weeks:0,days:0};let u=r.year-e.year,y=r.day-e.day;if(i==="year"&&u){let C=0;r.monthCode>e.monthCode&&(C=1),r.monthCode<e.monthCode&&(C=-1),C||(C=Math.sign(y)),d=C*p<0?u-p:u}let B,S=d?this.addCalendar(e,{years:d},"constrain",n):e;do f+=p,B=S,S=this.addMonthsCalendar(B,p,"constrain",n),S.day!==e.day&&(S=this.regulateDate({...S,day:e.day},"constrain",n));while(this.compareCalendarDates(r,S)*p>=0);f-=p,o=this.calendarDaysUntil(B,r,n);break}}return{years:d,months:f,weeks:s,days:o}}daysInMonth(e,r){let{day:i}=e,n=this.maximumMonthLength(e),o=this.minimumMonthLength(e);if(o===n)return o;let s=i<=n-o?n:o,f=this.calendarToIsoDate(e,"constrain",r),d=this.addDaysIso(f,s),p=this.isoToCalendarDate(d,r),u=this.addDaysIso(d,-p.day);return this.isoToCalendarDate(u,r).day}daysInPreviousMonth(e,r){let{day:i,month:n,year:o}=e,s={year:n>1?o:o-1,month:n,day:1},f=n>1?n-1:this.monthsInYear(s,r);s={...s,month:f};let d=this.minimumMonthLength(s),p=this.maximumMonthLength(s);if(d===p)return p;let u=this.calendarToIsoDate(e,"constrain",r),y=this.addDaysIso(u,-i);return this.isoToCalendarDate(y,r).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,r,i){let n=this.calendarToIsoDate(e,"constrain",i),o=this.calendarToIsoDate(r,"constrain",i);return this.isoDaysUntil(n,o)}isoDaysUntil(e,r){return tG(e.year,e.month,e.day,r.year,r.month,r.day,"day").days}monthDayFromFields(e,r,i){let n,o,s,f,d,{monthCode:p,day:u}=e;if(p===void 0){let{year:S,era:C,eraYear:x}=e;if(S===void 0&&(C===void 0||x===void 0))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:p,day:u}=this.isoToCalendarDate(this.calendarToIsoDate(e,r,i),i))}let y=this.isoToCalendarDate({year:1972,month:12,day:31},i),B=y.monthCode>p||y.monthCode===p&&y.day>=u?y.year:y.year-1;for(let S=0;S<100;S++){let C=this.adjustCalendarDate({day:u,monthCode:p,year:B-S},i),x=this.calendarToIsoDate(C,"constrain",i),_=this.isoToCalendarDate(x,i);if({year:n,month:o,day:s}=x,_.monthCode===p&&_.day===u)return{month:o,day:s,year:n};r==="constrain"&&(f===void 0||_.monthCode===f.monthCode&&_.day>f.day)&&(f=_,d=x)}if(r==="constrain"&&d!==void 0)return d;throw new RangeError(`No recent ${this.id} year with monthCode ${p} and day ${u}`)}},bH=class extends JA{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){let{year:r}=e;return(7*r+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,r){let{month:i,year:n}=e,o=this.getMonthCode(n,i),s=vH(this.months).find(d=>d[1].monthCode===o);if(s===void 0)throw new RangeError(`unmatched Hebrew month: ${i}`);let f=s[1].days;return typeof f=="number"?f:f[r]}estimateIsoDate(e){let{year:r}=e;return{year:r-3760,month:1,day:1}}getMonthCode(e,r){return this.inLeapYear({year:e})?r===6?U0(5,!0):U0(r<6?r:r-1):U0(r)}adjustCalendarDate(e,r,i="constrain",n=!1){let{year:o,eraYear:s,month:f,monthCode:d,day:p,monthExtra:u}=e;if(o===void 0&&s!==void 0&&(o=s),s===void 0&&o!==void 0&&(s=o),n){if(u){let y=this.months[u];if(!y)throw new RangeError(`Unrecognized month from formatToParts: ${u}`);f=this.inLeapYear({year:o})?y.leap:y.regular}return d=this.getMonthCode(o,f),{year:o,month:f,day:p,era:void 0,eraYear:s,monthCode:d}}if(this.validateCalendarDate(e),f===void 0)if(d.endsWith("L")){if(d!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${d}`);if(f=6,!this.inLeapYear({year:o})){if(i==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${o} which is not a leap year`);f=6,d="M06"}}else{f=fG(d),this.inLeapYear({year:o})&&f>=6&&f++;let y=this.monthsInYear({year:o});if(f<1||f>y)throw new RangeError(`Invalid monthCode: ${d}`)}else if(i==="reject"?(uo(f,1,this.monthsInYear({year:o})),uo(p,1,this.maximumMonthLength({year:o,month:f}))):(f=sa(f,1,this.monthsInYear({year:o})),p=sa(p,1,this.maximumMonthLength({year:o,month:f}))),d===void 0)d=this.getMonthCode(o,f);else if(this.getMonthCode(o,f)!==d)throw new RangeError(`monthCode ${d} doesn't correspond to month ${f} in Hebrew year ${o}`);return{...e,day:p,month:f,monthCode:d,year:o,eraYear:s}}},VA=class extends JA{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,r){return this.daysInMonth({year:e.year,month:12,day:1},r)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){let{year:r}=this.adjustCalendarDate(e);return{year:Ktt(r*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}},CD=class extends VA{constructor(){super(...arguments),this.id="islamic"}},EH=class extends VA{constructor(){super(...arguments),this.id="islamic-umalqura"}},BH=class extends VA{constructor(){super(...arguments),this.id="islamic-tbla"}},CH=class extends VA{constructor(){super(...arguments),this.id="islamic-civil"}},xH=class extends VA{constructor(){super(...arguments),this.id="islamic-rgsa"}},SH=class extends VA{constructor(){super(...arguments),this.id="islamicc"}},_H=class extends JA{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,r){return CD.prototype.inLeapYear.call(this,e,r)}monthsInYear(){return 12}minimumMonthLength(e){let{month:r}=e;return r===12?29:r<=6?31:30}maximumMonthLength(e){let{month:r}=e;return r===12?30:r<=6?31:30}estimateIsoDate(e){let{year:r}=this.adjustCalendarDate(e);return{year:r+621,month:1,day:1}}},QH=class extends JA{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return DIe(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){let{month:r}=e,i=this.months[r];if(i===void 0)throw new RangeError(`Invalid month: ${r}`);return this.inLeapYear(e)&&i.leap&&(i=i.leap),i}estimateIsoDate(e){let r=this.adjustCalendarDate(e),i=this.getMonthInfo(r);return aI(r.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,r.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}};function DIe(t){return t%4==0&&(t%100!=0||t%400==0)}var AI=class extends JA{constructor(e,r){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;let{eras:i,anchorEra:n}=function(s){let f,d=s;if(d.length===0)throw new RangeError("Invalid era data: eras are required");if(d.length===1&&d[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(d.length===1&&!d[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(d.filter(u=>u.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");d.forEach(u=>{if(u.isAnchor||!u.anchorEpoch&&!u.reverseOf){if(f)throw new RangeError("Invalid era data: cannot have multiple anchor eras");f=u,u.anchorEpoch={year:u.hasYearZero?0:1}}else if(!u.name)throw new RangeError("If era name is blank, it must be the anchor era")}),d=d.filter(u=>u.name),d.forEach(u=>{let{reverseOf:y}=u;if(y){let B=d.find(S=>S.name===y);if(B===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${y}`);u.reverseOf=B,u.anchorEpoch=B.anchorEpoch,u.isoEpoch=B.isoEpoch}u.anchorEpoch.month===void 0&&(u.anchorEpoch.month=1),u.anchorEpoch.day===void 0&&(u.anchorEpoch.day=1)}),Ptt.call(d,(u,y)=>{if(u.reverseOf)return 1;if(y.reverseOf)return-1;if(!u.isoEpoch||!y.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return y.isoEpoch.year-u.isoEpoch.year});let p=d[d.length-1].reverseOf;if(p&&p!==d[d.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return d.forEach((u,y)=>{u.genericName="era"+(d.length-1-y)}),{eras:d,anchorEra:f||d[0]}}(r);this.anchorEra=n,this.eras=i}inLeapYear(e){let{year:r}=this.estimateIsoDate({month:1,day:1,year:e.year});return DIe(r)}monthsInYear(){return 12}minimumMonthLength(e){let{month:r}=e;return r===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(r)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){let r=(f,d)=>{let p=e[f];if(p!=null&&p!=d)throw new RangeError(`Input ${f} ${p} doesn't match calculated value ${d}`)},i=f=>{let d,p={...e,year:f},u=this.eras.find((y,B)=>{if(B===this.eras.length-1){if(y.reverseOf){if(f>0)throw new RangeError(`Signed year ${f} is invalid for era ${y.name}`);return d=y.anchorEpoch.year-f,!0}return d=f-y.anchorEpoch.year+(y.hasYearZero?0:1),!0}return this.compareCalendarDates(p,y.anchorEpoch)>=0&&(d=f-y.anchorEpoch.year+(y.hasYearZero?0:1),!0)});if(!u)throw new RangeError(`Year ${f} was not matched by any era`);return{eraYear:d,era:u.name}},{year:n,eraYear:o,era:s}=e;if(n!=null)({eraYear:o,era:s}=i(n)),r("era",s),r("eraYear",o);else{if(o==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{let f=s===void 0?void 0:this.eras.find(d=>d.name===s||d.genericName===s);if(!f)throw new RangeError(`Era ${s} (ISO year ${o}) was not matched by any era`);if(o<1&&f.reverseOf)throw new RangeError(`Years in ${s} era must be positive, not ${n}`);n=f.reverseOf?f.anchorEpoch.year-o:o+f.anchorEpoch.year-(f.hasYearZero?0:1),r("year",n),{eraYear:o,era:s}=i(n)}}return{...e,year:n,eraYear:o,era:s}}adjustCalendarDate(e,r,i="constrain"){let n=e,{month:o,monthCode:s}=n;return o===void 0&&(n={...n,month:fG(s)}),this.validateCalendarDate(n),n=this.completeEraYear(n),super.adjustCalendarDate(n,r,i)}estimateIsoDate(e){let r=this.adjustCalendarDate(e),{year:i,month:n,day:o}=r,{anchorEra:s}=this;return gD(i+s.isoEpoch.year-(s.hasYearZero?0:1),n,o,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&LA(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}},Gx=class extends AI{constructor(e,r){super(e,r)}inLeapYear(e){let{year:r}=e;return(r+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){let{month:r}=e;return r===13?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}},DH=class extends Gx{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}},MH=class extends Gx{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}},kH=class extends Gx{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}},TH=class extends AI{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}},RH=class extends AI{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}},UH=class extends AI{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:r,eraYear:i}=e;return r!=="bc"&&r!=="b"||(r="bce"),r!=="ad"&&r!=="a"||(r="ce"),{era:r,eraYear:i}}},FH=class extends AI{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(e,r){let{era:i,eraYear:n}=e,{year:o}=r;return this.eras.find(s=>s.name===i)?{era:i,eraYear:n}:o<1?{era:"bce",eraYear:1-o}:{era:"ce",eraYear:o}}},xD=class extends JA{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,r){let i=this.getMonthList(e.year,r);return vH(i).length===13}monthsInYear(e,r){return this.inLeapYear(e,r)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,r){if(e===void 0)throw new TypeError("Missing year");let i=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),n=r.get(i);if(n)return n;let o=this.getFormatter(),s=(_,Q)=>{let R=QIe({isoYear:_,isoMonth:2,isoDay:1}),k=new Date(R);k.setUTCDate(Q+1);let K=o.formatToParts(k),T=K.find(O=>O.type==="month").value,L=+K.find(O=>O.type==="day").value,H=K.find(O=>O.type==="relatedYear");if(H===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return H=+H.value,{calendarMonthString:T,calendarDay:L,calendarYearToVerify:H}},f=17,{calendarMonthString:d,calendarDay:p,calendarYearToVerify:u}=s(e,f);d!=="1"&&(f+=29,{calendarMonthString:d,calendarDay:p}=s(e,f)),f-=p-5;let y={},B,S,C=1,x=!1;do({calendarMonthString:d,calendarDay:p,calendarYearToVerify:u}=s(e,f)),B&&(y[S].daysInMonth=B+30-p),u!==e?x=!0:(y[d]={monthIndex:C++},f+=30),B=p,S=d;while(!x);return y[S].daysInMonth=B+30-p,r.set(i,y),y}estimateIsoDate(e){let{year:r,month:i}=e;return{year:r,month:i>=12?12:i+1,day:1}}adjustCalendarDate(e,r,i="constrain",n=!1){let{year:o,month:s,monthExtra:f,day:d,monthCode:p,eraYear:u}=e;if(n){if(o=u,f&&f!=="bis")throw new RangeError(`Unexpected leap month suffix: ${f}`);let y=U0(s,f!==void 0),B=`${s}${f||""}`,S=this.getMonthList(o,r)[B];if(S===void 0)throw new RangeError(`Unmatched month ${B} in Chinese year ${o}`);return s=S.monthIndex,{year:o,month:s,day:d,era:void 0,eraYear:u,monthCode:y}}if(this.validateCalendarDate(e),o===void 0&&(o=u),u===void 0&&(u=o),s===void 0){let y=this.getMonthList(o,r),B=p.replace("L","bis").slice(1);B[0]==="0"&&(B=B.slice(1));let S=y[B];if(s=S&&S.monthIndex,s===void 0&&p.endsWith("L")&&p!="M13L"&&i==="constrain"){let C=p.slice(1,-1);C[0]==="0"&&(C=C.slice(1)),S=y[C],S&&(s=S.monthIndex,p=U0(C))}if(s===void 0)throw new RangeError(`Unmatched month ${p} in Chinese year ${o}`)}else if(p===void 0){let y=this.getMonthList(o,r),B=vH(y),S=B.length;i==="reject"?(uo(s,1,S),uo(d,1,this.maximumMonthLength())):(s=sa(s,1,S),d=sa(d,1,this.maximumMonthLength()));let C=B.find(([,x])=>x.monthIndex===s);if(C===void 0)throw new RangeError(`Invalid month ${s} in Chinese year ${o}`);p=U0(C[0].replace("bis",""),C[0].indexOf("bis")!==-1)}else{let y=this.getMonthList(o,r),B=p.replace("L","bis").slice(1);B[0]==="0"&&(B=B.slice(1));let S=y[B];if(!S)throw new RangeError(`Unmatched monthCode ${p} in Chinese year ${o}`);if(s!==S.monthIndex)throw new RangeError(`monthCode ${p} doesn't correspond to month ${s} in Chinese year ${o}`)}return{...e,year:o,eraYear:u,month:s,monthCode:p,day:d}}},NH=class extends xD{constructor(){super(...arguments),this.id="chinese"}},PH=class extends xD{constructor(){super(...arguments),this.id="dangi"}},OH=class{constructor(e){this.helper=e}dateFromFields(e,r,i){let n=new kn,o=Wt(e,this.fields(["day","month","monthCode","year"]),[]),s=dn(r),{year:f,month:d,day:p}=this.helper.calendarToIsoDate(o,s,n),u=Qc(f,d,p,i);return n.setObject(u),u}yearMonthFromFields(e,r,i){let n=new kn,o=Wt(e,this.fields(["month","monthCode","year"]),[]),s=dn(r),{year:f,month:d,day:p}=this.helper.calendarToIsoDate({...o,day:1},s,n),u=qx(f,d,i,p);return n.setObject(u),u}monthDayFromFields(e,r,i){let n=new kn,o=Wt(e,this.fields(["day","month","monthCode","year"]),[]),s=dn(r),{year:f,month:d,day:p}=this.helper.monthDayFromFields(o,s,n),u=Kx(d,p,i,f);return n.setObject(u),u}fields(e){let r=e;return xIe.call(r,"year")&&(r=[...r,"era","eraYear"]),r}fieldKeysToIgnore(e){let r=new SIe;for(let i=0;i<e.length;i++){let n=e[i];switch(lt(Qo,r,[n]),n){case"era":lt(Qo,r,["eraYear"]),lt(Qo,r,["year"]);break;case"eraYear":lt(Qo,r,["era"]),lt(Qo,r,["year"]);break;case"year":lt(Qo,r,["era"]),lt(Qo,r,["eraYear"]);break;case"month":lt(Qo,r,["monthCode"]),this.helper.erasBeginMidYear&&(lt(Qo,r,["era"]),lt(Qo,r,["eraYear"]));break;case"monthCode":lt(Qo,r,["month"]),this.helper.erasBeginMidYear&&(lt(Qo,r,["era"]),lt(Qo,r,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(lt(Qo,r,["era"]),lt(Qo,r,["eraYear"]))}}return[...lt(_Ie,r,[])]}dateAdd(e,r,i,n,o,s,f){let d=kn.getCacheForObject(e),p=this.helper.temporalToCalendarDate(e,d),u=this.helper.addCalendar(p,{years:r,months:i,weeks:n,days:o},s,d),y=this.helper.calendarToIsoDate(u,"constrain",d),{year:B,month:S,day:C}=y,x=Qc(B,S,C,f);return new kn(d).setObject(x),x}dateUntil(e,r,i){let n=kn.getCacheForObject(e),o=kn.getCacheForObject(r),s=this.helper.temporalToCalendarDate(e,n),f=this.helper.temporalToCalendarDate(r,o);return this.helper.untilCalendar(s,f,i,n)}year(e){let r=kn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).year}month(e){let r=kn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).month}day(e){let r=kn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).day}era(e){if(!this.helper.hasEra)return;let r=kn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).era}eraYear(e){if(!this.helper.hasEra)return;let r=kn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).eraYear}monthCode(e){let r=kn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).monthCode}dayOfWeek(e){return Bi.iso8601.dayOfWeek(e)}dayOfYear(e){let r=kn.getCacheForObject(e),i=this.helper.isoToCalendarDate(e,r),n=this.helper.startOfCalendarYear(i);return this.helper.calendarDaysUntil(n,i,r)+1}weekOfYear(e){return Bi.iso8601.weekOfYear(e)}yearOfWeek(e){return Bi.iso8601.yearOfWeek(e)}daysInWeek(e){return Bi.iso8601.daysInWeek(e)}daysInMonth(e){let r=kn.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,r),n=this.helper.maximumMonthLength(i);if(n===this.helper.minimumMonthLength(i))return n;let o=this.helper.startOfCalendarMonth(i),s=this.helper.addMonthsCalendar(o,1,"constrain",r);return this.helper.calendarDaysUntil(o,s,r)}daysInYear(e){let r=e;Hn(r,Xe)||(r=Yr(r));let i=kn.getCacheForObject(r),n=this.helper.temporalToCalendarDate(r,i),o=this.helper.startOfCalendarYear(n),s=this.helper.addCalendar(o,{years:1},"constrain",i);return this.helper.calendarDaysUntil(o,s,i)}monthsInYear(e){let r=kn.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,r);return this.helper.monthsInYear(i,r)}inLeapYear(e){let r=e;Hn(r,Xe)||(r=Yr(r));let i=kn.getCacheForObject(r),n=this.helper.temporalToCalendarDate(r,i);return this.helper.inLeapYear(n,i)}};for(let t of[bH,_H,kH,DH,MH,NH,PH,TH,QH,RH,UH,FH,CD,EH,BH,CH,xH,SH]){let e=new t;Bi[e.id]=new OH(e)}var jx=class t{constructor(e,r,i,n="iso8601"){Gme(this,_r(e),_r(r),_r(i),fa(n))}get calendarId(){if(!tr(this))throw new TypeError("invalid receiver");return ho(q(this,Ae))}get era(){if(!tr(this))throw new TypeError("invalid receiver");return kD(q(this,Ae),this)}get eraYear(){if(!tr(this))throw new TypeError("invalid receiver");return TD(q(this,Ae),this)}get year(){if(!tr(this))throw new TypeError("invalid receiver");return DD(q(this,Ae),this)}get month(){if(!tr(this))throw new TypeError("invalid receiver");return MD(q(this,Ae),this)}get monthCode(){if(!tr(this))throw new TypeError("invalid receiver");return o3(q(this,Ae),this)}get day(){if(!tr(this))throw new TypeError("invalid receiver");return s3(q(this,Ae),this)}get dayOfWeek(){if(!tr(this))throw new TypeError("invalid receiver");return jH(q(this,Ae),this)}get dayOfYear(){if(!tr(this))throw new TypeError("invalid receiver");return zH(q(this,Ae),this)}get weekOfYear(){if(!tr(this))throw new TypeError("invalid receiver");return YH(q(this,Ae),this)}get yearOfWeek(){if(!tr(this))throw new TypeError("invalid receiver");return JH(q(this,Ae),this)}get daysInWeek(){if(!tr(this))throw new TypeError("invalid receiver");return VH(q(this,Ae),this)}get daysInMonth(){if(!tr(this))throw new TypeError("invalid receiver");return RD(q(this,Ae),this)}get daysInYear(){if(!tr(this))throw new TypeError("invalid receiver");return UD(q(this,Ae),this)}get monthsInYear(){if(!tr(this))throw new TypeError("invalid receiver");return FD(q(this,Ae),this)}get inLeapYear(){if(!tr(this))throw new TypeError("invalid receiver");return ND(q(this,Ae),this)}with(e,r){if(!tr(this))throw new TypeError("invalid receiver");if(!li(e))throw new TypeError("invalid argument");y1(e);let i=ur(r),n=q(this,Ae),o=yn(n,["day","month","monthCode","year"]),s=Wt(this,o,[]);return s=hI(n,s,Wt(e,o,"partial")),s=Wt(s,o,[]),F0(n,s,i)}withCalendar(e){if(!tr(this))throw new TypeError("invalid receiver");let r=fa(e);return new t(q(this,Xe),q(this,rt),q(this,nt),r)}add(e,r){if(!tr(this))throw new TypeError("invalid receiver");let i=r1(e),n=ur(r);return fo(q(this,Ae),this,i,n)}subtract(e,r){if(!tr(this))throw new TypeError("invalid receiver");let i=oIe(r1(e)),n=ur(r);return fo(q(this,Ae),this,i,n)}until(e,r){if(!tr(this))throw new TypeError("invalid receiver");return lme("until",this,e,r)}since(e,r){if(!tr(this))throw new TypeError("invalid receiver");return lme("since",this,e,r)}equals(e){if(!tr(this))throw new TypeError("invalid receiver");let r=Yr(e);for(let i of[Xe,rt,nt])if(q(this,i)!==q(r,i))return!1;return c3(q(this,Ae),q(r,Ae))}toString(e){if(!tr(this))throw new TypeError("invalid receiver");return nme(this,t3(ur(e)))}toJSON(){if(!tr(this))throw new TypeError("invalid receiver");return nme(this)}toLocaleString(e,r){if(!tr(this))throw new TypeError("invalid receiver");return new K0(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!tr(this))throw new TypeError("invalid receiver");let r=q(this,Xe),i=q(this,rt),n=q(this,nt),o=q(this,Ae);if(e===void 0)return oa(r,i,n,0,0,0,0,0,0,o);let s=k0(e);return oa(r,i,n,q(s,qt),q(s,Lt),q(s,Ht),q(s,Gt),q(s,jt),q(s,zt),o)}toZonedDateTime(e){if(!tr(this))throw new TypeError("invalid receiver");let r,i;if(li(e))if(Cc(e))r=e;else{let C=e.timeZone;C===void 0?r=ko(e):(r=ko(C),i=e.plainTime)}else r=ko(e);let n=q(this,Xe),o=q(this,rt),s=q(this,nt),f=q(this,Ae),d=0,p=0,u=0,y=0,B=0,S=0;return i!==void 0&&(i=k0(i),d=q(i,qt),p=q(i,Lt),u=q(i,Ht),y=q(i,Gt),B=q(i,jt),S=q(i,zt)),co(q(cs(r,oa(n,o,s,d,p,u,y,B,S,f),"compatible"),wt),r,f)}toPlainYearMonth(){if(!tr(this))throw new TypeError("invalid receiver");let e=q(this,Ae);return lI(e,Wt(this,yn(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!tr(this))throw new TypeError("invalid receiver");let e=q(this,Ae);return u1(e,Wt(this,yn(e,["day","monthCode"]),[]))}getISOFields(){if(!tr(this))throw new TypeError("invalid receiver");return{calendar:q(this,Ae),isoDay:q(this,nt),isoMonth:q(this,rt),isoYear:q(this,Xe)}}getCalendar(){if(!tr(this))throw new TypeError("invalid receiver");return w1(q(this,Ae))}static from(e,r){let i=ur(r);return tr(e)?(dn(i),Qc(q(e,Xe),q(e,rt),q(e,nt),q(e,Ae))):Yr(e,i)}static compare(e,r){let i=Yr(e),n=Yr(r);return LA(q(i,Xe),q(i,rt),q(i,nt),q(n,Xe),q(n,rt),q(n,nt))}};Fh(jx,"Temporal.PlainDate");var zx=class t{constructor(e,r,i,n=0,o=0,s=0,f=0,d=0,p=0,u="iso8601"){jme(this,_r(e),_r(r),_r(i),n===void 0?0:_r(n),o===void 0?0:_r(o),s===void 0?0:_r(s),f===void 0?0:_r(f),d===void 0?0:_r(d),p===void 0?0:_r(p),fa(u))}get calendarId(){if(!Pt(this))throw new TypeError("invalid receiver");return ho(q(this,Ae))}get year(){if(!Pt(this))throw new TypeError("invalid receiver");return DD(q(this,Ae),this)}get month(){if(!Pt(this))throw new TypeError("invalid receiver");return MD(q(this,Ae),this)}get monthCode(){if(!Pt(this))throw new TypeError("invalid receiver");return o3(q(this,Ae),this)}get day(){if(!Pt(this))throw new TypeError("invalid receiver");return s3(q(this,Ae),this)}get hour(){if(!Pt(this))throw new TypeError("invalid receiver");return q(this,qt)}get minute(){if(!Pt(this))throw new TypeError("invalid receiver");return q(this,Lt)}get second(){if(!Pt(this))throw new TypeError("invalid receiver");return q(this,Ht)}get millisecond(){if(!Pt(this))throw new TypeError("invalid receiver");return q(this,Gt)}get microsecond(){if(!Pt(this))throw new TypeError("invalid receiver");return q(this,jt)}get nanosecond(){if(!Pt(this))throw new TypeError("invalid receiver");return q(this,zt)}get era(){if(!Pt(this))throw new TypeError("invalid receiver");return kD(q(this,Ae),this)}get eraYear(){if(!Pt(this))throw new TypeError("invalid receiver");return TD(q(this,Ae),this)}get dayOfWeek(){if(!Pt(this))throw new TypeError("invalid receiver");return jH(q(this,Ae),this)}get dayOfYear(){if(!Pt(this))throw new TypeError("invalid receiver");return zH(q(this,Ae),this)}get weekOfYear(){if(!Pt(this))throw new TypeError("invalid receiver");return YH(q(this,Ae),this)}get yearOfWeek(){if(!Pt(this))throw new TypeError("invalid receiver");return JH(q(this,Ae),this)}get daysInWeek(){if(!Pt(this))throw new TypeError("invalid receiver");return VH(q(this,Ae),this)}get daysInYear(){if(!Pt(this))throw new TypeError("invalid receiver");return UD(q(this,Ae),this)}get daysInMonth(){if(!Pt(this))throw new TypeError("invalid receiver");return RD(q(this,Ae),this)}get monthsInYear(){if(!Pt(this))throw new TypeError("invalid receiver");return FD(q(this,Ae),this)}get inLeapYear(){if(!Pt(this))throw new TypeError("invalid receiver");return ND(q(this,Ae),this)}with(e,r){if(!Pt(this))throw new TypeError("invalid receiver");if(!li(e))throw new TypeError("invalid argument");y1(e);let i=ur(r),n=q(this,Ae),o=yn(n,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),s=Wt(this,o,[]);s=hI(n,s,Wt(e,o,"partial")),s=Wt(s,o,[]);let{year:f,month:d,day:p,hour:u,minute:y,second:B,millisecond:S,microsecond:C,nanosecond:x}=n3(n,s,i);return oa(f,d,p,u,y,B,S,C,x,n)}withPlainTime(e){if(!Pt(this))throw new TypeError("invalid receiver");let r=q(this,Xe),i=q(this,rt),n=q(this,nt),o=q(this,Ae);if(e===void 0)return oa(r,i,n,0,0,0,0,0,0,o);let s=k0(e);return oa(r,i,n,q(s,qt),q(s,Lt),q(s,Ht),q(s,Gt),q(s,jt),q(s,zt),o)}withPlainDate(e){if(!Pt(this))throw new TypeError("invalid receiver");let r=Yr(e),i=q(r,Xe),n=q(r,rt),o=q(r,nt),s=q(r,Ae),f=q(this,qt),d=q(this,Lt),p=q(this,Ht),u=q(this,Gt),y=q(this,jt),B=q(this,zt);return s=Vme(q(this,Ae),s),oa(i,n,o,f,d,p,u,y,B,s)}withCalendar(e){if(!Pt(this))throw new TypeError("invalid receiver");let r=fa(e);return new t(q(this,Xe),q(this,rt),q(this,nt),q(this,qt),q(this,Lt),q(this,Ht),q(this,Gt),q(this,jt),q(this,zt),r)}add(e,r){if(!Pt(this))throw new TypeError("invalid receiver");return wme("add",this,e,r)}subtract(e,r){if(!Pt(this))throw new TypeError("invalid receiver");return wme("subtract",this,e,r)}until(e,r){if(!Pt(this))throw new TypeError("invalid receiver");return pme("until",this,e,r)}since(e,r){if(!Pt(this))throw new TypeError("invalid receiver");return pme("since",this,e,r)}round(e){if(!Pt(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?p1("smallestUnit",e):ur(e),i=m1(r),n=Vd(r,"halfExpand"),o=ca(r,"smallestUnit","time",dI,["day"]),s={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o];I1(i,s,s===1);let f=q(this,Xe),d=q(this,rt),p=q(this,nt),u=q(this,qt),y=q(this,Lt),B=q(this,Ht),S=q(this,Gt),C=q(this,jt),x=q(this,zt);return{year:f,month:d,day:p,hour:u,minute:y,second:B,millisecond:S,microsecond:C,nanosecond:x}=nG(f,d,p,u,y,B,S,C,x,i,o,n),oa(f,d,p,u,y,B,S,C,x,q(this,Ae))}equals(e){if(!Pt(this))throw new TypeError("invalid receiver");let r=sI(e);for(let i of[Xe,rt,nt,qt,Lt,Ht,Gt,jt,zt])if(q(this,i)!==q(r,i))return!1;return c3(q(this,Ae),q(r,Ae))}toString(e){if(!Pt(this))throw new TypeError("invalid receiver");let r=ur(e),i=t3(r),n=r3(r),o=Vd(r,"trunc"),s=ca(r,"smallestUnit","time",void 0);if(s==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let{precision:f,unit:d,increment:p}=i3(s,n);return ome(this,f,i,{unit:d,increment:p,roundingMode:o})}toJSON(){if(!Pt(this))throw new TypeError("invalid receiver");return ome(this,"auto")}toLocaleString(e,r){if(!Pt(this))throw new TypeError("invalid receiver");return new K0(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,r){if(!Pt(this))throw new TypeError("invalid receiver");let i=ko(e);return co(q(cs(i,this,d1(ur(r))),wt),i,q(this,Ae))}toPlainDate(){if(!Pt(this))throw new TypeError("invalid receiver");return h1(this)}toPlainYearMonth(){if(!Pt(this))throw new TypeError("invalid receiver");let e=q(this,Ae);return lI(e,Wt(this,yn(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Pt(this))throw new TypeError("invalid receiver");let e=q(this,Ae);return u1(e,Wt(this,yn(e,["day","monthCode"]),[]))}toPlainTime(){if(!Pt(this))throw new TypeError("invalid receiver");return WH(this)}getISOFields(){if(!Pt(this))throw new TypeError("invalid receiver");return{calendar:q(this,Ae),isoDay:q(this,nt),isoHour:q(this,qt),isoMicrosecond:q(this,jt),isoMillisecond:q(this,Gt),isoMinute:q(this,Lt),isoMonth:q(this,rt),isoNanosecond:q(this,zt),isoSecond:q(this,Ht),isoYear:q(this,Xe)}}getCalendar(){if(!Pt(this))throw new TypeError("invalid receiver");return w1(q(this,Ae))}static from(e,r){let i=ur(r);return Pt(e)?(dn(i),oa(q(e,Xe),q(e,rt),q(e,nt),q(e,qt),q(e,Lt),q(e,Ht),q(e,Gt),q(e,jt),q(e,zt),q(e,Ae))):sI(e,i)}static compare(e,r){let i=sI(e),n=sI(r);for(let o of[Xe,rt,nt,qt,Lt,Ht,Gt,jt,zt]){let s=q(i,o),f=q(n,o);if(s!==f)return cI(s-f)}return 0}};Fh(zx,"Temporal.PlainDateTime");var Yx=class t{constructor(e=0,r=0,i=0,n=0,o=0,s=0,f=0,d=0,p=0,u=0){let y=e===void 0?0:Ln(e),B=r===void 0?0:Ln(r),S=i===void 0?0:Ln(i),C=n===void 0?0:Ln(n),x=o===void 0?0:Ln(o),_=s===void 0?0:Ln(s),Q=f===void 0?0:Ln(f),R=d===void 0?0:Ln(d),k=p===void 0?0:Ln(p),K=u===void 0?0:Ln(u);bD(y,B,S,C,x,_,Q,R,k,K),Nh(this),Jt(this,Xo,y),Jt(this,Zn,B),Jt(this,Ds,S),Jt(this,es,C),Jt(this,ts,x),Jt(this,rs,_),Jt(this,is,Q),Jt(this,ns,R),Jt(this,os,k),Jt(this,ss,K)}get years(){if(!Pi(this))throw new TypeError("invalid receiver");return q(this,Xo)}get months(){if(!Pi(this))throw new TypeError("invalid receiver");return q(this,Zn)}get weeks(){if(!Pi(this))throw new TypeError("invalid receiver");return q(this,Ds)}get days(){if(!Pi(this))throw new TypeError("invalid receiver");return q(this,es)}get hours(){if(!Pi(this))throw new TypeError("invalid receiver");return q(this,ts)}get minutes(){if(!Pi(this))throw new TypeError("invalid receiver");return q(this,rs)}get seconds(){if(!Pi(this))throw new TypeError("invalid receiver");return q(this,is)}get milliseconds(){if(!Pi(this))throw new TypeError("invalid receiver");return q(this,ns)}get microseconds(){if(!Pi(this))throw new TypeError("invalid receiver");return q(this,os)}get nanoseconds(){if(!Pi(this))throw new TypeError("invalid receiver");return q(this,ss)}get sign(){if(!Pi(this))throw new TypeError("invalid receiver");return kh(q(this,Xo),q(this,Zn),q(this,Ds),q(this,es),q(this,ts),q(this,rs),q(this,is),q(this,ns),q(this,os),q(this,ss))}get blank(){if(!Pi(this))throw new TypeError("invalid receiver");return kh(q(this,Xo),q(this,Zn),q(this,Ds),q(this,es),q(this,ts),q(this,rs),q(this,is),q(this,ns),q(this,os),q(this,ss))===0}with(e){if(!Pi(this))throw new TypeError("invalid receiver");let r=Wt(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:i=q(this,Xo),months:n=q(this,Zn),weeks:o=q(this,Ds),days:s=q(this,es),hours:f=q(this,ts),minutes:d=q(this,rs),seconds:p=q(this,is),milliseconds:u=q(this,ns),microseconds:y=q(this,os),nanoseconds:B=q(this,ss)}=r;return new t(i,n,o,s,f,d,p,u,y,B)}negated(){if(!Pi(this))throw new TypeError("invalid receiver");return oIe(this)}abs(){if(!Pi(this))throw new TypeError("invalid receiver");return new t(Math.abs(q(this,Xo)),Math.abs(q(this,Zn)),Math.abs(q(this,Ds)),Math.abs(q(this,es)),Math.abs(q(this,ts)),Math.abs(q(this,rs)),Math.abs(q(this,is)),Math.abs(q(this,ns)),Math.abs(q(this,os)),Math.abs(q(this,ss)))}add(e,r){if(!Pi(this))throw new TypeError("invalid receiver");return mme("add",this,e,r)}subtract(e,r){if(!Pi(this))throw new TypeError("invalid receiver");return mme("subtract",this,e,r)}round(e){if(!Pi(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=q(this,Xo),i=q(this,Zn),n=q(this,Ds),o=q(this,es),s=q(this,ts),f=q(this,rs),d=q(this,is),p=q(this,ns),u=q(this,os),y=q(this,ss),B=pH(r,i,n,o,s,f,d,p,u,y),S=typeof e=="string"?p1("smallestUnit",e):ur(e),C=ca(S,"largestUnit","datetime",void 0,["auto"]),x=aD(S),_=m1(S),Q=Vd(S,"halfExpand"),R=ca(S,"smallestUnit","datetime",void 0),k=!0;R||(k=!1,R="nanosecond"),B=uI(B,R);let K=!0;if(C||(K=!1,C=B),C==="auto"&&(C=B),!k&&!K)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(uI(C,R)!==C)throw new RangeError(`largestUnit ${C} cannot be smaller than smallestUnit ${R}`);let T={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[R];return T!==void 0&&I1(_,T,!1),{years:r,months:i,weeks:n,days:o}=sD(r,i,n,o,C,x),{years:r,months:i,weeks:n,days:o,hours:s,minutes:f,seconds:d,milliseconds:p,microseconds:u,nanoseconds:y}=N0(r,i,n,o,s,f,d,p,u,y,_,R,Q,x),{years:r,months:i,weeks:n,days:o,hours:s,minutes:f,seconds:d,milliseconds:p,microseconds:u,nanoseconds:y}=pIe(r,i,n,o,s,f,d,p,u,y,_,R,Q,x),{days:o,hours:s,minutes:f,seconds:d,milliseconds:p,microseconds:u,nanoseconds:y}=Pf(o,s,f,d,p,u,y,C,x),{years:r,months:i,weeks:n,days:o}=function(H,O,G,v,a,h){let g=Je("%Temporal.Duration%"),l=kh(H,O,G,v,0,0,0,0,0,0);if(l===0)return{years:H,months:O,weeks:G,days:v};let A=J.default.BigInt(l),w,E,m=J.default.BigInt(H),c=J.default.BigInt(O),I=J.default.BigInt(G),M=J.default.BigInt(v);h&&(E=Yr(h),w=q(E,Ae));let D=new g(l),P=new g(0,l),j=new g(0,0,l);switch(a){case"year":{if(!w)throw new RangeError("a starting point is required for years balancing");let Y=typeof w!="string"?Kr(w,"dateAdd"):void 0,z,$,W;for({relativeTo:z,days:$}=Do(w,E,D,Y);J.default.greaterThanOrEqual(Yd(M),J.default.BigInt(hi($)));)M=J.default.subtract(M,J.default.BigInt($)),m=J.default.add(m,A),E=z,{relativeTo:z,days:$}=Do(w,E,D,Y);for({relativeTo:z,days:W}=Do(w,E,P,Y);J.default.greaterThanOrEqual(Yd(M),J.default.BigInt(hi(W)));)M=J.default.subtract(M,J.default.BigInt(W)),c=J.default.add(c,A),E=z,{relativeTo:z,days:W}=Do(w,E,P,Y);z=fo(w,E,D,void 0,Y);let ee=typeof w!="string"?Kr(w,"dateUntil"):void 0,pe=To(null);pe.largestUnit="month";let ne=HA(w,E,z,pe,ee),se=q(ne,Zn);for(;J.default.greaterThanOrEqual(Yd(c),J.default.BigInt(hi(se)));){c=J.default.subtract(c,J.default.BigInt(se)),m=J.default.add(m,A),E=z,z=fo(w,E,D,void 0,Y);let Le=To(null);Le.largestUnit="month",ne=HA(w,E,z,Le,ee),se=q(ne,Zn)}break}case"month":{if(!w)throw new RangeError("a starting point is required for months balancing");let Y=typeof w!="string"?Kr(w,"dateAdd"):void 0,z,$;for({relativeTo:z,days:$}=Do(w,E,P,Y);J.default.greaterThanOrEqual(Yd(M),J.default.BigInt(hi($)));)M=J.default.subtract(M,J.default.BigInt($)),c=J.default.add(c,A),E=z,{relativeTo:z,days:$}=Do(w,E,P,Y);break}case"week":{if(!w)throw new RangeError("a starting point is required for weeks balancing");let Y=typeof w!="string"?Kr(w,"dateAdd"):void 0,z,$;for({relativeTo:z,days:$}=Do(w,E,j,Y);J.default.greaterThanOrEqual(Yd(M),J.default.BigInt(hi($)));)M=J.default.subtract(M,J.default.BigInt($)),I=J.default.add(I,A),E=z,{relativeTo:z,days:$}=Do(w,E,j,Y);break}}return{years:J.default.toNumber(m),months:J.default.toNumber(c),weeks:J.default.toNumber(I),days:J.default.toNumber(M)}}(r,i,n,o,C,x),new t(r,i,n,o,s,f,d,p,u,y)}total(e){if(!Pi(this))throw new TypeError("invalid receiver");let r=q(this,Xo),i=q(this,Zn),n=q(this,Ds),o=q(this,es),s=q(this,ts),f=q(this,rs),d=q(this,is),p=q(this,ns),u=q(this,os),y=q(this,ss);if(e===void 0)throw new TypeError("options argument is required");let B=typeof e=="string"?p1("unit",e):ur(e),S=aD(B),C=ca(B,"unit","datetime",dI),x;({years:r,months:i,weeks:n,days:o}=sD(r,i,n,o,C,S)),st(S)&&(x=lIe(S,r,i,n,0));let _=nIe(o,s,f,d,p,u,y,C,x);if(_==="positive overflow")return 1/0;if(_==="negative overflow")return-1/0;({days:o,hours:s,minutes:f,seconds:d,milliseconds:p,microseconds:u,nanoseconds:y}=_);let{total:Q}=N0(r,i,n,o,s,f,d,p,u,y,1,C,"trunc",S);return Q}toString(e){if(!Pi(this))throw new TypeError("invalid receiver");let r=ur(e),i=r3(r),n=Vd(r,"trunc"),o=ca(r,"smallestUnit","time",void 0);if(o==="hour"||o==="minute")throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');let{precision:s,unit:f,increment:d}=i3(o,i);return oH(this,s,{unit:f,increment:d,roundingMode:n})}toJSON(){if(!Pi(this))throw new TypeError("invalid receiver");return oH(this)}toLocaleString(e,r){if(!Pi(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(e,r).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),oH(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return Pi(e)?new t(q(e,Xo),q(e,Zn),q(e,Ds),q(e,es),q(e,ts),q(e,rs),q(e,is),q(e,ns),q(e,os),q(e,ss)):r1(e)}static compare(e,r,i){let n=r1(e),o=r1(r),s=aD(ur(i)),f=q(n,Xo),d=q(n,Zn),p=q(n,Ds),u=q(n,es),y=q(n,ts),B=q(n,rs),S=q(n,is),C=q(n,ns),x=q(n,os),_=q(n,ss),Q=q(o,Xo),R=q(o,Zn),k=q(o,Ds),K=q(o,es),T=q(o,ts),L=q(o,rs),H=q(o,is),O=q(o,ns),G=q(o,os),v=q(o,ss),a=ume(s,f,d,p,u),h=ume(s,Q,R,k,K);f===0&&Q===0&&d===0&&R===0&&p===0&&k===0||({days:u}=sD(f,d,p,u,"day",s),{days:K}=sD(Q,R,k,K,"day",s));let g=l1(u,y,B,S,C,x,_,a),l=l1(K,T,L,H,O,G,v,h);return cI(J.default.toNumber(J.default.subtract(g,l)))}};Fh(Yx,"Temporal.Duration");var qtt=Object.create,Jx=class{constructor(e,r,i="iso8601",n=1972){zme(this,_r(e),_r(r),fa(i),_r(n))}get monthCode(){if(!qn(this))throw new TypeError("invalid receiver");return o3(q(this,Ae),this)}get day(){if(!qn(this))throw new TypeError("invalid receiver");return s3(q(this,Ae),this)}get calendarId(){if(!qn(this))throw new TypeError("invalid receiver");return ho(q(this,Ae))}with(e,r){if(!qn(this))throw new TypeError("invalid receiver");if(!li(e))throw new TypeError("invalid argument");y1(e);let i=ur(r),n=q(this,Ae),o=yn(n,["day","month","monthCode","year"]),s=Wt(this,o,[]);return s=hI(n,s,Wt(e,o,"partial")),s=Wt(s,o,[]),u1(n,s,i)}equals(e){if(!qn(this))throw new TypeError("invalid receiver");let r=rme(e);for(let i of[rt,nt,Xe])if(q(this,i)!==q(r,i))return!1;return c3(q(this,Ae),q(r,Ae))}toString(e){if(!qn(this))throw new TypeError("invalid receiver");return sme(this,t3(ur(e)))}toJSON(){if(!qn(this))throw new TypeError("invalid receiver");return sme(this)}toLocaleString(e,r){if(!qn(this))throw new TypeError("invalid receiver");return new K0(e,r).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!qn(this))throw new TypeError("invalid receiver");if(!li(e))throw new TypeError("argument should be an object");let r=q(this,Ae),i=yn(r,["day","monthCode"]),n=Wt(this,i,[]),o=yn(r,["year"]),s=hI(r,n,Wt(e,o,[]));s=Wt(s,[...new Set([...i,...o])],[]);let f=qtt(null);return f.overflow="reject",F0(r,s,f)}getISOFields(){if(!qn(this))throw new TypeError("invalid receiver");return{calendar:q(this,Ae),isoDay:q(this,nt),isoMonth:q(this,rt),isoYear:q(this,Xe)}}getCalendar(){if(!qn(this))throw new TypeError("invalid receiver");return w1(q(this,Ae))}static from(e,r){let i=ur(r);return qn(e)?(dn(i),Kx(q(e,rt),q(e,nt),q(e,Ae),q(e,Xe))):rme(e,i)}};Fh(Jx,"Temporal.PlainMonthDay");var dG=()=>new(Je("%Temporal.Instant%"))(sG()),Cme=(t,e=qA())=>{let r=ko(e),i=fa(t);return Oa(r,dG(),i)},fH=(t=qA())=>Oa(ko(t),dG(),"iso8601"),xme=(t,e=qA())=>{let r=ko(e),i=fa(t);return co(sG(),r,i)},MIe={instant:dG,plainDateTime:Cme,plainDateTimeISO:fH,plainDate:(t,e=qA())=>h1(Cme(t,e)),plainDateISO:(t=qA())=>h1(fH(t)),plainTimeISO:(t=qA())=>WH(fH(t)),timeZoneId:()=>qA(),zonedDateTime:xme,zonedDateTimeISO:(t=qA())=>xme("iso8601",t),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(MIe,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});var Ltt=Object.assign;function Sme(t,e,r){let i=q(t,qt),n=q(t,Lt),o=q(t,Ht),s=q(t,Gt),f=q(t,jt),d=q(t,zt);if(r){let{unit:p,increment:u,roundingMode:y}=r;({hour:i,minute:n,second:o,millisecond:s,microsecond:f,nanosecond:d}=oG(i,n,o,s,f,d,u,p,y))}return`${Ci(i)}:${Ci(n)}${OD(o,s,f,d,e)}`}var Vx=class t{constructor(e=0,r=0,i=0,n=0,o=0,s=0){let f=e===void 0?0:_r(e),d=r===void 0?0:_r(r),p=i===void 0?0:_r(i),u=n===void 0?0:_r(n),y=o===void 0?0:_r(o),B=s===void 0?0:_r(s);LD(f,d,p,u,y,B),Nh(this),Jt(this,qt,f),Jt(this,Lt,d),Jt(this,Ht,p),Jt(this,Gt,u),Jt(this,jt,y),Jt(this,zt,B)}get hour(){if(!Oi(this))throw new TypeError("invalid receiver");return q(this,qt)}get minute(){if(!Oi(this))throw new TypeError("invalid receiver");return q(this,Lt)}get second(){if(!Oi(this))throw new TypeError("invalid receiver");return q(this,Ht)}get millisecond(){if(!Oi(this))throw new TypeError("invalid receiver");return q(this,Gt)}get microsecond(){if(!Oi(this))throw new TypeError("invalid receiver");return q(this,jt)}get nanosecond(){if(!Oi(this))throw new TypeError("invalid receiver");return q(this,zt)}with(e,r){if(!Oi(this))throw new TypeError("invalid receiver");if(!li(e))throw new TypeError("invalid argument");y1(e);let i=dn(ur(r)),n=mD(e,"partial"),o=mD(this),{hour:s,minute:f,second:d,millisecond:p,microsecond:u,nanosecond:y}=Ltt(o,n);return{hour:s,minute:f,second:d,millisecond:p,microsecond:u,nanosecond:y}=QD(s,f,d,p,u,y,i),new t(s,f,d,p,u,y)}add(e){if(!Oi(this))throw new TypeError("invalid receiver");return vme("add",this,e)}subtract(e){if(!Oi(this))throw new TypeError("invalid receiver");return vme("subtract",this,e)}until(e,r){if(!Oi(this))throw new TypeError("invalid receiver");return Ame("until",this,e,r)}since(e,r){if(!Oi(this))throw new TypeError("invalid receiver");return Ame("since",this,e,r)}round(e){if(!Oi(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?p1("smallestUnit",e):ur(e),i=m1(r),n=Vd(r,"halfExpand"),o=ca(r,"smallestUnit","time",dI);I1(i,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o],!1);let s=q(this,qt),f=q(this,Lt),d=q(this,Ht),p=q(this,Gt),u=q(this,jt),y=q(this,zt);return{hour:s,minute:f,second:d,millisecond:p,microsecond:u,nanosecond:y}=oG(s,f,d,p,u,y,i,o,n),new t(s,f,d,p,u,y)}equals(e){if(!Oi(this))throw new TypeError("invalid receiver");let r=k0(e);for(let i of[qt,Lt,Ht,Gt,jt,zt])if(q(this,i)!==q(r,i))return!1;return!0}toString(e){if(!Oi(this))throw new TypeError("invalid receiver");let r=ur(e),i=r3(r),n=Vd(r,"trunc"),o=ca(r,"smallestUnit","time",void 0);if(o==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let{precision:s,unit:f,increment:d}=i3(o,i);return Sme(this,s,{unit:f,increment:d,roundingMode:n})}toJSON(){if(!Oi(this))throw new TypeError("invalid receiver");return Sme(this,"auto")}toLocaleString(e,r){if(!Oi(this))throw new TypeError("invalid receiver");return new K0(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!Oi(this))throw new TypeError("invalid receiver");let r=Yr(e),i=q(r,Xe),n=q(r,rt),o=q(r,nt),s=q(r,Ae);return oa(i,n,o,q(this,qt),q(this,Lt),q(this,Ht),q(this,Gt),q(this,jt),q(this,zt),s)}toZonedDateTime(e){if(!Oi(this))throw new TypeError("invalid receiver");if(!li(e))throw new TypeError("invalid argument");let r=e.plainDate;if(r===void 0)throw new TypeError("missing date property");let i=Yr(r),n=e.timeZone;if(n===void 0)throw new TypeError("missing timeZone property");let o=ko(n),s=q(i,Xe),f=q(i,rt),d=q(i,nt),p=q(i,Ae),u=q(this,qt),y=q(this,Lt),B=q(this,Ht),S=q(this,Gt),C=q(this,jt),x=q(this,zt);return co(q(cs(o,new(Je("%Temporal.PlainDateTime%"))(s,f,d,u,y,B,S,C,x,p),"compatible"),wt),o,p)}getISOFields(){if(!Oi(this))throw new TypeError("invalid receiver");return{isoHour:q(this,qt),isoMicrosecond:q(this,jt),isoMillisecond:q(this,Gt),isoMinute:q(this,Lt),isoNanosecond:q(this,zt),isoSecond:q(this,Ht)}}static from(e,r){let i=dn(ur(r));return Oi(e)?new t(q(e,qt),q(e,Lt),q(e,Ht),q(e,Gt),q(e,jt),q(e,zt)):k0(e,i)}static compare(e,r){let i=k0(e),n=k0(r);for(let o of[qt,Lt,Ht,Gt,jt,zt]){let s=q(i,o),f=q(n,o);if(s!==f)return cI(s-f)}return 0}};Fh(Vx,"Temporal.PlainTime");var fI=class{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");let r=ZH(e);Nh(this),Jt(this,Qh,r)}get id(){if(!Cc(this))throw new TypeError("invalid receiver");return q(this,Qh)}getOffsetNanosecondsFor(e){if(!Cc(this))throw new TypeError("invalid receiver");let r=Jd(e),i=q(this,Qh);return Xb(i)?GA(i):T0(i,q(r,wt))}getOffsetStringFor(e){if(!Cc(this))throw new TypeError("invalid receiver");return AH(this,Jd(e))}getPlainDateTimeFor(e,r="iso8601"){if(!Cc(this))throw new TypeError("invalid receiver");return Oa(this,Jd(e),fa(r))}getInstantFor(e,r){if(!Cc(this))throw new TypeError("invalid receiver");return cs(this,sI(e),d1(ur(r)))}getPossibleInstantsFor(e){if(!Cc(this))throw new TypeError("invalid receiver");let r=sI(e),i=Je("%Temporal.Instant%"),n=q(this,Qh);if(Xb(n)){let s=jA(q(r,Xe),q(r,rt),q(r,nt),q(r,qt),q(r,Lt),q(r,Ht),q(r,Gt),q(r,jt),q(r,zt));if(s===null)throw new RangeError("DateTime outside of supported range");let f=GA(n);return[new i(J.default.subtract(s,J.default.BigInt(f)))]}return function(f,d,p,u,y,B,S,C,x,_){let Q=jA(d,p,u,y,B,S,C,x,_);if(Q===null)throw new RangeError("DateTime outside of supported range");let R=J.default.subtract(Q,Th);J.default.lessThan(R,Ox)&&(R=Q);let k=J.default.add(Q,Th);J.default.greaterThan(k,c1)&&(k=Q);let K=T0(f,R),T=T0(f,k);return(K===T?[K]:[K,T]).map(L=>{let H=J.default.subtract(Q,J.default.BigInt(L)),O=tIe(f,H);if(d===O.year&&p===O.month&&u===O.day&&y===O.hour&&B===O.minute&&S===O.second&&C===O.millisecond&&x===O.microsecond&&_===O.nanosecond)return H}).filter(L=>L!==void 0)}(n,q(r,Xe),q(r,rt),q(r,nt),q(r,qt),q(r,Lt),q(r,Ht),q(r,Gt),q(r,jt),q(r,zt)).map(s=>new i(s))}getNextTransition(e){if(!Cc(this))throw new TypeError("invalid receiver");let r=Jd(e),i=q(this,Qh);if(Xb(i)||i==="UTC")return null;let n=q(r,wt),o=Je("%Temporal.Instant%");return n=iIe(i,n),n===null?null:new o(n)}getPreviousTransition(e){if(!Cc(this))throw new TypeError("invalid receiver");let r=Jd(e),i=q(this,Qh);if(Xb(i)||i==="UTC")return null;let n=q(r,wt),o=Je("%Temporal.Instant%");return n=gH(i,n),n===null?null:new o(n)}toString(){if(!Cc(this))throw new TypeError("invalid receiver");return q(this,Qh)}toJSON(){if(!Cc(this))throw new TypeError("invalid receiver");return q(this,Qh)}static from(e){return Wme(ko(e))}};Fh(fI,"Temporal.TimeZone"),ki("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",fI.prototype.getOffsetNanosecondsFor),ki("Temporal.TimeZone.prototype.getPossibleInstantsFor",fI.prototype.getPossibleInstantsFor);var Htt=Object.create,Wx=class{constructor(e,r,i="iso8601",n=1){Yme(this,_r(e),_r(r),fa(i),_r(n))}get year(){if(!Rr(this))throw new TypeError("invalid receiver");return DD(q(this,Ae),this)}get month(){if(!Rr(this))throw new TypeError("invalid receiver");return MD(q(this,Ae),this)}get monthCode(){if(!Rr(this))throw new TypeError("invalid receiver");return o3(q(this,Ae),this)}get calendarId(){if(!Rr(this))throw new TypeError("invalid receiver");return ho(q(this,Ae))}get era(){if(!Rr(this))throw new TypeError("invalid receiver");return kD(q(this,Ae),this)}get eraYear(){if(!Rr(this))throw new TypeError("invalid receiver");return TD(q(this,Ae),this)}get daysInMonth(){if(!Rr(this))throw new TypeError("invalid receiver");return RD(q(this,Ae),this)}get daysInYear(){if(!Rr(this))throw new TypeError("invalid receiver");return UD(q(this,Ae),this)}get monthsInYear(){if(!Rr(this))throw new TypeError("invalid receiver");return FD(q(this,Ae),this)}get inLeapYear(){if(!Rr(this))throw new TypeError("invalid receiver");return ND(q(this,Ae),this)}with(e,r){if(!Rr(this))throw new TypeError("invalid receiver");if(!li(e))throw new TypeError("invalid argument");y1(e);let i=ur(r),n=q(this,Ae),o=yn(n,["month","monthCode","year"]),s=Wt(this,o,[]);return s=hI(n,s,Wt(e,o,"partial")),s=Wt(s,o,[]),lI(n,s,i)}add(e,r){if(!Rr(this))throw new TypeError("invalid receiver");return bme("add",this,e,r)}subtract(e,r){if(!Rr(this))throw new TypeError("invalid receiver");return bme("subtract",this,e,r)}until(e,r){if(!Rr(this))throw new TypeError("invalid receiver");return gme("until",this,e,r)}since(e,r){if(!Rr(this))throw new TypeError("invalid receiver");return gme("since",this,e,r)}equals(e){if(!Rr(this))throw new TypeError("invalid receiver");let r=Ux(e);for(let i of[Xe,rt,nt])if(q(this,i)!==q(r,i))return!1;return c3(q(this,Ae),q(r,Ae))}toString(e){if(!Rr(this))throw new TypeError("invalid receiver");return ame(this,t3(ur(e)))}toJSON(){if(!Rr(this))throw new TypeError("invalid receiver");return ame(this)}toLocaleString(e,r){if(!Rr(this))throw new TypeError("invalid receiver");return new K0(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!Rr(this))throw new TypeError("invalid receiver");if(!li(e))throw new TypeError("argument should be an object");let r=q(this,Ae),i=yn(r,["monthCode","year"]),n=Wt(this,i,[]),o=yn(r,["day"]),s=hI(r,n,Wt(e,o,[]));s=Wt(s,[...new Set([...i,...o])],[]);let f=Htt(null);return f.overflow="reject",F0(r,s,f)}getISOFields(){if(!Rr(this))throw new TypeError("invalid receiver");return{calendar:q(this,Ae),isoDay:q(this,nt),isoMonth:q(this,rt),isoYear:q(this,Xe)}}getCalendar(){if(!Rr(this))throw new TypeError("invalid receiver");return w1(q(this,Ae))}static from(e,r){let i=ur(r);return Rr(e)?(dn(i),qx(q(e,Xe),q(e,rt),q(e,Ae),q(e,nt))):Ux(e,i)}static compare(e,r){let i=Ux(e),n=Ux(r);return LA(q(i,Xe),q(i,rt),q(i,nt),q(n,Xe),q(n,rt),q(n,nt))}};Fh(Wx,"Temporal.PlainYearMonth");var Gtt=K0.prototype.resolvedOptions,jtt=Object.create,Zx=class{constructor(e,r,i="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");Jme(this,Nx(e),ko(r),fa(i))}get calendarId(){if(!st(this))throw new TypeError("invalid receiver");return ho(q(this,Ae))}get timeZoneId(){if(!st(this))throw new TypeError("invalid receiver");return Lx(q(this,zr))}get year(){if(!st(this))throw new TypeError("invalid receiver");return DD(q(this,Ae),ci(this))}get month(){if(!st(this))throw new TypeError("invalid receiver");return MD(q(this,Ae),ci(this))}get monthCode(){if(!st(this))throw new TypeError("invalid receiver");return o3(q(this,Ae),ci(this))}get day(){if(!st(this))throw new TypeError("invalid receiver");return s3(q(this,Ae),ci(this))}get hour(){if(!st(this))throw new TypeError("invalid receiver");return q(ci(this),qt)}get minute(){if(!st(this))throw new TypeError("invalid receiver");return q(ci(this),Lt)}get second(){if(!st(this))throw new TypeError("invalid receiver");return q(ci(this),Ht)}get millisecond(){if(!st(this))throw new TypeError("invalid receiver");return q(ci(this),Gt)}get microsecond(){if(!st(this))throw new TypeError("invalid receiver");return q(ci(this),jt)}get nanosecond(){if(!st(this))throw new TypeError("invalid receiver");return q(ci(this),zt)}get era(){if(!st(this))throw new TypeError("invalid receiver");return kD(q(this,Ae),ci(this))}get eraYear(){if(!st(this))throw new TypeError("invalid receiver");return TD(q(this,Ae),ci(this))}get epochSeconds(){if(!st(this))throw new TypeError("invalid receiver");let e=q(this,wt);return J.default.toNumber(i1(e,Mh))}get epochMilliseconds(){if(!st(this))throw new TypeError("invalid receiver");let e=q(this,wt);return J.default.toNumber(i1(e,Sc))}get epochMicroseconds(){if(!st(this))throw new TypeError("invalid receiver");return BD(i1(q(this,wt),Ur))}get epochNanoseconds(){if(!st(this))throw new TypeError("invalid receiver");return BD(q(this,wt))}get dayOfWeek(){if(!st(this))throw new TypeError("invalid receiver");return jH(q(this,Ae),ci(this))}get dayOfYear(){if(!st(this))throw new TypeError("invalid receiver");return zH(q(this,Ae),ci(this))}get weekOfYear(){if(!st(this))throw new TypeError("invalid receiver");return YH(q(this,Ae),ci(this))}get yearOfWeek(){if(!st(this))throw new TypeError("invalid receiver");return JH(q(this,Ae),ci(this))}get hoursInDay(){if(!st(this))throw new TypeError("invalid receiver");let e=ci(this),r=Je("%Temporal.PlainDateTime%"),i=q(e,Xe),n=q(e,rt),o=q(e,nt),s=new r(i,n,o,0,0,0,0,0,0),f=aI(i,n,o,0,0,0,1,"reject"),d=new r(f.year,f.month,f.day,0,0,0,0,0,0),p=q(this,zr),u=q(cs(p,s,"compatible"),wt),y=q(cs(p,d,"compatible"),wt);return _h(J.default.subtract(y,u),Ome)}get daysInWeek(){if(!st(this))throw new TypeError("invalid receiver");return VH(q(this,Ae),ci(this))}get daysInMonth(){if(!st(this))throw new TypeError("invalid receiver");return RD(q(this,Ae),ci(this))}get daysInYear(){if(!st(this))throw new TypeError("invalid receiver");return UD(q(this,Ae),ci(this))}get monthsInYear(){if(!st(this))throw new TypeError("invalid receiver");return FD(q(this,Ae),ci(this))}get inLeapYear(){if(!st(this))throw new TypeError("invalid receiver");return ND(q(this,Ae),ci(this))}get offset(){if(!st(this))throw new TypeError("invalid receiver");return AH(q(this,zr),q(this,Mo))}get offsetNanoseconds(){if(!st(this))throw new TypeError("invalid receiver");return Wd(q(this,zr),q(this,Mo))}with(e,r){if(!st(this))throw new TypeError("invalid receiver");if(!li(e))throw new TypeError("invalid zoned-date-time-like");y1(e);let i=ur(r),n=q(this,Ae),o=yn(n,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);o.push("offset");let s=Wt(this,o,["offset"]);s=hI(n,s,Wt(e,o,"partial")),s=Wt(s,o,["offset"]);let f=d1(i),d=yD(i,"prefer"),{year:p,month:u,day:y,hour:B,minute:S,second:C,millisecond:x,microsecond:_,nanosecond:Q}=n3(n,s,i),R=GA(s.offset),k=q(this,zr);return co(ID(p,u,y,B,S,C,x,_,Q,"option",R,k,f,d,!1),k,n)}withPlainDate(e){if(!st(this))throw new TypeError("invalid receiver");let r=Yr(e),i=q(r,Xe),n=q(r,rt),o=q(r,nt),s=q(r,Ae),f=ci(this),d=q(f,qt),p=q(f,Lt),u=q(f,Ht),y=q(f,Gt),B=q(f,jt),S=q(f,zt);s=Vme(q(this,Ae),s);let C=q(this,zr);return co(q(cs(C,new(Je("%Temporal.PlainDateTime%"))(i,n,o,d,p,u,y,B,S,s),"compatible"),wt),C,s)}withPlainTime(e){if(!st(this))throw new TypeError("invalid receiver");let r=Je("%Temporal.PlainTime%"),i=e===void 0?new r:k0(e),n=ci(this),o=q(n,Xe),s=q(n,rt),f=q(n,nt),d=q(this,Ae),p=q(i,qt),u=q(i,Lt),y=q(i,Ht),B=q(i,Gt),S=q(i,jt),C=q(i,zt),x=q(this,zr);return co(q(cs(x,new(Je("%Temporal.PlainDateTime%"))(o,s,f,p,u,y,B,S,C,d),"compatible"),wt),x,d)}withTimeZone(e){if(!st(this))throw new TypeError("invalid receiver");let r=ko(e);return co(q(this,wt),r,q(this,Ae))}withCalendar(e){if(!st(this))throw new TypeError("invalid receiver");let r=fa(e);return co(q(this,wt),q(this,zr),r)}add(e,r){if(!st(this))throw new TypeError("invalid receiver");return Eme("add",this,e,r)}subtract(e,r){if(!st(this))throw new TypeError("invalid receiver");return Eme("subtract",this,e,r)}until(e,r){if(!st(this))throw new TypeError("invalid receiver");return yme("until",this,e,r)}since(e,r){if(!st(this))throw new TypeError("invalid receiver");return yme("since",this,e,r)}round(e){if(!st(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?p1("smallestUnit",e):ur(e),i=m1(r),n=Vd(r,"halfExpand"),o=ca(r,"smallestUnit","time",dI,["day"]),s={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o];I1(i,s,s===1);let f=ci(this),d=q(f,Xe),p=q(f,rt),u=q(f,nt),y=q(f,qt),B=q(f,Lt),S=q(f,Ht),C=q(f,Gt),x=q(f,jt),_=q(f,zt),Q=Je("%Temporal.PlainDateTime%"),R=q(this,zr),k=q(this,Ae),K=cs(R,new Q(q(f,Xe),q(f,rt),q(f,nt),0,0,0,0,0,0),"compatible"),T=_c(K,R,k,0,0,0,1,0,0,0,0,0,0),L=J.default.subtract(T,J.default.BigInt(q(K,wt)));if(J.default.lessThanOrEqual(L,Ki))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return{year:d,month:p,day:u,hour:y,minute:B,second:S,millisecond:C,microsecond:x,nanosecond:_}=nG(d,p,u,y,B,S,C,x,_,i,o,n,J.default.toNumber(L)),co(ID(d,p,u,y,B,S,C,x,_,"option",Wd(R,q(this,Mo)),R,"compatible","prefer",!1),R,q(this,Ae))}equals(e){if(!st(this))throw new TypeError("invalid receiver");let r=Fx(e),i=q(this,wt),n=q(r,wt);return!!J.default.equal(J.default.BigInt(i),J.default.BigInt(n))&&!!Zme(q(this,zr),q(r,zr))&&c3(q(this,Ae),q(r,Ae))}toString(e){if(!st(this))throw new TypeError("invalid receiver");let r=ur(e),i=t3(r),n=r3(r),o=function(S){return YA(S,"offset",["auto","never"],"auto")}(r),s=Vd(r,"trunc"),f=ca(r,"smallestUnit","time",void 0);if(f==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let d=function(S){return YA(S,"timeZoneName",["auto","never","critical"],"auto")}(r),{precision:p,unit:u,increment:y}=i3(f,n);return cme(this,p,i,d,o,{unit:u,increment:y,roundingMode:s})}toLocaleString(e,r){if(!st(this))throw new TypeError("invalid receiver");let i=ur(r),n=jtt(null);if(t1(n,i,["timeZone"]),i.timeZone!==void 0)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");n.year===void 0&&n.month===void 0&&n.day===void 0&&n.weekday===void 0&&n.dateStyle===void 0&&n.hour===void 0&&n.minute===void 0&&n.second===void 0&&n.timeStyle===void 0&&n.dayPeriod===void 0&&n.timeZoneName===void 0&&(n.timeZoneName="short");let o=Lx(q(this,zr));if(Xb(o))throw new RangeError("toLocaleString does not support offset string time zones");o=ZH(o),n.timeZone=o;let s=new K0(e,n),f=lt(Gtt,s,[]).calendar,d=ho(q(this,Ae));if(d!=="iso8601"&&f!=="iso8601"&&f!==d)throw new RangeError(`cannot format ZonedDateTime with calendar ${d} in locale with calendar ${f}`);return s.format(q(this,Mo))}toJSON(){if(!st(this))throw new TypeError("invalid receiver");return cme(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!st(this))throw new TypeError("invalid receiver");let e=ci(this),r=Je("%Temporal.PlainDateTime%"),i=q(this,Ae),n=new r(q(e,Xe),q(e,rt),q(e,nt),0,0,0,0,0,0,i),o=q(this,zr);return co(q(cs(o,n,"compatible"),wt),o,i)}toInstant(){if(!st(this))throw new TypeError("invalid receiver");return new(Je("%Temporal.Instant%"))(q(this,wt))}toPlainDate(){if(!st(this))throw new TypeError("invalid receiver");return h1(ci(this))}toPlainTime(){if(!st(this))throw new TypeError("invalid receiver");return WH(ci(this))}toPlainDateTime(){if(!st(this))throw new TypeError("invalid receiver");return ci(this)}toPlainYearMonth(){if(!st(this))throw new TypeError("invalid receiver");let e=q(this,Ae);return lI(e,Wt(this,yn(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!st(this))throw new TypeError("invalid receiver");let e=q(this,Ae);return u1(e,Wt(this,yn(e,["day","monthCode"]),[]))}getISOFields(){if(!st(this))throw new TypeError("invalid receiver");let e=ci(this),r=q(this,zr);return{calendar:q(this,Ae),isoDay:q(e,nt),isoHour:q(e,qt),isoMicrosecond:q(e,jt),isoMillisecond:q(e,Gt),isoMinute:q(e,Lt),isoMonth:q(e,rt),isoNanosecond:q(e,zt),isoSecond:q(e,Ht),isoYear:q(e,Xe),offset:AH(r,q(this,Mo)),timeZone:r}}getCalendar(){if(!st(this))throw new TypeError("invalid receiver");return w1(q(this,Ae))}getTimeZone(){if(!st(this))throw new TypeError("invalid receiver");return Wme(q(this,zr))}static from(e,r){let i=ur(r);return st(e)?(d1(i),yD(i,"reject"),dn(i),co(q(e,wt),q(e,zr),q(e,Ae))):Fx(e,i)}static compare(e,r){let i=Fx(e),n=Fx(r),o=q(i,wt),s=q(n,wt);return J.default.lessThan(J.default.BigInt(o),J.default.BigInt(s))?-1:J.default.greaterThan(J.default.BigInt(o),J.default.BigInt(s))?1:0}};function ci(t){return Oa(q(t,zr),q(t,Mo),q(t,Ae))}Fh(Zx,"Temporal.ZonedDateTime");var mI=Object.freeze({__proto__:null,Calendar:Ei,Duration:Yx,Instant:Hx,Now:MIe,PlainDate:jx,PlainDateTime:zx,PlainMonthDay:Jx,PlainTime:Vx,PlainYearMonth:Wx,TimeZone:fI,ZonedDateTime:Zx});var ztt=[Hx,Ei,jx,zx,Yx,Jx,Vx,fI,Wx,Zx];for(let t of ztt){let e=Object.getOwnPropertyDescriptor(t,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(t,"prototype",e))}var kIe=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},or=class t{static sleep(e){return kIe(this,void 0,void 0,function*(){return new Promise(r=>setTimeout(r,e))})}static minimalSleep(){return kIe(this,void 0,void 0,function*(){yield t.sleep(2)})}static getCurrentTimestamp(){return mI.Now.instant().toString({smallestUnit:"microseconds"})}static createTimestamp(e){let{year:r,month:i,day:n,hour:o,minute:s,second:f,millisecond:d,microsecond:p}=e;return mI.ZonedDateTime.from({timeZone:"UTC",year:r,month:i,day:n,hour:o,minute:s,second:f,millisecond:d,microsecond:p}).toInstant().toString({smallestUnit:"microseconds"})}static createOffsetTimestamp(e,r){let i=r?mI.Instant.from(r):mI.Now.instant(),n=mI.Duration.from(e);return i.add(n).toString({smallestUnit:"microseconds"})}static validateTimestamp(e){try{mI.Instant.from(e)}catch{throw new Te(Ee.TimestampInvalid,`Invalid timestamp: ${e}`)}}};b();var Ze;(function(t){t.Events="Events",t.Messages="Messages",t.Permissions="Permissions",t.Protocols="Protocols",t.Records="Records"})(Ze||(Ze={}));var We;(function(t){t.Configure="Configure",t.Create="Create",t.Get="Get",t.Grant="Grant",t.Query="Query",t.Read="Read",t.Request="Request",t.Revoke="Revoke",t.Write="Write",t.Delete="Delete"})(We||(We={}));b();function $A(t){let e;try{e=Zd(t)}catch{e=void 0}if(t!==e)throw new Te(Ee.UrlProtocolNotNormalized,`Protocol URI ${t} must be normalized.`)}function Zd(t){return TIe(t)}function b1(t){let e;try{e=q0(t)}catch{e=void 0}if(t!==e)throw new Te(Ee.UrlSchemaNotNormalized,`Schema URI ${t} must be normalized.`)}function q0(t){return TIe(t)}function TIe(t){let e;/^[^:]+:(\/{2})?[^\/].*/.test(t)?e=t:e=`http://${t}`;try{let r=new URL(e);return r.search="",r.hash="",Ytt(r.href)}catch{throw new Te(Ee.UrlProtocolNotNormalizable,"Could not normalize protocol URI")}}function Ytt(t){return t.endsWith("/")?t.slice(0,-1):t}var uG=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},XA=class t extends cn{static parse(e){return uG(this,void 0,void 0,function*(){return yield Ye.validateSignatureStructure(e.authorization.signature,e.descriptor),t.validateScope(e),or.validateTimestamp(e.descriptor.messageTimestamp),or.validateTimestamp(e.descriptor.dateExpires),new t(e)})}static create(e){var r;return uG(this,void 0,void 0,function*(){let i=Object.assign({},e.scope);i.protocol=i.protocol!==void 0?Zd(i.protocol):void 0,i.schema=i.schema!==void 0?q0(i.schema):void 0;let n={interface:Ze.Permissions,method:We.Grant,messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:or.getCurrentTimestamp(),dateExpires:e.dateExpires,description:e.description,grantedTo:e.grantedTo,grantedBy:e.grantedBy,grantedFor:e.grantedFor,delegated:e.delegated,permissionsRequestId:e.permissionsRequestId,scope:i,conditions:e.conditions};Di(n);let o=yield Ye.createAuthorization({descriptor:n,signer:e.signer}),s={descriptor:n,authorization:o};return Ye.validateJsonSchema(s),t.validateScope(s),new t(s)})}asDelegatedGrant(){return t.asDelegatedGrant(this.message)}static asDelegatedGrant(e){if(!e.descriptor.delegated)throw new Te(Ee.PermissionsGrantNotADelegatedGrant,`PermissionsGrant given is not a delegated grant. Descriptor: ${e.descriptor}`);return e}static createFromPermissionsRequest(e,r,i){var n,o,s,f,d,p;return uG(this,void 0,void 0,function*(){let u=e.message.descriptor;return t.create({dateExpires:i.dateExpires,description:(n=i.description)!==null&&n!==void 0?n:u.description,grantedBy:(o=i.grantedBy)!==null&&o!==void 0?o:u.grantedBy,grantedTo:(s=i.grantedTo)!==null&&s!==void 0?s:u.grantedTo,grantedFor:(f=i.grantedFor)!==null&&f!==void 0?f:u.grantedFor,permissionsRequestId:yield Ye.getCid(e.message),scope:(d=i.scope)!==null&&d!==void 0?d:u.scope,conditions:(p=i.conditions)!==null&&p!==void 0?p:u.conditions,signer:r})})}authorize(){let{grantedBy:e,grantedFor:r}=this.message.descriptor;if(this.author!==e)throw new Te(Ee.PermissionsGrantGrantedByMismatch,"Message author must match grantedBy property");if(e!==r)throw new Te(Ee.PermissionsGrantUnauthorizedGrant,`${e} is not authorized to give access to the DWN belonging to ${r}`)}static validateScope(e){let r=e.descriptor.scope;if(r.schema!==void 0&&(r.protocol!==void 0||r.contextId!==void 0||r.protocolPath))throw new Te(Ee.PermissionsGrantScopeSchemaProhibitedFields,"PermissionsGrants for RecordsRead and RecordsWrite that have `schema` present may not also have protocol-related properties present");if(r.protocol!==void 0&&r.contextId!==void 0&&r.protocolPath!==void 0)throw new Te(Ee.PermissionsGrantScopeContextIdAndProtocolPath,"PermissionsGrants for RecordsRead and RecordsWrite may not have both `contextId` and `protocolPath` present")}};var RIe=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})};function Ji(t,e){return RIe(this,void 0,void 0,function*(){if(t===void 0)throw new Te(Ee.AuthenticateJwsMissing,"Missing JWS.");if(yield mb.verifySignatures(t.signature,e),t.ownerSignature!==void 0&&(yield mb.verifySignatures(t.ownerSignature,e)),t.authorDelegatedGrant!==void 0){let r=yield XA.parse(t.authorDelegatedGrant);yield mb.verifySignatures(r.message.authorization.signature,e)}})}function eg(t,e){return RIe(this,void 0,void 0,function*(){if(e.author!==t)throw new Te(Ee.AuthorizationAuthorNotOwner,`Message authored by ${e.author}, not authored by expected owner ${t}.`)})}b();var Jtt=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},d3=class{isTenant(e){return Jtt(this,void 0,void 0,function*(){return!0})}};b();b();var Ms;(function(t){t.CreatedAscending="createdAscending",t.CreatedDescending="createdDescending",t.PublishedAscending="publishedAscending",t.PublishedDescending="publishedDescending"})(Ms||(Ms={}));b();b();var xM=Rt(tv(),1),lg=Rt(Hve(),1),Aj=Rt(Nw(),1),CM=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})};lg.ECIES_CONFIG.isEphemeralKeyCompressed=!0;var Y0=class t{static aes256CtrEncrypt(e,r,i){return CM(this,void 0,void 0,function*(){let n=xM.createCipheriv("aes-256-ctr",e,r),o=new Aj.Readable({read(){}});return i.on("data",s=>{let f=n.update(s);o.push(f)}),i.on("end",()=>{let s=n.final();o.push(s),o.push(null)}),i.on("error",s=>{o.emit("error",s)}),o})}static aes256CtrDecrypt(e,r,i){return CM(this,void 0,void 0,function*(){let n=xM.createDecipheriv("aes-256-ctr",e,r),o=new Aj.Readable({read(){}});return i.on("data",s=>{let f=n.update(s);o.push(f)}),i.on("end",()=>{let s=n.final();o.push(s),o.push(null)}),i.on("error",s=>{o.emit("error",s)}),o})}static eciesSecp256k1Encrypt(e,r){return CM(this,void 0,void 0,function*(){let i=N.Buffer.from(e),n=N.Buffer.from(r),o=lg.encrypt(i,n),s=0,f=t.isEphemeralKeyCompressed?33:65,d=o.subarray(s,f);s=f,f+=lg.ECIES_CONFIG.symmetricNonceLength;let p=o.subarray(s,f);s=f,f+=16;let u=o.subarray(s,f);return{ciphertext:o.subarray(f),ephemeralPublicKey:d,initializationVector:p,messageAuthenticationCode:u}})}static eciesSecp256k1Decrypt(e){return CM(this,void 0,void 0,function*(){let r=N.Buffer.from(e.privateKey),i=N.Buffer.concat([e.ephemeralPublicKey,e.initializationVector,e.messageAuthenticationCode,e.ciphertext]);return lg.decrypt(r,i)})}static get isEphemeralKeyCompressed(){return lg.ECIES_CONFIG.isEphemeralKeyCompressed}},U1;(function(t){t.Aes256Ctr="A256CTR",t.EciesSecp256k1="ECIES-ES256K"})(U1||(U1={}));b();var got=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r},ha=class{static matchAnyFilter(e,r){if(r.length===0)return!0;for(let i of r)if(this.matchFilter(e,i))return!0;return!1}static matchFilter(e,r){let i=new Set([...Object.keys(r)]);for(let n in r){let o=r[n],s=e[n];if(s===void 0)return!1;if(typeof o=="object")if(Array.isArray(o)){if(!this.matchOneOf(o,s))return!1;i.delete(n);continue}else{if(!this.matchRange(o,s))return!1;i.delete(n);continue}else{if(s!==o)return!1;i.delete(n);continue}}return i.size===0}static matchOneOf(e,r){for(let i of e)if(r===i)return!0;return!1}static matchRange(e,r){return!(e.lt!==void 0&&r>=e.lt||e.lte!==void 0&&r>e.lte||e.gt!==void 0&&r<=e.gt||e.gte!==void 0&&r<e.gte)}static isEqualFilter(e){return typeof e!="object"}static isRangeFilter(e){return typeof e=="object"&&!Array.isArray(e)?"gt"in e||"lt"in e||"lte"in e||"gte"in e:!1}static isOneOfFilter(e){return!!(typeof e=="object"&&Array.isArray(e))}static convertRangeCriterion(e){let r;return e.to!==void 0&&e.from!==void 0?r={gte:e.from,lt:e.to}:e.to!==void 0?r={lt:e.to}:e.from!==void 0&&(r={gte:e.from}),r}},SM=class{static reduceFilter(e){if(Object.keys(e).length<=1)return e;let{recordId:i,attester:n,parentId:o,recipient:s,contextId:f,author:d,protocolPath:p,schema:u,protocol:y}=e,B=got(e,["recordId","attester","parentId","recipient","contextId","author","protocolPath","schema","protocol"]);if(i!==void 0)return{recordId:i};if(n!==void 0)return{attester:n};if(o!==void 0)return{parentId:o};if(s!==void 0)return{recipient:s};if(f!==void 0)return{contextId:f};if(p!==void 0)return{protocolPath:p};if(u!==void 0)return{schema:u};if(y!==void 0)return{protocol:y};let C=Object.keys(B)[0],x={};return x[C]=e[C],x}};b();var Uo;(function(t){t.DataFormats="dataFormats",t.ProtocolContext="protocolContext",t.ProtocolPath="protocolPath",t.Schemas="schemas"})(Uo||(Uo={}));var Gve=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Vi=class t{static decrypt(e,r,i){return Gve(this,void 0,void 0,function*(){let{encryption:n}=e,o=n.keyEncryption.find(x=>x.rootKeyId===r.rootKeyId&&x.derivationScheme===r.derivationScheme);if(o===void 0)throw new Te(Ee.RecordsDecryptNoMatchingKeyEncryptedFound,`Unable to find a symmetric key encrypted using key         with ID '${r.rootKeyId}' and '${r.derivationScheme}' derivation scheme.`);let s=t.constructKeyDerivationPath(o.derivationScheme,e),f=yield t.derivePrivateKey(r,s),d=Kt.base64UrlToBytes(o.encryptedKey),p=Vn.publicJwkToBytes(o.ephemeralPublicKey),u=Kt.base64UrlToBytes(o.initializationVector),y=Kt.base64UrlToBytes(o.messageAuthenticationCode),B=yield Y0.eciesSecp256k1Decrypt({ciphertext:d,ephemeralPublicKey:p,initializationVector:u,messageAuthenticationCode:y,privateKey:f}),S=Kt.base64UrlToBytes(n.initializationVector);return yield Y0.aes256CtrDecrypt(B,S,i)})}static constructKeyDerivationPath(e,r){let i=r.descriptor,n=r.contextId,o;return e===Uo.DataFormats?o=t.constructKeyDerivationPathUsingDataFormatsScheme(i.schema,i.dataFormat):e===Uo.ProtocolPath?o=t.constructKeyDerivationPathUsingProtocolPathScheme(i):e===Uo.ProtocolContext?o=t.constructKeyDerivationPathUsingProtocolContextScheme(n):o=t.constructKeyDerivationPathUsingSchemasScheme(i.schema),o}static constructKeyDerivationPathUsingDataFormatsScheme(e,r){return e!==void 0?[Uo.DataFormats,e,r]:[Uo.DataFormats,r]}static constructKeyDerivationPathUsingProtocolPathScheme(e){if(e.protocol===void 0)throw new Te(Ee.RecordsProtocolPathDerivationSchemeMissingProtocol,"Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");let r=e.protocolPath.split("/");return[Uo.ProtocolPath,e.protocol,...r]}static constructKeyDerivationPathUsingProtocolContextScheme(e){if(e===void 0)throw new Te(Ee.RecordsProtocolContextDerivationSchemeMissingContextId,"Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");return[Uo.ProtocolContext,e]}static constructKeyDerivationPathUsingSchemasScheme(e){if(e===void 0)throw new Te(Ee.RecordsSchemasDerivationSchemeMissingSchema,"Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return[Uo.Schemas,e]}static derivePrivateKey(e,r){var i;return Gve(this,void 0,void 0,function*(){if(e.derivedPrivateKey.crv!=="secp256k1")throw new Te(Ee.RecordsDerivePrivateKeyUnSupportedCurve,`Curve ${e.derivedPrivateKey.crv} is not supported.`);let n=(i=e.derivationPath)!==null&&i!==void 0?i:[];t.validateAncestorKeyAndDescentKeyDerivationPathsMatch(n,r);let o=r.slice(n.length),s=Vn.privateJwkToBytes(e.derivedPrivateKey);return yield Vn.derivePrivateKey(s,o)})}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(e,r){for(let i=0;i<e.length;i++){let n=e[i],o=r[i];if(n!==o)throw new Te(Ee.RecordsInvalidAncestorKeyDerivationSegment,`Ancestor key derivation segment '${n}' mismatches against the descendant key derivation segment '${o}'.`)}}static normalizeFilter(e){let r;e.protocol===void 0?r=void 0:r=Zd(e.protocol);let i;e.schema===void 0?i=void 0:i=q0(e.schema);let n=Object.assign(Object.assign({},e),{protocol:r,schema:i});return Di(n),n}static convertFilter(e,r){let i=Object.assign({},e),{dateCreated:n,datePublished:o,dateUpdated:s}=e,f=n?ha.convertRangeCriterion(n):void 0;f&&(i.dateCreated=f);let d=o?ha.convertRangeCriterion(o):void 0;d&&(i.published=!0,i.datePublished=d),i.published!==!0&&(r===Ms.PublishedAscending||r===Ms.PublishedDescending)&&(i.published=!0);let p=s?ha.convertRangeCriterion(s):void 0;return p&&(i.messageTimestamp=p,delete i.dateUpdated),i}static validateDelegatedGrantReferentialIntegrity(e,r){var i;let n=r?.delegatedGrantId!==void 0,o=((i=e.authorization)===null||i===void 0?void 0:i.authorDelegatedGrant)!==void 0;if(n!==o)throw new Te(Ee.RecordsValidateIntegrityDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId and authorDelegatedGrant must both exist or be undefined.            delegatedGrantId defined: ${n}, authorDelegatedGrant defined: ${o}`);if(o){let f=e.authorization.authorDelegatedGrant.descriptor.grantedTo,d=Ye.getSigner(e);if(f!==d)throw new Te(Ee.RecordsValidateIntegrityGrantedToAndSignerMismatch,`grantedTo ${f} must be the same as the signer ${d} of the message`)}}};b();b();var _M=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Ha=class t{static performBaseValidation(e){return _M(this,void 0,void 0,function*(){let{expectedGrantedForInGrant:r,incomingMessage:i,expectedGrantedToInGrant:n,permissionsGrantMessage:o,messageStore:s}=e,f=i.descriptor,d=yield Ye.getCid(o);t.verifyExpectedGrantedToAndGrantedFor(n,r,o);let p=r;yield t.verifyGrantActive(p,f.messageTimestamp,o,d,s),yield t.verifyGrantScopeInterfaceAndMethod(f.interface,f.method,o,d)})}static fetchGrant(e,r,i){return _M(this,void 0,void 0,function*(){let n=yield r.get(e,i),o=n?.descriptor.interface,s=n?.descriptor.method;if(n===void 0||o!==Ze.Permissions||s!==We.Grant)throw new Te(Ee.GrantAuthorizationGrantMissing,`Could not find PermissionsGrant with CID ${i}`);return n})}static verifyExpectedGrantedToAndGrantedFor(e,r,i){let n=i.descriptor.grantedTo;if(e!==n)throw new Te(Ee.GrantAuthorizationNotGrantedToAuthor,`PermissionsGrant has grantedTo ${n}, but need to be granted to ${e}`);let o=i.descriptor.grantedFor;if(r!==o)throw new Te(Ee.GrantAuthorizationNotGrantedForTenant,`PermissionsGrant has grantedFor ${o}, but need to be granted for ${r}`)}static verifyGrantActive(e,r,i,n,o){return _M(this,void 0,void 0,function*(){if(r<i.descriptor.messageTimestamp)throw new Te(Ee.GrantAuthorizationGrantNotYetActive,"The message has a timestamp before the associated PermissionsGrant becomes active");if(r>=i.descriptor.dateExpires)throw new Te(Ee.GrantAuthorizationGrantExpired,"The message has timestamp after the expiry of the associated PermissionsGrant");let s={interface:Ze.Permissions,method:We.Revoke,permissionsGrantId:n},{messages:f}=yield o.query(e,[s]),d=yield Ye.getOldestMessage(f);if(d!==void 0&&d.descriptor.messageTimestamp<=r)throw new Te(Ee.GrantAuthorizationGrantRevoked,`PermissionsGrant with CID ${n} has been revoked`)})}static verifyGrantScopeInterfaceAndMethod(e,r,i,n){return _M(this,void 0,void 0,function*(){if(e!==i.descriptor.scope.interface)throw new Te(Ee.GrantAuthorizationInterfaceMismatch,`DWN Interface of incoming message is outside the scope of PermissionsGrant with CID ${n}`);if(r!==i.descriptor.scope.method)throw new Te(Ee.GrantAuthorizationMethodMismatch,`DWN Method of incoming message is outside the scope of PermissionsGrant with CID ${n}`)})}};b();var E3;(function(t){t.Required="Required",t.Prohibited="Prohibited"})(E3||(E3={}));var QM=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Ga=class t{static authorizeWrite(e){return QM(this,void 0,void 0,function*(){let{recordsWriteMessage:r,expectedGrantedToInGrant:i,expectedGrantedForInGrant:n,permissionsGrantMessage:o,messageStore:s}=e;yield Ha.performBaseValidation({incomingMessage:r,expectedGrantedToInGrant:i,expectedGrantedForInGrant:n,permissionsGrantMessage:o,messageStore:s}),t.verifyScope(r,o),t.verifyConditions(r,o)})}static authorizeRead(e){return QM(this,void 0,void 0,function*(){let{expectedGrantedForInGrant:r,recordsReadMessage:i,recordsWriteMessageToBeRead:n,expectedGrantedToInGrant:o,permissionsGrantMessage:s,messageStore:f}=e;yield Ha.performBaseValidation({incomingMessage:i,expectedGrantedToInGrant:o,expectedGrantedForInGrant:r,permissionsGrantMessage:s,messageStore:f}),t.verifyScope(n,s)})}static authorizeQuery(e){return QM(this,void 0,void 0,function*(){let{recordsQueryMessage:r,expectedGrantedToInGrant:i,expectedGrantedForInGrant:n,permissionsGrantMessage:o,messageStore:s}=e;yield Ha.performBaseValidation({incomingMessage:r,expectedGrantedToInGrant:i,expectedGrantedForInGrant:n,permissionsGrantMessage:o,messageStore:s});let f=o.descriptor.scope.protocol,d=r.descriptor.filter.protocol;if(f!==void 0&&d!==f)throw new Te(Ee.RecordsGrantAuthorizationQueryProtocolScopeMismatch,`Grant protocol scope ${f} does not match protocol in query ${d}`)})}static authorizeDelete(e){return QM(this,void 0,void 0,function*(){let{recordsDeleteMessage:r,recordsWriteToDelete:i,expectedGrantedToInGrant:n,expectedGrantedForInGrant:o,permissionsGrantMessage:s,messageStore:f}=e;yield Ha.performBaseValidation({incomingMessage:r,expectedGrantedToInGrant:n,expectedGrantedForInGrant:o,permissionsGrantMessage:s,messageStore:f});let d=s.descriptor.scope.protocol,p=i.descriptor.protocol;if(d!==void 0&&p!==d)throw new Te(Ee.RecordsGrantAuthorizationDeleteProtocolScopeMismatch,`Grant protocol scope ${d} does not match protocol in record to delete ${p}`)})}static verifyScope(e,r){let i=r.descriptor.scope;t.isUnrestrictedScope(i)||(e.descriptor.protocol!==void 0?t.verifyProtocolRecordScope(e,i):t.verifyFlatRecordScope(e,i))}static verifyProtocolRecordScope(e,r){if(r.protocol===void 0)throw new Te(Ee.RecordsGrantAuthorizationScopeNotProtocol,"Grant for protocol record must specify protocol in its scope");if(r.protocol!==e.descriptor.protocol)throw new Te(Ee.RecordsGrantAuthorizationScopeProtocolMismatch,"Grant scope specifies different protocol than what appears in the record");if(r.contextId!==void 0&&r.contextId!==e.contextId)throw new Te(Ee.RecordsGrantAuthorizationScopeContextIdMismatch,"Grant scope specifies different contextId than what appears in the record");if(r.protocolPath!==void 0&&r.protocolPath!==e.descriptor.protocolPath)throw new Te(Ee.RecordsGrantAuthorizationScopeProtocolPathMismatch,"Grant scope specifies different protocolPath than what appears in the record")}static verifyFlatRecordScope(e,r){if(r.schema!==void 0&&r.schema!==e.descriptor.schema)throw new Te(Ee.RecordsGrantAuthorizationScopeSchema,`Record does not have schema in PermissionsGrant scope with schema '${r.schema}'`)}static verifyConditions(e,r){let i=r.descriptor.conditions;if(i?.publication===E3.Required&&!e.descriptor.published)throw new Te(Ee.RecordsGrantAuthorizationConditionPublicationRequired,"PermissionsGrant requires message to be published");if(i?.publication===E3.Prohibited&&e.descriptor.published)throw new Te(Ee.RecordsGrantAuthorizationConditionPublicationProhibited,"PermissionsGrant prohibits message from being published")}static isUnrestrictedScope(e){return e.protocol===void 0&&e.schema===void 0}};var gj=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},pg=class t extends cn{static parse(e){return gj(this,void 0,void 0,function*(){if(e.descriptor.filter.published===!1&&(e.descriptor.dateSort===Ms.PublishedAscending||e.descriptor.dateSort===Ms.PublishedDescending))throw new Te(Ee.RecordsQueryParseFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${e.descriptor.dateSort}`);let r;if(e.authorization!==void 0&&(r=yield Ye.validateSignatureStructure(e.authorization.signature,e.descriptor)),Vi.validateDelegatedGrantReferentialIntegrity(e,r),r?.protocolRole!==void 0&&e.descriptor.filter.protocolPath===void 0)throw new Te(Ee.RecordsQueryFilterMissingRequiredProperties,"Role-authorized queries must include `protocolPath` in the filter");return e.descriptor.filter.protocol!==void 0&&$A(e.descriptor.filter.protocol),e.descriptor.filter.schema!==void 0&&b1(e.descriptor.filter.schema),or.validateTimestamp(e.descriptor.messageTimestamp),new t(e)})}static create(e){var r;return gj(this,void 0,void 0,function*(){let i={interface:Ze.Records,method:We.Query,messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:or.getCurrentTimestamp(),filter:Vi.normalizeFilter(e.filter),dateSort:e.dateSort,pagination:e.pagination};if(e.filter.published===!1&&(e.dateSort===Ms.PublishedAscending||e.dateSort===Ms.PublishedDescending))throw new Te(Ee.RecordsQueryCreateFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${e.dateSort}`);Di(i);let n=e.signer,o;n&&(o=yield Ye.createAuthorization({descriptor:i,signer:n,protocolRole:e.protocolRole,delegatedGrant:e.delegatedGrant}));let s={descriptor:i,authorization:o};return Ye.validateJsonSchema(s),new t(s)})}authorizeDelegate(e){return gj(this,void 0,void 0,function*(){let r=this.message.authorization.authorDelegatedGrant;yield Ga.authorizeQuery({recordsQueryMessage:this.message,expectedGrantedToInGrant:this.signer,expectedGrantedForInGrant:this.author,permissionsGrantMessage:r,messageStore:e})})}};b();var zve=Rt(Nw(),1),jve=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Rc=class t{static toBytes(e){return jve(this,void 0,void 0,function*(){return new Promise((r,i)=>{let n=[];e.on("data",o=>{n.push(o)}),e.on("end",()=>{let o=t.concatenateArrayOfBytes(n);r(o)}),e.on("error",i)})})}static toObject(e){return jve(this,void 0,void 0,function*(){let r=yield t.toBytes(e);return Kt.bytesToObject(r)})}static concatenateArrayOfBytes(e){let r=e.reduce((o,s)=>o+s.length,0),i=new Uint8Array(r),n=0;for(let o of e)i.set(o,n),n+=o.length;return i}static fromBytes(e){let i=0;return new zve.Readable({read(o){i+1e5>e.length?(this.push(e.subarray(i)),this.push(null)):(this.push(e.subarray(i,i+1e5)),i=i+1e5)}})}static fromObject(e){let r=Kt.objectToBytes(e);return t.fromBytes(r)}};b();var Ij=Rt(rbe(),1);b();var F1=class{static getMethodSpecificId(e){let r=e.indexOf(":",4);return e.substring(r+1)}static validate(e){if(typeof e!="string")throw new Te(Ee.DidNotString,`DID is not string: ${e}`);if(!/^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(\/[^#?]*)?([?][^#]*)?(#.*)?$/.test(e))throw new Te(Ee.DidNotValid,`DID is not a valid DID: ${e}`)}static getMethodName(e){let r=e.indexOf(":",4);return e.substring(4,r)}};var ibe=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},N1=class t{method(){return"key"}static getMulticodecSize(e){let r=0;for(;;){let i=e[r];if(r++,(i&128)!==128)break}return r}resolve(e){return ibe(this,void 0,void 0,function*(){let[r,i,n]=e.split(":",3);try{let o=$r.decode(n),s=Ij.default.decode(o),f=t.getMulticodecSize(o),d=o.slice(f),p=[],u;if(s===237)p.push("https://w3id.org/security/suites/ed25519-2020/v1"),u=yield NC.publicKeyToJwk(d);else if(s===231)u=yield Vn.publicKeyToJwk(d);else throw Error(`key type of multicodec ${s} is not supported`);let y=`${e}#${n}`;return{"@context":"https://w3id.org/did-resolution/v1",didDocument:{"@context":["https://www.w3.org/ns/did/v1","https://w3id.org/security/suites/jws-2020/v1",...p],id:e,verificationMethod:[{id:y,type:"JsonWebKey2020",controller:e,publicKeyJwk:u}],authentication:[y],assertionMethod:[y],capabilityDelegation:[y],capabilityInvocation:[y]},didDocumentMetadata:{},didResolutionMetadata:{}}}catch{return{didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{error:"invalidDid"}}}})}static generate(){return ibe(this,void 0,void 0,function*(){let{publicJwk:e,privateJwk:r}=yield NC.generateKeyPair(),i=Ij.default.encode(237),n=Kt.base64UrlToBytes(e.x),o=new Uint8Array(i.length+n.byteLength);o.set(i,0),o.set(n,i.length);let f=`did:key:${$r.encode(o)}`,d=t.getKeyId(f);return{did:f,keyId:d,keyPair:{publicJwk:e,privateJwk:r},signer:new kA({privateJwk:r,algorithm:r.alg,keyId:`${f}#${d}`})}})}static getKeyId(e){let r=F1.getMethodSpecificId(e);return`${e}#${r}`}};b();var sbe=Rt(obe(),1),Dot=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},wj,Mot=(wj=globalThis.fetch)!==null&&wj!==void 0?wj:sbe.default,B3=class{constructor(e="https://discover.did.msidentity.com/1.0/identifiers/"){this.resolutionEndpoint=e}method(){return"ion"}resolve(e){return Dot(this,void 0,void 0,function*(){let r=new URL("./"+e,this.resolutionEndpoint).toString(),i=yield Mot(r);if(i.status!==200)throw new Te(Ee.DidResolutionFailed,`unable to resolve ${e}, got http status ${i.status}`);return yield i.json()})}};b();var kot=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},C3=class{constructor(e,r){this.cache=r||new yb(600),(e===void 0||e.length===0)&&(e=[new B3,new N1]),this.didResolvers=new Map;for(let i of e)this.didResolvers.set(i.method(),i)}resolve(e){return kot(this,void 0,void 0,function*(){F1.validate(e);let i=e.split(":",3)[1],n=this.didResolvers.get(i);if(!n)throw new Te(Ee.DidMethodNotSupported,`${i} DID method not supported`);let o=yield this.cache.get(e),s=o??(yield n.resolve(e));o===void 0&&(yield this.cache.set(e,s));let{didDocument:f,didResolutionMetadata:d}=s;if(!f||d?.error){let{error:p}=d,u=`Failed to resolve DID ${e}.`;throw u+=p?` Error: ${p}`:"",new Te(Ee.DidResolutionFailed,u)}return s})}};b();b();b();var abe=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},gg=class t extends cn{static parse(e){return abe(this,void 0,void 0,function*(){return Ye.validateJsonSchema(e),yield Ye.validateSignatureStructure(e.authorization.signature,e.descriptor),or.validateTimestamp(e.descriptor.messageTimestamp),new t(e)})}static create(e){var r;return abe(this,void 0,void 0,function*(){let i={interface:Ze.Events,method:We.Get,messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:or.getCurrentTimestamp()};e.cursor&&(i.cursor=e.cursor);let n=yield Ye.createAuthorization({descriptor:i,signer:e.signer}),o={descriptor:i,authorization:n};return Ye.validateJsonSchema(o),new t(o)})}};b();function rr(t,e){let r=t instanceof Error?t.message:"Error";return{status:{code:e,detail:r}}}var Tot=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},kM=class{constructor(e,r){this.didResolver=e,this.eventLog=r}handle({tenant:e,message:r}){return Tot(this,void 0,void 0,function*(){let i;try{i=yield gg.parse(r)}catch(s){return rr(s,400)}try{yield Ji(r.authorization,this.didResolver),yield eg(e,i)}catch(s){return rr(s,401)}let n;r.descriptor.cursor&&(n={cursor:r.descriptor.cursor});let o=yield this.eventLog.getEvents(e,n);return{status:{code:200,detail:"OK"},entries:o}})}};b();b();b();var vj=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Hh=class t extends cn{static parse(e){return vj(this,void 0,void 0,function*(){return e.authorization!==void 0&&(yield Ye.validateSignatureStructure(e.authorization.signature,e.descriptor)),e.descriptor.filter!==void 0&&$A(e.descriptor.filter.protocol),or.validateTimestamp(e.descriptor.messageTimestamp),new t(e)})}static create(e){var r;return vj(this,void 0,void 0,function*(){let i={interface:Ze.Protocols,method:We.Query,messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:or.getCurrentTimestamp(),filter:t.normalizeFilter(e.filter)};Di(i);let n;e.signer!==void 0&&(n=yield Ye.createAuthorization({descriptor:i,signer:e.signer,permissionsGrantId:e.permissionsGrantId}));let o={descriptor:i,authorization:n};return Ye.validateJsonSchema(o),new t(o)})}static normalizeFilter(e){if(e!==void 0)return Object.assign(Object.assign({},e),{protocol:Zd(e.protocol)})}authorize(e,r){return vj(this,void 0,void 0,function*(){if(this.author!==e)if(this.author!==void 0&&this.signaturePayload.permissionsGrantId){let i=yield Ha.fetchGrant(e,r,this.signaturePayload.permissionsGrantId);yield Ha.performBaseValidation({incomingMessage:this.message,expectedGrantedToInGrant:this.author,expectedGrantedForInGrant:e,permissionsGrantMessage:i,messageStore:r})}else throw new Te(Ee.ProtocolsQueryUnauthorized,"The ProtocolsQuery failed authorization")})}};var cbe=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},O1=class t extends cn{static parse(e){return cbe(this,void 0,void 0,function*(){return Ye.validateJsonSchema(e),yield Ye.validateSignatureStructure(e.authorization.signature,e.descriptor),new t(e)})}static create(e){var r;return cbe(this,void 0,void 0,function*(){let i={interface:Ze.Events,method:We.Query,filters:this.normalizeFilters(e.filters),messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:or.getCurrentTimestamp(),cursor:e.cursor};Di(i);let n=yield Ye.createAuthorization({descriptor:i,signer:e.signer}),o={descriptor:i,authorization:n};return Ye.validateJsonSchema(o),new t(o)})}static normalizeFilters(e){let r=[];for(let i of e)if(this.isMessagesFilter(i))r.push(i);else if(this.isRecordsFilter(i))r.push(Vi.normalizeFilter(i));else if(this.isProtocolFilter(i)){let n=Hh.normalizeFilter(i);r.push(n)}return r}static convertFilters(e){let r=[];for(let i of e)this.isMessagesFilter(i)?r.push(this.convertFilter(i)):this.isRecordsFilter(i)?r.push(Vi.convertFilter(i)):this.isProtocolFilter(i)&&r.push(i);return r}static convertFilter(e){let r=Object.assign({},e),{dateUpdated:i}=e,n=i?ha.convertRangeCriterion(i):void 0;return n&&(r.messageTimestamp=n,delete r.dateUpdated),r}static isMessagesFilter(e){return"method"in e||"interface"in e||"dateUpdated"in e||"author"in e}static isRecordsFilter(e){return"dateCreated"in e||"dataFormat"in e||"dataSize"in e||"parentId"in e||"recordId"in e||"schema"in e||"protocolPath"in e&&"protocol"in e||"recipient"in e}static isProtocolFilter(e){return"protocol"in e}};var Rot=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},TM=class{constructor(e,r){this.didResolver=e,this.eventLog=r}handle({tenant:e,message:r}){return Rot(this,void 0,void 0,function*(){let i;try{i=yield O1.parse(r)}catch(d){return rr(d,400)}try{yield Ji(r.authorization,this.didResolver),yield eg(e,i)}catch(d){return rr(d,401)}let{filters:n,cursor:o}=i.message.descriptor,s=O1.convertFilters(n),f=yield this.eventLog.queryEvents(e,s,o);return{status:{code:200,detail:"OK"},entries:f}})}};b();b();var fbe=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},J0=class t extends cn{static parse(e){return fbe(this,void 0,void 0,function*(){return Ye.validateJsonSchema(e),this.validateMessageCids(e.descriptor.messageCids),yield Ye.validateSignatureStructure(e.authorization.signature,e.descriptor),or.validateTimestamp(e.descriptor.messageTimestamp),new t(e)})}static create(e){var r;return fbe(this,void 0,void 0,function*(){let i={interface:Ze.Messages,method:We.Get,messageCids:e.messageCids,messageTimestamp:(r=e?.messageTimestamp)!==null&&r!==void 0?r:or.getCurrentTimestamp()},n=yield Ye.createAuthorization({descriptor:i,signer:e.signer}),o={descriptor:i,authorization:n};return Ye.validateJsonSchema(o),t.validateMessageCids(e.messageCids),new t(o)})}static validateMessageCids(e){for(let r of e)try{Yi.parseCid(r)}catch{throw new Te(Ee.MessageGetInvalidCid,`${r} is not a valid CID`)}}};var Uot=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},RM=class{constructor(e,r,i){this.didResolver=e,this.messageStore=r,this.dataStore=i}handle({tenant:e,message:r}){return Uot(this,void 0,void 0,function*(){let i;try{i=yield J0.parse(r)}catch(f){return rr(f,400)}try{yield Ji(r.authorization,this.didResolver),yield eg(e,i)}catch(f){return rr(f,401)}let n=[],o=new Set(r.descriptor.messageCids);for(let f of o){let d=this.messageStore.get(e,f).then(p=>({messageCid:f,message:p})).catch(p=>({messageCid:f,message:void 0,error:`Failed to get message ${f}`}));n.push(d)}let s=yield Promise.all(n);for(let f of s){let{message:d}=f;if(!d)continue;let{interface:p,method:u}=d.descriptor;if(p!==Ze.Records||u!==We.Write)continue;let y=d;y.encodedData!==void 0&&(f.encodedData=y.encodedData,delete y.encodedData)}return{status:{code:200,detail:"OK"},entries:s}})}};b();var Fot=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Not=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r},UM=class t{constructor(e,r,i){this.didResolver=e,this.messageStore=r,this.eventLog=i}handle({tenant:e,message:r}){return Fot(this,void 0,void 0,function*(){let i;try{i=yield XA.parse(r)}catch(f){return rr(f,400)}try{yield Ji(r.authorization,this.didResolver),yield i.authorize()}catch(f){return rr(f,401)}let n=t.constructIndexes(i),o=yield Ye.getCid(r);return(yield this.messageStore.get(e,o))===void 0&&(yield this.messageStore.put(e,r,n),yield this.eventLog.append(e,o,n)),{status:{code:202,detail:"Accepted"}}})}static constructIndexes(e){let i=e.message.descriptor,{scope:n,conditions:o}=i,s=Not(i,["scope","conditions"]),f=Object.assign({author:e.author},s);return Di(f),f}};b();b();var dbe=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},K1=class t extends cn{static parse(e){return dbe(this,void 0,void 0,function*(){return yield Ye.validateSignatureStructure(e.authorization.signature,e.descriptor),or.validateTimestamp(e.descriptor.messageTimestamp),new t(e)})}static create(e){var r;return dbe(this,void 0,void 0,function*(){let i={interface:Ze.Permissions,method:We.Request,messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:or.getCurrentTimestamp(),description:e.description,grantedTo:e.grantedTo,grantedBy:e.grantedBy,grantedFor:e.grantedFor,scope:e.scope,conditions:e.conditions};Di(i);let n=yield Ye.createAuthorization({descriptor:i,signer:e.signer}),o={descriptor:i,authorization:n};return Ye.validateJsonSchema(o),new t(o)})}};var Pot=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Oot=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r},FM=class{constructor(e,r,i){this.didResolver=e,this.messageStore=r,this.eventLog=i}handle({tenant:e,message:r}){return Pot(this,void 0,void 0,function*(){let i;try{i=yield K1.parse(r)}catch(y){return rr(y,400)}try{yield Ji(r.authorization,this.didResolver)}catch(y){return rr(y,401)}let n=r.descriptor,{scope:o,conditions:s}=n,f=Oot(n,["scope","conditions"]),d=Object.assign(Object.assign({},f),{author:i.author}),p=yield Ye.getCid(r);return(yield this.messageStore.get(e,p))===void 0&&(yield this.messageStore.put(e,r,d),yield this.eventLog.append(e,p,d)),{status:{code:202,detail:"Accepted"}}})}};b();b();var bj=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},q1=class t extends cn{static parse(e){return bj(this,void 0,void 0,function*(){return yield Ye.validateSignatureStructure(e.authorization.signature,e.descriptor),or.validateTimestamp(e.descriptor.messageTimestamp),new t(e)})}static create(e){var r;return bj(this,void 0,void 0,function*(){let i={interface:Ze.Permissions,method:We.Revoke,messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:or.getCurrentTimestamp(),permissionsGrantId:e.permissionsGrantId},n=yield Ye.createAuthorization({descriptor:i,signer:e.signer}),o={descriptor:i,authorization:n};return Ye.validateJsonSchema(o),new t(o)})}authorize(e){return bj(this,void 0,void 0,function*(){if(this.author!==e.descriptor.grantedFor)throw new Te(Ee.PermissionsRevokeUnauthorizedRevoke,"Only the DWN owner may revoke a grant")})}};var Kot=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},NM=class t{constructor(e,r,i){this.didResolver=e,this.messageStore=r,this.eventLog=i}handle({tenant:e,message:r}){return Kot(this,void 0,void 0,function*(){let i;try{i=yield q1.parse(r)}catch(C){return rr(C,400)}try{yield Ji(r.authorization,this.didResolver)}catch(C){return rr(C,401)}let n=r.descriptor.permissionsGrantId,o=yield this.messageStore.get(e,n);if(o===void 0)return{status:{code:400,detail:`Could not find PermissionsGrant with CID ${n}`}};try{yield i.authorize(o)}catch(C){return rr(C,401)}if(r.descriptor.messageTimestamp<o.descriptor.messageTimestamp)return{status:{code:400,detail:"PermissionsRevoke has earlier date than associated PermissionsGrant"}};let s={interface:Ze.Permissions,method:We.Revoke,permissionsGrantId:n},{messages:f}=yield this.messageStore.query(e,[s]),d=yield Ye.getOldestMessage(f);if(d!==void 0&&!(yield Ye.isOlder(r,d)))return{status:{code:409,detail:"Conflict"}};let p=t.constructIndexes(i);yield this.messageStore.put(e,r,p),yield this.eventLog.append(e,yield Ye.getCid(r),p);let u=[];for(let C of f){let x=yield Ye.getCid(C);yield this.messageStore.delete(e,x),u.push(x)}yield this.eventLog.deleteEventsByCid(e,u);let y={permissionsGrantId:n,dateCreated:{gte:r.descriptor.messageTimestamp}},{messages:B}=yield this.messageStore.query(e,[y]),S=[];for(let C of B){let x=yield Ye.getCid(C);yield this.messageStore.delete(e,x)}return this.eventLog.deleteEventsByCid(e,S),{status:{code:202,detail:"Accepted"}}})}static constructIndexes(e){let{descriptor:r}=e.message;return{interface:Ze.Permissions,method:We.Revoke,author:e.author,messageTimestamp:r.messageTimestamp,permissionsGrantId:r.permissionsGrantId}}};b();b();b();var V0;(function(t){t.Anyone="anyone",t.Author="author",t.Recipient="recipient"})(V0||(V0={}));var Gh;(function(t){t.Delete="delete",t.Query="query",t.Read="read",t.Update="update",t.Write="write"})(Gh||(Gh={}));var ube=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},yg=class t extends cn{static parse(e){return ube(this,void 0,void 0,function*(){return Ye.validateJsonSchema(e),t.validateProtocolDefinition(e.descriptor.definition),yield Ye.validateSignatureStructure(e.authorization.signature,e.descriptor),or.validateTimestamp(e.descriptor.messageTimestamp),new t(e)})}static create(e){var r;return ube(this,void 0,void 0,function*(){let i={interface:Ze.Protocols,method:We.Configure,messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:or.getCurrentTimestamp(),definition:t.normalizeDefinition(e.definition)},n=yield Ye.createAuthorization({descriptor:i,signer:e.signer,permissionsGrantId:e.permissionsGrantId}),o={descriptor:i,authorization:n};return Ye.validateJsonSchema(o),t.validateProtocolDefinition(o.descriptor.definition),new t(o)})}static validateProtocolDefinition(e){let{protocol:r,types:i}=e;$A(r);for(let n in i){let o=i[n].schema;o!==void 0&&b1(o)}t.validateStructure(e)}static validateStructure(e){let r=[];for(let i in e.structure)e.structure[i].$globalRole&&r.push(i);for(let i in e.structure){let n=e.structure[i],o=[];for(let s in n){if(s.startsWith("$"))continue;n[s].$contextRole&&o.push(`${i}/${s}`)}t.validateRuleSet(n,i,[...r,...o])}}static validateRuleSet(e,r,i){var n;let o=r.split("/").length;if(e.$globalRole&&o!==1)throw new Te(Ee.ProtocolsConfigureGlobalRoleAtProhibitedProtocolPath,`$globalRole is not allowed at protocol path (${r}). Only root records may set $globalRole true.`);if(e.$contextRole&&o!==2)throw new Te(Ee.ProtocolsConfigureContextRoleAtProhibitedProtocolPath,`$contextRole is not allowed at protocol path (${r}). Only second-level records may set $contextRole true.`);let s=(n=e.$actions)!==null&&n!==void 0?n:[];for(let f of s){if(f.role!==void 0&&!i.includes(f.role))throw new Te(Ee.ProtocolsConfigureInvalidRole,`Invalid role '${f.role}' found at protocol path '${r}'`);if(f.who==="anyone"&&f.of)throw new Te(Ee.ProtocolsConfigureInvalidActionOfNotAllowed,`'of' is not allowed at protocol path (${r})`);if(f.who===V0.Recipient&&f.of===void 0&&!["update","delete"].includes(f.can))throw new Te(Ee.ProtocolsConfigureInvalidRecipientOfAction,"Rules for `recipient` without `of` property must have `can` === `delete` or `update`");if(f.who===V0.Author&&!f.of)throw new Te(Ee.ProtocolsConfigureInvalidActionMissingOf,"'of' is required when 'author' is specified as 'who'")}for(let f in e){if(f.startsWith("$"))continue;let d=e[f],p=`${r}/${f}`;t.validateRuleSet(d,p,i)}}static normalizeDefinition(e){let r=Object.assign({},e.types);for(let i in r){let n=r[i].schema;n!==void 0&&(r[i].schema=q0(n))}return Object.assign(Object.assign({},e),{protocol:Zd(e.protocol),types:r})}};var qot=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Lot=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r},PM=class t{constructor(e,r,i,n){this.didResolver=e,this.messageStore=r,this.dataStore=i,this.eventLog=n}handle({tenant:e,message:r,dataStream:i}){return qot(this,void 0,void 0,function*(){let n;try{n=yield yg.parse(r)}catch(y){return rr(y,400)}try{yield Ji(r.authorization,this.didResolver),yield eg(e,n)}catch(y){return rr(y,401)}let o={interface:Ze.Protocols,method:We.Configure,protocol:r.descriptor.definition.protocol},{messages:s}=yield this.messageStore.query(e,[o]),f=yield Ye.getNewestMessage(s),d=!1;(f===void 0||(yield Ye.isNewer(r,f)))&&(d=!0,f=r);let p;if(d){let y=t.constructIndexes(n),B=yield Ye.getCid(r);yield this.messageStore.put(e,r,y),yield this.eventLog.append(e,B,y),p={status:{code:202,detail:"Accepted"}}}else p={status:{code:409,detail:"Conflict"}};let u=[];for(let y of s)if(yield Ye.isNewer(f,y)){let B=yield Ye.getCid(y);u.push(B),yield this.messageStore.delete(e,B)}return yield this.eventLog.deleteEventsByCid(e,u),p})}static constructIndexes(e){let r=e.message.descriptor,{definition:i}=r,n=Lot(r,["definition"]),{author:o}=e;return Object.assign(Object.assign({},n),{author:o,protocol:i.protocol,published:i.published})}};b();var hbe=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},OM=class{constructor(e,r,i){this.didResolver=e,this.messageStore=r,this.dataStore=i}handle({tenant:e,message:r}){return hbe(this,void 0,void 0,function*(){let i;try{i=yield Hh.parse(r)}catch(s){return rr(s,400)}try{yield Ji(r.authorization,this.didResolver),yield i.authorize(e,this.messageStore)}catch(s){if(s.code===Ee.AuthenticateJwsMissing||s.code===Ee.ProtocolsQueryUnauthorized){let f=yield this.fetchPublishedProtocolsConfigure(e,i);return{status:{code:200,detail:"OK"},entries:f}}else return rr(s,401)}let n=Object.assign(Object.assign({},r.descriptor.filter),{interface:Ze.Protocols,method:We.Configure});Di(n);let{messages:o}=yield this.messageStore.query(e,[n]);return{status:{code:200,detail:"OK"},entries:o}})}fetchPublishedProtocolsConfigure(e,r){return hbe(this,void 0,void 0,function*(){let i=Object.assign(Object.assign({},r.message.descriptor.filter),{interface:Ze.Protocols,method:We.Configure,published:!0}),{messages:n}=yield this.messageStore.query(e,[i]);return n})}};b();b();b();var Ao=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},qi=class t{get message(){if(this._message.authorization===void 0)throw new Te(Ee.RecordsWriteMissingSigner,"This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}get isSignedByDelegate(){return Ye.isSignedByDelegate(this._message)}get signer(){return Ye.getSigner(this._message)}constructor(e){this._message=e,e.authorization!==void 0&&(e.authorization.authorDelegatedGrant!==void 0?this._author=Ye.getSigner(e.authorization.authorDelegatedGrant):this._author=Ye.getSigner(e),this._signaturePayload=ji.decodePlainObjectPayload(e.authorization.signature),e.authorization.ownerSignature!==void 0&&(this._owner=ji.getSignerDid(e.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=ji.decodePlainObjectPayload(e.authorization.ownerSignature))),this.attesters=t.getAttesters(e)}static parse(e){return Ao(this,void 0,void 0,function*(){yield Ye.validateSignatureStructure(e.authorization.signature,e.descriptor,"RecordsWriteSignaturePayload"),e.authorization.ownerSignature!==void 0&&(yield Ye.validateSignatureStructure(e.authorization.ownerSignature,e.descriptor)),yield t.validateAttestationIntegrity(e);let r=new t(e);return yield r.validateIntegrity(),r})}static create(e){var r,i,n,o;return Ao(this,void 0,void 0,function*(){if(e.protocol===void 0&&e.protocolPath!==void 0||e.protocol!==void 0&&e.protocolPath===void 0)throw new Te(Ee.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive,"`protocol` and `protocolPath` must both be defined or undefined at the same time");if(e.data===void 0&&e.dataCid===void 0||e.data!==void 0&&e.dataCid!==void 0)throw new Te(Ee.RecordsWriteCreateDataAndDataCidMutuallyExclusive,"one and only one parameter between `data` and `dataCid` is allowed");if(e.dataCid===void 0&&e.dataSize!==void 0||e.dataCid!==void 0&&e.dataSize===void 0)throw new Te(Ee.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive,"`dataCid` and `dataSize` must both be defined or undefined at the same time");if(e.parentId!==void 0&&e.contextId===void 0)throw new Te(Ee.RecordsWriteCreateContextIdAndParentIdMutuallyInclusive,"`contextId` must also be given when `parentId` is specified");if(e.signer===void 0&&e.delegatedGrant!==void 0)throw new Te(Ee.RecordsWriteCreateMissingSigner,"`signer` must be given when `delegatedGrant` is given");let s=(r=e.dataCid)!==null&&r!==void 0?r:yield Yi.computeDagPbCidFromBytes(e.data),f=(i=e.dataSize)!==null&&i!==void 0?i:e.data.length,d=or.getCurrentTimestamp(),p={interface:Ze.Records,method:We.Write,protocol:e.protocol!==void 0?Zd(e.protocol):void 0,protocolPath:e.protocolPath,recipient:e.recipient,schema:e.schema!==void 0?q0(e.schema):void 0,parentId:e.parentId,dataCid:s,dataSize:f,dateCreated:(n=e.dateCreated)!==null&&n!==void 0?n:d,messageTimestamp:(o=e.messageTimestamp)!==null&&o!==void 0?o:d,published:e.published,datePublished:e.datePublished,dataFormat:e.dataFormat};e.published===!0&&e.datePublished===void 0&&(p.datePublished=d),Di(p);let u=e.recordId,y=e.contextId,B=yield Yi.computeCid(p),S=yield t.createAttestation(B,e.attestationSigners),C=yield t.createEncryptionProperty(p,e.encryptionInput),x={recordId:u,descriptor:p};y!==void 0&&(x.contextId=y),S!==void 0&&(x.attestation=S),C!==void 0&&(x.encryption=C);let _=new t(x);return e.signer!==void 0&&(yield _.sign({signer:e.signer,delegatedGrant:e.delegatedGrant,permissionsGrantId:e.permissionsGrantId,protocolRole:e.protocolRole})),_})}static createFrom(e){var r,i;return Ao(this,void 0,void 0,function*(){let n=e.recordsWriteMessage,o=or.getCurrentTimestamp(),s=(r=e.published)!==null&&r!==void 0?r:e.datePublished?!0:n.descriptor.published,f;e.datePublished?f=e.datePublished:s&&(n.descriptor.published?f=n.descriptor.datePublished:f=o);let d={recipient:n.descriptor.recipient,recordId:n.recordId,dateCreated:n.descriptor.dateCreated,contextId:n.contextId,protocol:n.descriptor.protocol,protocolPath:n.descriptor.protocolPath,parentId:n.descriptor.parentId,schema:n.descriptor.schema,dataFormat:n.descriptor.dataFormat,messageTimestamp:(i=e.messageTimestamp)!==null&&i!==void 0?i:o,published:s,datePublished:f,data:e.data,dataCid:e.data?void 0:n.descriptor.dataCid,dataSize:e.data?void 0:n.descriptor.dataSize,protocolRole:e.protocolRole,delegatedGrant:e.delegatedGrant,signer:e.signer,attestationSigners:e.attestationSigners};return yield t.create(d)})}toJSON(){return this.message}encryptSymmetricEncryptionKey(e){return Ao(this,void 0,void 0,function*(){this._message.encryption=yield t.createEncryptionProperty(this._message.descriptor,e),delete this._message.authorization,this._signaturePayload=void 0,this._author=void 0})}sign(e){var r;return Ao(this,void 0,void 0,function*(){let{signer:i,delegatedGrant:n,permissionsGrantId:o,protocolRole:s}=e,f,d;n!==void 0?(f=yield Ye.getCid(n),d=ji.getSignerDid(n.authorization.signature.signatures[0])):d=ji.extractDid(i.keyId);let p=this._message.descriptor,u=yield Yi.computeCid(p);this._message.recordId=(r=this._message.recordId)!==null&&r!==void 0?r:yield t.getEntryId(d,p),this._message.contextId===void 0&&this._message.descriptor.protocol!==void 0&&(this._message.contextId=yield t.getEntryId(d,p));let y=yield t.createSignerSignature({recordId:this._message.recordId,contextId:this._message.contextId,descriptorCid:u,attestation:this._message.attestation,encryption:this._message.encryption,signer:i,delegatedGrantId:f,permissionsGrantId:o,protocolRole:s});this._message.authorization={signature:y},n!==void 0&&(this._message.authorization.authorDelegatedGrant=n),this._signaturePayload=ji.decodePlainObjectPayload(y),this._author=d})}signAsOwner(e,r){return Ao(this,void 0,void 0,function*(){if(this._author===void 0)throw new Te(Ee.RecordsWriteSignAsOwnerUnknownAuthor,"Unable to sign as owner if without message signature because owner needs to sign over `recordId` which depends on author DID.");let i=this._message.descriptor,n=yield Ye.createSignature(i,e,{permissionsGrantId:r});this._message.authorization.ownerSignature=n,this._ownerSignaturePayload=ji.decodePlainObjectPayload(n),this._owner=ji.extractDid(e.keyId)})}validateIntegrity(){return Ao(this,void 0,void 0,function*(){if(yield this.isInitialWrite()){let i=this.message.descriptor.dateCreated,n=this.message.descriptor.messageTimestamp;if(n!==i)throw new Te(Ee.RecordsWriteValidateIntegrityDateCreatedMismatch,`messageTimestamp ${n} must match dateCreated ${i} for the initial write`);if(this.message.descriptor.protocol!==void 0&&this.message.descriptor.parentId===void 0){let o=yield this.getEntryId();if(this.message.contextId!==o)throw new Te(Ee.RecordsWriteValidateIntegrityContextIdMismatch,`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${o}`)}}let r=this.signaturePayload;if(this.message.recordId!==r.recordId)throw new Te(Ee.RecordsWriteValidateIntegrityRecordIdUnauthorized,`recordId in message ${this.message.recordId} does not match recordId in authorization: ${r.recordId}`);if(this.message.contextId!==r.contextId)throw new Te(Ee.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload,`contextId in message ${this.message.contextId} does not match contextId in authorization: ${r.contextId}`);if(Vi.validateDelegatedGrantReferentialIntegrity(this.message,r),r.attestationCid!==void 0){let i=yield Yi.computeCid(this.message.attestation),n=r.attestationCid;if(n!==i)throw new Te(Ee.RecordsWriteValidateIntegrityAttestationMismatch,`CID ${i} of attestation property in message does not match attestationCid in authorization: ${n}`)}if(r.encryptionCid!==void 0){let i=yield Yi.computeCid(this.message.encryption),n=r.encryptionCid;if(n!==i)throw new Te(Ee.RecordsWriteValidateIntegrityEncryptionCidMismatch,`CID ${i} of encryption property in message does not match encryptionCid in authorization: ${n}`)}this.message.descriptor.protocol!==void 0&&$A(this.message.descriptor.protocol),this.message.descriptor.schema!==void 0&&b1(this.message.descriptor.schema),or.validateTimestamp(this.message.descriptor.messageTimestamp),or.validateTimestamp(this.message.descriptor.dateCreated),this.message.descriptor.datePublished&&or.validateTimestamp(this.message.descriptor.datePublished)})}static validateAttestationIntegrity(e){return Ao(this,void 0,void 0,function*(){if(e.attestation===void 0)return;if(e.attestation.signatures.length!==1)throw new Te(Ee.RecordsWriteAttestationIntegrityMoreThanOneSignature,`Currently implementation only supports 1 attester, but got ${e.attestation.signatures.length}`);let r=ji.decodePlainObjectPayload(e.attestation),{descriptorCid:i}=r,n=yield Yi.computeCid(e.descriptor);if(i!==n)throw new Te(Ee.RecordsWriteAttestationIntegrityDescriptorCidMismatch,`descriptorCid ${i} does not match expected descriptorCid ${n}`);let o=Object.keys(r).length;if(o>1)throw new Te(Ee.RecordsWriteAttestationIntegrityInvalidPayloadProperty,`Only 'descriptorCid' is allowed in attestation payload, but got ${o} properties.`)})}getEntryId(){return Ao(this,void 0,void 0,function*(){return yield t.getEntryId(this.author,this.message.descriptor)})}static getEntryId(e,r){return Ao(this,void 0,void 0,function*(){if(e===void 0)throw new Te(Ee.RecordsWriteGetEntryIdUndefinedAuthor,"Property `author` is needed to compute entry ID.");let i=Object.assign({},r);return i.author=e,yield Yi.computeCid(i)})}isInitialWrite(){return Ao(this,void 0,void 0,function*(){return(yield this.getEntryId())===this.message.recordId})}isAuthoredByInitialRecordAuthor(e,r){return Ao(this,void 0,void 0,function*(){let i={entryId:this.message.recordId},{messages:n}=yield r.query(e,[i]);return(yield t.parse(n[0])).author===this.author})}constructRecordsWriteIndexes(e){return Ao(this,void 0,void 0,function*(){let r=this.message,i=Object.assign({},r.descriptor);delete i.published;let n=Object.assign(Object.assign({},i),{isLatestBaseState:e,published:!!r.descriptor.published,author:this.author,recordId:r.recordId,entryId:yield t.getEntryId(this.author,this.message.descriptor)});return this.attesters.length>0&&(n.attester=this.attesters[0]),r.contextId!==void 0&&(n.contextId=r.contextId),n})}authorizeDelegate(e){return Ao(this,void 0,void 0,function*(){let r=this.message.authorization.authorDelegatedGrant;yield Ga.authorizeWrite({recordsWriteMessage:this.message,expectedGrantedToInGrant:this.signer,expectedGrantedForInGrant:this.author,permissionsGrantMessage:r,messageStore:e})})}static isInitialWrite(e){return Ao(this,void 0,void 0,function*(){if(e.descriptor.interface!==Ze.Records||e.descriptor.method!==We.Write)return!1;let r=e,i=t.getAuthor(r);return(yield t.getEntryId(i,r.descriptor))===r.recordId})}static getAuthor(e){let r;return e.authorization.authorDelegatedGrant!==void 0?r=Ye.getSigner(e.authorization.authorDelegatedGrant):r=Ye.getSigner(e),r}static createEncryptionProperty(e,r){var i,n;return Ao(this,void 0,void 0,function*(){if(r===void 0)return;let o=[];for(let f of r.keyEncryptionInputs){if(f.derivationScheme===Uo.ProtocolPath&&e.protocol===void 0)throw new Te(Ee.RecordsWriteMissingProtocol,"`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(f.derivationScheme===Uo.Schemas&&e.schema===void 0)throw new Te(Ee.RecordsWriteMissingSchema,"`schemas` encryption scheme cannot be applied to record without the `schema` property.");let d=Vn.publicJwkToBytes(f.publicKey),p=yield Y0.eciesSecp256k1Encrypt(d,r.key),u=Kt.bytesToBase64Url(p.ciphertext),y=yield Vn.publicKeyToJwk(p.ephemeralPublicKey),B=Kt.bytesToBase64Url(p.initializationVector),S=Kt.bytesToBase64Url(p.messageAuthenticationCode),C={rootKeyId:f.publicKeyId,algorithm:(i=f.algorithm)!==null&&i!==void 0?i:U1.EciesSecp256k1,derivationScheme:f.derivationScheme,ephemeralPublicKey:y,initializationVector:B,messageAuthenticationCode:S,encryptedKey:u};f.derivationScheme===Uo.ProtocolContext&&(C.derivedPublicKey=f.publicKey),o.push(C)}return{algorithm:(n=r.algorithm)!==null&&n!==void 0?n:U1.Aes256Ctr,initializationVector:Kt.bytesToBase64Url(r.initializationVector),keyEncryption:o}})}static createAttestation(e,r){return Ao(this,void 0,void 0,function*(){if(r===void 0||r.length===0)return;let i={descriptorCid:e},n=Kt.objectToBytes(i);return(yield rI.create(n,r)).getJws()})}static createSignerSignature(e){return Ao(this,void 0,void 0,function*(){let{recordId:r,contextId:i,descriptorCid:n,attestation:o,encryption:s,signer:f,delegatedGrantId:d,permissionsGrantId:p,protocolRole:u}=e,y=o?yield Yi.computeCid(o):void 0,B=s?yield Yi.computeCid(s):void 0,S={recordId:r,descriptorCid:n,contextId:i,attestationCid:y,encryptionCid:B,delegatedGrantId:d,permissionsGrantId:p,protocolRole:u};Di(S);let C=Kt.objectToBytes(S);return(yield rI.create(C,[f])).getJws()})}static getInitialWrite(e){return Ao(this,void 0,void 0,function*(){for(let r of e)if(yield t.isInitialWrite(r))return r;throw new Te(Ee.RecordsWriteGetInitialWriteNotFound,"initial write is not found")})}static verifyEqualityOfImmutableProperties(e,r){let i=["dataCid","dataSize","datePublished","published","messageTimestamp"],n=[];n.push(...Object.keys(e.descriptor)),n.push(...Object.keys(r.descriptor)),n=[...new Set(n)];for(let o of n)if(i.indexOf(o)===-1){let s=e.descriptor[o],f=r.descriptor[o];if(f!==s)throw new Te(Ee.RecordsWriteImmutablePropertyChanged,`${o} is an immutable property: cannot change '${s}' to '${f}'`)}return!0}static getAttesters(e){var r,i;return((i=(r=e.attestation)===null||r===void 0?void 0:r.signatures)!==null&&i!==void 0?i:[]).map(s=>ji.getSignerDid(s))}};var Uc=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},nu=class t{static validateReferentialIntegrity(e,r,i){return Uc(this,void 0,void 0,function*(){let n=yield t.fetchProtocolDefinition(e,r.message.descriptor.protocol,i);t.verifyType(r.message,n.types),yield t.verifyProtocolPath(e,r,i);let o=t.getRuleSet(r.message.descriptor.protocolPath,n);yield t.verifyUniqueRoleRecipient(e,r,o,i)})}static authorizeWrite(e,r,i){return Uc(this,void 0,void 0,function*(){let n=yield t.constructAncestorMessageChain(e,r,r,i),o=yield t.fetchProtocolDefinition(e,r.message.descriptor.protocol,i),s=t.getRuleSet(r.message.descriptor.protocolPath,o);yield t.verifyInvokedRole(e,r,r.message.descriptor.protocol,r.message.contextId,o,i),yield t.verifyAllowedActions(e,r,s,n,i)})}static authorizeRead(e,r,i,n){return Uc(this,void 0,void 0,function*(){let o=yield t.constructAncestorMessageChain(e,r,i,n),s=yield t.fetchProtocolDefinition(e,i.message.descriptor.protocol,n),f=t.getRuleSet(i.message.descriptor.protocolPath,s);yield t.verifyInvokedRole(e,r,i.message.descriptor.protocol,i.message.contextId,s,n),yield t.verifyAllowedActions(e,r,f,o,n)})}static authorizeQuery(e,r,i){return Uc(this,void 0,void 0,function*(){let{protocol:n,protocolPath:o,contextId:s}=r.message.descriptor.filter,f=yield t.fetchProtocolDefinition(e,n,i),d=t.getRuleSet(o,f);yield t.verifyInvokedRole(e,r,n,s,f,i),yield t.verifyAllowedActions(e,r,d,[],i)})}static authorizeDelete(e,r,i,n){return Uc(this,void 0,void 0,function*(){let o=yield t.constructAncestorMessageChain(e,r,i,n),s=yield t.fetchProtocolDefinition(e,i.message.descriptor.protocol,n),f=t.getRuleSet(i.message.descriptor.protocolPath,s);yield t.verifyInvokedRole(e,r,i.message.descriptor.protocol,i.message.contextId,s,n),yield t.verifyAllowedActions(e,r,f,o,n)})}static fetchProtocolDefinition(e,r,i){return Uc(this,void 0,void 0,function*(){let n={interface:Ze.Protocols,method:We.Configure,protocol:r},{messages:o}=yield i.query(e,[n]);if(o.length===0)throw new Te(Ee.ProtocolAuthorizationProtocolNotFound,`unable to find protocol definition for ${r}`);return o[0].descriptor.definition})}static constructAncestorMessageChain(e,r,i,n){return Uc(this,void 0,void 0,function*(){let o=[];r.message.descriptor.method!==We.Write&&o.push(i.message);let s=i.message.descriptor.protocol,f=i.message.contextId,d=i.message.descriptor.parentId;for(;d!==void 0;){let p={interface:Ze.Records,method:We.Write,protocol:s,contextId:f,recordId:d},{messages:u}=yield n.query(e,[p]);if(u.length===0)throw new Te(Ee.ProtocolAuthorizationParentNotFound,`no parent found with ID ${d}`);let y=u[0];o.push(y),d=y.descriptor.parentId}return o.reverse()})}static getRuleSet(e,r){let i=t.getRuleSetAtProtocolPath(e,r);if(i===void 0)throw new Te(Ee.ProtocolAuthorizationMissingRuleSet,`No rule set defined for protocolPath ${e}`);return i}static verifyProtocolPath(e,r,i){var n,o;return Uc(this,void 0,void 0,function*(){let s=r.message.descriptor.protocolPath,f=t.getTypeName(s),d=r.message.descriptor.parentId;if(d===void 0){if(s!==f)throw new Te(Ee.ProtocolAuthorizationParentlessIncorrectProtocolPath,`Declared protocol path '${s}' is not valid for records with no parentId'.`)}else{let p=r.message.descriptor.protocol,u=r.message.contextId,y={interface:Ze.Records,method:We.Write,protocol:p,contextId:u,recordId:d},{messages:B}=yield i.query(e,[y]),S=(o=(n=B[0])===null||n===void 0?void 0:n.descriptor)===null||o===void 0?void 0:o.protocolPath,C=`${S}/${f}`;if(S===void 0||C!==s)throw new Te(Ee.ProtocolAuthorizationIncorrectProtocolPath,`Could not find matching parent record to verify declared protocol path '${s}'.`)}})}static verifyType(e,r){let i=Object.keys(r),n=e.descriptor.protocolPath,o=t.getTypeName(n);if(!i.includes(o))throw new Te(Ee.ProtocolAuthorizationInvalidType,`record with type ${o} not allowed in protocol`);let s=e.descriptor.protocolPath,f=t.getTypeName(s),d=r[f],{schema:p}=e.descriptor;if(d.schema!==void 0&&d.schema!==p)throw new Te(Ee.ProtocolAuthorizationInvalidSchema,`type '${f}' must have schema '${d.schema}',         instead has '${p}'`);let{dataFormat:u}=e.descriptor;if(d.dataFormats!==void 0&&!d.dataFormats.includes(u))throw new Te(Ee.ProtocolAuthorizationIncorrectDataFormat,`type '${f}' must have data format in (${d.dataFormats}),         instead has '${u}'`)}static verifyInvokedRole(e,r,i,n,o,s){var f;return Uc(this,void 0,void 0,function*(){let d=(f=r.signaturePayload)===null||f===void 0?void 0:f.protocolRole;if(d===void 0)return;let p=t.getRuleSetAtProtocolPath(d,o);if(p===void 0||!p.$globalRole&&!p.$contextRole)throw new Te(Ee.ProtocolAuthorizationNotARole,`Protocol path ${d} is not a valid protocolRole`);let u={interface:Ze.Records,method:We.Write,protocol:i,protocolPath:d,recipient:r.author,isLatestBaseState:!0};if(p.$contextRole){if(n===void 0)throw new Te(Ee.ProtocolAuthorizationMissingContextId,"Could not verify $contextRole because contextId is missing");u.contextId=n}let{messages:y}=yield s.query(e,[u]);if(y.length===0)throw new Te(Ee.ProtocolAuthorizationMissingRole,`No matching role record found for protocol path ${d}`)})}static getActionsSeekingARuleMatch(e,r,i){return Uc(this,void 0,void 0,function*(){switch(r.message.descriptor.method){case We.Delete:return[Gh.Delete];case We.Query:return[Gh.Query];case We.Read:return[Gh.Read];case We.Write:let n=r;return(yield n.isInitialWrite())?[Gh.Write]:(yield n.isAuthoredByInitialRecordAuthor(e,i))?[Gh.Write,Gh.Update]:[Gh.Update]}})}static verifyAllowedActions(e,r,i,n,o){var s;return Uc(this,void 0,void 0,function*(){let f=r.message.descriptor.method,d=yield t.getActionsSeekingARuleMatch(e,r,o),p=r.author,u=i.$actions;if(u===void 0)throw new Te(Ee.ProtocolAuthorizationActionRulesNotFound,`no action rule defined for ${f}, ${p} is unauthorized`);let y=(s=r.signaturePayload)===null||s===void 0?void 0:s.protocolRole;for(let B of u){if(!d.includes(B.can))continue;if(y!==void 0){if(B.role===y)return;continue}else if(B.who===V0.Recipient&&B.of===void 0&&p!==void 0){let C;if(r.message.descriptor.method===We.Write?C=r.message:C=n[n.length-1],C.descriptor.recipient===p)return}else{if(B.who===V0.Anyone)return;if(p===void 0)continue}if(yield t.checkActor(p,B,n))return}throw new Te(Ee.ProtocolAuthorizationActionNotAllowed,"inbound message action not allowed for author")})}static verifyUniqueRoleRecipient(e,r,i,n){return Uc(this,void 0,void 0,function*(){let o=r;if(!i.$globalRole&&!i.$contextRole)return;let s=o.message.descriptor.recipient;if(s===void 0)throw new Te(Ee.ProtocolAuthorizationRoleMissingRecipient,"Role records must have a recipient");let f=o.message.descriptor.protocolPath,d={interface:Ze.Records,method:We.Write,isLatestBaseState:!0,protocol:o.message.descriptor.protocol,protocolPath:f,recipient:s};i.$contextRole&&(d.contextId=o.message.contextId);let{messages:p}=yield n.query(e,[d]);if(p.filter(B=>B.recordId!==o.message.recordId).length>0)throw i.$globalRole?new Te(Ee.ProtocolAuthorizationDuplicateGlobalRoleRecipient,`DID '${s}' is already recipient of a $globalRole record at protocol path '${f}`):new Te(Ee.ProtocolAuthorizationDuplicateContextRoleRecipient,`DID '${s}' is already recipient of a $contextRole record at protocol path '${f} in the same context`)})}static getRuleSetAtProtocolPath(e,r){let i=e.split("/"),n=r.structure,o=0;for(;o<i.length;){let s=i[o],f=n[s];if(f===void 0)return;n=f,o++}return n}static checkActor(e,r,i){return Uc(this,void 0,void 0,function*(){let n=i.find(o=>o.descriptor.protocolPath===r.of);if(n===void 0)return!1;if(r.who===V0.Recipient)return e===n.descriptor.recipient;{let o=(yield qi.parse(n)).author;return e===o}})}static getTypeName(e){return e.split("/").slice(-1)[0]}};b();var Ej=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},mg=class t extends cn{static parse(e){return Ej(this,void 0,void 0,function*(){let r;return e.authorization!==void 0&&(r=yield Ye.validateSignatureStructure(e.authorization.signature,e.descriptor)),Vi.validateDelegatedGrantReferentialIntegrity(e,r),or.validateTimestamp(e.descriptor.messageTimestamp),new t(e)})}static create(e){var r;return Ej(this,void 0,void 0,function*(){let i=e.recordId,n=or.getCurrentTimestamp(),o={interface:Ze.Records,method:We.Delete,recordId:i,messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:n},s=yield Ye.createAuthorization({descriptor:o,signer:e.signer,protocolRole:e.protocolRole,delegatedGrant:e.delegatedGrant}),f={descriptor:o,authorization:s};return Ye.validateJsonSchema(f),new t(f)})}authorizeDelegate(e,r){return Ej(this,void 0,void 0,function*(){let i=this.message.authorization.authorDelegatedGrant;yield Ga.authorizeDelete({recordsDeleteMessage:this.message,recordsWriteToDelete:e,expectedGrantedToInGrant:this.signer,expectedGrantedForInGrant:this.author,permissionsGrantMessage:i,messageStore:r})})}};b();b();var W0=class{};W0.maxDataSizeAllowedToBeEncoded=3e4;var lbe=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},L1=class t{static delete(e,r,i,n){return lbe(this,void 0,void 0,function*(){let o=yield Ye.getCid(n);if(n.descriptor.method===We.Write&&n.descriptor.dataSize>W0.maxDataSizeAllowedToBeEncoded){let s=n;yield r.delete(i,o,s.descriptor.dataCid)}yield e.delete(i,o)})}static deleteAllOlderMessagesButKeepInitialWrite(e,r,i,n,o,s){return lbe(this,void 0,void 0,function*(){let f=[];for(let d of r){if(yield Ye.isOlder(d,i))if(yield t.delete(n,o,e,d),yield qi.isInitialWrite(d)){let y=yield qi.parse(d),B=!1,S=yield y.constructRecordsWriteIndexes(B),C=d;delete C.encodedData,yield n.put(e,C,S)}else{let y=yield Ye.getCid(d);f.push(y)}yield s.deleteEventsByCid(e,f)}})}};var pbe=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},KM=class t{constructor(e,r,i,n){this.didResolver=e,this.messageStore=r,this.dataStore=i,this.eventLog=n}handle({tenant:e,message:r}){return pbe(this,void 0,void 0,function*(){let i;try{i=yield mg.parse(r)}catch(S){return rr(S,400)}try{yield Ji(r.authorization,this.didResolver)}catch(S){return rr(S,401)}let n={interface:Ze.Records,recordId:r.descriptor.recordId},{messages:o}=yield this.messageStore.query(e,[n]),s=yield Ye.getNewestMessage(o),f=!1,d;if(s===void 0||(yield Ye.isNewer(r,s))?(f=!0,d=r):d=s,!f)return{status:{code:409,detail:"Conflict"}};if(s===void 0||s.descriptor.method===We.Delete)return{status:{code:404,detail:"Not Found"}};try{yield t.authorizeRecordsDelete(e,i,yield qi.parse(s),this.messageStore)}catch(S){return rr(S,401)}let p=yield qi.getInitialWrite(o),u=t.constructIndexes(i,p);yield this.messageStore.put(e,r,u);let y=yield Ye.getCid(r);return yield this.eventLog.append(e,y,u),yield L1.deleteAllOlderMessagesButKeepInitialWrite(e,o,d,this.messageStore,this.dataStore,this.eventLog),{status:{code:202,detail:"Accepted"}}})}static authorizeRecordsDelete(e,r,i,n){return pbe(this,void 0,void 0,function*(){if(Ye.isSignedByDelegate(r.message)&&(yield r.authorizeDelegate(i.message,n)),r.author!==e)if(i.message.descriptor.protocol!==void 0)yield nu.authorizeDelete(e,r,i,n);else throw new Te(Ee.RecordsDeleteAuthorizationFailed,"RecordsDelete message failed authorization")})}static constructIndexes(e,r){let i=e.message,n=Object.assign({},i.descriptor),{protocol:o,protocolPath:s,recipient:f,schema:d,parentId:p,dataFormat:u,dateCreated:y}=r.descriptor,B=Object.assign({protocol:o,protocolPath:s,recipient:f,schema:d,parentId:p,dataFormat:u,dateCreated:y,contextId:r.contextId,author:e.author},n);return Di(B),B}};b();b();var Fo;(function(t){t[t.Descending=-1]="Descending",t[t.Ascending=1]="Ascending"})(Fo||(Fo={}));var x3=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},qM=class t{constructor(e,r,i){this.didResolver=e,this.messageStore=r,this.dataStore=i}handle({tenant:e,message:r}){return x3(this,void 0,void 0,function*(){let i;try{i=yield pg.parse(r)}catch(s){return rr(s,400)}let n,o;if(t.filterIncludesPublishedRecords(i)&&i.author===void 0){let s=yield this.fetchPublishedRecords(e,i);n=s.messages,o=s.cursor}else{try{yield Ji(r.authorization,this.didResolver),yield t.authorizeRecordsQuery(e,i,this.messageStore)}catch(s){return rr(s,401)}if(i.author===e){let s=yield this.fetchRecordsAsOwner(e,i);n=s.messages,o=s.cursor}else{let s=yield this.fetchRecordsAsNonOwner(e,i);n=s.messages,o=s.cursor}}for(let s of n)if(!(yield qi.isInitialWrite(s))){let d=(yield this.messageStore.query(e,[{recordId:s.recordId,isLatestBaseState:!1,method:We.Write}])).messages[0];delete d.encodedData,s.initialWrite=d}return{status:{code:200,detail:"OK"},entries:n,cursor:o}})}convertDateSort(e){switch(e){case Ms.CreatedAscending:return{dateCreated:Fo.Ascending};case Ms.CreatedDescending:return{dateCreated:Fo.Descending};case Ms.PublishedAscending:return{datePublished:Fo.Ascending};case Ms.PublishedDescending:return{datePublished:Fo.Descending};default:return{dateCreated:Fo.Ascending}}}fetchRecordsAsOwner(e,r){return x3(this,void 0,void 0,function*(){let{dateSort:i,filter:n,pagination:o}=r.message.descriptor,s=Object.assign(Object.assign({},Vi.convertFilter(n,i)),{interface:Ze.Records,method:We.Write,isLatestBaseState:!0}),f=this.convertDateSort(i);return this.messageStore.query(e,[s],f,o)})}fetchRecordsAsNonOwner(e,r){return x3(this,void 0,void 0,function*(){let{dateSort:i,pagination:n}=r.message.descriptor,o=[];if(t.filterIncludesPublishedRecords(r)&&o.push(t.buildPublishedRecordsFilter(r)),t.filterIncludesUnpublishedRecords(r)){o.push(t.buildUnpublishedRecordsByQueryAuthorFilter(r));let f=r.message.descriptor.filter.recipient;(f===void 0||f===r.author)&&o.push(t.buildUnpublishedRecordsForQueryAuthorFilter(r)),t.shouldProtocolAuthorizeQuery(r)&&o.push(t.buildUnpublishedProtocolAuthorizedRecordsFilter(r))}let s=this.convertDateSort(i);return this.messageStore.query(e,o,s,n)})}fetchPublishedRecords(e,r){return x3(this,void 0,void 0,function*(){let{dateSort:i,pagination:n}=r.message.descriptor,o=t.buildPublishedRecordsFilter(r),s=this.convertDateSort(i);return this.messageStore.query(e,[o],s,n)})}static buildPublishedRecordsFilter(e){let{dateSort:r,filter:i}=e.message.descriptor;return Object.assign(Object.assign({},Vi.convertFilter(i,r)),{interface:Ze.Records,method:We.Write,published:!0,isLatestBaseState:!0})}static buildUnpublishedRecordsForQueryAuthorFilter(e){let{dateSort:r,filter:i}=e.message.descriptor;return Object.assign(Object.assign({},Vi.convertFilter(i,r)),{interface:Ze.Records,method:We.Write,recipient:e.author,isLatestBaseState:!0,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(e){let{dateSort:r,filter:i}=e.message.descriptor;return Object.assign(Object.assign({},Vi.convertFilter(i,r)),{interface:Ze.Records,method:We.Write,isLatestBaseState:!0,published:!1})}static buildUnpublishedRecordsByQueryAuthorFilter(e){let{dateSort:r,filter:i}=e.message.descriptor;return Object.assign(Object.assign({},Vi.convertFilter(i,r)),{author:e.author,interface:Ze.Records,method:We.Write,isLatestBaseState:!0,published:!1})}static shouldProtocolAuthorizeQuery(e){return e.signaturePayload.protocolRole!==void 0}static filterIncludesPublishedRecords(e){let{filter:r}=e.message.descriptor;return r.datePublished!==void 0||r.published!==!1}static filterIncludesUnpublishedRecords(e){let{filter:r}=e.message.descriptor;return r.datePublished===void 0&&r.published===void 0?!0:r.published===!1}static authorizeRecordsQuery(e,r,i){return x3(this,void 0,void 0,function*(){Ye.isSignedByDelegate(r.message)&&(yield r.authorizeDelegate(i)),t.shouldProtocolAuthorizeQuery(r)&&(yield nu.authorizeQuery(e,r,i))})}};b();b();var Bj=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Ig=class t extends cn{static parse(e){return Bj(this,void 0,void 0,function*(){let r;return e.authorization!==void 0&&(r=yield Ye.validateSignatureStructure(e.authorization.signature,e.descriptor)),Vi.validateDelegatedGrantReferentialIntegrity(e,r),or.validateTimestamp(e.descriptor.messageTimestamp),new t(e)})}static create(e){var r;return Bj(this,void 0,void 0,function*(){let{filter:i,signer:n,permissionsGrantId:o,protocolRole:s}=e,f=or.getCurrentTimestamp(),d={interface:Ze.Records,method:We.Read,filter:Vi.normalizeFilter(i),messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:f};Di(d);let p;n!==void 0&&(p=yield Ye.createAuthorization({descriptor:d,signer:n,permissionsGrantId:o,protocolRole:s,delegatedGrant:e.delegatedGrant}));let u={descriptor:d,authorization:p};return Ye.validateJsonSchema(u),new t(u)})}authorizeDelegate(e,r){return Bj(this,void 0,void 0,function*(){let i=this.message.authorization.authorDelegatedGrant;yield Ga.authorizeRead({recordsReadMessage:this.message,recordsWriteMessageToBeRead:e,expectedGrantedToInGrant:this.signer,expectedGrantedForInGrant:this.author,permissionsGrantMessage:i,messageStore:r})})}};var Abe=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},LM=class t{constructor(e,r,i){this.didResolver=e,this.messageStore=r,this.dataStore=i}handle({tenant:e,message:r}){return Abe(this,void 0,void 0,function*(){let i;try{i=yield Ig.parse(r)}catch(u){return rr(u,400)}try{i.author!==void 0&&(yield Ji(r.authorization,this.didResolver))}catch(u){return rr(u,401)}let n=Object.assign({interface:Ze.Records,isLatestBaseState:!0},Vi.convertFilter(r.descriptor.filter)),{messages:o}=yield this.messageStore.query(e,[n]);if(o.length===0)return{status:{code:404,detail:"Not Found"}};if(o.length>1)return rr(new Te(Ee.RecordsReadReturnedMultiple,"Multiple records exist for the RecordsRead filter"),400);let s=o[0];try{yield t.authorizeRecordsRead(e,i,yield qi.parse(s),this.messageStore)}catch(u){return rr(u,401)}let f;if(s.encodedData!==void 0){let u=Kt.base64UrlToBytes(s.encodedData);f=Rc.fromBytes(u),delete s.encodedData}else{let u=yield Ye.getCid(s),y=yield this.dataStore.get(e,u,s.descriptor.dataCid);if(y?.dataStream===void 0)return{status:{code:404,detail:"Not Found"}};f=y.dataStream}let d=Object.assign(Object.assign({},s),{data:f});if(!(yield qi.isInitialWrite(d))){let y=(yield this.messageStore.query(e,[{recordId:d.recordId,isLatestBaseState:!1,method:We.Write}])).messages[0];delete y.encodedData,d.initialWrite=y}return{status:{code:200,detail:"OK"},record:d}})}static authorizeRecordsRead(e,r,i,n){return Abe(this,void 0,void 0,function*(){Ye.isSignedByDelegate(r.message)&&(yield r.authorizeDelegate(i.message,n));let{descriptor:o}=i.message;if(r.author!==e){if(o.published===!0)return;if(r.author!==void 0&&r.author===o.recipient)return;if(r.author!==void 0&&r.signaturePayload.permissionsGrantId!==void 0){let s=yield Ha.fetchGrant(e,n,r.signaturePayload.permissionsGrantId);yield Ga.authorizeRead({recordsReadMessage:r.message,recordsWriteMessageToBeRead:i.message,expectedGrantedToInGrant:r.author,expectedGrantedForInGrant:e,permissionsGrantMessage:s,messageStore:n})}else if(o.protocol!==void 0)yield nu.authorizeRead(e,r,i,n);else throw new Te(Ee.RecordsReadAuthorizationFailed,"message failed authorization")}})}};b();var H1=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},HM=class t{constructor(e,r,i,n){this.didResolver=e,this.messageStore=r,this.dataStore=i,this.eventLog=n}handle({tenant:e,message:r,dataStream:i}){return H1(this,void 0,void 0,function*(){let n;try{n=yield qi.parse(r),r.descriptor.protocol!==void 0&&(yield nu.validateReferentialIntegrity(e,n,this.messageStore))}catch(B){return rr(B,400)}try{yield Ji(r.authorization,this.didResolver),yield t.authorizeRecordsWrite(e,n,this.messageStore)}catch(B){return rr(B,401)}let o={interface:Ze.Records,recordId:r.recordId},{messages:s}=yield this.messageStore.query(e,[o]),f=yield n.isInitialWrite();if(!f)try{let B=yield qi.getInitialWrite(s);qi.verifyEqualityOfImmutableProperties(B,r)}catch(B){return rr(B,400)}let d=yield Ye.getNewestMessage(s),p=!1,u;if(d===void 0||(yield Ye.isNewer(r,d))?(p=!0,u=r):u=d,!p)return{status:{code:409,detail:"Conflict"}};try{let B=!1,S=r;if(i!==void 0)S=yield this.processMessageWithDataStream(e,r,i),B=!0;else{if(d?.descriptor.method===We.Delete)throw new Te(Ee.RecordsWriteMissingDataStream,"No data stream was provided with the previous message being a delete");if(!f){let x=d;S=yield this.processMessageWithoutDataStream(e,r,x),B=!0}}let C=yield n.constructRecordsWriteIndexes(B);yield this.messageStore.put(e,S,C),yield this.eventLog.append(e,yield Ye.getCid(r),C)}catch(B){let S=B;if(S.code===Ee.RecordsWriteMissingEncodedDataInPrevious||S.code===Ee.RecordsWriteMissingDataInPrevious||S.code===Ee.RecordsWriteMissingDataStream||S.code===Ee.RecordsWriteMissingDataAssociation||S.code===Ee.RecordsWriteDataCidMismatch||S.code===Ee.RecordsWriteDataSizeMismatch)return rr(B,400);throw B}let y={status:{code:202,detail:"Accepted"}};return yield L1.deleteAllOlderMessagesButKeepInitialWrite(e,s,u,this.messageStore,this.dataStore,this.eventLog),y})}cloneAndAddEncodedData(e,r){return H1(this,void 0,void 0,function*(){let i=Object.assign({},e);return i.encodedData=Kt.bytesToBase64Url(r),i})}processMessageWithDataStream(e,r,i){return H1(this,void 0,void 0,function*(){let n=r;if(r.descriptor.dataSize<=W0.maxDataSizeAllowedToBeEncoded){let o=yield Rc.toBytes(i),s=yield Yi.computeDagPbCidFromBytes(o);t.validateDataIntegrity(r.descriptor.dataCid,r.descriptor.dataSize,s,o.length),n=yield this.cloneAndAddEncodedData(r,o)}else{let o=yield Ye.getCid(r),s=yield this.dataStore.put(e,o,r.descriptor.dataCid,i);yield this.validateDataStoreIntegrity(e,r,s.dataCid,s.dataSize)}return n})}processMessageWithoutDataStream(e,r,i){return H1(this,void 0,void 0,function*(){let n=Object.assign({},r),{dataCid:o,dataSize:s}=r.descriptor;if(t.validateDataIntegrity(o,s,i.descriptor.dataCid,i.descriptor.dataSize),s<=W0.maxDataSizeAllowedToBeEncoded)if(i.encodedData!==void 0)n.encodedData=i.encodedData;else throw new Te(Ee.RecordsWriteMissingEncodedDataInPrevious,"No dataStream was provided and unable to get data from previous message");else{let f=yield Ye.getCid(i);if((yield this.dataStore.get(e,f,r.descriptor.dataCid))===void 0)throw new Te(Ee.RecordsWriteMissingDataInPrevious,"No dataStream was provided and unable to get data from previous message");let p=yield this.dataStore.associate(e,yield Ye.getCid(r),r.descriptor.dataCid);if(p===void 0)throw new Te(Ee.RecordsWriteMissingDataAssociation,"No dataStream was provided and unable to associate with previous data");yield this.validateDataStoreIntegrity(e,r,p.dataCid,p.dataSize)}return n})}validateDataStoreIntegrity(e,r,i,n){return H1(this,void 0,void 0,function*(){let o=yield Ye.getCid(r);try{t.validateDataIntegrity(r.descriptor.dataCid,r.descriptor.dataSize,i,n)}catch(s){throw yield this.dataStore.delete(e,o,r.descriptor.dataCid),s}})}static validateDataIntegrity(e,r,i,n){if(e!==i)throw new Te(Ee.RecordsWriteDataCidMismatch,`actual data CID ${i} does not match dataCid in descriptor: ${e}`);if(r!==n)throw new Te(Ee.RecordsWriteDataSizeMismatch,`actual data size ${n} bytes does not match dataSize in descriptor: ${r}`)}static authorizeRecordsWrite(e,r,i){return H1(this,void 0,void 0,function*(){if(r.owner!==void 0&&r.owner!==e)throw new Te(Ee.RecordsWriteOwnerAndTenantMismatch,`Owner ${r.owner} must be the same as tenant ${e} when specified.`);if(r.isSignedByDelegate&&(yield r.authorizeDelegate(i)),r.owner===void 0){if(r.author===e)return;if(r.author!==void 0&&r.signaturePayload.permissionsGrantId!==void 0){let n=yield Ha.fetchGrant(e,i,r.signaturePayload.permissionsGrantId);yield Ga.authorizeWrite({recordsWriteMessage:r.message,expectedGrantedToInGrant:r.author,expectedGrantedForInGrant:e,permissionsGrantMessage:n,messageStore:i})}else if(r.message.descriptor.protocol!==void 0)yield nu.authorizeWrite(e,r,i);else throw new Te(Ee.RecordsWriteAuthorizationFailed,"message failed authorization")}})}};var G1=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},j1=class t{constructor(e){this.didResolver=e.didResolver,this.tenantGate=e.tenantGate,this.messageStore=e.messageStore,this.dataStore=e.dataStore,this.eventLog=e.eventLog,this.methodHandlers={[Ze.Events+We.Get]:new kM(this.didResolver,this.eventLog),[Ze.Events+We.Query]:new TM(this.didResolver,this.eventLog),[Ze.Messages+We.Get]:new RM(this.didResolver,this.messageStore,this.dataStore),[Ze.Permissions+We.Grant]:new UM(this.didResolver,this.messageStore,this.eventLog),[Ze.Permissions+We.Request]:new FM(this.didResolver,this.messageStore,this.eventLog),[Ze.Permissions+We.Revoke]:new NM(this.didResolver,this.messageStore,this.eventLog),[Ze.Protocols+We.Configure]:new PM(this.didResolver,this.messageStore,this.dataStore,this.eventLog),[Ze.Protocols+We.Query]:new OM(this.didResolver,this.messageStore,this.dataStore),[Ze.Records+We.Delete]:new KM(this.didResolver,this.messageStore,this.dataStore,this.eventLog),[Ze.Records+We.Query]:new qM(this.didResolver,this.messageStore,this.dataStore),[Ze.Records+We.Read]:new LM(this.didResolver,this.messageStore,this.dataStore),[Ze.Records+We.Write]:new HM(this.didResolver,this.messageStore,this.dataStore,this.eventLog)}}static create(e){var r,i;return G1(this,void 0,void 0,function*(){(r=e.didResolver)!==null&&r!==void 0||(e.didResolver=new C3),(i=e.tenantGate)!==null&&i!==void 0||(e.tenantGate=new d3);let n=new t(e);return yield n.open(),n})}open(){return G1(this,void 0,void 0,function*(){yield this.messageStore.open(),yield this.dataStore.open(),yield this.eventLog.open()})}close(){return G1(this,void 0,void 0,function*(){this.messageStore.close(),this.dataStore.close(),this.eventLog.close()})}processMessage(e,r,i){var n;return G1(this,void 0,void 0,function*(){let o=(n=yield this.validateTenant(e))!==null&&n!==void 0?n:yield this.validateMessageIntegrity(r);if(o!==void 0)return o;let s=r.descriptor.interface+r.descriptor.method;return yield this.methodHandlers[s].handle({tenant:e,message:r,dataStream:i})})}validateTenant(e){return G1(this,void 0,void 0,function*(){if(!(yield this.tenantGate.isTenant(e)))return{status:{code:401,detail:`${e} is not a tenant`}}})}validateMessageIntegrity(e){var r,i;return G1(this,void 0,void 0,function*(){let n=(r=e?.descriptor)===null||r===void 0?void 0:r.interface,o=(i=e?.descriptor)===null||i===void 0?void 0:i.method;if(n===void 0||o===void 0)return{status:{code:400,detail:`Both interface and method must be present, interface: ${n}, method: ${o}`}};try{Ye.validateJsonSchema(e)}catch(s){return rr(s,400)}})}};b();var Hot=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})};function Got(t){return new Promise((e,r)=>{if(t.aborted){r(t.reason);return}t.addEventListener("abort",()=>{r(t.reason)})})}function $n(t,e){return Hot(this,void 0,void 0,function*(){return e?Promise.race([t,Got(e)]):t})}b();b();b();b();var mbe=Rt(pl(),1),Fc=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},ou=function(t){return this instanceof ou?(this.v=t,this):new ou(t)},Cj=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(o){r[o]=t[o]&&function(s){return new Promise(function(f,d){s=t[o](s),n(f,d,s.done,s.value)})}}function n(o,s,f,d){Promise.resolve(d).then(function(p){o({value:p,done:f})},s)}},ybe=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),n,o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(B){i[B]&&(n[B]=function(S){return new Promise(function(C,x){o.push([B,S,C,x])>1||f(B,S)})})}function f(B,S){try{d(i[B](S))}catch(C){y(o[0][3],C)}}function d(B){B.value instanceof ou?Promise.resolve(B.value.v).then(p,u):y(o[0][2],B)}function p(B){f("next",B)}function u(B){f("throw",B)}function y(B,S){B(S),o.shift(),o.length&&f(o[0][0],o[0][1])}};function su(t,e){return Fc(this,void 0,void 0,function*(){return new mbe.Level(t,Object.assign(Object.assign({},e),{keyEncoding:"utf8"}))})}var z1=class t{constructor(e,r){this.config=Object.assign({createLevelDatabase:su},e),this.db=r}open(){return Fc(this,void 0,void 0,function*(){switch(yield this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise(e=>{this.db.once("open",e)});case"closing":return new Promise((e,r)=>{let i=()=>{this.db.open().then(e).catch(r)};this.db.once("closed",i)});case"closed":return this.db.open()}})}close(){return Fc(this,void 0,void 0,function*(){if(this.db)switch(this.db.status){case"open":return this.db.close();case"opening":return new Promise((e,r)=>{let i=()=>{this.db.close().then(e).catch(r)};this.db.once("open",i)});case"closing":return new Promise(e=>{this.db.once("closed",e)});case"closed":return}})}partition(e){return Fc(this,void 0,void 0,function*(){return yield this.createLevelDatabase(),new t(this.config,this.db.sublevel(e,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}get(e,r){var i;return Fc(this,void 0,void 0,function*(){(i=r?.signal)===null||i===void 0||i.throwIfAborted(),yield $n(this.createLevelDatabase(),r?.signal);try{return yield $n(this.db.get(String(e)),r?.signal)}catch(n){if(n.code==="LEVEL_NOT_FOUND")return;throw n}})}has(e,r){return Fc(this,void 0,void 0,function*(){return!!(yield this.get(e,r))})}keys(e){var r,i;return ybe(this,arguments,function*(){var o,s,f,d;(r=e?.signal)===null||r===void 0||r.throwIfAborted(),yield ou($n(this.createLevelDatabase(),e?.signal));try{for(var p=!0,u=Cj(this.db.keys()),y;y=yield ou(u.next()),o=y.done,!o;p=!0){d=y.value,p=!1;let B=d;(i=e?.signal)===null||i===void 0||i.throwIfAborted(),yield yield ou(B)}}catch(B){s={error:B}}finally{try{!p&&!o&&(f=u.return)&&(yield ou(f.call(u)))}finally{if(s)throw s.error}}})}iterator(e,r){var i,n;return ybe(this,arguments,function*(){var s,f,d,p;(i=r?.signal)===null||i===void 0||i.throwIfAborted(),yield ou($n(this.createLevelDatabase(),r?.signal));try{for(var u=!0,y=Cj(this.db.iterator(e)),B;B=yield ou(y.next()),s=B.done,!s;u=!0){p=B.value,u=!1;let S=p;(n=r?.signal)===null||n===void 0||n.throwIfAborted(),yield yield ou(S)}}catch(S){f={error:S}}finally{try{!u&&!s&&(d=y.return)&&(yield ou(d.call(y)))}finally{if(f)throw f.error}}})}put(e,r,i){var n;return Fc(this,void 0,void 0,function*(){return(n=i?.signal)===null||n===void 0||n.throwIfAborted(),yield $n(this.createLevelDatabase(),i?.signal),$n(this.db.put(String(e),r),i?.signal)})}delete(e,r){var i;return Fc(this,void 0,void 0,function*(){return(i=r?.signal)===null||i===void 0||i.throwIfAborted(),yield $n(this.createLevelDatabase(),r?.signal),$n(this.db.del(String(e)),r?.signal)})}isEmpty(e){var r,i,n,o;return Fc(this,void 0,void 0,function*(){try{for(var s=!0,f=Cj(this.keys(e)),d;d=yield f.next(),r=d.done,!r;s=!0){o=d.value,s=!1;let p=o;return!1}}catch(p){i={error:p}}finally{try{!s&&!r&&(n=f.return)&&(yield n.call(f))}finally{if(i)throw i.error}}return!0})}clear(){return Fc(this,void 0,void 0,function*(){yield this.createLevelDatabase(),yield this.db.clear(),yield this.compactUnderlyingStorage()})}batch(e,r){var i;return Fc(this,void 0,void 0,function*(){return(i=r?.signal)===null||i===void 0||i.throwIfAborted(),yield $n(this.createLevelDatabase(),r?.signal),$n(this.db.batch(e),r?.signal)})}createPartitionOperation(e,r){return Object.assign(Object.assign({},r),{sublevel:this.db.sublevel(e,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})})}compactUnderlyingStorage(e){var r,i,n;return Fc(this,void 0,void 0,function*(){(r=e?.signal)===null||r===void 0||r.throwIfAborted(),yield $n(this.createLevelDatabase(),e?.signal);let o=this.sublevelRange;if(!o)return;let s=this.root;if(s.db.supports.additionalMethods.compactRange)return $n((n=(i=s.db).compactRange)===null||n===void 0?void 0:n.call(i,...o),e?.signal)})}get sublevelRange(){let e=this.db.prefix;if(!e)return;let r=e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+1);return[e,r]}get root(){let e=this.db;for(let r=e.db;r&&r!==e;)e=r;return new t(this.config,e)}createLevelDatabase(){var e;return Fc(this,void 0,void 0,function*(){(e=this.db)!==null&&e!==void 0||(this.db=yield this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}};var Z0=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},GM=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(o){r[o]=t[o]&&function(s){return new Promise(function(f,d){s=t[o](s),n(f,d,s.done,s.value)})}}function n(o,s,f,d){Promise.resolve(d).then(function(p){o({value:p,done:f})},s)}},No=function(t){return this instanceof No?(this.v=t,this):new No(t)},jM=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),n,o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(B){i[B]&&(n[B]=function(S){return new Promise(function(C,x){o.push([B,S,C,x])>1||f(B,S)})})}function f(B,S){try{d(i[B](S))}catch(C){y(o[0][3],C)}}function d(B){B.value instanceof No?Promise.resolve(B.value.v).then(p,u):y(o[0][2],B)}function p(B){f("next",B)}function u(B){f("throw",B)}function y(B,S){B(S),o.shift(),o.length&&f(o[0][0],o[0][1])}},Y1=class t{constructor(e,r){this.config=Object.assign({createLevelDatabase:su},e),this.db=r??new z1(Object.assign(Object.assign({},this.config),{valueEncoding:"binary"}))}open(){return Z0(this,void 0,void 0,function*(){return this.db.open()})}close(){return Z0(this,void 0,void 0,function*(){return this.db.close()})}partition(e){return Z0(this,void 0,void 0,function*(){let r=yield this.db.partition(e);return new t(Object.assign(Object.assign({},this.config),{location:""}),r)})}put(e,r,i){return Z0(this,void 0,void 0,function*(){return yield this.db.put(String(e),r,i),Gr.parse(e.toString())})}get(e,r){return Z0(this,void 0,void 0,function*(){return yield this.db.get(String(e),r)})}has(e,r){return Z0(this,void 0,void 0,function*(){return this.db.has(String(e),r)})}delete(e,r){return Z0(this,void 0,void 0,function*(){return this.db.delete(String(e),r)})}isEmpty(e){return Z0(this,void 0,void 0,function*(){return this.db.isEmpty(e)})}putMany(e,r){return jM(this,arguments,function*(){var n,o,s,f;try{for(var d=!0,p=GM(e),u;u=yield No(p.next()),n=u.done,!n;d=!0){f=u.value,d=!1;let y=f;yield No(this.put(y.cid,y.block,r)),yield yield No(y.cid)}}catch(y){o={error:y}}finally{try{!d&&!n&&(s=p.return)&&(yield No(s.call(p)))}finally{if(o)throw o.error}}})}getMany(e,r){return jM(this,arguments,function*(){var n,o,s,f;try{for(var d=!0,p=GM(e),u;u=yield No(p.next()),n=u.done,!n;d=!0){f=u.value,d=!1;let y=f;yield yield No({cid:y,block:yield No(this.get(y,r))})}}catch(y){o={error:y}}finally{try{!d&&!n&&(s=p.return)&&(yield No(s.call(p)))}finally{if(o)throw o.error}}})}getAll(e){return jM(this,arguments,function*(){var i,n,o,s;let f=this.db.iterator({keys:!0,keyEncoding:"buffer"},e);try{for(var d=!0,p=GM(f),u;u=yield No(p.next()),i=u.done,!i;d=!0){s=u.value,d=!1;let[y,B]=s;yield yield No({cid:Gr.decode(y),block:B})}}catch(y){n={error:y}}finally{try{!d&&!i&&(o=p.return)&&(yield No(o.call(p)))}finally{if(n)throw n.error}}})}deleteMany(e,r){return jM(this,arguments,function*(){var n,o,s,f;try{for(var d=!0,p=GM(e),u;u=yield No(p.next()),n=u.done,!n;d=!0){f=u.value,d=!1;let y=f;yield No(this.delete(y,r)),yield yield No(y)}}catch(y){o={error:y}}finally{try{!d&&!n&&(s=p.return)&&(yield No(s.call(p)))}finally{if(o)throw o.error}}})}clear(){return Z0(this,void 0,void 0,function*(){return this.db.clear()})}};b();var nk=Rt(Fa(),1);b();function jot(t){return t[Symbol.asyncIterator]!=null}function zot(t){if(jot(t))return(async()=>{let r;for await(let i of t)r=i;return r})();let e;for(let r of t)e=r;return e}var Ibe=zot;b();var Xbe=Rt(Fa(),1);b();var wbe=0,Yot="identity",vbe=ed,Jot=t=>jg(wbe,vbe(t)),bbe={code:wbe,name:Yot,encode:vbe,digest:Jot};b();var Ebe=Rt(Fa(),1);var Vot=async(t,e,r,i,n,o,s,f)=>{let d=await s.get(t,f),p=vq(d),u=p,y=r;for(;i.length>0;){let B=i[0];if(B in u){i.shift(),y=`${y}/${B}`;let S=Gr.asCID(u[B]);if(S!=null)return{entry:{type:"object",name:e,path:r,cid:t,node:d,depth:o,size:BigInt(d.length),content:async function*(){yield p}},next:{cid:S,name:B,path:y,toResolve:i}};u=u[B]}else throw(0,Ebe.default)(new Error(`No property named ${B} found in cbor node ${t}`),"ERR_NO_PROP")}return{entry:{type:"object",name:e,path:r,cid:t,node:d,depth:o,size:BigInt(d.length),content:async function*(){yield p}}}},Bbe=Vot;b();var Cbe=Rt(Fa(),1);b();function Wot(t,e,r,i){let n=BigInt(t.length),o=BigInt(e+n);return r>=o||i<e?new Uint8Array(0):(i>=e&&i<o&&(t=t.subarray(0,Number(i-e))),r>=e&&r<o&&(t=t.subarray(Number(r-e))),t)}var CI=Wot;b();var S3=Rt(Fa(),1),Zot=(t,e=0,r=t)=>{let i=BigInt(t),n=BigInt(e??0),o=BigInt(r);if(o!==i&&(o=n+o),o>i&&(o=i),n<0n)throw(0,S3.default)(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(n>i)throw(0,S3.default)(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(o<0n)throw(0,S3.default)(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(o>i)throw(0,S3.default)(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:n,end:o}},J1=Zot;var $ot=t=>{async function*e(r={}){let{start:i,end:n}=J1(t.length,r.offset,r.length),o=CI(t,0n,i,n);r.onProgress?.(new Dn("unixfs:exporter:progress:identity",{bytesRead:BigInt(o.byteLength),totalBytes:n-i,fileSize:BigInt(t.byteLength)})),yield o}return e},Xot=async(t,e,r,i,n,o,s,f)=>{if(i.length>0)throw(0,Cbe.default)(new Error(`No link named ${r} found in raw node ${t}`),"ERR_NOT_FOUND");let d=ow(t.multihash.bytes);return{entry:{type:"identity",name:e,path:r,cid:t,content:$ot(d.digest),depth:o,size:BigInt(d.digest.length),node:d.digest}}},xbe=Xot;b();var Sbe=Rt(Fa(),1);var est=t=>{async function*e(r={}){let{start:i,end:n}=J1(t.length,r.offset,r.length),o=CI(t,0n,i,n);r.onProgress?.(new Dn("unixfs:exporter:progress:raw",{bytesRead:BigInt(o.byteLength),totalBytes:n-i,fileSize:BigInt(t.byteLength)})),yield o}return e},tst=async(t,e,r,i,n,o,s,f)=>{if(i.length>0)throw(0,Sbe.default)(new Error(`No link named ${r} found in raw node ${t}`),"ERR_NOT_FOUND");let d=await s.get(t,f);return{entry:{type:"raw",name:e,path:r,cid:t,content:est(d),depth:o,size:BigInt(d.length),node:d}}},_be=tst;b();var U3=Rt(Fa(),1);b();var rst=async function(t){return(await tD.encode(t)).slice(0,8).reverse()},ist=async(t,e,r)=>{await Promise.all(t.map(async i=>{if(i.Name==null)throw new Error("Unexpected Link without a Name");if(i.Name.length===2){let n=parseInt(i.Name,16);e._putObjectAt(n,new xh({hash:r._options.hash,bits:r._options.bits},e,n));return}await r.put(i.Name.substring(2),!0)}))},Qbe=t=>t.toString(16).toUpperCase().padStart(2,"0").substring(0,2),nst=t=>{let e=t.bucket,r=[];for(;e._parent!=null;)r.push(e),e=e._parent;return r.push(e),r.reverse()},Dbe=async(t,e,r,i,n)=>{if(i==null){let u=nD({hashFn:rst});i={rootBucket:u,hamtDepth:1,lastBucket:u}}await ist(t.Links,i.lastBucket,i.rootBucket);let o=await i.rootBucket._findNewBucketAndPos(e),s=Qbe(o.pos),f=nst(o);f.length>i.hamtDepth&&(i.lastBucket=f[i.hamtDepth],s=Qbe(i.lastBucket._posAtParent));let d=t.Links.find(u=>{if(u.Name==null)return!1;let y=u.Name.substring(0,2),B=u.Name.substring(2);return!(y!==s||B!==""&&B!==e)});if(d==null)return;if(d.Name!=null&&d.Name.substring(2)===e)return d.Hash;i.hamtDepth++;let p=await r.get(d.Hash,n);return t=x0(p),Dbe(t,e,r,i,n)},Mbe=Dbe;b();b();b();function ost(t){let[e,r]=t[Symbol.asyncIterator]!=null?[t[Symbol.asyncIterator](),Symbol.asyncIterator]:[t[Symbol.iterator](),Symbol.iterator],i=[];return{peek:()=>e.next(),push:n=>{i.push(n)},next:()=>i.length>0?{done:!1,value:i.shift()}:e.next(),[r](){return this}}}var zM=ost;function sst(t){return t[Symbol.asyncIterator]!=null}function ast(t,e){if(sst(t))return async function*(){for await(let f of t)await e(f)&&(yield f)}();let r=zM(t),{value:i,done:n}=r.next();if(n===!0)return function*(){}();let o=e(i);if(typeof o.then=="function")return async function*(){await o&&(yield i);for await(let f of r)await e(f)&&(yield f)}();let s=e;return function*(){o===!0&&(yield i);for(let f of r)s(f)&&(yield f)}()}var kbe=ast;b();function cst(t){return t[Symbol.asyncIterator]!=null}function fst(t,e){if(cst(t))return async function*(){for await(let f of t)yield e(f)}();let r=zM(t),{value:i,done:n}=r.next();if(n===!0)return function*(){}();let o=e(i);if(typeof o.then=="function")return async function*(){yield await o;for await(let f of r)yield e(f)}();let s=e;return function*(){yield o;for(let f of r)yield s(f)}()}var V1=fst;b();b();function $0(){let t={};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t}var YM=globalThis.CustomEvent??Event;async function*xI(t,e={}){let r=e.concurrency??1/0;r<1&&(r=1/0);let i=e.ordered==null?!1:e.ordered,n=new EventTarget,o=[],s=$0(),f=$0(),d=!1,p,u=!1;n.addEventListener("task-complete",()=>{f.resolve()}),Promise.resolve().then(async()=>{try{for await(let C of t){if(o.length===r&&(s=$0(),await s.promise),u)break;let x={done:!1};o.push(x),C().then(_=>{x.done=!0,x.ok=!0,x.value=_,n.dispatchEvent(new YM("task-complete"))},_=>{x.done=!0,x.err=_,n.dispatchEvent(new YM("task-complete"))})}d=!0,n.dispatchEvent(new YM("task-complete"))}catch(C){p=C,n.dispatchEvent(new YM("task-complete"))}});function y(){return i?o[0]?.done:!!o.find(C=>C.done)}function*B(){for(;o.length>0&&o[0].done;){let C=o[0];if(o.shift(),C.ok)yield C.value;else throw u=!0,s.resolve(),C.err;s.resolve()}}function*S(){for(;y();)for(let C=0;C<o.length;C++)if(o[C].done){let x=o[C];if(o.splice(C,1),C--,x.ok)yield x.value;else throw u=!0,s.resolve(),x.err;s.resolve()}}for(;;){if(y()||(f=$0(),await f.promise),p!=null)throw p;if(i?yield*B():yield*S(),d&&o.length===0)break}}b();b();b();var JM=class{buffer;mask;top;btm;next;constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}},W1=class{size;hwm;head;tail;constructor(e={}){this.hwm=e.splitLimit??16,this.head=new JM(this.hwm),this.tail=this.head,this.size=0}calculateSize(e){return e?.byteLength!=null?e.byteLength:1}push(e){if(e?.value!=null&&(this.size+=this.calculateSize(e.value)),!this.head.push(e)){let r=this.head;this.head=r.next=new JM(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next!=null){let r=this.tail.next;this.tail.next=null,this.tail=r,e=this.tail.shift()}return e?.value!=null&&(this.size-=this.calculateSize(e.value)),e}isEmpty(){return this.head.isEmpty()}};var xj=class extends Error{type;code;constructor(e,r){super(e??"The operation was aborted"),this.type="aborted",this.code=r??"ABORT_ERR"}};function Z1(t={}){return dst(r=>{let i=r.shift();if(i==null)return{done:!0};if(i.error!=null)throw i.error;return{done:i.done===!0,value:i.value}},t)}function dst(t,e){e=e??{};let r=e.onEnd,i=new W1,n,o,s,f=$0(),d=async()=>{try{return i.isEmpty()?s?{done:!0}:await new Promise((_,Q)=>{o=R=>{o=null,i.push(R);try{_(t(i))}catch(k){Q(k)}return n}}):t(i)}finally{i.isEmpty()&&queueMicrotask(()=>{f.resolve(),f=$0()})}},p=_=>o!=null?o(_):(i.push(_),n),u=_=>(i=new W1,o!=null?o({error:_}):(i.push({error:_}),n)),y=_=>{if(s)return n;if(e?.objectMode!==!0&&_?.byteLength==null)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return p({done:!1,value:_})},B=_=>s?n:(s=!0,_!=null?u(_):p({done:!0})),S=()=>(i=new W1,B(),{done:!0}),C=_=>(B(_),{done:!0});if(n={[Symbol.asyncIterator](){return this},next:d,return:S,throw:C,push:y,end:B,get readableLength(){return i.size},onEmpty:async _=>{let Q=_?.signal;if(Q?.throwIfAborted(),i.isEmpty())return;let R,k;Q!=null&&(R=new Promise((K,T)=>{k=()=>{T(new xj)},Q.addEventListener("abort",k)}));try{await Promise.race([f.promise,R])}finally{k!=null&&Q!=null&&Q?.removeEventListener("abort",k)}}},r==null)return n;let x=n;return n={[Symbol.asyncIterator](){return this},next(){return x.next()},throw(_){return x.throw(_),r!=null&&(r(_),r=void 0),{done:!0}},return(){return x.return(),r!=null&&(r(),r=void 0),{done:!0}},push:y,end(_){return x.end(_),r!=null&&(r(_),r=void 0),n},get readableLength(){return x.readableLength},onEmpty:_=>x.onEmpty(_)},n}b();function ust(t){return t[Symbol.asyncIterator]!=null}function hst(...t){let e=[];for(let r of t)ust(r)||e.push(r);return e.length===t.length?function*(){for(let r of e)yield*r}():async function*(){let r=Z1({objectMode:!0});Promise.resolve().then(async()=>{try{await Promise.all(t.map(async i=>{for await(let n of i)r.push(n)})),r.end()}catch(i){r.end(i)}}),yield*r}()}var Tbe=hst;function $1(t,...e){if(t==null)throw new Error("Empty pipeline");if(Sj(t)){let i=t;t=()=>i.source}else if(Ube(t)||Rbe(t)){let i=t;t=()=>i}let r=[t,...e];if(r.length>1&&Sj(r[r.length-1])&&(r[r.length-1]=r[r.length-1].sink),r.length>2)for(let i=1;i<r.length-1;i++)Sj(r[i])&&(r[i]=pst(r[i]));return lst(...r)}var lst=(...t)=>{let e;for(;t.length>0;)e=t.shift()(e);return e},Rbe=t=>t?.[Symbol.asyncIterator]!=null,Ube=t=>t?.[Symbol.iterator]!=null,Sj=t=>t==null?!1:t.sink!=null&&t.source!=null,pst=t=>e=>{let r=t.sink(e);if(r?.then!=null){let i=Z1({objectMode:!0});r.then(()=>{i.end()},s=>{i.end(s)});let n,o=t.source;if(Rbe(o))n=async function*(){yield*o,i.end()};else if(Ube(o))n=function*(){yield*o,i.end()};else throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");return Tbe(i,n())}return t.source};var Ast=(t,e,r,i,n,o,s)=>{async function*f(d={}){let p=d.offset??0,u=d.length??e.Links.length,y=e.Links.slice(p,u);d.onProgress?.(new Dn("unixfs:exporter:walk:directory",{cid:t})),yield*$1(y,B=>V1(B,S=>async()=>{let C=S.Name??"",x=`${i}/${C}`;return(await n(S.Hash,C,x,[],o+1,s,d)).entry}),B=>xI(B,{ordered:!0}),B=>kbe(B,S=>S!=null))}return f},Fbe=Ast;b();var _I=Rt(Fa(),1);b();b();var Qj=Rt(Pbe(),1);b();var Q3=class extends Error{constructor(e){super(e),this.name="TimeoutError"}},Dj=class extends Error{constructor(e){super(),this.name="AbortError",this.message=e}},Obe=t=>globalThis.DOMException===void 0?new Dj(t):new DOMException(t),Kbe=t=>{let e=t.reason===void 0?Obe("This operation was aborted."):t.reason;return e instanceof Error?e:Obe(e)};function Mj(t,e,r,i){let n,o=new Promise((s,f)=>{if(typeof e!="number"||Math.sign(e)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e===Number.POSITIVE_INFINITY){s(t);return}if(i={customTimers:{setTimeout,clearTimeout},...i},i.signal){let{signal:d}=i;d.aborted&&f(Kbe(d)),d.addEventListener("abort",()=>{f(Kbe(d))})}n=i.customTimers.setTimeout.call(void 0,()=>{if(typeof r=="function"){try{s(r())}catch(u){f(u)}return}let d=typeof r=="string"?r:`Promise timed out after ${e} milliseconds`,p=r instanceof Error?r:new Q3(d);typeof t.cancel=="function"&&t.cancel(),f(p)},e),(async()=>{try{s(await t)}catch(d){f(d)}finally{i.customTimers.clearTimeout.call(void 0,n)}})()});return o.clear=()=>{clearTimeout(n),n=void 0},o}b();b();function kj(t,e,r){let i=0,n=t.length;for(;n>0;){let o=Math.trunc(n/2),s=i+o;r(t[s],e)<=0?(i=++s,n-=o+1):n=o}return i}var SI=function(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)},X0,Tj=class{constructor(){X0.set(this,[])}enqueue(e,r){r={priority:0,...r};let i={priority:r.priority,run:e};if(this.size&&SI(this,X0,"f")[this.size-1].priority>=r.priority){SI(this,X0,"f").push(i);return}let n=kj(SI(this,X0,"f"),i,(o,s)=>s.priority-o.priority);SI(this,X0,"f").splice(n,0,i)}dequeue(){let e=SI(this,X0,"f").shift();return e?.run}filter(e){return SI(this,X0,"f").filter(r=>r.priority===e.priority).map(r=>r.run)}get size(){return SI(this,X0,"f").length}};X0=new WeakMap;var qbe=Tj;var In=function(t,e,r,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r},It=function(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)},Gn,M3,k3,vg,tk,T3,WM,au,D3,Nc,ZM,Pc,R3,wg,$M,Lbe,Hbe,zbe,Gbe,jbe,XM,Rj,Uj,rk,Ybe,ek,ik=class extends Error{},Fj=class extends Qj.default{constructor(e){var r,i,n,o;if(super(),Gn.add(this),M3.set(this,void 0),k3.set(this,void 0),vg.set(this,0),tk.set(this,void 0),T3.set(this,void 0),WM.set(this,0),au.set(this,void 0),D3.set(this,void 0),Nc.set(this,void 0),ZM.set(this,void 0),Pc.set(this,0),R3.set(this,void 0),wg.set(this,void 0),$M.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:qbe,...e},!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(i=(r=e.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(o=(n=e.interval)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:""}\` (${typeof e.interval})`);In(this,M3,e.carryoverConcurrencyCount,"f"),In(this,k3,e.intervalCap===Number.POSITIVE_INFINITY||e.interval===0,"f"),In(this,tk,e.intervalCap,"f"),In(this,T3,e.interval,"f"),In(this,Nc,new e.queueClass,"f"),In(this,ZM,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,In(this,$M,e.throwOnTimeout===!0,"f"),In(this,wg,e.autoStart===!1,"f")}get concurrency(){return It(this,R3,"f")}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);In(this,R3,e,"f"),It(this,Gn,"m",rk).call(this)}async add(e,r={}){return r={timeout:this.timeout,throwOnTimeout:It(this,$M,"f"),...r},new Promise((i,n)=>{It(this,Nc,"f").enqueue(async()=>{var o,s,f;In(this,Pc,(s=It(this,Pc,"f"),s++,s),"f"),In(this,vg,(f=It(this,vg,"f"),f++,f),"f");try{if(!((o=r.signal)===null||o===void 0)&&o.aborted)throw new ik("The task was aborted.");let d=e({signal:r.signal});r.timeout&&(d=Mj(Promise.resolve(d),r.timeout)),r.signal&&(d=Promise.race([d,It(this,Gn,"m",Ybe).call(this,r.signal)]));let p=await d;i(p),this.emit("completed",p)}catch(d){if(d instanceof Q3&&!r.throwOnTimeout){i();return}n(d),this.emit("error",d)}finally{It(this,Gn,"m",zbe).call(this)}},r),this.emit("add"),It(this,Gn,"m",XM).call(this)})}async addAll(e,r){return Promise.all(e.map(async i=>this.add(i,r)))}start(){return It(this,wg,"f")?(In(this,wg,!1,"f"),It(this,Gn,"m",rk).call(this),this):this}pause(){In(this,wg,!0,"f")}clear(){In(this,Nc,new(It(this,ZM,"f")),"f")}async onEmpty(){It(this,Nc,"f").size!==0&&await It(this,Gn,"m",ek).call(this,"empty")}async onSizeLessThan(e){It(this,Nc,"f").size<e||await It(this,Gn,"m",ek).call(this,"next",()=>It(this,Nc,"f").size<e)}async onIdle(){It(this,Pc,"f")===0&&It(this,Nc,"f").size===0||await It(this,Gn,"m",ek).call(this,"idle")}get size(){return It(this,Nc,"f").size}sizeBy(e){return It(this,Nc,"f").filter(e).length}get pending(){return It(this,Pc,"f")}get isPaused(){return It(this,wg,"f")}};M3=new WeakMap,k3=new WeakMap,vg=new WeakMap,tk=new WeakMap,T3=new WeakMap,WM=new WeakMap,au=new WeakMap,D3=new WeakMap,Nc=new WeakMap,ZM=new WeakMap,Pc=new WeakMap,R3=new WeakMap,wg=new WeakMap,$M=new WeakMap,Gn=new WeakSet,Lbe=function(){return It(this,k3,"f")||It(this,vg,"f")<It(this,tk,"f")},Hbe=function(){return It(this,Pc,"f")<It(this,R3,"f")},zbe=function(){var e;In(this,Pc,(e=It(this,Pc,"f"),e--,e),"f"),It(this,Gn,"m",XM).call(this),this.emit("next")},Gbe=function(){It(this,Gn,"m",Uj).call(this),It(this,Gn,"m",Rj).call(this),In(this,D3,void 0,"f")},jbe=function(){let e=Date.now();if(It(this,au,"f")===void 0){let r=It(this,WM,"f")-e;if(r<0)In(this,vg,It(this,M3,"f")?It(this,Pc,"f"):0,"f");else return It(this,D3,"f")===void 0&&In(this,D3,setTimeout(()=>{It(this,Gn,"m",Gbe).call(this)},r),"f"),!0}return!1},XM=function(){if(It(this,Nc,"f").size===0)return It(this,au,"f")&&clearInterval(It(this,au,"f")),In(this,au,void 0,"f"),this.emit("empty"),It(this,Pc,"f")===0&&this.emit("idle"),!1;if(!It(this,wg,"f")){let e=!It(this,Gn,"a",jbe);if(It(this,Gn,"a",Lbe)&&It(this,Gn,"a",Hbe)){let r=It(this,Nc,"f").dequeue();return r?(this.emit("active"),r(),e&&It(this,Gn,"m",Rj).call(this),!0):!1}}return!1},Rj=function(){It(this,k3,"f")||It(this,au,"f")!==void 0||(In(this,au,setInterval(()=>{It(this,Gn,"m",Uj).call(this)},It(this,T3,"f")),"f"),In(this,WM,Date.now()+It(this,T3,"f"),"f"))},Uj=function(){It(this,vg,"f")===0&&It(this,Pc,"f")===0&&It(this,au,"f")&&(clearInterval(It(this,au,"f")),In(this,au,void 0,"f")),In(this,vg,It(this,M3,"f")?It(this,Pc,"f"):0,"f"),It(this,Gn,"m",rk).call(this)},rk=function(){for(;It(this,Gn,"m",XM).call(this););},Ybe=async function(e){return new Promise((r,i)=>{e.addEventListener("abort",()=>{i(new ik("The task was aborted."))},{once:!0})})},ek=async function(e,r){return new Promise(i=>{let n=()=>{r&&!r()||(this.off(e,n),i())};this.on(e,n)})};var Jbe=Fj;async function Vbe(t,e,r,i,n,o,s){if(e instanceof Uint8Array){let p=CI(e,i,n,o);r.push(p);return}if(e.Data==null)throw(0,_I.default)(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let f;try{f=_o.unmarshal(e.Data)}catch(p){throw(0,_I.default)(p,"ERR_NOT_UNIXFS")}if(f.data!=null){let p=f.data,u=CI(p,i,n,o);r.push(u),i+=BigInt(u.byteLength)}let d=[];if(e.Links.length!==f.blockSizes.length)throw(0,_I.default)(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let p=0;p<e.Links.length;p++){let u=e.Links[p],y=i,B=y+f.blockSizes[p];if((n>=y&&n<B||o>=y&&o<=B||n<y&&o>B)&&d.push({link:u,blockStart:i}),i=B,i>o)break}await $1(d,p=>V1(p,u=>async()=>{let y=await t.get(u.link.Hash,s);return{...u,block:y}}),p=>xI(p,{ordered:!0}),async p=>{for await(let{link:u,block:y,blockStart:B}of p){let S;switch(u.Hash.code){case cx:S=x0(y);break;case bh:S=y;break;default:r.end((0,_I.default)(new Error(`Unsupported codec: ${u.Hash.code}`),"ERR_NOT_UNIXFS"));return}let C=new Jbe({concurrency:1});C.on("error",x=>{r.end(x)}),C.add(async()=>{s.onProgress?.(new Dn("unixfs:exporter:walk:file",{cid:u.Hash})),await Vbe(t,S,r,B,n,o,s)}),await C.onIdle()}}),i>=o&&r.end()}var mst=(t,e,r,i,n,o,s)=>{async function*f(d={}){let p=r.fileSize();if(p===void 0)throw new Error("File was a directory");let{start:u,end:y}=J1(p,d.offset,d.length);if(y===0n)return;let B=0n,S=y-u,C=Z1();d.onProgress?.(new Dn("unixfs:exporter:walk:file",{cid:t})),Vbe(s,e,C,0n,u,y,d).catch(x=>{C.end(x)});for await(let x of C)if(x!=null){if(B+=BigInt(x.byteLength),B>S)throw C.end(),(0,_I.default)(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");B===S&&C.end(),d.onProgress?.(new Dn("unixfs:exporter:progress:unixfs:file",{bytesRead:B,totalBytes:S,fileSize:p})),yield x}if(B<S)throw(0,_I.default)(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")}return f},Nj=mst;b();var Ist=(t,e,r,i,n,o,s)=>{function f(d={}){return d.onProgress?.(new Dn("unixfs:exporter:walk:hamt-sharded-directory",{cid:t})),Wbe(e,i,n,o,s,d)}return f};async function*Wbe(t,e,r,i,n,o){let s=t.Links,f=$1(s,d=>V1(d,p=>async()=>{let u=p.Name!=null?p.Name.substring(2):null;if(u!=null&&u!==""){let y=await r(p.Hash,u,`${e}/${u}`,[],i+1,n,o);return{entries:y.entry==null?[]:[y.entry]}}else{let y=await n.get(p.Hash,o);return t=x0(y),o.onProgress?.(new Dn("unixfs:exporter:walk:hamt-sharded-directory",{cid:p.Hash})),{entries:Wbe(t,e,r,i,n,o)}}}),d=>xI(d,{ordered:!0}));for await(let{entries:d}of f)yield*d}var Zbe=Ist;var wst=(t,e)=>t.Links.find(i=>i.Name===e)?.Hash,vst={raw:Nj,file:Nj,directory:Fbe,"hamt-sharded-directory":Zbe,metadata:(t,e,r,i,n,o,s)=>()=>[],symlink:(t,e,r,i,n,o,s)=>()=>[]},bst=async(t,e,r,i,n,o,s,f)=>{let d=await s.get(t,f),p=x0(d),u,y;if(e==null&&(e=t.toString()),p.Data==null)throw(0,U3.default)(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{u=_o.unmarshal(p.Data)}catch(S){throw(0,U3.default)(S,"ERR_NOT_UNIXFS")}if(r==null&&(r=e),i.length>0){let S;if(u?.type==="hamt-sharded-directory"?S=await Mbe(p,i[0],s):S=wst(p,i[0]),S==null)throw(0,U3.default)(new Error("file does not exist"),"ERR_NOT_FOUND");let C=i.shift(),x=`${r}/${C}`;y={cid:S,toResolve:i,name:C??"",path:x}}let B=vst[u.type](t,p,u,r,n,o,s);if(B==null)throw(0,U3.default)(new Error("could not find content exporter"),"ERR_NOT_FOUND");return u.isDirectory()?{entry:{type:"directory",name:e,path:r,cid:t,content:B,unixfs:u,depth:o,node:p,size:u.fileSize()},next:y}:{entry:{type:"file",name:e,path:r,cid:t,content:B,unixfs:u,depth:o,node:p,size:u.fileSize()},next:y}},$be=bst;var Est={[cx]:$be,[bh]:_be,[zm]:Bbe,[bbe.code]:xbe},e1e=async(t,e,r,i,n,o,s)=>{let f=Est[t.code];if(f==null)throw(0,Xbe.default)(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return f(t,e,r,i,e1e,n,o,s)},t1e=e1e;var Bst=(t="")=>(t.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean),Cst=t=>{if(t instanceof Uint8Array)return{cid:Gr.decode(t),toResolve:[]};let e=Gr.asCID(t);if(e!=null)return{cid:e,toResolve:[]};if(typeof t=="string"){t.indexOf("/ipfs/")===0&&(t=t.substring(6));let r=Bst(t);return{cid:Gr.parse(r[0]),toResolve:r.slice(1)}}throw(0,nk.default)(new Error(`Unknown path type ${t}`),"ERR_BAD_PATH")};async function*xst(t,e,r={}){let{cid:i,toResolve:n}=Cst(t),o=i.toString(),s=o,f=n.length;for(;;){let d=await t1e(i,o,s,n,f,e,r);if(d.entry==null&&d.next==null)throw(0,nk.default)(new Error(`Could not resolve ${t}`),"ERR_NOT_FOUND");if(d.entry!=null&&(yield d.entry),d.next==null)return;n=d.next.toResolve,i=d.next.cid,o=d.next.name,s=d.next.path}}async function Pj(t,e,r={}){let i=await Ibe(xst(t,e,r));if(i==null)throw(0,nk.default)(new Error(`Could not resolve ${t}`),"ERR_NOT_FOUND");return i}var i1e=Rt(Nw(),1),jh=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Sst=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(o){r[o]=t[o]&&function(s){return new Promise(function(f,d){s=t[o](s),n(f,d,s.done,s.value)})}}function n(o,s,f,d){Promise.resolve(d).then(function(p){o({value:p,done:f})},s)}},r1e=new Uint8Array,X1=class{constructor(e={}){this.config=Object.assign({blockstoreLocation:"DATASTORE",createLevelDatabase:su},e),this.blockstore=new Y1({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return jh(this,void 0,void 0,function*(){yield this.blockstore.open()})}close(){return jh(this,void 0,void 0,function*(){yield this.blockstore.close()})}put(e,r,i,n){var o,s,f,d,p,u;return jh(this,void 0,void 0,function*(){yield(yield this.getBlockstoreForReferenceCounting(e,i)).put(r,r1e);let B=yield this.getBlockstoreForStoringData(e,i),S=kx([{content:n}],B,{cidVersion:1}),C;try{for(var x=!0,_=Sst(S),Q;Q=yield _.next(),o=Q.done,!o;x=!0)d=Q.value,x=!1,C=d}catch(R){s={error:R}}finally{try{!x&&!o&&(f=_.return)&&(yield f.call(_))}finally{if(s)throw s.error}}return{dataCid:String(C.cid),dataSize:Number((u=(p=C.unixfs)===null||p===void 0?void 0:p.fileSize())!==null&&u!==void 0?u:C.size)}})}get(e,r,i){return jh(this,void 0,void 0,function*(){if(!(yield(yield this.getBlockstoreForReferenceCounting(e,i)).has(r)))return;let s=yield this.getBlockstoreForStoringData(e,i);if(!(yield s.has(i)))return;let d=yield Pj(i,s),p=d.content(),u=new i1e.Readable({read(){return jh(this,void 0,void 0,function*(){let B=yield p.next();B.done?this.push(null):this.push(B.value)})}}),y=d.size;return(d.type==="file"||d.type==="directory")&&(y=d.unixfs.fileSize()),{dataCid:String(d.cid),dataSize:Number(y),dataStream:u}})}associate(e,r,i){return jh(this,void 0,void 0,function*(){let n=yield this.getBlockstoreForReferenceCounting(e,i);if(yield n.isEmpty())return;let s=yield this.getBlockstoreForStoringData(e,i);if(!(yield s.has(i)))return;yield n.put(r,r1e);let d=yield Pj(i,s),p=d.size;return(d.type==="file"||d.type==="directory")&&(p=d.unixfs.fileSize()),{dataCid:String(d.cid),dataSize:Number(p)}})}delete(e,r,i){return jh(this,void 0,void 0,function*(){let n=yield this.getBlockstoreForReferenceCounting(e,i);if(yield n.delete(r),!(yield n.isEmpty()))return;yield(yield this.getBlockstoreForStoringData(e,i)).clear()})}clear(){return jh(this,void 0,void 0,function*(){yield this.blockstore.clear()})}getBlockstoreForReferenceCounting(e,r){return jh(this,void 0,void 0,function*(){let i="references";return yield(yield(yield this.blockstore.partition(i)).partition(e)).partition(r)})}getBlockstoreForStoringData(e,r){return jh(this,void 0,void 0,function*(){let i="data";return yield(yield(yield this.blockstore.partition(i)).partition(e)).partition(r)})}};b();b();var Po=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},F3=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(o){r[o]=t[o]&&function(s){return new Promise(function(f,d){s=t[o](s),n(f,d,s.done,s.value)})}}function n(o,s,f,d){Promise.resolve(d).then(function(p){o({value:p,done:f})},s)}},QI=function(t){return this instanceof QI?(this.v=t,this):new QI(t)},_st=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),n,o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(B){i[B]&&(n[B]=function(S){return new Promise(function(C,x){o.push([B,S,C,x])>1||f(B,S)})})}function f(B,S){try{d(i[B](S))}catch(C){y(o[0][3],C)}}function d(B){B.value instanceof QI?Promise.resolve(B.value.v).then(p,u):y(o[0][2],B)}function p(B){f("next",B)}function u(B){f("throw",B)}function y(B,S){B(S),o.shift(),o.length&&f(o[0][0],o[0][1])}},n1e="index",DI=class t{constructor(e){this.config=Object.assign({createLevelDatabase:su},e),this.db=new z1({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return Po(this,void 0,void 0,function*(){yield this.db.open()})}close(){return Po(this,void 0,void 0,function*(){yield this.db.close()})}clear(){return Po(this,void 0,void 0,function*(){yield this.db.clear()})}put(e,r,i,n){return Po(this,void 0,void 0,function*(){if(tH(i))throw new Te(Ee.IndexMissingIndexableProperty,"Index must include at least one valid indexable property");let o=[];for(let d in i){let p=i[d],u=t.keySegmentJoin(t.encodeValue(p),r),y={itemId:r,indexes:i},B=yield this.createOperationForIndexPartition(e,d,{type:"put",key:u,value:JSON.stringify(y)});o.push(B)}let s=yield this.createOperationForIndexesLookupPartition(e,{type:"put",key:r,value:JSON.stringify(i)});o.push(s),yield(yield this.db.partition(e)).batch(o,n)})}delete(e,r,i){return Po(this,void 0,void 0,function*(){let n=[],o=yield this.getIndexes(e,r);if(o===void 0)return;let s=yield this.createOperationForIndexesLookupPartition(e,{type:"del",key:r});n.push(s);for(let d in o){let p=o[d],u=yield this.createOperationForIndexPartition(e,d,{type:"del",key:t.keySegmentJoin(t.encodeValue(p),r)});n.push(u)}yield(yield this.db.partition(e)).batch(n,i)})}createOperationForIndexPartition(e,r,i){return Po(this,void 0,void 0,function*(){let n=yield this.db.partition(e),o=t.getIndexPartitionName(r);return n.createPartitionOperation(o,i)})}createOperationForIndexesLookupPartition(e,r){return Po(this,void 0,void 0,function*(){return(yield this.db.partition(e)).createPartitionOperation(n1e,r)})}static getIndexPartitionName(e){return`__${e}__`}getIndexPartition(e,r){return Po(this,void 0,void 0,function*(){let i=t.getIndexPartitionName(r);return(yield this.db.partition(e)).partition(i)})}getIndexesLookupPartition(e){return Po(this,void 0,void 0,function*(){return(yield this.db.partition(e)).partition(n1e)})}query(e,r,i,n){return Po(this,void 0,void 0,function*(){return t.shouldQueryWithInMemoryPaging(r,i)?this.queryWithInMemoryPaging(e,r,i,n):this.queryWithIteratorPaging(e,r,i,n)})}queryWithIteratorPaging(e,r,i,n){var o,s,f,d;return Po(this,void 0,void 0,function*(){let{limit:p,cursor:u,sortProperty:y}=i,B=u?yield this.getStartingKeyForCursor(e,u,y,r):"";if(B===void 0)return[];let S=[];try{for(var C=!0,x=F3(this.getIndexIterator(e,B,i,n)),_;_=yield x.next(),o=_.done,!o;C=!0){d=_.value,C=!1;let Q=d;if(p!==void 0&&S.length===p)return S;let{itemId:R,indexes:k}=Q;ha.matchAnyFilter(k,r)&&S.push(R)}}catch(Q){s={error:Q}}finally{try{!C&&!o&&(f=x.return)&&(yield f.call(x))}finally{if(s)throw s.error}}return S})}getIndexIterator(e,r,i,n){return _st(this,arguments,function*(){var s,f,d,p;let{sortProperty:u,sortDirection:y=Fo.Ascending,cursor:B}=i,S={gt:r};y===Fo.Descending&&(S.reverse=!0,B!==void 0&&(S.lt=r,delete S.gt));let C=yield QI(this.getIndexPartition(e,u));try{for(var x=!0,_=F3(C.iterator(S,n)),Q;Q=yield QI(_.next()),s=Q.done,!s;x=!0){p=Q.value,x=!1;let[R,k]=p,{indexes:K,itemId:T}=JSON.parse(k);yield yield QI({indexes:K,itemId:T})}}catch(R){f={error:R}}finally{try{!x&&!s&&(d=_.return)&&(yield QI(d.call(_)))}finally{if(f)throw f.error}}})}getStartingKeyForCursor(e,r,i,n){return Po(this,void 0,void 0,function*(){let o=yield this.getIndexes(e,r);if(o===void 0)return;let s=o[i];if(s!==void 0&&ha.matchAnyFilter(o,n))return t.keySegmentJoin(t.encodeValue(s),r)})}queryWithInMemoryPaging(e,r,i,n){return Po(this,void 0,void 0,function*(){let{sortProperty:o,sortDirection:s=Fo.Ascending,cursor:f,limit:d}=i,p=new Map;r.length===0&&(r=[{}]);try{yield Promise.all(r.map(C=>this.executeSingleFilterQuery(e,C,o,p,n)))}catch(C){if(C.code===Ee.IndexInvalidSortProperty)return[]}let u=[...p.values()].sort((C,x)=>this.sortItems(C,x,o,s)),y=f?u.findIndex(C=>C.itemId===f):-1;if(f!==void 0&&y===-1)return[];let B=y>-1?y+1:0,S=d!==void 0?B+d:void 0;return u.slice(B,S).map(C=>C.itemId)})}executeSingleFilterQuery(e,r,i,n,o){return Po(this,void 0,void 0,function*(){let s=[];if(tH(r)){let d=this.getAllItems(e,i);s.push(d)}let f=SM.reduceFilter(r);for(let d in f){let p=f[d];if(ha.isEqualFilter(p)){let u=this.filterExactMatches(e,d,p,o);s.push(u)}else if(ha.isOneOfFilter(p))for(let u of new Set(p)){let y=this.filterExactMatches(e,d,u,o);s.push(y)}else if(ha.isRangeFilter(p)){let u=this.filterRangeMatches(e,d,p,o);s.push(u)}}for(let d of s){let p=yield d;for(let u of p)if(!(n.has(u.itemId)||!ha.matchFilter(u.indexes,r))){if(u.indexes[i]===void 0)throw new Te(Ee.IndexInvalidSortProperty,`invalid sort property ${i}`);n.set(u.itemId,u)}}})}getAllItems(e,r){var i,n,o,s;return Po(this,void 0,void 0,function*(){let f=yield this.getIndexPartition(e,r),d=[];try{for(var p=!0,u=F3(f.iterator()),y;y=yield u.next(),i=y.done,!i;p=!0){s=y.value,p=!1;let[B,S]=s;d.push(JSON.parse(S))}}catch(B){n={error:B}}finally{try{!p&&!i&&(o=u.return)&&(yield o.call(u))}finally{if(n)throw n.error}}return d})}filterExactMatches(e,r,i,n){var o,s,f,d;return Po(this,void 0,void 0,function*(){let p=t.keySegmentJoin(t.encodeValue(i)),u={gt:p},y=yield this.getIndexPartition(e,r),B=[];try{for(var S=!0,C=F3(y.iterator(u,n)),x;x=yield C.next(),o=x.done,!o;S=!0){d=x.value,S=!1;let[_,Q]=d;if(!_.startsWith(p))break;B.push(JSON.parse(Q))}}catch(_){s={error:_}}finally{try{!S&&!o&&(f=C.return)&&(yield f.call(C))}finally{if(s)throw s.error}}return B})}filterRangeMatches(e,r,i,n){var o,s,f,d;return Po(this,void 0,void 0,function*(){let p={};for(let x in i){let _=x;p[_]=t.encodeValue(i[_])}p.gt===void 0&&p.gte===void 0&&(p.reverse=!0);let u=[],y=yield this.getIndexPartition(e,r);try{for(var B=!0,S=F3(y.iterator(p,n)),C;C=yield S.next(),o=C.done,!o;B=!0){d=C.value,B=!1;let[x,_]=d;"gt"in i&&this.extractIndexValueFromKey(x)===t.encodeValue(i.gt)||u.push(JSON.parse(_))}}catch(x){s={error:x}}finally{try{!B&&!o&&(f=S.return)&&(yield f.call(S))}finally{if(s)throw s.error}}if("lte"in i)for(let x of yield this.filterExactMatches(e,r,i.lte,n))u.push(x);return u})}sortItems(e,r,i,n){let o=t.encodeValue(e.indexes[i])+e.itemId,s=t.encodeValue(r.indexes[i])+r.itemId;return n===Fo.Ascending?Rx(o,s):Rx(s,o)}getIndexes(e,r){return Po(this,void 0,void 0,function*(){let n=yield(yield this.getIndexesLookupPartition(e)).get(r);if(n!==void 0)return JSON.parse(n)})}extractIndexValueFromKey(e){let[r]=e.split(t.delimiter);return r}static keySegmentJoin(...e){return e.join(t.delimiter)}static encodeNumberValue(e){let r=Number.MAX_SAFE_INTEGER,i="!",n=String(Number.MAX_SAFE_INTEGER).length,o=e<0?i:"",s=e<0?r:0;return o+String(e+s).padStart(n,"0")}static encodeValue(e){switch(typeof e){case"number":return this.encodeNumberValue(e);default:return JSON.stringify(e)}}static shouldQueryWithInMemoryPaging(e,r){for(let i of e)if(!t.isFilterConcise(i,r))return!1;return!0}static isFilterConcise(e,r){return e.recordId!==void 0?!0:r.cursor!==void 0?!1:e.protocolPath!==void 0||e.contextId!==void 0||e.parentId!==void 0||e.schema!==void 0}};DI.delimiter="\0";b();b();b();b();function N3(t){if(!eE(t))throw new Error("Parameter was not an error")}function eE(t){return Qst(t)==="[object Error]"||t instanceof Error}function Qst(t){return Object.prototype.toString.call(t)}b();function o1e(t){let e,r="";if(t.length===0)e={};else if(eE(t[0]))e={cause:t[0]},r=t.slice(1).join(" ")||"";else if(t[0]&&typeof t[0]=="object")e=Object.assign({},t[0]),r=t.slice(1).join(" ")||"";else if(typeof t[0]=="string")e={},r=r=t.join(" ")||"";else throw new Error("Invalid arguments passed to Layerr");return{options:e,shortMessage:r}}var cu=class t extends Error{constructor(e,r){let i=[...arguments],{options:n,shortMessage:o}=o1e(i),s=o;if(n.cause&&(s=`${s}: ${n.cause.message}`),super(s),this.message=s,n.name&&typeof n.name=="string"?this.name=n.name:this.name="Layerr",n.cause&&Object.defineProperty(this,"_cause",{value:n.cause}),Object.defineProperty(this,"_info",{value:{}}),n.info&&typeof n.info=="object"&&Object.assign(this._info,n.info),Error.captureStackTrace){let f=n.constructorOpt||this.constructor;Error.captureStackTrace(this,f)}}static cause(e){return N3(e),e._cause&&eE(e._cause)?e._cause:null}static fullStack(e){N3(e);let r=t.cause(e);return r?`${e.stack}
caused by: ${t.fullStack(r)}`:e.stack}static info(e){N3(e);let r={},i=t.cause(e);return i&&Object.assign(r,t.info(i)),e._info&&Object.assign(r,e._info),r}cause(){return t.cause(this)}toString(){let e=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(e=`${e}: ${this.message}`),e}};b();var P3="0123456789ABCDEFGHJKMNPQRSTVWXYZ",tE=32,s1e=0xffffffffffff,a1e=10,Dst=16,MI=Object.freeze({source:"ulid"});function Mst(t){let e=t||kst(),r=e&&(e.crypto||e.msCrypto)||null;if(typeof r?.getRandomValues=="function")return()=>{let i=new Uint8Array(1);return r.getRandomValues(i),i[0]/255};if(typeof r?.randomBytes=="function")return()=>r.randomBytes(1).readUInt8()/255;throw new cu({info:{code:"PRNG_DETECT",...MI}},"Failed to find a reliable PRNG")}function kst(){return Ust()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}function Tst(t,e){let r="";for(;t>0;t--)r=Fst(e)+r;return r}function c1e(t,e){if(isNaN(t))throw new cu({info:{code:"ENC_TIME_NAN",...MI}},`Time must be a number: ${t}`);if(t>s1e)throw new cu({info:{code:"ENC_TIME_SIZE_EXCEED",...MI}},`Cannot encode a time larger than ${s1e}: ${t}`);if(t<0)throw new cu({info:{code:"ENC_TIME_NEG",...MI}},`Time must be positive: ${t}`);if(Number.isInteger(t)===!1)throw new cu({info:{code:"ENC_TIME_TYPE",...MI}},`Time must be an integer: ${t}`);let r,i="";for(let n=e;n>0;n--)r=t%tE,i=P3.charAt(r)+i,t=(t-r)/tE;return i}function Rst(t){let e,r=t.length,i,n,o=t,s=tE-1;for(;!e&&r-->=0;){if(i=o[r],n=P3.indexOf(i),n===-1)throw new cu({info:{code:"B32_INC_ENC",...MI}},"Incorrectly encoded string");if(n===s){o=f1e(o,r,P3[0]);continue}e=f1e(o,r,P3[n+1])}if(typeof e=="string")return e;throw new cu({info:{code:"B32_INC_INVALID",...MI}},"Failed incrementing string")}function Ust(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function ok(t){let e=t||Mst(),r=0,i;return function(o){let s=isNaN(o)?Date.now():o;if(s<=r){let d=i=Rst(i);return c1e(r,a1e)+d}r=s;let f=i=Tst(Dst,e);return c1e(s,a1e)+f}}function Fst(t){let e=Math.floor(t()*tE);return e===tE&&(e=tE-1),P3.charAt(e)}function f1e(t,e,r){return e>t.length-1?t:t.substr(0,e)+r+t.substr(e+1)}var kI=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},rE=class{constructor(e){this.index=new DI(Object.assign({location:"EVENTLOG",createLevelDatabase:su},e)),this.ulidFactory=ok()}open(){return kI(this,void 0,void 0,function*(){return this.index.open()})}close(){return kI(this,void 0,void 0,function*(){return this.index.close()})}clear(){return kI(this,void 0,void 0,function*(){return this.index.clear()})}append(e,r,i){return kI(this,void 0,void 0,function*(){let n=this.ulidFactory();yield this.index.put(e,r,Object.assign(Object.assign({},i),{watermark:n}))})}queryEvents(e,r,i){return kI(this,void 0,void 0,function*(){return yield this.index.query(e,r,{sortProperty:"watermark",cursor:i})})}getEvents(e,r){return kI(this,void 0,void 0,function*(){return yield this.index.query(e,[],{sortProperty:"watermark",sortDirection:Fo.Ascending,cursor:r?.cursor})})}deleteEventsByCid(e,r){return kI(this,void 0,void 0,function*(){let i=[];for(let n of r)i.push(this.index.delete(e,n));yield Promise.all(i)})}};b();b();function sk({enumerable:t=!0,configurable:e=!1}={}){return{enumerable:t,configurable:e,writable:!1}}function*Nst(t,e){if(e!=null&&typeof e=="object")if(Array.isArray(e))for(let[r,i]of e.entries()){let n=[...t,r],o=Gr.asCID(i);o?yield[n.join("/"),o]:typeof i=="object"&&(yield*Oj(i,n))}else{let r=Gr.asCID(e);r?yield[t.join("/"),r]:yield*Oj(e,t)}}function*Oj(t,e){if(t==null||t instanceof Uint8Array)return;let r=Gr.asCID(t);r&&(yield[e.join("/"),r]);for(let[i,n]of Object.entries(t)){let o=[...e,i];yield*Nst(o,n)}}function*Pst(t,e){if(Array.isArray(e))for(let[r,i]of e.entries()){let n=[...t,r];yield n.join("/"),typeof i=="object"&&!Gr.asCID(i)&&(yield*Kj(i,n))}else yield*Kj(e,t)}function*Kj(t,e){if(!(t==null||typeof t!="object"))for(let[r,i]of Object.entries(t)){let n=[...e,r];yield n.join("/"),i!=null&&!(i instanceof Uint8Array)&&typeof i=="object"&&!Gr.asCID(i)&&(yield*Pst(n,i))}}function Ost(t,e){let r=t;for(let[i,n]of e.entries()){if(r=r[n],r==null)throw new Error(`Object has no property at ${e.slice(0,i+1).map(s=>`[${JSON.stringify(s)}]`).join("")}`);let o=Gr.asCID(r);if(o)return{value:o,remaining:e.slice(i+1).join("/")}}return{value:r}}var ak=class{constructor({cid:e,bytes:r,value:i}){if(!e||!r||typeof i>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=r,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:sk(),bytes:sk(),value:sk(),asBlock:sk()})}links(){return Oj(this.value,[])}tree(){return Kj(this.value,[])}get(e="/"){return Ost(this.value,e.split("/").filter(Boolean))}};async function d1e({value:t,codec:e,hasher:r}){if(typeof t>"u")throw new Error('Missing required argument "value"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");let i=e.encode(t),n=await r.digest(i),o=Gr.create(1,e.code,n);return new ak({value:t,bytes:i,cid:o})}async function u1e({bytes:t,codec:e,hasher:r}){if(!t)throw new Error('Missing required argument "bytes"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");let i=e.decode(t),n=await r.digest(t),o=Gr.create(1,e.code,n);return new ak({value:i,bytes:t,cid:o})}var TI=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},iE=class t{constructor(e={}){this.config=Object.assign({blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:su},e),this.blockstore=new Y1({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new DI({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return TI(this,void 0,void 0,function*(){yield this.blockstore.open(),yield this.index.open()})}close(){return TI(this,void 0,void 0,function*(){yield this.blockstore.close(),yield this.index.close()})}get(e,r,i){var n;return TI(this,void 0,void 0,function*(){(n=i?.signal)===null||n===void 0||n.throwIfAborted();let o=yield $n(this.blockstore.partition(e),i?.signal),s=Gr.parse(r),f=yield o.get(s,i);return f?(yield $n(u1e({bytes:f,codec:b0,hasher:ta}),i?.signal)).value:void 0})}query(e,r,i,n,o){var s;return TI(this,void 0,void 0,function*(){(s=o?.signal)===null||s===void 0||s.throwIfAborted();let f=t.buildQueryOptions(i,n),d=yield this.index.query(e,r,f,o),p=[];for(let B=0;B<d.length;B++){let S=d[B],C=yield this.get(e,S,o);C&&p.push(C)}let u=n?.limit!==void 0&&n.limit<d.length,y;if(u){p.splice(-1);let B=p.at(-1);y=yield Ye.getCid(B)}return{messages:p,cursor:y}})}static buildQueryOptions(e={},r={}){let{limit:i,cursor:n}=r,{dateCreated:o,datePublished:s,messageTimestamp:f}=e,d=Fo.Ascending,p="messageTimestamp";return o!==void 0?p="dateCreated":s!==void 0?p="datePublished":f!==void 0&&(p="messageTimestamp"),e[p]!==void 0&&(d=e[p]),i&&i>0&&(i=i+1),{sortDirection:d,sortProperty:p,limit:i,cursor:n}}delete(e,r,i){var n;return TI(this,void 0,void 0,function*(){(n=i?.signal)===null||n===void 0||n.throwIfAborted();let o=yield $n(this.blockstore.partition(e),i?.signal),s=Gr.parse(r);yield o.delete(s,i),yield this.index.delete(e,r,i)})}put(e,r,i,n){var o;return TI(this,void 0,void 0,function*(){(o=n?.signal)===null||o===void 0||o.throwIfAborted();let s=yield $n(this.blockstore.partition(e),n?.signal),f=yield $n(d1e({value:r,codec:b0,hasher:ta}),n?.signal),d=Yi.parseCid(yield Ye.getCid(r));yield s.put(d,f.bytes,n);let p=d.toString();yield this.index.put(e,p,i,n)})}clear(){return TI(this,void 0,void 0,function*(){yield this.blockstore.clear(),yield this.index.clear()})}};b();b();var fEe=Rt(cEe(),1);function uz(t){return fE(t.stream())}function hz(t){var e,r;let{cryptoKeyPair:i,keyData:n}=t,o=i.privateKey,s=i.publicKey;return{privateKey:{id:(e=n.id)!==null&&e!==void 0?e:"",algorithm:o.algorithm,alias:n.alias,extractable:o.extractable,kms:n.kms,material:o.material,metadata:n.metadata,type:o.type,usages:o.usages},publicKey:{id:(r=n.id)!==null&&r!==void 0?r:"",algorithm:s.algorithm,alias:n.alias,extractable:s.extractable,kms:n.kms,material:s.material,metadata:n.metadata,type:s.type,usages:s.usages}}}function cE(t){return t!==void 0&&"algorithm"in t&&"extractable"in t&&"type"in t&&"usages"in t}function Fn(t){return t!==void 0&&"privateKey"in t&&"publicKey"in t}function fE(t){return new fEe.ReadableWebToNodeStream(t)}var Yh=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},dEe={[Ze.Events+We.Get]:gg,[Ze.Messages+We.Get]:J0,[Ze.Records+We.Read]:Ig,[Ze.Records+We.Query]:pg,[Ze.Records+We.Write]:qi,[Ze.Records+We.Delete]:mg,[Ze.Protocols+We.Query]:Hh,[Ze.Protocols+We.Configure]:yg},j3=class t{constructor(e){this._agent=e.agent,this._dwn=e.dwn}get agent(){if(this._agent===void 0)throw new Error("DidManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e}get dwn(){return this._dwn}static create(e){return Yh(this,void 0,void 0,function*(){let{agent:r,dataPath:i,didResolver:n,dwn:o}=e??{};if(i??(i="DATA/AGENT"),o===void 0){let s=new X1({blockstoreLocation:`${i}/DWN_DATASTORE`}),f=new rE({location:`${i}/DWN_EVENTLOG`}),d=new iE({blockstoreLocation:`${i}/DWN_MESSAGESTORE`,indexLocation:`${i}/DWN_MESSAGEINDEX`});o=yield j1.create({dataStore:s,didResolver:n,eventLog:f,messageStore:d})}return new t({agent:r,dwn:o})})}processRequest(e){return Yh(this,void 0,void 0,function*(){let{message:r,dataStream:i}=yield this.constructDwnMessage({request:e}),n;return e.store!==!1?n=yield this._dwn.processMessage(e.target,r,i):n={status:{code:202,detail:"Accepted"}},{reply:n,message:r,messageCid:yield Ye.getCid(r)}})}sendRequest(e){var r,i;return Yh(this,void 0,void 0,function*(){let n={targetDid:e.target},o;if("messageCid"in e){let{message:B,data:S}=yield this.getDwnMessage({author:e.author,messageCid:e.messageCid,messageType:e.messageType});n.message=B,o=S}else{let{message:B}=yield this.constructDwnMessage({request:e});n.message=B,o=e.dataStream}o&&(n.data=o);let{didDocument:s,didResolutionMetadata:f}=yield this.agent.didResolver.resolve(e.target);if(!s){let B=(r=`${f?.error}: `)!==null&&r!==void 0?r:"",S=`Unable to resolve target DID: ${e.target}`,C=(i=f?.errorMessage)!==null&&i!==void 0?i:S;throw new Error(`DwnManager: ${B}${C}`)}let[d]=Vs.getServices({didDocument:s,id:"#dwn"});if(!d)throw new Error(`DwnManager: DID Document of '${e.target}' has no service endpoints with ID '#dwn'`);if(!Vs.isDwnServiceEndpoint(d.serviceEndpoint))throw new Error("DwnManager: Malformed '#dwn' service endpoint. Expected array of node addresses.");let p=d.serviceEndpoint.nodes,u,y=[];for(let B of p){n.dwnUrl=B;try{u=yield this.agent.rpcClient.sendDwnRequest(n);break}catch(S){let C=S instanceof Error?S.message:"Unknown error";y.push({url:B,message:C})}}if(!u)throw new Error(JSON.stringify(y));return{message:n.message,messageCid:yield Ye.getCid(n.message),reply:u}})}constructDwnMessage(e){var r;return Yh(this,void 0,void 0,function*(){let{request:i}=e,n;if(i.messageType==="RecordsWrite"){let d=i.messageOptions;if(i.dataStream&&!d.data){let{dataStream:p}=i,u;if(p instanceof Blob)u=uz(p),n=uz(p);else if(p instanceof ReadableStream){let[y,B]=p.tee();u=fE(y),n=fE(B)}d.dataCid=yield Yi.computeDagPbCidFromStream(u),(r=d.dataSize)!==null&&r!==void 0||(d.dataSize=u.bytesRead)}}let o=yield this.constructDwnSigner(i.author);return{message:(yield dEe[i.messageType].create(Object.assign(Object.assign({},i.messageOptions),{signer:o}))).message,dataStream:n}})}getAuthorSigningKeyId(e){return Yh(this,void 0,void 0,function*(){let{did:r}=e,i=yield this.agent.didManager.getDefaultSigningKey({did:r});if(!i)throw new Error(`DwnManager: Unable to determine signing key for author: '${r}'`);return i})}constructDwnSigner(e){return Yh(this,void 0,void 0,function*(){let r=yield this.getAuthorSigningKeyId({did:e}),i=Vs.parseDid({didUrl:r});if(!i)throw new Error(`DidIonMethod: Unable to parse DID: ${r}`);let o=`${i.did.split(":",3).join(":")}#${i.fragment}`,s=yield this.agent.keyManager.getKey({keyRef:o});if(!Fn(s))throw new Error(`DwnManager: Signing key not found for author: '${e}'`);let{alg:f}=_s.webCryptoToJose(s.privateKey.algorithm);if(f===void 0)throw Error(`No algorithm provided to sign with key ID ${r}`);return{keyId:r,algorithm:f,sign:d=>Yh(this,void 0,void 0,function*(){return yield this.agent.keyManager.sign({algorithm:s.privateKey.algorithm,data:d,keyRef:o})})}})}getDwnMessage(e){return Yh(this,void 0,void 0,function*(){let{author:r,messageType:i,messageCid:n}=e,o=yield this.constructDwnSigner(r),s=yield J0.create({messageCids:[n],signer:o}),f=yield this._dwn.processMessage(r,s.message);if(!(f.entries&&f.entries.length===1))throw new Error("TODO: figure out error message");let[d]=f.entries,{message:p}=d;if(!p)throw new Error("TODO: message not found");let u={message:p};if(i==="RecordsWrite"){let{encodedData:y}=d,B=p;if(y){let S=ct.base64Url(y).toUint8Array();u.data=new Blob([S])}else{let S=yield Ig.create({filter:{recordId:B.recordId},signer:o}),C=yield this._dwn.processMessage(r,S.message);if(C.status.code>=400){let{status:{code:x,detail:_}}=C;throw new Error(`(${x}) Failed to read data associated with record ${B.recordId}. ${_}}`)}else if(C.record){let x=yield Rc.toBytes(C.record.data);u.data=new Blob([x])}}}return u})}createMessage(e){return Yh(this,void 0,void 0,function*(){let{author:r,messageOptions:i,messageType:n}=e,o=yield this.constructDwnSigner(r);return yield dEe[n].create(Object.assign(Object.assign({},i),{signer:o}))})}processMessage(e){return Yh(this,void 0,void 0,function*(){let{dataStream:r,message:i,targetDid:n}=e;return yield this._dwn.processMessage(n,i,r)})}};b();b();var tp=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},z3=class{constructor(){this._identityRecordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/managed-identity"}}deleteIdentity(e){var r;return tp(this,void 0,void 0,function*(){let{agent:i,context:n,did:o}=e,s=yield this.getAuthor({agent:i,context:n,did:o}),{reply:f}=yield i.dwnManager.processRequest({author:s,target:s,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._identityRecordProperties)}}),d;for(let u of(r=f.entries)!==null&&r!==void 0?r:[])if(u.encodedData){let y=ct.base64Url(u.encodedData).toObject();if(y&&y.did===o){d=u.recordId;break}}if(!d)return!1;let{reply:{status:p}}=yield i.dwnManager.processRequest({author:s,target:s,messageType:"RecordsDelete",messageOptions:{recordId:d}});return p.code===202})}getIdentity(e){var r;return tp(this,void 0,void 0,function*(){let{agent:i,context:n,did:o}=e,s=yield this.getAuthor({agent:i,context:n,did:o}),{reply:f}=yield i.dwnManager.processRequest({author:s,target:s,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._identityRecordProperties)}});for(let d of(r=f.entries)!==null&&r!==void 0?r:[])if(d.encodedData){let p=ct.base64Url(d.encodedData).toObject();if(p&&p.did===o)return p}})}importIdentity(e){return tp(this,void 0,void 0,function*(){let{agent:r,context:i,identity:n}=e,o=yield this.getAuthor({agent:r,context:i,did:n.did});if(yield this.getIdentity({agent:r,context:i,did:n.did}))throw new Error(`IdentityStoreDwn: Identity with DID already exists: '${n.did}'`);let f=ct.object(n).toUint8Array(),{reply:{status:d}}=yield r.dwnManager.processRequest({author:o,target:o,messageType:"RecordsWrite",messageOptions:Object.assign({},this._identityRecordProperties),dataStream:new Blob([f])});if(d.code!==202)throw new Error("IdentityStoreDwn: Failed to write imported identity to store.")})}listIdentities(e){var r;return tp(this,void 0,void 0,function*(){let{agent:i,context:n}=e,o=yield this.getAuthor({agent:i,context:n}),{reply:s}=yield i.dwnManager.processRequest({author:o,target:o,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._identityRecordProperties)}}),f=[];for(let d of(r=s.entries)!==null&&r!==void 0?r:[])if(d.encodedData){let p=ct.base64Url(d.encodedData).toObject();f.push(p)}return f})}getAuthor(e){return tp(this,void 0,void 0,function*(){let{context:r,did:i,agent:n}=e;if(r)return r;if(n.agentDid)return n.agentDid;if(!i)throw new Error("DidStoreDwn: Agent property 'agentDid' is undefined.");let o=yield n.didManager.getDefaultSigningKey({did:i});if(o?yield n.keyManager.getKey({keyRef:o}):void 0)return i;throw new Error(`IdentityStoreDwn: Agent property 'agentDid' is undefined and no keys were found for: '${i}'`)})}},Y3=class{constructor(){this.store=new Map}deleteIdentity({did:e}){return tp(this,void 0,void 0,function*(){return this.store.has(e)?(this.store.delete(e),!0):!1})}getIdentity({did:e}){return tp(this,void 0,void 0,function*(){return this.store.get(e)})}importIdentity(e){return tp(this,void 0,void 0,function*(){let{identity:r}=e;if(this.store.has(r.did))throw new Error(`IdentityStoreMemory: Identity with DID already exists: '${r.did}'`);let i=structuredClone(r);this.store.set(r.did,i)})}listIdentities(){return tp(this,void 0,void 0,function*(){return Array.from(this.store.values())})}};var Ek=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},J3=class{constructor(e){let{agent:r,store:i}=e??{};this._agent=r,this._store=i??new Y3}get agent(){if(this._agent===void 0)throw new Error("IdentityManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e}create(e){return Ek(this,void 0,void 0,function*(){let{context:r,did:i,didMethod:n,didOptions:o,kms:s,name:f}=e;if(!(n?!i:i))throw new Error("Either 'did' or 'didMethod' must be defined, but not both.");let d,p=this.agent;if(n?d=yield p.didManager.create(Object.assign({method:n,context:r,kms:s},o)):i&&(d=yield p.didManager.import({did:i,context:r,kms:s})),d===void 0)throw new Error("IdentityManager: Unable to generate or import DID.");let u={did:d.did,name:f};return r??(r=u.did),yield this._store.importIdentity({identity:u,agent:p,context:r}),u})}get(e){return Ek(this,void 0,void 0,function*(){let{context:r,did:i}=e;return this._store.getIdentity({did:i,agent:this.agent,context:r})})}import(e){return Ek(this,void 0,void 0,function*(){let{context:r,did:i,identity:n,kms:o}=e,s=this.agent;return i&&(yield s.didManager.import({did:i,context:r,kms:o})),r??(r=n.did),yield this._store.importIdentity({identity:n,agent:s,context:r}),n})}list(e){return Ek(this,void 0,void 0,function*(){let{context:r}=e??{};return this._store.listIdentities({agent:this.agent,context:r})})}};b();var uEe;(function(t){t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError",t[t.ParseError=-32700]="ParseError",t[t.TransportError=-32300]="TransportError",t[t.BadRequest=-50400]="BadRequest",t[t.Unauthorized=-50401]="Unauthorized",t[t.Forbidden=-50403]="Forbidden"})(uEe||(uEe={}));var lz=(t,e,r)=>({jsonrpc:"2.0",id:t,method:e,params:r});function hEe(t){try{return JSON.parse(t)}catch{return null}}b();b();b();var xi=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},_ct=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r},dE=class{constructor(e){this._keyRecordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/managed-key"};let{schema:r}=e??{};r&&(this._keyRecordProperties.schema=r)}deleteKey(e){var r;return xi(this,void 0,void 0,function*(){let{agent:i,context:n,id:o}=e,s=yield this.getAuthor({agent:i,context:n}),{reply:f}=yield this.getKeyRecords(i,n),d;for(let u of(r=f.entries)!==null&&r!==void 0?r:[])if(u.encodedData){let y=this.decodeKey(u.encodedData),B=Fn(y)?y.publicKey.id:y.id;if(y&&B===o){d=u.recordId;break}}if(!d)return!1;let{reply:{status:p}}=yield i.dwnManager.processRequest({author:s,target:s,messageType:"RecordsDelete",messageOptions:{recordId:d}});return p.code===202})}findKey(e){var r;return xi(this,void 0,void 0,function*(){let{agent:i,alias:n,context:o,id:s}=e,{reply:f}=yield this.getKeyRecords(i,o);for(let d of(r=f.entries)!==null&&r!==void 0?r:[])if(d.encodedData){let p=this.decodeKey(d.encodedData);if(Fn(p)){if(p.publicKey.id===s||p.publicKey.alias===n)return p}else if(p.id===s||p.alias===n)return p}})}getKey(e){var r;return xi(this,void 0,void 0,function*(){let{agent:i,context:n,id:o}=e,{reply:s}=yield this.getKeyRecords(i,n);for(let f of(r=s.entries)!==null&&r!==void 0?r:[])if(f.encodedData){let d=this.decodeKey(f.encodedData);if((Fn(d)?d.publicKey.id:d.id)===o)return d}})}importKey(e){return xi(this,void 0,void 0,function*(){let{agent:r,context:i,key:n}=e,o;Fn(n)?o=n.publicKey.id:(n.id||(n.id=Xs.randomUuid()),o=n.id);let s=yield this.getAuthor({agent:r,context:i});if(yield this.getKey({agent:r,context:i,id:o}))throw new Error(`KeyStoreDwn: Key with ID already exists: '${o}'`);let d=this.encodeKey(n),{reply:{status:p}}=yield r.dwnManager.processRequest({author:s,target:s,messageType:"RecordsWrite",messageOptions:Object.assign({},this._keyRecordProperties),dataStream:new Blob([d])});if(p.code!==202)throw new Error("DidStoreDwn: Failed to write imported DID to store.");return o})}listKeys(e){var r;return xi(this,void 0,void 0,function*(){let{agent:i,context:n}=e,{reply:o}=yield this.getKeyRecords(i,n),s=[];for(let f of(r=o.entries)!==null&&r!==void 0?r:[])if(f.encodedData){let d=this.decodeKey(f.encodedData);s.push(d)}return s})}updateKey(e){var r;return xi(this,void 0,void 0,function*(){let{agent:i,context:n,id:o}=e,s={alias:e.alias,metadata:e.metadata},f=yield this.getAuthor({agent:i,context:n}),{reply:d}=yield this.getKeyRecords(i,n),p,u;for(let x of(r=d.entries)!==null&&r!==void 0?r:[]){let{encodedData:_}=x,Q=_ct(x,["encodedData"]);if(_){let R=this.decodeKey(_),k=Fn(R)?R.publicKey.id:R.id;if(R&&k===o){p=R,u=Q;break}}}if(!u||!p)return!1;M6(s),D6(s);let y=structuredClone(s);Fn(p)?(p.privateKey=Object.assign(Object.assign({},p.privateKey),y),p.publicKey=Object.assign(Object.assign({},p.publicKey),y)):p=Object.assign(Object.assign({},p),y);let B=this.encodeKey(p),S=Object.assign({},u.descriptor);S.contextId=u.contextId,S.recordId=u.recordId,delete S.dataCid,delete S.dataSize,delete S.data,delete S.messageTimestamp;let{reply:{status:C}}=yield i.dwnManager.processRequest({author:f,target:f,messageType:"RecordsWrite",messageOptions:S,dataStream:new Blob([B])});if(C.code!==202)throw new Error("DidStoreDwn: Failed to write updated key to store.");return!0})}decodeKey(e){let r=ct.base64Url(e).toObject();if("publicKey"in r){let i=r.privateKey.material?ct.base64Url(r.privateKey.material).toUint8Array():void 0,n=r.publicKey.material?ct.base64Url(r.publicKey.material).toUint8Array():void 0;return{privateKey:Object.assign(Object.assign({},r.privateKey),{material:i}),publicKey:Object.assign(Object.assign({},r.publicKey),{material:n})}}else{let i=r.material?ct.base64Url(r.material).toUint8Array():void 0;return Object.assign(Object.assign({},r),{material:i})}}encodeKey(e){let r;if(Fn(e)){let n=e.privateKey.material?ct.uint8Array(e.privateKey.material).toBase64Url():void 0,o=e.publicKey.material?ct.uint8Array(e.publicKey.material).toBase64Url():void 0;r={privateKey:Object.assign(Object.assign({},e.privateKey),{material:n}),publicKey:Object.assign(Object.assign({},e.publicKey),{material:o})}}else{let n=e.material?ct.uint8Array(e.material).toBase64Url():void 0;r=Object.assign(Object.assign({},e),{material:n})}return ct.object(r).toUint8Array()}getAuthor(e){return xi(this,void 0,void 0,function*(){let{agent:r,context:i}=e;if(i)return i;if(r.agentDid)return r.agentDid;throw new Error("KeyStoreDwn: Agent property 'agentDid' is undefined and no context was specified.")})}getKeyRecords(e,r){return xi(this,void 0,void 0,function*(){let i=yield this.getAuthor({agent:e,context:r});return yield e.dwnManager.processRequest({author:i,target:i,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._keyRecordProperties)}})})}},xg=class{constructor(){this.store=new Map}deleteKey({id:e}){return xi(this,void 0,void 0,function*(){return this.store.has(e)?(this.store.delete(e),!0):!1})}findKey(e){return xi(this,void 0,void 0,function*(){let{alias:r,id:i}=e;if(i)return this.store.get(i);if(r){for(let n of yield this.listKeys())if("alias"in n&&n.alias===r||"publicKey"in n&&n.publicKey.alias===r)return n}})}getKey({id:e}){return xi(this,void 0,void 0,function*(){return this.store.get(e)})}importKey({key:e}){return xi(this,void 0,void 0,function*(){let r;if(Fn(e)?r=e.publicKey.id:(e.id||(e.id=Xs.randomUuid()),r=e.id),this.store.has(r))throw new Error(`KeyStoreMemory: Key with ID already exists: '${r}'`);let i=structuredClone(e);return this.store.set(r,i),r})}listKeys(){return xi(this,void 0,void 0,function*(){return Array.from(this.store.values())})}updateKey(e){return xi(this,void 0,void 0,function*(){let r=e.id,i={alias:e.alias,metadata:e.metadata};if(!this.store.has(r))return!1;let o=yield this.getKey({id:r});M6(i),D6(i);let s=structuredClone(i);return Fn(o)?(o.privateKey=Object.assign(Object.assign({},o.privateKey),s),o.publicKey=Object.assign(Object.assign({},o.publicKey),s)):o=Object.assign(Object.assign(Object.assign({},o),s),{id:o.id}),this.store.set(r,o),!0})}},V3=class{constructor(){this._keyRecordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/kms-private-key"}}deleteKey(e){var r;return xi(this,void 0,void 0,function*(){let{agent:i,context:n,id:o}=e,s=yield this.getAuthor({agent:i,context:n}),{reply:f}=yield this.getKeyRecords(i,n),d;for(let u of(r=f.entries)!==null&&r!==void 0?r:[])if(u.encodedData){let y=this.decodeKey(u.encodedData);if(y&&y.id===o){d=u.recordId;break}}if(!d)return!1;let{reply:{status:p}}=yield i.dwnManager.processRequest({author:s,target:s,messageType:"RecordsDelete",messageOptions:{recordId:d}});return p.code===202})}findKey(){return xi(this,void 0,void 0,function*(){throw new Error("PrivateKeyStoreDwn: Method not implemented: 'findKey'")})}getKey(e){var r;return xi(this,void 0,void 0,function*(){let{agent:i,context:n,id:o}=e,{reply:s}=yield this.getKeyRecords(i,n);for(let f of(r=s.entries)!==null&&r!==void 0?r:[])if(f.encodedData){let d=this.decodeKey(f.encodedData);if(d.id===o)return d}})}importKey(e){return xi(this,void 0,void 0,function*(){let{agent:r,context:i,key:n}=e;if(!n.material)throw new TypeError("Required parameter missing: 'material'");if(!n.type)throw new TypeError("Required parameter missing: 'type'");let o=yield this.getAuthor({agent:r,context:i}),s=Xs.randomUuid(),f=this.encodeKey(Object.assign(Object.assign({},n),{id:s})),{reply:{status:d}}=yield r.dwnManager.processRequest({author:o,target:o,messageType:"RecordsWrite",messageOptions:Object.assign({},this._keyRecordProperties),dataStream:new Blob([f])});if(d.code!==202)throw new Error("PrivateKeyStoreDwn: Failed to write imported DID to store.");return s})}listKeys(e){var r;return xi(this,void 0,void 0,function*(){let{agent:i,context:n}=e,{reply:o}=yield this.getKeyRecords(i,n),s=[];for(let f of(r=o.entries)!==null&&r!==void 0?r:[])if(f.encodedData){let d=this.decodeKey(f.encodedData);s.push(d)}return s})}updateKey(){return xi(this,void 0,void 0,function*(){throw new Error("PrivateKeyStoreMemory: Method not implemented: 'updateKey'")})}decodeKey(e){let r=ct.base64Url(e).toObject();return Object.assign(Object.assign({},r),{material:ct.base64Url(r.material).toUint8Array()})}encodeKey(e){let r=Object.assign(Object.assign({},e),{material:ct.uint8Array(e.material).toBase64Url()});return ct.object(r).toUint8Array()}getAuthor(e){return xi(this,void 0,void 0,function*(){let{agent:r,context:i}=e;if(i)return i;if(r.agentDid)return r.agentDid;throw new Error("PrivateKeyStoreDwn: Agent property 'agentDid' is undefined and no context was specified.")})}getKeyRecords(e,r){return xi(this,void 0,void 0,function*(){let i=yield this.getAuthor({agent:e,context:r});return yield e.dwnManager.processRequest({author:i,target:i,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._keyRecordProperties)}})})}},OI=class{constructor(){this.store=new Map}deleteKey({id:e}){return xi(this,void 0,void 0,function*(){return this.store.has(e)?(this.store.delete(e),!0):!1})}findKey(){return xi(this,void 0,void 0,function*(){throw new Error("PrivateKeyStoreMemory: Method not implemented: 'findKey'")})}getKey({id:e}){return xi(this,void 0,void 0,function*(){return this.store.get(e)})}importKey({key:e}){return xi(this,void 0,void 0,function*(){if(!e.material)throw new TypeError("Required parameter missing: 'material'");if(!e.type)throw new TypeError("Required parameter missing: 'type'");let r=structuredClone(e,{transfer:[e.material.buffer]});return r.id=Xs.randomUuid(),this.store.set(r.id,r),r.id})}listKeys(){return xi(this,void 0,void 0,function*(){return Array.from(this.store.values())})}updateKey(){return xi(this,void 0,void 0,function*(){throw new Error("PrivateKeyStoreMemory: Method not implemented: 'updateKey'")})}};var rp=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Qct={"AES-CTR":E5,ECDH:w5,ECDSA:v5,EdDSA:b5},Sg=class{constructor(e){this._supportedAlgorithms=new Map;let{agent:r,kmsName:i,keyStore:n,privateKeyStore:o}=e;this._agent=r,this._name=i,this._keyStore=n??new xg,this._privateKeyStore=o??new OI;let s=Object.assign(Object.assign({},Qct),e.cryptoAlgorithms);this.registerSupportedAlgorithms(s)}get agent(){if(this._agent===void 0)throw new Error("KeyManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e}decrypt(e){return rp(this,void 0,void 0,function*(){let{algorithm:r,data:i,keyRef:n}=e,o=yield this.getKey({keyRef:n});if(cE(o)){let s=yield this._privateKeyStore.getKey({id:o.id,agent:this.agent});if(s!==void 0){let f=this.toCryptoKey(Object.assign(Object.assign({},o),{material:s.material}));return this.getAlgorithm(r).decrypt({algorithm:r,key:f,data:i})}}throw new Error(`Operation failed: 'decrypt'. Key not found: ${n}`)})}deriveBits(e){return rp(this,void 0,void 0,function*(){let{algorithm:r,baseKeyRef:i,length:n}=e,o=yield this.getKey({keyRef:i});if(Fn(o)){let s=yield this._privateKeyStore.getKey({id:o.privateKey.id,agent:this.agent});if(s!==void 0){let f=this.toCryptoKey(Object.assign(Object.assign({},o.privateKey),{material:s.material}));return this.getAlgorithm(r).deriveBits({algorithm:r,baseKey:f,length:n??null})}}throw new Error(`Operation failed: 'deriveBits'. Key not found: ${i}`)})}encrypt(e){return rp(this,void 0,void 0,function*(){let{algorithm:r,data:i,keyRef:n}=e,o=yield this.getKey({keyRef:n});if(cE(o)){let s=yield this._privateKeyStore.getKey({id:o.id,agent:this.agent});if(s!==void 0){let f=this.toCryptoKey(Object.assign(Object.assign({},o),{material:s.material}));return this.getAlgorithm(r).encrypt({algorithm:r,key:f,data:i})}}throw new Error(`Operation failed: 'encrypt'. Key not found: ${n}`)})}generateKey(e){return rp(this,void 0,void 0,function*(){let{algorithm:r,alias:i,extractable:n,keyUsages:o,metadata:s}=e,f=this.getAlgorithm(r);n??(n=!0);let d=yield f.generateKey({algorithm:r,extractable:n,keyUsages:o}),p;if(Xs.isCryptoKeyPair(d)){let u=d.privateKey.type,y=yield this._privateKeyStore.importKey({key:{material:d.privateKey.material,type:u},agent:this.agent});p={privateKey:this.toManagedKey(Object.assign(Object.assign({},d.privateKey),{id:y,alias:i,metadata:s})),publicKey:this.toManagedKey(Object.assign(Object.assign({},d.publicKey),{material:d.publicKey.material,id:y,alias:i,metadata:s}))}}else{let u=d.type,y=yield this._privateKeyStore.importKey({key:{material:d.material,type:u},agent:this.agent});p=this.toManagedKey(Object.assign(Object.assign({},d),{id:y,alias:i,metadata:s}))}return yield this._keyStore.importKey({key:p,agent:this.agent}),p})}getKey(e){return rp(this,void 0,void 0,function*(){return this._keyStore.getKey({id:e.keyRef,agent:this.agent})})}importKey(e){return rp(this,void 0,void 0,function*(){if("privateKey"in e){let{privateKey:i,publicKey:n}=e;if(i.type==="public"&&n.type==="private")throw new Error("Import failed due to private and public key mismatch");if(!(i.type==="private"&&n.type==="public"))throw new TypeError(`Out of range: '${i.type}, ${n.type}'. Must be 'private, public'`);let o=yield this._privateKeyStore.importKey({key:{material:i.material,type:i.type},agent:this.agent}),s={privateKey:this.toManagedKey(Object.assign(Object.assign({},i),{id:o,material:void 0})),publicKey:this.toManagedKey(Object.assign(Object.assign({},n),{material:n.material,id:o}))};return yield this._keyStore.importKey({key:s,agent:this.agent}),s}let r=e.type;switch(r){case"private":{let i=e.material,n=yield this._privateKeyStore.importKey({key:{material:i,type:r},agent:this.agent}),o=this.toManagedKey(Object.assign(Object.assign({},e),{material:void 0,id:n}));return yield this._keyStore.importKey({key:o,agent:this.agent}),o}case"public":{let i=e.material,n=this.toManagedKey(Object.assign(Object.assign({},e),{material:i,id:""}));return n.id=yield this._keyStore.importKey({key:n,agent:this.agent}),n}case"secret":{let i=e.material,n=yield this._privateKeyStore.importKey({key:{material:i,type:r},agent:this.agent}),o=this.toManagedKey(Object.assign(Object.assign({},e),{material:void 0,id:n}));return yield this._keyStore.importKey({key:o,agent:this.agent}),o}default:throw new TypeError(`Out of range: '${r}'. Must be one of 'private, public, secret'`)}})}sign(e){return rp(this,void 0,void 0,function*(){let{algorithm:r,data:i,keyRef:n}=e,o=yield this.getKey({keyRef:n});if(Fn(o)){let s=yield this._privateKeyStore.getKey({id:o.privateKey.id,agent:this.agent});if(s!==void 0){let f=this.toCryptoKey(Object.assign(Object.assign({},o.privateKey),{material:s.material}));return this.getAlgorithm(r).sign({algorithm:r,key:f,data:i})}}throw new Error(`Operation failed: 'sign'. Key not found: ${n}`)})}updateKey(e){return rp(this,void 0,void 0,function*(){let{keyRef:r,alias:i,metadata:n}=e,o=yield this.getKey({keyRef:r});if(!o)throw new Error(`Key not found: '${r}'`);let s=Fn(o)?o.publicKey.id:o.id;return this._keyStore.updateKey({id:s,alias:i,metadata:n,agent:this.agent})})}verify(e){return rp(this,void 0,void 0,function*(){let{algorithm:r,data:i,keyRef:n,signature:o}=e,s=yield this.getKey({keyRef:n});if(Fn(s)){if(s.publicKey.material===void 0)throw new Error("Required property missing: 'material'");let f=this.toCryptoKey(Object.assign(Object.assign({},s.publicKey),{material:s.publicKey.material}));return this.getAlgorithm(r).verify({algorithm:r,key:f,signature:o,data:i})}throw new Error(`Operation failed: 'verify'. Key not found: ${n}`)})}getAlgorithm(e){Xs.checkRequiredProperty({property:"name",inObject:e});let r=this._supportedAlgorithms.get(e.name.toUpperCase());if(r===void 0)throw new Error(`The algorithm '${e.name}' is not supported`);return r.create()}registerSupportedAlgorithms(e){for(let[r,i]of Object.entries(e))this._supportedAlgorithms.set(r.toUpperCase(),i)}toCryptoKey(e){return{algorithm:e.algorithm,extractable:e.extractable,material:e.material,type:e.type,usages:e.usages}}toManagedKey(e){return{id:e.id,algorithm:e.algorithm,alias:e.alias,extractable:e.extractable,kms:this._name,material:e.type==="public"?e.material:void 0,metadata:e.metadata,state:"Enabled",type:e.type,usages:e.usages}}};var Jh=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},uE=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r},W3=class{constructor(e){let{agent:r,kms:i,store:n}=e??{};this._agent=r,this._store=n??new xg,i??(i=this.useMemoryKms()),this._kms=new Map(Object.entries(i))}get agent(){if(this._agent===void 0)throw new Error("KeyManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e,this._kms.forEach(r=>{r.agent=e})}decrypt(e){return Jh(this,void 0,void 0,function*(){let{keyRef:r}=e,i=uE(e,["keyRef"]),n=yield this.getKey({keyRef:r});if(!cE(n))throw new Error(`Key not found: '${r}'`);let o=n.kms,s=this.getKms(o),f=n.id;return yield s.decrypt(Object.assign({keyRef:f},i))})}deriveBits(e){return Jh(this,void 0,void 0,function*(){let{baseKeyRef:r}=e,i=uE(e,["baseKeyRef"]),n=yield this.getKey({keyRef:r});if(!Fn(n))throw new Error(`Key not found: '${r}'`);let o=n.privateKey.kms,s=this.getKms(o),f=n.privateKey.id;return s.deriveBits(Object.assign({baseKeyRef:f},i))})}encrypt(e){return Jh(this,void 0,void 0,function*(){let{keyRef:r}=e,i=uE(e,["keyRef"]),n=yield this.getKey({keyRef:r});if(!cE(n))throw new Error(`Key not found: '${r}'`);let o=n.kms,s=this.getKms(o),f=n.id;return yield s.encrypt(Object.assign({keyRef:f},i))})}generateKey(e){return Jh(this,void 0,void 0,function*(){let{kms:r}=e,i=uE(e,["kms"]),o=yield this.getKms(r).generateKey(i);return yield this._store.importKey({key:o,agent:this.agent}),o})}getKey({keyRef:e}){var r,i;return Jh(this,void 0,void 0,function*(){let n,o=(r=this._defaultSigningKey)===null||r===void 0?void 0:r.publicKey.id,s=(i=this._defaultSigningKey)===null||i===void 0?void 0:i.publicKey.alias;if(e===o||e===s)return this._defaultSigningKey;if(n=yield this._store.getKey({id:e,agent:this.agent}),n||(n=yield this._store.findKey({alias:e,agent:this.agent}),n))return n})}importKey(e){return Jh(this,void 0,void 0,function*(){let r="privateKey"in e?e.privateKey.kms:e.kms,n=yield this.getKms(r).importKey(e);return yield this._store.importKey({key:n,agent:this.agent}),n})}listKms(){return Array.from(this._kms.keys())}setDefaultSigningKey({key:e}){return Jh(this,void 0,void 0,function*(){let r=e.privateKey.kms,n=yield this.getKms(r).importKey(e);this._defaultSigningKey=n})}sign(e){return Jh(this,void 0,void 0,function*(){let{keyRef:r}=e,i=uE(e,["keyRef"]),n=yield this.getKey({keyRef:r});if(!Fn(n))throw new Error(`Key not found: '${r}'`);let o=n.privateKey.kms,s=this.getKms(o),f=n.privateKey.id;return yield s.sign(Object.assign({keyRef:f},i))})}updateKey(e){return Jh(this,void 0,void 0,function*(){let{keyRef:r,alias:i,metadata:n}=e,o=yield this.getKey({keyRef:r});if(!o)throw new Error(`Key not found: '${r}'`);let{id:s,kms:f}=Fn(o)?Object.assign({},o.publicKey):Object.assign({},o);return(yield this.getKms(f).updateKey(e))?yield this._store.updateKey({id:s,alias:i,metadata:n,agent:this.agent}):!1})}verify(e){return Jh(this,void 0,void 0,function*(){let{keyRef:r}=e,i=uE(e,["keyRef"]),n=yield this.getKey({keyRef:r});if(!Fn(n))throw new Error(`Key not found: '${r}'`);let o=n.publicKey.kms,s=this.getKms(o),f=n.publicKey.id;return yield s.verify(Object.assign({keyRef:f},i))})}getKms(e){e??(e=this._kms.size===1?this._kms.keys().next().value:"");let r=this._kms.get(e);if(!r)throw Error(`Unknown key management system: '${e}'`);return r}useMemoryKms(){let e=new xg,r=new OI;return{memory:new Sg({kmsName:"memory",keyStore:e,privateKeyStore:r})}}};b();var gz=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},lEe;(function(t){t.Create="did.create",t.Resolve="did.resolve"})(lEe||(lEe={}));var Z3=class{constructor(e=[]){this.transportClients=new Map,e=[new Az,...e];for(let r of e)for(let i of r.transportProtocols)this.transportClients.set(i,r)}get transportProtocols(){return Array.from(this.transportClients.keys())}sendDidRequest(e){return gz(this,void 0,void 0,function*(){let r=new URL(e.url),i=this.transportClients.get(r.protocol);if(!i){let n=new Error(`no ${r.protocol} transport client available`);throw n.name="NO_TRANSPORT_CLIENT",n}return i.sendDidRequest(e)})}sendDwnRequest(e){let r=new URL(e.dwnUrl),i=this.transportClients.get(r.protocol);if(!i){let n=new Error(`no ${r.protocol} transport client available`);throw n.name="NO_TRANSPORT_CLIENT",n}return i.sendDwnRequest(e)}},pz=class{get transportProtocols(){return["http:","https:"]}sendDwnRequest(e){return gz(this,void 0,void 0,function*(){let r=Xs.randomUuid(),i=lz(r,"dwn.processMessage",{target:e.targetDid,message:e.message}),n={method:"POST",headers:{"dwn-request":JSON.stringify(i)}};e.data&&(n.headers["content-type"]="application/octet-stream",n.body=e.data);let o=yield fetch(e.dwnUrl,n),s,f,{headers:d}=o;if(d.has("dwn-response")){let u=hEe(d.get("dwn-response"));if(u==null)throw new Error(`failed to parse json rpc response. dwn url: ${e.dwnUrl}`);f=o.body,s=u}else{let u=yield o.text();s=JSON.parse(u)}if(s.error){let{code:u,message:y}=s.error;throw new Error(`(${u}) - ${y}`)}let{reply:p}=s.result;return f&&(p.record.data=f),p})}},Az=class extends pz{sendDidRequest(e){return gz(this,void 0,void 0,function*(){let r=Xs.randomUuid(),i=lz(r,e.method,{data:e.data}),n=new Request(e.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),o;try{let s=yield fetch(n);if(s.ok){if(o=yield s.json(),o.error){let{code:f,message:d}=o.error;throw new Error(`JSON RPC (${f}) - ${d}`)}}else throw new Error(`HTTP (${s.status}) - ${s.statusText}`)}catch(s){throw new Error(`Error encountered while processing response from ${e.url}: ${s.message}`)}return o.result})}};b();var AEe=Rt(pl(),1);var Oc=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},pEe=t=>t>=200&&t<=299,Dct=t=>t>=400&&t<=499,$3=class{constructor(e){let{agent:r,dataPath:i="DATA/AGENT/SYNC_STORE",db:n}=e??{};this._agent=r,this._db=n||new AEe.Level(i),this._ulidFactory=ok()}get agent(){if(this._agent===void 0)throw new Error("DidManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e}clear(){return Oc(this,void 0,void 0,function*(){yield this._db.clear()})}pull(){var e;return Oc(this,void 0,void 0,function*(){let r=yield this.getSyncPeerState({syncDirection:"pull"});yield this.enqueueOperations({syncDirection:"pull",syncPeerState:r});let i=this.getPullQueue(),n=yield i.iterator().all(),o=[],s=new Set;for(let f of n){let[d]=f,[p,u,y,B]=d.split("~");if(s.has(u))continue;if(yield this.messageExists(p,B)){o.push({type:"del",key:d});continue}let C=yield this.agent.dwnManager.createMessage({author:p,messageType:"MessagesGet",messageOptions:{messageCids:[B]}}),x;try{x=yield this.agent.rpcClient.sendDwnRequest({dwnUrl:u,targetDid:p,message:C})}catch{s.add(u);continue}for(let _ of(e=x.entries)!==null&&e!==void 0?e:[]){if(_.error||!_.message){yield this.addMessage(p,B),o.push({type:"del",key:d});continue}let Q=this.getDwnMessageType(_.message),R;if(Q==="RecordsWrite"){let{encodedData:K}=_,T=_.message;if(K){let L=ct.base64Url(K).toUint8Array();R=Rc.fromBytes(L)}else{let L=yield this.agent.dwnManager.createMessage({author:p,messageType:"RecordsRead",messageOptions:{filter:{recordId:T.recordId}}}),H=yield this.agent.rpcClient.sendDwnRequest({dwnUrl:u,targetDid:p,message:L.message}),{record:O,status:G}=H;if(pEe(G.code)&&O)R=fE(O.data);else if(G.code>=400){let v=yield this.agent.dwnManager.processMessage({targetDid:p,message:T});if(v.status.code===202||v.status.code===409){yield this.addMessage(p,B),o.push({type:"del",key:d});continue}else throw new Error(`SyncManager: Failed to sync tombstone for message '${B}'`)}}}let k=yield this.agent.dwnManager.processMessage({targetDid:p,message:_.message,dataStream:R});(k.status.code===202||k.status.code===409)&&(yield this.addMessage(p,B),o.push({type:"del",key:d}))}}yield i.batch(o)})}push(){return Oc(this,void 0,void 0,function*(){let e=yield this.getSyncPeerState({syncDirection:"push"});yield this.enqueueOperations({syncDirection:"push",syncPeerState:e});let r=this.getPushQueue(),i=yield r.iterator().all(),n=[],o=new Set;for(let s of i){let[f]=s,[d,p,u,y]=f.split("~");if(o.has(p))continue;let B=yield this.getDwnMessage(d,y);if(!B){n.push({type:"del",key:f}),yield this.addMessage(d,y);continue}try{let S=yield this.agent.rpcClient.sendDwnRequest({dwnUrl:p,targetDid:d,data:B.data,message:B.message});(S.status.code===202||S.status.code===409)&&(yield this.addMessage(d,y),n.push({type:"del",key:f}))}catch{o.add(p)}}yield r.batch(n)})}registerIdentity(e){return Oc(this,void 0,void 0,function*(){let{did:r}=e;yield this._db.sublevel("registeredIdentities").put(r,"")})}startSync(e){let{interval:r=12e4}=e;return new Promise((i,n)=>{let o=()=>Oc(this,void 0,void 0,function*(){this._syncIntervalId&&clearInterval(this._syncIntervalId);try{yield this.push(),yield this.pull()}catch(s){this.stopSync(),n(s)}this._syncIntervalId=setInterval(o,r)});this._syncIntervalId=setInterval(o,r)})}stopSync(){this._syncIntervalId&&(clearInterval(this._syncIntervalId),this._syncIntervalId=void 0)}enqueueOperations(e){return Oc(this,void 0,void 0,function*(){let{syncDirection:r,syncPeerState:i}=e;for(let n of i){let o=yield this.getDwnEventLog({did:n.did,dwnUrl:n.dwnUrl,cursor:n.cursor,syncDirection:r}),s=[];for(let f of o){let d=this._ulidFactory(),u={type:"put",key:[n.did,n.dwnUrl,d,f].join("~"),value:""};s.push(u)}s.length>0&&(yield(r==="pull"?this.getPullQueue():this.getPushQueue()).batch(s))}})}getDwnEventLog(e){var r;return Oc(this,void 0,void 0,function*(){let{did:i,dwnUrl:n,syncDirection:o,cursor:s}=e,f={};if(o==="pull"){let p=yield this.agent.dwnManager.createMessage({author:i,messageType:"EventsGet",messageOptions:{cursor:s}});try{f=yield this.agent.rpcClient.sendDwnRequest({dwnUrl:n,targetDid:i,message:p})}catch{}}else o==="push"&&(f=(yield this.agent.dwnManager.processRequest({author:i,target:i,messageType:"EventsGet",messageOptions:{cursor:s}})).reply);let d=(r=f.entries)!==null&&r!==void 0?r:[];if(d.length>0){let p=d.at(-1);this.setCursor(i,n,o,p)}return d})}getDwnMessage(e,r){return Oc(this,void 0,void 0,function*(){let n=(yield this.agent.dwnManager.processRequest({author:e,target:e,messageType:"MessagesGet",messageOptions:{messageCids:[r]}})).reply;if(!(n.entries&&n.entries.length===1))return;let[o]=n.entries,{message:s}=o;if(!s)return;let f={message:s};if(`${s.descriptor.interface}${s.descriptor.method}`==="RecordsWrite"){let{encodedData:p}=o,u=s;if(p){let y=ct.base64Url(p).toUint8Array();f.data=new Blob([y])}else{let B=(yield this.agent.dwnManager.processRequest({author:e,target:e,messageType:"RecordsRead",messageOptions:{filter:{recordId:u.recordId}}})).reply;if(pEe(B.status.code)&&B.record){let S=yield Rc.toBytes(B.record.data);f.data=new Blob([S])}else if(!Dct(B.status.code)){let{status:S}=B;throw new Error(`SyncManager: Failed to read data associated with record ${u.recordId}. (${S.code}) ${S.detail}}`)}}}return f})}getSyncPeerState(e){var r,i;return Oc(this,void 0,void 0,function*(){let{syncDirection:n}=e,o=yield this._db.sublevel("registeredIdentities").keys().all(),s=[];for(let f of o){let{didDocument:d,didResolutionMetadata:p}=yield this.agent.didResolver.resolve(f);if(!d){let y=(r=`${p?.error}: `)!==null&&r!==void 0?r:"",B=`Unable to resolve DID: ${f}`,S=(i=p?.errorMessage)!==null&&i!==void 0?i:B;throw new Error(`SyncManager: ${y}${S}`)}let[u]=Vs.getServices({didDocument:d,id:"#dwn"});if(u){if(!Vs.isDwnServiceEndpoint(u.serviceEndpoint))throw new Error("SyncManager: Malformed '#dwn' service endpoint. Expected array of node addresses.");for(let y of u.serviceEndpoint.nodes){let B=yield this.getCursor(f,y,n);s.push({did:f,dwnUrl:y,cursor:B})}}}return s})}getCursor(e,r,i){return Oc(this,void 0,void 0,function*(){let n=`${e}~${r}~${i}`,o=this.getCursorStore();try{return yield o.get(n)}catch(s){if(s.notFound)return}})}setCursor(e,r,i,n){return Oc(this,void 0,void 0,function*(){let o=`${e}~${r}~${i}`;yield this.getCursorStore().put(o,n)})}messageExists(e,r){return Oc(this,void 0,void 0,function*(){let i=this.getMessageStore(e);try{return yield i.get(r),!0}catch(n){if(n.notFound)return!1;throw n}})}addMessage(e,r){return Oc(this,void 0,void 0,function*(){return yield this.getMessageStore(e).put(r,"")})}getMessageStore(e){return this._db.sublevel("history").sublevel(e).sublevel("messages")}getCursorStore(){return this._db.sublevel("cursors")}getPushQueue(){return this._db.sublevel("pushQueue")}getPullQueue(){return this._db.sublevel("pullQueue")}getDwnMessageType(e){return`${e.descriptor.interface}${e.descriptor.method}`}};b();var Mct=Rt(pl(),1);var X3=class{constructor(e){this.agent=e.agent,this.connectedDid=e.connectedDid}async resolve(e,r){let i=await this.agent.processDidRequest({messageOptions:{didUrl:e,resolutionOptions:r},messageType:Hm.Resolve}),{result:n}=i;return n}};b();b();var yz={};Tt(yz,{dataToBlob:()=>e8});b();var e8=(t,e)=>{let r,i=wl(t);if(e==="text/plain"||i==="String")r=new Blob([t],{type:"text/plain"});else if(e==="application/json"||i==="Object"){let n=ct.object(t).toUint8Array();r=new Blob([n],{type:"application/json"})}else if(i==="Uint8Array"||i==="ArrayBuffer")r=new Blob([t],{type:"application/octet-stream"});else if(i==="Blob")r=t;else throw new Error("data type not supported.");return e=e||r.type||"application/octet-stream",{dataBlob:r,dataFormat:e}};var KI=class t{get attestation(){return this._attestation}get author(){return this._author}get contextId(){return this._contextId}get dataFormat(){return this._descriptor.dataFormat}get dateCreated(){return this._descriptor.dateCreated}get encryption(){return this._encryption}get id(){return this._recordId}get interface(){return this._descriptor.interface}get method(){return this._descriptor.method}get parentId(){return this._descriptor.parentId}get protocol(){return this._descriptor.protocol}get protocolPath(){return this._descriptor.protocolPath}get recipient(){return this._descriptor.recipient}get schema(){return this._descriptor.schema}get dataCid(){return this._descriptor.dataCid}get dataSize(){return this._descriptor.dataSize}get dateModified(){return this._descriptor.messageTimestamp}get datePublished(){return this._descriptor.datePublished}get messageTimestamp(){return this._descriptor.messageTimestamp}get published(){return this._descriptor.published}constructor(e,r){this._agent=e,this._author=r.author,this._connectedDid=r.connectedDid,this._remoteOrigin=r.remoteOrigin,this._attestation=r.attestation,this._contextId=r.contextId,this._descriptor=r.descriptor,this._encryption=r.encryption,this._recordId=r.recordId,r.encodedData&&(this._encodedData=typeof r.encodedData=="string"?new Blob([ct.base64Url(r.encodedData).toUint8Array()],{type:this.dataFormat}):r.encodedData),r.data&&(this._readableStream=Ay.isReadableStream(r.data)?pd.fromWebReadable({readableStream:r.data}):r.data)}get data(){let e=this,r={async blob(){return new Blob([await pd.consumeToBytes({readable:await this.stream()})],{type:e.dataFormat})},async bytes(){return await pd.consumeToBytes({readable:await this.stream()})},async json(){return await pd.consumeToJson({readable:await this.stream()})},async text(){return await pd.consumeToText({readable:await this.stream()})},async stream(){if(e._encodedData?e._readableStream=pd.fromWebReadable({readableStream:e._encodedData.stream()}):pd.isReadable({readable:e._readableStream})||(e._readableStream=e._remoteOrigin?await e.readRecordData({target:e._remoteOrigin,isRemote:!0}):await e.readRecordData({target:e._connectedDid,isRemote:!1})),!e._readableStream)throw new Error("Record data is not available.");return e._readableStream},then(...i){return this.stream().then(...i)},catch(i){return r.then().catch(i)}};return r}async send(e){let{reply:{status:r}}=await this._agent.sendDwnRequest({messageType:Ze.Records+We.Write,author:this._connectedDid,dataStream:await this.data.blob(),target:e,messageOptions:this.toJSON()});return{status:r}}toJSON(){return{attestation:this.attestation,author:this.author,contextId:this.contextId,dataCid:this.dataCid,dataFormat:this.dataFormat,dataSize:this.dataSize,dateCreated:this.dateCreated,messageTimestamp:this.dateModified,datePublished:this.datePublished,encryption:this.encryption,interface:this.interface,method:this.method,parentId:this.parentId,protocol:this.protocol,protocolPath:this.protocolPath,published:this.published,recipient:this.recipient,recordId:this.id,schema:this.schema}}toString(){let e=`Record: {
`;return e+=`  ID: ${this.id}
`,e+=this.contextId?`  Context ID: ${this.contextId}
`:"",e+=this.protocol?`  Protocol: ${this.protocol}
`:"",e+=this.schema?`  Schema: ${this.schema}
`:"",e+=`  Data CID: ${this.dataCid}
`,e+=`  Data Format: ${this.dataFormat}
`,e+=`  Data Size: ${this.dataSize}
`,e+=`  Created: ${this.dateCreated}
`,e+=`  Modified: ${this.dateModified}
`,e+="}",e}async update(e={}){let{dateModified:r,...i}=e;i.messageTimestamp=r;let n={...this._descriptor,...i},o;e.data!==void 0&&(delete n.dataCid,delete n.dataSize,delete n.data,{dataBlob:o}=e8(e.data,n.dataFormat));let s=new Set(["data","dataCid","dataSize","datePublished","messageTimestamp","published"]);t.verifyPermittedMutation(Object.keys(e),s),e.dateModified===void 0&&delete n.messageTimestamp,e.published===!1&&n.datePublished!==void 0&&delete n.datePublished,n.recordId=this._recordId,n.contextId=this._contextId;let f={...n},d=await this._agent.processDwnRequest({author:this._connectedDid,dataStream:o,messageOptions:f,messageType:Ze.Records+We.Write,target:this._connectedDid}),{message:p,reply:{status:u}}=d,y=p;return 200<=u.code&&u.code<=299&&(s.forEach(B=>{this._descriptor[B]=y.descriptor[B]}),e.data!==void 0&&(this._encodedData=o)),{status:u}}async readRecordData({target:e,isRemote:r}){let i={author:this._connectedDid,messageOptions:{filter:{recordId:this.id}},messageType:Ze.Records+We.Read,target:e},n=r?this._agent.sendDwnRequest(i):this._agent.processDwnRequest(i);try{let{reply:{record:o}}=await n,s=o.data;return Ay.isReadableStream(s)?pd.fromWebReadable({readableStream:s}):s}catch(o){throw new Error(`Error encountered while attempting to read data: ${o.message}`)}}static verifyPermittedMutation(e,r){for(let i of e)if(!r.has(i))throw new Error(`${i} is an immutable property. Its value cannot be changed.`)}};b();var hE=class{get definition(){return this._protocolsConfigureMessage.descriptor.definition}constructor(e,r,i){this._agent=e,this._metadata=i,this._protocolsConfigureMessage=r}toJSON(){return this._protocolsConfigureMessage}async send(e){let{reply:r}=await this._agent.sendDwnRequest({author:this._metadata.author,messageCid:this._metadata.messageCid,messageType:"ProtocolsConfigure",target:e});return{status:r.status}}};var t8=class{constructor(e){this.agent=e.agent,this.connectedDid=e.connectedDid}get protocols(){return{configure:async e=>{let r=await this.agent.processDwnRequest({target:this.connectedDid,author:this.connectedDid,messageOptions:e.message,messageType:Ze.Protocols+We.Configure}),{message:i,messageCid:n,reply:{status:o}}=r,s={status:o};if(o.code<300){let f={author:this.connectedDid,messageCid:n};s.protocol=new hE(this.agent,i,f)}return s},query:async e=>{let r={author:this.connectedDid,messageOptions:e.message,messageType:Ze.Protocols+We.Query,target:e.from||this.connectedDid},i;e.from?i=await this.agent.sendDwnRequest(r):i=await this.agent.processDwnRequest(r);let n=i.reply,{entries:o=[],status:s}=n;return{protocols:o.map(d=>{let p={author:this.connectedDid};return new hE(this.agent,d,p)}),status:s}}}}get records(){return{create:async e=>this.records.write(e),createFrom:async e=>{let{author:r,...i}=e.record.toJSON();return e.data!==void 0&&(delete i.dataCid,delete i.dataSize),e.message?.published===!1&&i.datePublished!==void 0&&(delete i.datePublished,delete i.published),(!e9(e.message)||e.author&&e.author!==r)&&delete i.recordId,this.records.write({data:e.data,message:{...i,...e.message}})},delete:async e=>{let r={author:this.connectedDid,messageOptions:e.message,messageType:Ze.Records+We.Delete,target:e.from||this.connectedDid},i;e.from?i=await this.agent.sendDwnRequest(r):i=await this.agent.processDwnRequest(r);let{reply:{status:n}}=i;return{status:n}},query:async e=>{let r={author:this.connectedDid,messageOptions:e.message,messageType:Ze.Records+We.Query,target:e.from||this.connectedDid},i;e.from?i=await this.agent.sendDwnRequest(r):i=await this.agent.processDwnRequest(r);let n=i.reply,{entries:o,status:s,cursor:f}=n;return{records:o.map(p=>{let u={author:qi.getAuthor(p),connectedDid:this.connectedDid,remoteOrigin:e.from,...p};return new KI(this.agent,u)}),status:s,cursor:f}},read:async e=>{let r={author:this.connectedDid,messageOptions:e.message,messageType:Ze.Records+We.Read,target:e.from||this.connectedDid},i;e.from?i=await this.agent.sendDwnRequest(r):i=await this.agent.processDwnRequest(r);let{reply:{record:n,status:o}}=i,s;if(200<=o.code&&o.code<=299){let f={author:qi.getAuthor(n),connectedDid:this.connectedDid,remoteOrigin:e.from,...n};s=new KI(this.agent,f)}return{record:s,status:o}},write:async e=>{let r={...e.message},{dataBlob:i,dataFormat:n}=e8(e.data,r.dataFormat);r.dataFormat=n;let o=await this.agent.processDwnRequest({author:this.connectedDid,dataStream:i,messageOptions:r,messageType:Ze.Records+We.Write,store:e.store,target:this.connectedDid}),{message:s,reply:{status:f}}=o,d=s,p;if(200<=f.code&&f.code<=299){let u={author:this.connectedDid,connectedDid:this.connectedDid,encodedData:i,...d};p=new KI(this.agent,u)}return{record:p,status:f}}}}};b();var r8=class{constructor(e){this.agent=e.agent,this.connectedDid=e.connectedDid}async create(){throw new Error("Not implemented.")}};b();var i2e=Rt(fK(),1);b();b();b();b();b();var Bk=class extends Error{};var pa=class extends Bk{},i8=class extends Bk{};b();b();b();var lE=class{checkAlgorithmName(e){let{algorithmName:r}=e;if(r===void 0)throw new TypeError("Required parameter missing: 'algorithmName'");if(r!==this.name)throw new i8(`Algorithm not supported: '${r}'`)}checkCryptoKey(e){let{key:r}=e;if(!("algorithm"in r&&"extractable"in r&&"type"in r&&"usages"in r))throw new TypeError("Object is not a CryptoKey")}checkKeyAlgorithm(e){let{keyAlgorithmName:r}=e;if(r===void 0)throw new TypeError("Required parameter missing: 'keyAlgorithmName'");if(r&&r!==this.name)throw new pa(`Algorithm '${this.name}' does not match the provided '${r}' key.`)}checkKeyType(e){let{keyType:r,allowedKeyType:i}=e;if(r===void 0||i===void 0)throw new TypeError("One or more required parameters missing: 'keyType, allowedKeyType'");if(r&&r!==i)throw new pa(`Requested operation is not valid for the provided '${r}' key.`)}checkKeyUsages(e){let{keyUsages:r,allowedKeyUsages:i}=e;if(!(r&&r.length>0))throw new TypeError("Required parameter missing or empty: 'keyUsages'");let n=Array.isArray(i)?i:[...i.privateKey,...i.publicKey];if(!r.every(o=>n.includes(o)))throw new pa(`Requested operation(s) '${r.join(", ")}' is not valid for the provided key.`)}static create(){return new this}};b();b();b();b();function gEe(t){return t.byteOffset!==0||t.byteLength!==t.buffer.byteLength}function fu(t){let r=Object.prototype.toString.call(t).match(/\s([a-zA-Z0-9]+)/),[i,n]=r;return n}var Ck=new TextEncoder,n8=new TextDecoder,Xn=class t{constructor(e,r){this.data=e,this.format=r}static arrayBuffer(e){return new t(e,"ArrayBuffer")}static base58Btc(e){return new t(e,"Base58Btc")}static base64Url(e){return new t(e,"Base64Url")}static bufferSource(e){return new t(e,"BufferSource")}static hex(e){if(typeof e!="string")throw new TypeError("Hex input must be a string.");if(e.length%2!==0)throw new TypeError("Hex input must have an even number of characters.");return new t(e,"Hex")}static multibase(e){return new t(e,"Multibase")}static object(e){return new t(e,"Object")}static string(e){return new t(e,"String")}static uint8Array(e){return new t(e,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return $r.baseDecode(this.data).buffer;case"Base64Url":return Xt.baseDecode(this.data).buffer;case"BufferSource":{if(fu(this.data)==="ArrayBuffer")return this.data;if(ArrayBuffer.isView(this.data))return gEe(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":return this.toUint8Array().buffer;case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toBase58Btc(){switch(this.format){case"ArrayBuffer":{let e=new Uint8Array(this.data);return $r.baseEncode(e)}case"Multibase":return this.data.substring(1);case"Uint8Array":return $r.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{let e=new Uint8Array(this.data);return Xt.baseEncode(e)}case"BufferSource":{let e=this.toUint8Array();return Xt.baseEncode(e)}case"Object":{let e=JSON.stringify(this.data),r=Ck.encode(e);return Xt.baseEncode(r)}case"String":{let e=Ck.encode(this.data);return Xt.baseEncode(e)}case"Uint8Array":return Xt.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toHex(){let e=Array.from({length:256},(r,i)=>i.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{let r=this.toUint8Array();return t.uint8Array(r).toHex()}case"Base64Url":{let r=this.toUint8Array();return t.uint8Array(r).toHex()}case"Uint8Array":{let r="";for(let i=0;i<this.data.length;i++)r+=e[this.data[i]];return r}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){switch(this.format){case"Base58Btc":return`z${this.data}`;default:throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}}toObject(){switch(this.format){case"Base64Url":{let e=Xt.baseDecode(this.data),r=n8.decode(e);return JSON.parse(r)}case"String":return JSON.parse(this.data);case"Uint8Array":{let e=n8.decode(this.data);return JSON.parse(e)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toString(){switch(this.format){case"ArrayBuffer":return n8.decode(this.data);case"Base64Url":{let e=Xt.baseDecode(this.data);return n8.decode(e)}case"Object":return JSON.stringify(this.data);case"Uint8Array":return n8.decode(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base58Btc":return $r.baseDecode(this.data);case"Base64Url":return Xt.baseDecode(this.data);case"BufferSource":{let e=fu(this.data);if(e==="Uint8Array")return this.data;if(e==="ArrayBuffer")return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{let e=new Uint8Array(this.data.length/2);for(let r=0;r<this.data.length;r+=2){let i=parseInt(this.data.substring(r,r+2),16);if(isNaN(i))throw new TypeError("Input is not a valid hexadecimal string.");e[r/2]=i}return e}case"Object":{let e=JSON.stringify(this.data);return Ck.encode(e)}case"String":return Ck.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}};b();var Aa=class t{static addPrefix(e){var r;let{code:i,data:n,name:o}=e;if(!(o?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(i=t.codeToName.has(i)?i:t.nameToCode.get(o),i===void 0)throw new Error(`Unsupported multicodec: ${(r=e.name)!==null&&r!==void 0?r:e.code}`);let s=rn.encodingLength(i),f=new Uint8Array(s+n.byteLength);return f.set(n,s),rn.encodeTo(i,f),f}static getCodeFromData(e){let{prefixedData:r}=e,[i,n]=rn.decode(r);return i}static getCodeFromName(e){let{name:r}=e,i=t.nameToCode.get(r);if(i===void 0)throw new Error(`Unsupported multicodec: ${r}`);return i}static getNameFromCode(e){let{code:r}=e,i=t.codeToName.get(r);if(i===void 0)throw new Error(`Unsupported multicodec: ${r}`);return i}static registerCodec(e){t.codeToName.set(e.code,e.name),t.nameToCode.set(e.name,e.code)}static removePrefix(e){let{prefixedData:r}=e,[i,n]=rn.decode(r),o=t.codeToName.get(i);if(o===void 0)throw new Error(`Unsupported multicodec: ${i}`);return{code:i,data:r.slice(n),name:o}}};Aa.codeToName=new Map;Aa.nameToCode=new Map;Aa.registerCodec({code:237,name:"ed25519-pub"});Aa.registerCodec({code:4864,name:"ed25519-priv"});Aa.registerCodec({code:236,name:"x25519-pub"});Aa.registerCodec({code:4866,name:"x25519-priv"});Aa.registerCodec({code:231,name:"secp256k1-pub"});Aa.registerCodec({code:4865,name:"secp256k1-priv"});b();function mz(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&mz(t[e])})}b();var kct=Rt(pl(),1);b();b();var qI=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var yEe=t=>t instanceof Uint8Array;var xk=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),du=(t,e)=>t<<32-e|t>>>e,Tct=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Tct)throw new Error("Non little-endian hardware is not supported");var mnr=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Iz(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function o8(t){if(typeof t=="string"&&(t=Iz(t)),!yEe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function s8(...t){let e=new Uint8Array(t.reduce((i,n)=>i+n.length,0)),r=0;return t.forEach(i=>{if(!yEe(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}var pE=class{clone(){return this._cloneInto()}};function _g(t){let e=i=>t().update(o8(i)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function LI(t=32){if(qI&&typeof qI.getRandomValues=="function")return qI.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function HI(t){if(!t||t.property===void 0||t.inObject===void 0)throw new TypeError("One or more required parameters missing: 'property, properties'");let{property:e,inObject:r}=t;if(!(e in r))throw new TypeError(`Required parameter missing: '${e}'`)}function Sk(t){if(!t||t.property===void 0||t.allowedProperties===void 0)throw new TypeError("One or more required parameters missing: 'property, allowedProperties'");let{property:e,allowedProperties:r}=t;if(Array.isArray(r)&&!r.includes(e)||r instanceof Set&&!r.has(e)||r instanceof Map&&!r.has(e)){let i=Array.from(r instanceof Map?r.keys():r).join(", ");throw new TypeError(`Out of range: '${e}'. Must be one of '${i}'`)}}function _k(t){return!!(t&&"privateKey"in t&&"publicKey"in t&&fu(t.privateKey)==="Uint8Array"&&fu(t.publicKey)==="Uint8Array")}function mEe(t){let{key:e,multicodecCode:r,multicodecName:i}=t,n=Aa.addPrefix({code:r,data:e,name:i}),o=Xn.uint8Array(n).toBase58Btc();return Xn.base58Btc(o).toMultibase()}var IEe=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},AE=class extends lE{checkGenerateKey(e){let{algorithm:r,keyUsages:i}=e;this.checkAlgorithmName({algorithmName:r.name}),HI({property:"namedCurve",inObject:r}),Sk({property:r.namedCurve,allowedProperties:this.namedCurves}),this.checkKeyUsages({keyUsages:i,allowedKeyUsages:this.keyUsages})}decrypt(){return IEe(this,void 0,void 0,function*(){throw new pa(`Requested operation 'decrypt' is not valid for ${this.name} keys.`)})}encrypt(){return IEe(this,void 0,void 0,function*(){throw new pa(`Requested operation 'encrypt' is not valid for ${this.name} keys.`)})}};b();b();b();var Uct=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Qk=class extends AE{constructor(){super(...arguments),this.name="EdDSA",this.keyUsages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmOptions(e){let{algorithm:r}=e;this.checkAlgorithmName({algorithmName:r.name})}deriveBits(){return Uct(this,void 0,void 0,function*(){throw new pa(`Requested operation 'deriveBits' is not valid for ${this.name} keys.`)})}};b();b();b();b();var Gf=class{constructor(e,r,i,n,o){this.algorithm=e,this.extractable=r,this.material=i,this.type=n,this.usages=o,Object.defineProperties(this,{type:{enumerable:!0,writable:!1,value:n},extractable:{enumerable:!0,writable:!0,value:r},algorithm:{enumerable:!0,writable:!1,value:e},usages:{enumerable:!0,writable:!0,value:o},material:{enumerable:!1,writable:!1,value:i}})}};b();b();b();b();b();b();b();b();b();b();b();function wz(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Fct(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function wEe(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Nct(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");wz(t.outputLen),wz(t.blockLen)}function Pct(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Oct(t,e){wEe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var Kct={number:wz,bool:Fct,bytes:wEe,hash:Nct,exists:Pct,output:Oct},ip=Kct;function qct(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);let n=BigInt(32),o=BigInt(4294967295),s=Number(r>>n&o),f=Number(r&o),d=i?4:0,p=i?0:4;t.setUint32(e+d,s,i),t.setUint32(e+p,f,i)}var gE=class extends pE{constructor(e,r,i,n){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=xk(this.buffer)}update(e){ip.exists(this);let{view:r,buffer:i,blockLen:n}=this;e=o8(e);let o=e.length;for(let s=0;s<o;){let f=Math.min(n-this.pos,o-s);if(f===n){let d=xk(e);for(;n<=o-s;s+=n)this.process(d,s);continue}i.set(e.subarray(s,s+f),this.pos),this.pos+=f,s+=f,this.pos===n&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ip.exists(this),ip.output(e,this),this.finished=!0;let{buffer:r,view:i,blockLen:n,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(i,0),s=0);for(let y=s;y<n;y++)r[y]=0;qct(i,n-8,BigInt(this.length*8),o),this.process(i,0);let f=xk(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let p=d/4,u=this.get();if(p>u.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<p;y++)f.setUint32(4*y,u[y],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:i,length:n,finished:o,destroyed:s,pos:f}=this;return e.length=n,e.pos=f,e.finished=o,e.destroyed=s,n%r&&e.buffer.set(i),e}};b();var Mk=BigInt(4294967295),vz=BigInt(32);function vEe(t,e=!1){return e?{h:Number(t&Mk),l:Number(t>>vz&Mk)}:{h:Number(t>>vz&Mk)|0,l:Number(t&Mk)|0}}function Lct(t,e=!1){let r=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let n=0;n<t.length;n++){let{h:o,l:s}=vEe(t[n],e);[r[n],i[n]]=[o,s]}return[r,i]}var Hct=(t,e)=>BigInt(t>>>0)<<vz|BigInt(e>>>0),Gct=(t,e,r)=>t>>>r,jct=(t,e,r)=>t<<32-r|e>>>r,zct=(t,e,r)=>t>>>r|e<<32-r,Yct=(t,e,r)=>t<<32-r|e>>>r,Jct=(t,e,r)=>t<<64-r|e>>>r-32,Vct=(t,e,r)=>t>>>r-32|e<<64-r,Wct=(t,e)=>e,Zct=(t,e)=>t,$ct=(t,e,r)=>t<<r|e>>>32-r,Xct=(t,e,r)=>e<<r|t>>>32-r,eft=(t,e,r)=>e<<r-32|t>>>64-r,tft=(t,e,r)=>t<<r-32|e>>>64-r;function rft(t,e,r,i){let n=(e>>>0)+(i>>>0);return{h:t+r+(n/2**32|0)|0,l:n|0}}var ift=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),nft=(t,e,r,i)=>e+r+i+(t/2**32|0)|0,oft=(t,e,r,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0),sft=(t,e,r,i,n)=>e+r+i+n+(t/2**32|0)|0,aft=(t,e,r,i,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0)+(n>>>0),cft=(t,e,r,i,n,o)=>e+r+i+n+o+(t/2**32|0)|0,fft={fromBig:vEe,split:Lct,toBig:Hct,shrSH:Gct,shrSL:jct,rotrSH:zct,rotrSL:Yct,rotrBH:Jct,rotrBL:Vct,rotr32H:Wct,rotr32L:Zct,rotlSH:$ct,rotlSL:Xct,rotlBH:eft,rotlBL:tft,add:rft,add3L:ift,add3H:nft,add4L:oft,add4H:sft,add5H:cft,add5L:aft},yr=fft;var[dft,uft]=yr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Qg=new Uint32Array(80),Dg=new Uint32Array(80),yE=class extends gE{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:i,Bl:n,Ch:o,Cl:s,Dh:f,Dl:d,Eh:p,El:u,Fh:y,Fl:B,Gh:S,Gl:C,Hh:x,Hl:_}=this;return[e,r,i,n,o,s,f,d,p,u,y,B,S,C,x,_]}set(e,r,i,n,o,s,f,d,p,u,y,B,S,C,x,_){this.Ah=e|0,this.Al=r|0,this.Bh=i|0,this.Bl=n|0,this.Ch=o|0,this.Cl=s|0,this.Dh=f|0,this.Dl=d|0,this.Eh=p|0,this.El=u|0,this.Fh=y|0,this.Fl=B|0,this.Gh=S|0,this.Gl=C|0,this.Hh=x|0,this.Hl=_|0}process(e,r){for(let k=0;k<16;k++,r+=4)Qg[k]=e.getUint32(r),Dg[k]=e.getUint32(r+=4);for(let k=16;k<80;k++){let K=Qg[k-15]|0,T=Dg[k-15]|0,L=yr.rotrSH(K,T,1)^yr.rotrSH(K,T,8)^yr.shrSH(K,T,7),H=yr.rotrSL(K,T,1)^yr.rotrSL(K,T,8)^yr.shrSL(K,T,7),O=Qg[k-2]|0,G=Dg[k-2]|0,v=yr.rotrSH(O,G,19)^yr.rotrBH(O,G,61)^yr.shrSH(O,G,6),a=yr.rotrSL(O,G,19)^yr.rotrBL(O,G,61)^yr.shrSL(O,G,6),h=yr.add4L(H,a,Dg[k-7],Dg[k-16]),g=yr.add4H(h,L,v,Qg[k-7],Qg[k-16]);Qg[k]=g|0,Dg[k]=h|0}let{Ah:i,Al:n,Bh:o,Bl:s,Ch:f,Cl:d,Dh:p,Dl:u,Eh:y,El:B,Fh:S,Fl:C,Gh:x,Gl:_,Hh:Q,Hl:R}=this;for(let k=0;k<80;k++){let K=yr.rotrSH(y,B,14)^yr.rotrSH(y,B,18)^yr.rotrBH(y,B,41),T=yr.rotrSL(y,B,14)^yr.rotrSL(y,B,18)^yr.rotrBL(y,B,41),L=y&S^~y&x,H=B&C^~B&_,O=yr.add5L(R,T,H,uft[k],Dg[k]),G=yr.add5H(O,Q,K,L,dft[k],Qg[k]),v=O|0,a=yr.rotrSH(i,n,28)^yr.rotrBH(i,n,34)^yr.rotrBH(i,n,39),h=yr.rotrSL(i,n,28)^yr.rotrBL(i,n,34)^yr.rotrBL(i,n,39),g=i&o^i&f^o&f,l=n&s^n&d^s&d;Q=x|0,R=_|0,x=S|0,_=C|0,S=y|0,C=B|0,{h:y,l:B}=yr.add(p|0,u|0,G|0,v|0),p=f|0,u=d|0,f=o|0,d=s|0,o=i|0,s=n|0;let A=yr.add3L(v,h,l);i=yr.add3H(A,G,a,g),n=A|0}({h:i,l:n}=yr.add(this.Ah|0,this.Al|0,i|0,n|0)),{h:o,l:s}=yr.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:f,l:d}=yr.add(this.Ch|0,this.Cl|0,f|0,d|0),{h:p,l:u}=yr.add(this.Dh|0,this.Dl|0,p|0,u|0),{h:y,l:B}=yr.add(this.Eh|0,this.El|0,y|0,B|0),{h:S,l:C}=yr.add(this.Fh|0,this.Fl|0,S|0,C|0),{h:x,l:_}=yr.add(this.Gh|0,this.Gl|0,x|0,_|0),{h:Q,l:R}=yr.add(this.Hh|0,this.Hl|0,Q|0,R|0),this.set(i,n,o,s,f,d,p,u,y,B,S,C,x,_,Q,R)}roundClean(){Qg.fill(0),Dg.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},bz=class extends yE{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},Ez=class extends yE{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},Bz=class extends yE{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},Cz=_g(()=>new yE),Vor=_g(()=>new bz),Wor=_g(()=>new Ez),Zor=_g(()=>new Bz);b();b();var Rk={};Tt(Rk,{bitGet:()=>gft,bitLen:()=>Aft,bitMask:()=>a8,bitSet:()=>yft,bytesToHex:()=>Vh,bytesToNumberBE:()=>uu,bytesToNumberLE:()=>jf,concatBytes:()=>hu,createHmacDrbg:()=>_z,ensureBytes:()=>Si,equalBytes:()=>CEe,hexToBytes:()=>GI,hexToNumber:()=>Sz,numberToBytesBE:()=>zf,numberToBytesLE:()=>np,numberToHexUnpadded:()=>BEe,numberToVarBytesBE:()=>pft,utf8ToBytes:()=>xEe,validateObject:()=>Kc});b();var EEe=BigInt(0),kk=BigInt(1),hft=BigInt(2),Tk=t=>t instanceof Uint8Array,lft=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Vh(t){if(!Tk(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=lft[t[r]];return e}function BEe(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function Sz(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function GI(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let i=0;i<r.length;i++){let n=i*2,o=t.slice(n,n+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[i]=s}return r}function uu(t){return Sz(Vh(t))}function jf(t){if(!Tk(t))throw new Error("Uint8Array expected");return Sz(Vh(Uint8Array.from(t).reverse()))}function zf(t,e){return GI(t.toString(16).padStart(e*2,"0"))}function np(t,e){return zf(t,e).reverse()}function pft(t){return GI(BEe(t))}function Si(t,e,r){let i;if(typeof e=="string")try{i=GI(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(Tk(e))i=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let n=i.length;if(typeof r=="number"&&n!==r)throw new Error(`${t} expected ${r} bytes, got ${n}`);return i}function hu(...t){let e=new Uint8Array(t.reduce((i,n)=>i+n.length,0)),r=0;return t.forEach(i=>{if(!Tk(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}function CEe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function xEe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Aft(t){let e;for(e=0;t>EEe;t>>=kk,e+=1);return e}function gft(t,e){return t>>BigInt(e)&kk}var yft=(t,e,r)=>t|(r?kk:EEe)<<BigInt(e),a8=t=>(hft<<BigInt(t-1))-kk,xz=t=>new Uint8Array(t),bEe=t=>Uint8Array.from(t);function _z(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let i=xz(t),n=xz(t),o=0,s=()=>{i.fill(1),n.fill(0),o=0},f=(...y)=>r(n,i,...y),d=(y=xz())=>{n=f(bEe([0]),y),i=f(),y.length!==0&&(n=f(bEe([1]),y),i=f())},p=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let y=0,B=[];for(;y<e;){i=f();let S=i.slice();B.push(S),y+=i.length}return hu(...B)};return(y,B)=>{s(),d(y);let S;for(;!(S=B(p()));)d();return s(),S}}var mft={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Kc(t,e,r={}){let i=(n,o,s)=>{let f=mft[o];if(typeof f!="function")throw new Error(`Invalid validator "${o}", expected function`);let d=t[n];if(!(s&&d===void 0)&&!f(d,t))throw new Error(`Invalid param ${String(n)}=${d} (${typeof d}), expected ${o}`)};for(let[n,o]of Object.entries(e))i(n,o,!1);for(let[n,o]of Object.entries(r))i(n,o,!0);return t}var go=BigInt(0),ln=BigInt(1),jI=BigInt(2),Ift=BigInt(3),Qz=BigInt(4),SEe=BigInt(5),_Ee=BigInt(8),wft=BigInt(9),vft=BigInt(16);function ri(t,e){let r=t%e;return r>=go?r:e+r}function Dz(t,e,r){if(r<=go||e<go)throw new Error("Expected power/modulo > 0");if(r===ln)return go;let i=ln;for(;e>go;)e&ln&&(i=i*t%r),t=t*t%r,e>>=ln;return i}function Wi(t,e,r){let i=t;for(;e-- >go;)i*=i,i%=r;return i}function Uk(t,e){if(t===go||e<=go)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ri(t,e),i=e,n=go,o=ln,s=ln,f=go;for(;r!==go;){let p=i/r,u=i%r,y=n-s*p,B=o-f*p;i=r,r=u,n=s,o=f,s=y,f=B}if(i!==ln)throw new Error("invert: does not exist");return ri(n,e)}function bft(t){let e=(t-ln)/jI,r,i,n;for(r=t-ln,i=0;r%jI===go;r/=jI,i++);for(n=jI;n<t&&Dz(n,e,t)!==t-ln;n++);if(i===1){let s=(t+ln)/Qz;return function(d,p){let u=d.pow(p,s);if(!d.eql(d.sqr(u),p))throw new Error("Cannot find square root");return u}}let o=(r+ln)/jI;return function(f,d){if(f.pow(d,e)===f.neg(f.ONE))throw new Error("Cannot find square root");let p=i,u=f.pow(f.mul(f.ONE,n),r),y=f.pow(d,o),B=f.pow(d,r);for(;!f.eql(B,f.ONE);){if(f.eql(B,f.ZERO))return f.ZERO;let S=1;for(let x=f.sqr(B);S<p&&!f.eql(x,f.ONE);S++)x=f.sqr(x);let C=f.pow(u,ln<<BigInt(p-S-1));u=f.sqr(C),y=f.mul(y,C),B=f.mul(B,u),p=S}return y}}function Eft(t){if(t%Qz===Ift){let e=(t+ln)/Qz;return function(i,n){let o=i.pow(n,e);if(!i.eql(i.sqr(o),n))throw new Error("Cannot find square root");return o}}if(t%_Ee===SEe){let e=(t-SEe)/_Ee;return function(i,n){let o=i.mul(n,jI),s=i.pow(o,e),f=i.mul(n,s),d=i.mul(i.mul(f,jI),s),p=i.mul(f,i.sub(d,i.ONE));if(!i.eql(i.sqr(p),n))throw new Error("Cannot find square root");return p}}return t%vft,bft(t)}var QEe=(t,e)=>(ri(t,e)&ln)===ln,Bft=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Mz(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Bft.reduce((i,n)=>(i[n]="function",i),e);return Kc(t,r)}function Cft(t,e,r){if(r<go)throw new Error("Expected power > 0");if(r===go)return t.ONE;if(r===ln)return e;let i=t.ONE,n=e;for(;r>go;)r&ln&&(i=t.mul(i,n)),n=t.sqr(n),r>>=ln;return i}function xft(t,e){let r=new Array(e.length),i=e.reduce((o,s,f)=>t.is0(s)?o:(r[f]=o,t.mul(o,s)),t.ONE),n=t.inv(i);return e.reduceRight((o,s,f)=>t.is0(s)?o:(r[f]=t.mul(o,r[f]),t.mul(o,s)),n),r}function Fk(t,e){let r=e!==void 0?e:t.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function Nk(t,e,r=!1,i={}){if(t<=go)throw new Error(`Expected Fp ORDER > 0, got ${t}`);let{nBitLength:n,nByteLength:o}=Fk(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=Eft(t),f=Object.freeze({ORDER:t,BITS:n,BYTES:o,MASK:a8(n),ZERO:go,ONE:ln,create:d=>ri(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return go<=d&&d<t},is0:d=>d===go,isOdd:d=>(d&ln)===ln,neg:d=>ri(-d,t),eql:(d,p)=>d===p,sqr:d=>ri(d*d,t),add:(d,p)=>ri(d+p,t),sub:(d,p)=>ri(d-p,t),mul:(d,p)=>ri(d*p,t),pow:(d,p)=>Cft(f,d,p),div:(d,p)=>ri(d*Uk(p,t),t),sqrN:d=>d*d,addN:(d,p)=>d+p,subN:(d,p)=>d-p,mulN:(d,p)=>d*p,inv:d=>Uk(d,t),sqrt:i.sqrt||(d=>s(f,d)),invertBatch:d=>xft(f,d),cmov:(d,p,u)=>u?p:d,toBytes:d=>r?np(d,o):zf(d,o),fromBytes:d=>{if(d.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${d.length}`);return r?jf(d):uu(d)}});return Object.freeze(f)}function DEe(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}function MEe(t,e,r=!1){t=Si("privateHash",t);let i=t.length,n=Fk(e).nByteLength+8;if(n<24||i<n||i>1024)throw new Error(`hashToPrivateScalar: expected ${n}-1024 bytes of input, got ${i}`);let o=r?jf(t):uu(t);return ri(o,e-ln)+ln}b();var _ft=BigInt(0),kz=BigInt(1);function Pk(t,e){let r=(n,o)=>{let s=o.negate();return n?s:o},i=n=>{let o=Math.ceil(e/n)+1,s=2**(n-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(n,o){let s=t.ZERO,f=n;for(;o>_ft;)o&kz&&(s=s.add(f)),f=f.double(),o>>=kz;return s},precomputeWindow(n,o){let{windows:s,windowSize:f}=i(o),d=[],p=n,u=p;for(let y=0;y<s;y++){u=p,d.push(u);for(let B=1;B<f;B++)u=u.add(p),d.push(u);p=u.double()}return d},wNAF(n,o,s){let{windows:f,windowSize:d}=i(n),p=t.ZERO,u=t.BASE,y=BigInt(2**n-1),B=2**n,S=BigInt(n);for(let C=0;C<f;C++){let x=C*d,_=Number(s&y);s>>=S,_>d&&(_-=B,s+=kz);let Q=x,R=x+Math.abs(_)-1,k=C%2!==0,K=_<0;_===0?u=u.add(r(k,o[Q])):p=p.add(r(K,o[R]))}return{p,f:u}},wNAFCached(n,o,s,f){let d=n._WINDOW_SIZE||1,p=o.get(n);return p||(p=this.precomputeWindow(n,d),d!==1&&o.set(n,f(p))),this.wNAF(d,p,s)}}}function c8(t){return Mz(t.Fp),Kc(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Fk(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}var lu=BigInt(0),qc=BigInt(1),Ok=BigInt(2),Qft=BigInt(8),Dft={zip215:!0};function Mft(t){let e=c8(t);return Kc(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Kk(t){let e=Mft(t),{Fp:r,n:i,prehash:n,hash:o,randomBytes:s,nByteLength:f,h:d}=e,p=Ok<<BigInt(f*8)-qc,u=r.create,y=e.uvRatio||((m,c)=>{try{return{isValid:!0,value:r.sqrt(m*r.inv(c))}}catch{return{isValid:!1,value:lu}}}),B=e.adjustScalarBytes||(m=>m),S=e.domain||((m,c,I)=>{if(c.length||I)throw new Error("Contexts/pre-hash are not supported");return m}),C=m=>typeof m=="bigint"&&lu<m,x=(m,c)=>C(m)&&C(c)&&m<c,_=m=>m===lu||x(m,p);function Q(m,c){if(x(m,c))return m;throw new Error(`Expected valid scalar < ${c}, got ${typeof m} ${m}`)}function R(m){return m===lu?m:Q(m,i)}let k=new Map;function K(m){if(!(m instanceof T))throw new Error("ExtendedPoint expected")}class T{constructor(c,I,M,D){if(this.ex=c,this.ey=I,this.ez=M,this.et=D,!_(c))throw new Error("x required");if(!_(I))throw new Error("y required");if(!_(M))throw new Error("z required");if(!_(D))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(c){if(c instanceof T)throw new Error("extended point not allowed");let{x:I,y:M}=c||{};if(!_(I)||!_(M))throw new Error("invalid affine point");return new T(I,M,qc,u(I*M))}static normalizeZ(c){let I=r.invertBatch(c.map(M=>M.ez));return c.map((M,D)=>M.toAffine(I[D])).map(T.fromAffine)}_setWindowSize(c){this._WINDOW_SIZE=c,k.delete(this)}assertValidity(){let{a:c,d:I}=e;if(this.is0())throw new Error("bad point: ZERO");let{ex:M,ey:D,ez:P,et:j}=this,Y=u(M*M),z=u(D*D),$=u(P*P),W=u($*$),ee=u(Y*c),pe=u($*u(ee+z)),ne=u(W+u(I*u(Y*z)));if(pe!==ne)throw new Error("bad point: equation left != right (1)");let se=u(M*D),Le=u(P*j);if(se!==Le)throw new Error("bad point: equation left != right (2)")}equals(c){K(c);let{ex:I,ey:M,ez:D}=this,{ex:P,ey:j,ez:Y}=c,z=u(I*Y),$=u(P*D),W=u(M*Y),ee=u(j*D);return z===$&&W===ee}is0(){return this.equals(T.ZERO)}negate(){return new T(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:c}=e,{ex:I,ey:M,ez:D}=this,P=u(I*I),j=u(M*M),Y=u(Ok*u(D*D)),z=u(c*P),$=I+M,W=u(u($*$)-P-j),ee=z+j,pe=ee-Y,ne=z-j,se=u(W*pe),Le=u(ee*ne),ce=u(W*ne),fe=u(pe*ee);return new T(se,Le,fe,ce)}add(c){K(c);let{a:I,d:M}=e,{ex:D,ey:P,ez:j,et:Y}=this,{ex:z,ey:$,ez:W,et:ee}=c;if(I===BigInt(-1)){let Nr=u((P-D)*($+z)),Be=u((P+D)*($-z)),we=u(Be-Nr);if(we===lu)return this.double();let qr=u(j*Ok*ee),Ce=u(Y*Ok*W),me=Ce+qr,Ir=Be+Nr,be=Ce-qr,Se=u(me*we),sr=u(Ir*be),xe=u(me*be),_e=u(we*Ir);return new T(Se,sr,_e,xe)}let pe=u(D*z),ne=u(P*$),se=u(Y*M*ee),Le=u(j*W),ce=u((D+P)*(z+$)-pe-ne),fe=Le-se,bt=Le+se,ge=u(ne-I*pe),Ie=u(ce*fe),mr=u(bt*ge),ve=u(ce*ge),ye=u(fe*bt);return new T(Ie,mr,ye,ve)}subtract(c){return this.add(c.negate())}wNAF(c){return O.wNAFCached(this,k,c,T.normalizeZ)}multiply(c){let{p:I,f:M}=this.wNAF(Q(c,i));return T.normalizeZ([I,M])[0]}multiplyUnsafe(c){let I=R(c);return I===lu?H:this.equals(H)||I===qc?this:this.equals(L)?this.wNAF(I).p:O.unsafeLadder(this,I)}isSmallOrder(){return this.multiplyUnsafe(d).is0()}isTorsionFree(){return O.unsafeLadder(this,i).is0()}toAffine(c){let{ex:I,ey:M,ez:D}=this,P=this.is0();c==null&&(c=P?Qft:r.inv(D));let j=u(I*c),Y=u(M*c),z=u(D*c);if(P)return{x:lu,y:qc};if(z!==qc)throw new Error("invZ was invalid");return{x:j,y:Y}}clearCofactor(){let{h:c}=e;return c===qc?this:this.multiplyUnsafe(c)}static fromHex(c,I=!1){let{d:M,a:D}=e,P=r.BYTES;c=Si("pointHex",c,P);let j=c.slice(),Y=c[P-1];j[P-1]=Y&-129;let z=jf(j);z===lu||(I?Q(z,p):Q(z,r.ORDER));let $=u(z*z),W=u($-qc),ee=u(M*$-D),{isValid:pe,value:ne}=y(W,ee);if(!pe)throw new Error("Point.fromHex: invalid y coordinate");let se=(ne&qc)===qc,Le=(Y&128)!==0;if(!I&&ne===lu&&Le)throw new Error("Point.fromHex: x=0 and x_0=1");return Le!==se&&(ne=u(-ne)),T.fromAffine({x:ne,y:z})}static fromPrivateKey(c){return a(c).point}toRawBytes(){let{x:c,y:I}=this.toAffine(),M=np(I,r.BYTES);return M[M.length-1]|=c&qc?128:0,M}toHex(){return Vh(this.toRawBytes())}}T.BASE=new T(e.Gx,e.Gy,qc,u(e.Gx*e.Gy)),T.ZERO=new T(lu,qc,qc,lu);let{BASE:L,ZERO:H}=T,O=Pk(T,f*8);function G(m){return ri(m,i)}function v(m){return G(jf(m))}function a(m){let c=f;m=Si("private key",m,c);let I=Si("hashed private key",o(m),2*c),M=B(I.slice(0,c)),D=I.slice(c,2*c),P=v(M),j=L.multiply(P),Y=j.toRawBytes();return{head:M,prefix:D,scalar:P,point:j,pointBytes:Y}}function h(m){return a(m).pointBytes}function g(m=new Uint8Array,...c){let I=hu(...c);return v(o(S(I,Si("context",m),!!n)))}function l(m,c,I={}){m=Si("message",m),n&&(m=n(m));let{prefix:M,scalar:D,pointBytes:P}=a(c),j=g(I.context,M,m),Y=L.multiply(j).toRawBytes(),z=g(I.context,Y,P,m),$=G(j+z*D);R($);let W=hu(Y,np($,r.BYTES));return Si("result",W,f*2)}let A=Dft;function w(m,c,I,M=A){let{context:D,zip215:P}=M,j=r.BYTES;m=Si("signature",m,2*j),c=Si("message",c),n&&(c=n(c));let Y=jf(m.slice(j,2*j)),z,$,W;try{z=T.fromHex(I,P),$=T.fromHex(m.slice(0,j),P),W=L.multiplyUnsafe(Y)}catch{return!1}if(!P&&z.isSmallOrder())return!1;let ee=g(D,$.toRawBytes(),z.toRawBytes(),c);return $.add(z.multiplyUnsafe(ee)).subtract(W).clearCofactor().equals(T.ZERO)}return L._setWindowSize(8),{CURVE:e,getPublicKey:h,sign:l,verify:w,ExtendedPoint:T,utils:{getExtendedPublicKey:a,randomPrivateKey:()=>s(r.BYTES),precompute(m=8,c=T.BASE){return c._setWindowSize(m),c.multiply(BigInt(3)),c}}}}b();var f8=BigInt(0),Tz=BigInt(1);function kft(t){return Kc(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function kEe(t){let e=kft(t),{P:r}=e,i=k=>ri(k,r),n=e.montgomeryBits,o=Math.ceil(n/8),s=e.nByteLength,f=e.adjustScalarBytes||(k=>k),d=e.powPminus2||(k=>Dz(k,r-BigInt(2),r));function p(k,K,T){let L=i(k*(K-T));return K=i(K-L),T=i(T+L),[K,T]}function u(k){if(typeof k=="bigint"&&f8<=k&&k<r)return k;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}let y=(e.a-BigInt(2))/BigInt(4);function B(k,K){let T=u(k),L=u(K),H=T,O=Tz,G=f8,v=T,a=Tz,h=f8,g;for(let A=BigInt(n-1);A>=f8;A--){let w=L>>A&Tz;h^=w,g=p(h,O,v),O=g[0],v=g[1],g=p(h,G,a),G=g[0],a=g[1],h=w;let E=O+G,m=i(E*E),c=O-G,I=i(c*c),M=m-I,D=v+a,P=v-a,j=i(P*E),Y=i(D*c),z=j+Y,$=j-Y;v=i(z*z),a=i(H*i($*$)),O=i(m*I),G=i(M*(m+i(y*M)))}g=p(h,O,v),O=g[0],v=g[1],g=p(h,G,a),G=g[0],a=g[1];let l=d(G);return i(O*l)}function S(k){return np(i(k),o)}function C(k){let K=Si("u coordinate",k,o);return s===o&&(K[s-1]&=127),jf(K)}function x(k){let K=Si("scalar",k);if(K.length!==o&&K.length!==s)throw new Error(`Expected ${o} or ${s} bytes, got ${K.length}`);return jf(f(K))}function _(k,K){let T=C(K),L=x(k),H=B(T,L);if(H===f8)throw new Error("Invalid private or public key received");return S(H)}let Q=S(e.Gu);function R(k){return _(k,Q)}return{scalarMult:_,scalarMultBase:R,getSharedSecret:(k,K)=>_(k,K),getPublicKey:k=>R(k),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:Q}}b();var d8=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),TEe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),_sr=BigInt(0),Rft=BigInt(1),Rz=BigInt(2),Uft=BigInt(5),REe=BigInt(10),Fft=BigInt(20),Nft=BigInt(40),UEe=BigInt(80);function FEe(t){let e=d8,i=t*t%e*t%e,n=Wi(i,Rz,e)*i%e,o=Wi(n,Rft,e)*t%e,s=Wi(o,Uft,e)*o%e,f=Wi(s,REe,e)*s%e,d=Wi(f,Fft,e)*f%e,p=Wi(d,Nft,e)*d%e,u=Wi(p,UEe,e)*p%e,y=Wi(u,UEe,e)*p%e,B=Wi(y,REe,e)*s%e;return{pow_p_5_8:Wi(B,Rz,e)*t%e,b2:i}}function NEe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Pft(t,e){let r=d8,i=ri(e*e*e,r),n=ri(i*i*e,r),o=FEe(t*n).pow_p_5_8,s=ri(t*i*o,r),f=ri(e*s*s,r),d=s,p=ri(s*TEe,r),u=f===t,y=f===ri(-t,r),B=f===ri(-t*TEe,r);return u&&(s=d),(y||B)&&(s=p),QEe(s,r)&&(s=ri(-s,r)),{isValid:u||y,value:s}}var Yf=Nk(d8,void 0,!0),u8={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Yf,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Cz,randomBytes:LI,adjustScalarBytes:NEe,uvRatio:Pft},Mg=Kk(u8);function PEe(t,e,r){if(e.length>255)throw new Error("Context is too big");return s8(Iz("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}var Qsr=Kk({...u8,domain:PEe}),Dsr=Kk({...u8,domain:PEe,prehash:Cz}),h8=kEe({P:d8,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{let e=d8,{pow_p_5_8:r,b2:i}=FEe(t);return ri(Wi(r,BigInt(3),e)*i,e)},adjustScalarBytes:NEe,randomBytes:LI});function OEe(t){let{y:e}=Mg.ExtendedPoint.fromHex(t),r=BigInt(1);return Yf.toBytes(Yf.create((r+e)*Yf.inv(r-e)))}function KEe(t){let e=u8.hash(t.subarray(0,32));return u8.adjustScalarBytes(e).subarray(0,32)}var Oft=(Yf.ORDER+BigInt(3))/BigInt(8),Msr=Yf.pow(Rz,Oft),ksr=Yf.sqrt(Yf.neg(Yf.ONE)),Tsr=(Yf.ORDER-BigInt(5))/BigInt(8),Rsr=BigInt(486662);var Usr=DEe(Yf,Yf.neg(BigInt(486664)));var Fsr=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Nsr=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Psr=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Osr=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");var Ksr=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var qk=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},l8=class{static generateKeyPair(){return qk(this,void 0,void 0,function*(){let e=h8.utils.randomPrivateKey(),r=h8.getPublicKey(e);return{privateKey:e,publicKey:r}})}static getPublicKey(e){return qk(this,void 0,void 0,function*(){let{privateKey:r}=e;return h8.getPublicKey(r)})}static sharedSecret(e){return qk(this,void 0,void 0,function*(){let{privateKey:r,publicKey:i}=e;return h8.getSharedSecret(r,i)})}static validatePublicKey(e){return qk(this,void 0,void 0,function*(){throw new Error("Not implemented: 'validatePublicKey()'")})}};b();b();b();var zI=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},kg=class t{static convertPrivateKeyToX25519(e){return zI(this,void 0,void 0,function*(){let{privateKey:r}=e;return KEe(r)})}static convertPublicKeyToX25519(e){return zI(this,void 0,void 0,function*(){let{publicKey:r}=e;if(!(yield t.validatePublicKey({key:r})))throw new Error("Ed25519: Invalid public key.");return OEe(r)})}static generateKeyPair(){return zI(this,void 0,void 0,function*(){let e=Mg.utils.randomPrivateKey(),r=Mg.getPublicKey(e);return{privateKey:e,publicKey:r}})}static getPublicKey(e){return zI(this,void 0,void 0,function*(){let{privateKey:r}=e;return Mg.getPublicKey(r)})}static sign(e){return zI(this,void 0,void 0,function*(){let{key:r,data:i}=e;return Mg.sign(i,r)})}static validatePublicKey(e){return zI(this,void 0,void 0,function*(){let{key:r}=e;try{Mg.ExtendedPoint.fromHex(r).assertValidity()}catch{return!1}return!0})}static verify(e){return zI(this,void 0,void 0,function*(){let{key:r,signature:i,data:n}=e;return Mg.verify(i,n,r)})}};b();b();var Kft=(t,e,r)=>t&e^~t&r,qft=(t,e,r)=>t&e^t&r^e&r,Lft=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Tg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Rg=new Uint32Array(64),Lk=class extends gE{constructor(){super(64,32,8,!1),this.A=Tg[0]|0,this.B=Tg[1]|0,this.C=Tg[2]|0,this.D=Tg[3]|0,this.E=Tg[4]|0,this.F=Tg[5]|0,this.G=Tg[6]|0,this.H=Tg[7]|0}get(){let{A:e,B:r,C:i,D:n,E:o,F:s,G:f,H:d}=this;return[e,r,i,n,o,s,f,d]}set(e,r,i,n,o,s,f,d){this.A=e|0,this.B=r|0,this.C=i|0,this.D=n|0,this.E=o|0,this.F=s|0,this.G=f|0,this.H=d|0}process(e,r){for(let y=0;y<16;y++,r+=4)Rg[y]=e.getUint32(r,!1);for(let y=16;y<64;y++){let B=Rg[y-15],S=Rg[y-2],C=du(B,7)^du(B,18)^B>>>3,x=du(S,17)^du(S,19)^S>>>10;Rg[y]=x+Rg[y-7]+C+Rg[y-16]|0}let{A:i,B:n,C:o,D:s,E:f,F:d,G:p,H:u}=this;for(let y=0;y<64;y++){let B=du(f,6)^du(f,11)^du(f,25),S=u+B+Kft(f,d,p)+Lft[y]+Rg[y]|0,x=(du(i,2)^du(i,13)^du(i,22))+qft(i,n,o)|0;u=p,p=d,d=f,f=s+S|0,s=o,o=n,n=i,i=S+x|0}i=i+this.A|0,n=n+this.B|0,o=o+this.C|0,s=s+this.D|0,f=f+this.E|0,d=d+this.F|0,p=p+this.G|0,u=u+this.H|0,this.set(i,n,o,s,f,d,p,u)}roundClean(){Rg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Uz=class extends Lk{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},YI=_g(()=>new Lk),iar=_g(()=>new Uz);b();b();b();function Hft(t){let e=c8(t);Kc(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:i,a:n}=e;if(r){if(!i.eql(n,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:Gft,hexToBytes:jft}=Rk,JI={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=JI;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],i=t.subarray(2,r+2);if(!r||i.length!==r)throw new e("Invalid signature integer: wrong length");if(i[0]&128)throw new e("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Gft(i),l:t.subarray(r+2)}},toSig(t){let{Err:e}=JI,r=typeof t=="string"?jft(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let i=r.length;if(i<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==i-2)throw new e("Invalid signature: incorrect length");let{d:n,l:o}=JI._parseInt(r.subarray(2)),{d:s,l:f}=JI._parseInt(o);if(f.length)throw new e("Invalid signature: left bytes after parsing");return{r:n,s}},hexFromSig(t){let e=p=>Number.parseInt(p[0],16)&8?"00"+p:p,r=p=>{let u=p.toString(16);return u.length&1?`0${u}`:u},i=e(r(t.s)),n=e(r(t.r)),o=i.length/2,s=n.length/2,f=r(o),d=r(s);return`30${r(s+o+4)}02${d}${n}02${f}${i}`}},op=BigInt(0),Jf=BigInt(1),Aar=BigInt(2),qEe=BigInt(3),gar=BigInt(4);function zft(t){let e=Hft(t),{Fp:r}=e,i=e.toBytes||((C,x,_)=>{let Q=x.toAffine();return hu(Uint8Array.from([4]),r.toBytes(Q.x),r.toBytes(Q.y))}),n=e.fromBytes||(C=>{let x=C.subarray(1),_=r.fromBytes(x.subarray(0,r.BYTES)),Q=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:_,y:Q}});function o(C){let{a:x,b:_}=e,Q=r.sqr(C),R=r.mul(Q,C);return r.add(r.add(R,r.mul(C,x)),_)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(C){return typeof C=="bigint"&&op<C&&C<e.n}function f(C){if(!s(C))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(C){let{allowedPrivateKeyLengths:x,nByteLength:_,wrapPrivateKey:Q,n:R}=e;if(x&&typeof C!="bigint"){if(C instanceof Uint8Array&&(C=Vh(C)),typeof C!="string"||!x.includes(C.length))throw new Error("Invalid key");C=C.padStart(_*2,"0")}let k;try{k=typeof C=="bigint"?C:uu(Si("private key",C,_))}catch{throw new Error(`private key must be ${_} bytes, hex or bigint, not ${typeof C}`)}return Q&&(k=ri(k,R)),f(k),k}let p=new Map;function u(C){if(!(C instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(x,_,Q){if(this.px=x,this.py=_,this.pz=Q,x==null||!r.isValid(x))throw new Error("x required");if(_==null||!r.isValid(_))throw new Error("y required");if(Q==null||!r.isValid(Q))throw new Error("z required")}static fromAffine(x){let{x:_,y:Q}=x||{};if(!x||!r.isValid(_)||!r.isValid(Q))throw new Error("invalid affine point");if(x instanceof y)throw new Error("projective point not allowed");let R=k=>r.eql(k,r.ZERO);return R(_)&&R(Q)?y.ZERO:new y(_,Q,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){let _=r.invertBatch(x.map(Q=>Q.pz));return x.map((Q,R)=>Q.toAffine(_[R])).map(y.fromAffine)}static fromHex(x){let _=y.fromAffine(n(Si("pointHex",x)));return _.assertValidity(),_}static fromPrivateKey(x){return y.BASE.multiply(d(x))}_setWindowSize(x){this._WINDOW_SIZE=x,p.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x,y:_}=this.toAffine();if(!r.isValid(x)||!r.isValid(_))throw new Error("bad point: x or y not FE");let Q=r.sqr(_),R=o(x);if(!r.eql(Q,R))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){u(x);let{px:_,py:Q,pz:R}=this,{px:k,py:K,pz:T}=x,L=r.eql(r.mul(_,T),r.mul(k,R)),H=r.eql(r.mul(Q,T),r.mul(K,R));return L&&H}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){let{a:x,b:_}=e,Q=r.mul(_,qEe),{px:R,py:k,pz:K}=this,T=r.ZERO,L=r.ZERO,H=r.ZERO,O=r.mul(R,R),G=r.mul(k,k),v=r.mul(K,K),a=r.mul(R,k);return a=r.add(a,a),H=r.mul(R,K),H=r.add(H,H),T=r.mul(x,H),L=r.mul(Q,v),L=r.add(T,L),T=r.sub(G,L),L=r.add(G,L),L=r.mul(T,L),T=r.mul(a,T),H=r.mul(Q,H),v=r.mul(x,v),a=r.sub(O,v),a=r.mul(x,a),a=r.add(a,H),H=r.add(O,O),O=r.add(H,O),O=r.add(O,v),O=r.mul(O,a),L=r.add(L,O),v=r.mul(k,K),v=r.add(v,v),O=r.mul(v,a),T=r.sub(T,O),H=r.mul(v,G),H=r.add(H,H),H=r.add(H,H),new y(T,L,H)}add(x){u(x);let{px:_,py:Q,pz:R}=this,{px:k,py:K,pz:T}=x,L=r.ZERO,H=r.ZERO,O=r.ZERO,G=e.a,v=r.mul(e.b,qEe),a=r.mul(_,k),h=r.mul(Q,K),g=r.mul(R,T),l=r.add(_,Q),A=r.add(k,K);l=r.mul(l,A),A=r.add(a,h),l=r.sub(l,A),A=r.add(_,R);let w=r.add(k,T);return A=r.mul(A,w),w=r.add(a,g),A=r.sub(A,w),w=r.add(Q,R),L=r.add(K,T),w=r.mul(w,L),L=r.add(h,g),w=r.sub(w,L),O=r.mul(G,A),L=r.mul(v,g),O=r.add(L,O),L=r.sub(h,O),O=r.add(h,O),H=r.mul(L,O),h=r.add(a,a),h=r.add(h,a),g=r.mul(G,g),A=r.mul(v,A),h=r.add(h,g),g=r.sub(a,g),g=r.mul(G,g),A=r.add(A,g),a=r.mul(h,A),H=r.add(H,a),a=r.mul(w,A),L=r.mul(l,L),L=r.sub(L,a),a=r.mul(l,h),O=r.mul(w,O),O=r.add(O,a),new y(L,H,O)}subtract(x){return this.add(x.negate())}is0(){return this.equals(y.ZERO)}wNAF(x){return S.wNAFCached(this,p,x,_=>{let Q=r.invertBatch(_.map(R=>R.pz));return _.map((R,k)=>R.toAffine(Q[k])).map(y.fromAffine)})}multiplyUnsafe(x){let _=y.ZERO;if(x===op)return _;if(f(x),x===Jf)return this;let{endo:Q}=e;if(!Q)return S.unsafeLadder(this,x);let{k1neg:R,k1:k,k2neg:K,k2:T}=Q.splitScalar(x),L=_,H=_,O=this;for(;k>op||T>op;)k&Jf&&(L=L.add(O)),T&Jf&&(H=H.add(O)),O=O.double(),k>>=Jf,T>>=Jf;return R&&(L=L.negate()),K&&(H=H.negate()),H=new y(r.mul(H.px,Q.beta),H.py,H.pz),L.add(H)}multiply(x){f(x);let _=x,Q,R,{endo:k}=e;if(k){let{k1neg:K,k1:T,k2neg:L,k2:H}=k.splitScalar(_),{p:O,f:G}=this.wNAF(T),{p:v,f:a}=this.wNAF(H);O=S.constTimeNegate(K,O),v=S.constTimeNegate(L,v),v=new y(r.mul(v.px,k.beta),v.py,v.pz),Q=O.add(v),R=G.add(a)}else{let{p:K,f:T}=this.wNAF(_);Q=K,R=T}return y.normalizeZ([Q,R])[0]}multiplyAndAddUnsafe(x,_,Q){let R=y.BASE,k=(T,L)=>L===op||L===Jf||!T.equals(R)?T.multiplyUnsafe(L):T.multiply(L),K=k(this,_).add(k(x,Q));return K.is0()?void 0:K}toAffine(x){let{px:_,py:Q,pz:R}=this,k=this.is0();x==null&&(x=k?r.ONE:r.inv(R));let K=r.mul(_,x),T=r.mul(Q,x),L=r.mul(R,x);if(k)return{x:r.ZERO,y:r.ZERO};if(!r.eql(L,r.ONE))throw new Error("invZ was invalid");return{x:K,y:T}}isTorsionFree(){let{h:x,isTorsionFree:_}=e;if(x===Jf)return!0;if(_)return _(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:x,clearCofactor:_}=e;return x===Jf?this:_?_(y,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),i(y,this,x)}toHex(x=!0){return Vh(this.toRawBytes(x))}}y.BASE=new y(e.Gx,e.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);let B=e.nBitLength,S=Pk(y,e.endo?Math.ceil(B/2):B);return{CURVE:e,ProjectivePoint:y,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:s}}function Yft(t){let e=c8(t);return Kc(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function LEe(t){let e=Yft(t),{Fp:r,n:i}=e,n=r.BYTES+1,o=2*r.BYTES+1;function s(A){return op<A&&A<r.ORDER}function f(A){return ri(A,i)}function d(A){return Uk(A,i)}let{ProjectivePoint:p,normPrivateKeyToScalar:u,weierstrassEquation:y,isWithinCurveOrder:B}=zft({...e,toBytes(A,w,E){let m=w.toAffine(),c=r.toBytes(m.x),I=hu;return E?I(Uint8Array.from([w.hasEvenY()?2:3]),c):I(Uint8Array.from([4]),c,r.toBytes(m.y))},fromBytes(A){let w=A.length,E=A[0],m=A.subarray(1);if(w===n&&(E===2||E===3)){let c=uu(m);if(!s(c))throw new Error("Point is not on curve");let I=y(c),M=r.sqrt(I),D=(M&Jf)===Jf;return(E&1)===1!==D&&(M=r.neg(M)),{x:c,y:M}}else if(w===o&&E===4){let c=r.fromBytes(m.subarray(0,r.BYTES)),I=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:c,y:I}}else throw new Error(`Point of length ${w} was invalid. Expected ${n} compressed bytes or ${o} uncompressed bytes`)}}),S=A=>Vh(zf(A,e.nByteLength));function C(A){let w=i>>Jf;return A>w}function x(A){return C(A)?f(-A):A}let _=(A,w,E)=>uu(A.slice(w,E));class Q{constructor(w,E,m){this.r=w,this.s=E,this.recovery=m,this.assertValidity()}static fromCompact(w){let E=e.nByteLength;return w=Si("compactSignature",w,E*2),new Q(_(w,0,E),_(w,E,2*E))}static fromDER(w){let{r:E,s:m}=JI.toSig(Si("DER",w));return new Q(E,m)}assertValidity(){if(!B(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!B(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(w){return new Q(this.r,this.s,w)}recoverPublicKey(w){let{r:E,s:m,recovery:c}=this,I=H(Si("msgHash",w));if(c==null||![0,1,2,3].includes(c))throw new Error("recovery id invalid");let M=c===2||c===3?E+e.n:E;if(M>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let D=c&1?"03":"02",P=p.fromHex(D+S(M)),j=d(M),Y=f(-I*j),z=f(m*j),$=p.BASE.multiplyAndAddUnsafe(P,Y,z);if(!$)throw new Error("point at infinify");return $.assertValidity(),$}hasHighS(){return C(this.s)}normalizeS(){return this.hasHighS()?new Q(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return GI(this.toDERHex())}toDERHex(){return JI.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return GI(this.toCompactHex())}toCompactHex(){return S(this.r)+S(this.s)}}let R={isValidPrivateKey(A){try{return u(A),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let A=e.randomBytes(r.BYTES+8),w=MEe(A,i);return zf(w,e.nByteLength)},precompute(A=8,w=p.BASE){return w._setWindowSize(A),w.multiply(BigInt(3)),w}};function k(A,w=!0){return p.fromPrivateKey(A).toRawBytes(w)}function K(A){let w=A instanceof Uint8Array,E=typeof A=="string",m=(w||E)&&A.length;return w?m===n||m===o:E?m===2*n||m===2*o:A instanceof p}function T(A,w,E=!0){if(K(A))throw new Error("first arg must be private key");if(!K(w))throw new Error("second arg must be public key");return p.fromHex(w).multiply(u(A)).toRawBytes(E)}let L=e.bits2int||function(A){let w=uu(A),E=A.length*8-e.nBitLength;return E>0?w>>BigInt(E):w},H=e.bits2int_modN||function(A){return f(L(A))},O=a8(e.nBitLength);function G(A){if(typeof A!="bigint")throw new Error("bigint expected");if(!(op<=A&&A<O))throw new Error(`bigint expected < 2^${e.nBitLength}`);return zf(A,e.nByteLength)}function v(A,w,E=a){if(["recovered","canonical"].some(ee=>ee in E))throw new Error("sign() legacy options not supported");let{hash:m,randomBytes:c}=e,{lowS:I,prehash:M,extraEntropy:D}=E;I==null&&(I=!0),A=Si("msgHash",A),M&&(A=Si("prehashed msgHash",m(A)));let P=H(A),j=u(w),Y=[G(j),G(P)];if(D!=null){let ee=D===!0?c(r.BYTES):D;Y.push(Si("extraEntropy",ee,r.BYTES))}let z=hu(...Y),$=P;function W(ee){let pe=L(ee);if(!B(pe))return;let ne=d(pe),se=p.BASE.multiply(pe).toAffine(),Le=f(se.x);if(Le===op)return;let ce=f(ne*f($+Le*j));if(ce===op)return;let fe=(se.x===Le?0:2)|Number(se.y&Jf),bt=ce;return I&&C(ce)&&(bt=x(ce),fe^=1),new Q(Le,bt,fe)}return{seed:z,k2sig:W}}let a={lowS:e.lowS,prehash:!1},h={lowS:e.lowS,prehash:!1};function g(A,w,E=a){let{seed:m,k2sig:c}=v(A,w,E),I=e;return _z(I.hash.outputLen,I.nByteLength,I.hmac)(m,c)}p.BASE._setWindowSize(8);function l(A,w,E,m=h){let c=A;if(w=Si("msgHash",w),E=Si("publicKey",E),"strict"in m)throw new Error("options.strict was renamed to lowS");let{lowS:I,prehash:M}=m,D,P;try{if(typeof c=="string"||c instanceof Uint8Array)try{D=Q.fromDER(c)}catch(se){if(!(se instanceof JI.Err))throw se;D=Q.fromCompact(c)}else if(typeof c=="object"&&typeof c.r=="bigint"&&typeof c.s=="bigint"){let{r:se,s:Le}=c;D=new Q(se,Le)}else throw new Error("PARSE");P=p.fromHex(E)}catch(se){if(se.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(I&&D.hasHighS())return!1;M&&(w=e.hash(w));let{r:j,s:Y}=D,z=H(w),$=d(Y),W=f(z*$),ee=f(j*$),pe=p.BASE.multiplyAndAddUnsafe(P,W,ee)?.toAffine();return pe?f(pe.x)===j:!1}return{CURVE:e,getPublicKey:k,getSharedSecret:T,sign:g,verify:l,ProjectivePoint:p,Signature:Q,utils:R}}b();b();var Hk=class extends pE{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,ip.hash(e);let i=o8(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,o=new Uint8Array(n);o.set(i.length>n?e.create().update(i).digest():i);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return ip.exists(this),this.iHash.update(e),this}digestInto(e){ip.exists(this),ip.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:i,finished:n,destroyed:o,blockLen:s,outputLen:f}=this;return e=e,e.finished=n,e.destroyed=o,e.blockLen=s,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Fz=(t,e,r)=>new Hk(t,e).update(r).digest();Fz.create=(t,e)=>new Hk(t,e);function Jft(t){return{hash:t,hmac:(e,...r)=>Fz(t,e,s8(...r)),randomBytes:LI}}function HEe(t,e){let r=i=>LEe({...t,...Jft(i)});return Object.freeze({...r(e),create:r})}var zEe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),GEe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Vft=BigInt(1),Nz=BigInt(2),jEe=(t,e)=>(t+e/Nz)/e;function Wft(t){let e=zEe,r=BigInt(3),i=BigInt(6),n=BigInt(11),o=BigInt(22),s=BigInt(23),f=BigInt(44),d=BigInt(88),p=t*t*t%e,u=p*p*t%e,y=Wi(u,r,e)*u%e,B=Wi(y,r,e)*u%e,S=Wi(B,Nz,e)*p%e,C=Wi(S,n,e)*S%e,x=Wi(C,o,e)*C%e,_=Wi(x,f,e)*x%e,Q=Wi(_,d,e)*_%e,R=Wi(Q,f,e)*x%e,k=Wi(R,r,e)*u%e,K=Wi(k,s,e)*C%e,T=Wi(K,i,e)*p%e,L=Wi(T,Nz,e);if(!Pz.eql(Pz.sqr(L),t))throw new Error("Cannot find square root");return L}var Pz=Nk(zEe,void 0,void 0,{sqrt:Wft}),Vf=HEe({a:BigInt(0),b:BigInt(7),Fp:Pz,n:GEe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=GEe,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-Vft*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),f=jEe(o*t,e),d=jEe(-i*t,e),p=ri(t-f*r-d*n,e),u=ri(-f*i-d*o,e),y=p>s,B=u>s;if(y&&(p=e-p),B&&(u=e-u),p>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:y,k1:p,k2neg:B,k2:u}}}},YI),Par=BigInt(0);var Oar=Vf.ProjectivePoint;var sp=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Ug=class t{static convertPublicKey(e){return sp(this,void 0,void 0,function*(){let{publicKey:r,compressedPublicKey:i}=e;return Vf.ProjectivePoint.fromHex(r).toRawBytes(i)})}static generateKeyPair(e){return sp(this,void 0,void 0,function*(){let{compressedPublicKey:r}=e??{};r??(r=!0);let i=Vf.utils.randomPrivateKey(),n=Vf.getPublicKey(i,r);return{privateKey:i,publicKey:n}})}static getCurvePoints(e){return sp(this,void 0,void 0,function*(){let{key:r}=e;r.byteLength===32&&(r=yield t.getPublicKey({privateKey:r}));let i=Vf.ProjectivePoint.fromHex(r),n=zf(i.x,32),o=zf(i.y,32);return{x:n,y:o}})}static getPublicKey(e){return sp(this,void 0,void 0,function*(){let{privateKey:r,compressedPublicKey:i}=e;return i??(i=!0),Vf.getPublicKey(r,i)})}static sharedSecret(e){return sp(this,void 0,void 0,function*(){let{privateKey:r,publicKey:i}=e;return Vf.getSharedSecret(r,i).slice(1)})}static sign(e){return sp(this,void 0,void 0,function*(){let{data:r,hash:i,key:n}=e,o=this.hashAlgorithms[i],s=o(r);return Vf.sign(s,n).toCompactRawBytes()})}static validatePrivateKey(e){return sp(this,void 0,void 0,function*(){let{key:r}=e;return Vf.utils.isValidPrivateKey(r)})}static validatePublicKey(e){return sp(this,void 0,void 0,function*(){let{key:r}=e;try{Vf.ProjectivePoint.fromHex(r).assertValidity()}catch{return!1}return!0})}static verify(e){return sp(this,void 0,void 0,function*(){let{data:r,hash:i,key:n,signature:o}=e,s=this.hashAlgorithms[i],f=s(r);return Vf.verify(o,f,n,{lowS:!1})})}};Ug.hashAlgorithms={"SHA-256":YI};b();b();b();var Zft=t=>t instanceof Uint8Array;var Wf=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),YEe=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),$ft=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!$ft)throw new Error("Non little-endian hardware is not supported");function Gk(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function jk(t){if(typeof t=="string"&&(t=Gk(t)),!Zft(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}var Xft=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function JEe(t,e){if(e!==void 0&&(typeof e!="object"||!Xft(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}function p8(t,e){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");if(typeof e=="number"&&t.length!==e)throw new Error(`Uint8Array length ${e} expected`)}function VEe(t,e){if(t.length!==e.length)throw new Error("equalBytes: Different size of Uint8Arrays");let r=!0;for(let i=0;i<t.length;i++)r&&(r=t[i]===e[i]);return r}function Oz(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);let n=BigInt(32),o=BigInt(4294967295),s=Number(r>>n&o),f=Number(r&o),d=i?4:0,p=i?0:4;t.setUint32(e+d,s,i),t.setUint32(e+p,f,i)}b();b();function Kz(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function edt(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function WEe(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function tdt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Kz(t.outputLen),Kz(t.blockLen)}function rdt(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function idt(t,e){WEe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var ndt={number:Kz,bool:edt,bytes:WEe,hash:tdt,exists:rdt,output:idt},ga=ndt;var us=(t,e)=>t[e++]&255|(t[e++]&255)<<8,qz=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=jk(e),p8(e,32);let r=us(e,0),i=us(e,2),n=us(e,4),o=us(e,6),s=us(e,8),f=us(e,10),d=us(e,12),p=us(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|i<<3)&8191,this.r[2]=(i>>>10|n<<6)&7939,this.r[3]=(n>>>7|o<<9)&8191,this.r[4]=(o>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|f<<2)&8191,this.r[7]=(f>>>11|d<<5)&8065,this.r[8]=(d>>>8|p<<8)&8191,this.r[9]=p>>>5&127;for(let u=0;u<8;u++)this.pad[u]=us(e,16+2*u)}process(e,r,i=!1){let n=i?0:2048,{h:o,r:s}=this,f=s[0],d=s[1],p=s[2],u=s[3],y=s[4],B=s[5],S=s[6],C=s[7],x=s[8],_=s[9],Q=us(e,r+0),R=us(e,r+2),k=us(e,r+4),K=us(e,r+6),T=us(e,r+8),L=us(e,r+10),H=us(e,r+12),O=us(e,r+14),G=o[0]+(Q&8191),v=o[1]+((Q>>>13|R<<3)&8191),a=o[2]+((R>>>10|k<<6)&8191),h=o[3]+((k>>>7|K<<9)&8191),g=o[4]+((K>>>4|T<<12)&8191),l=o[5]+(T>>>1&8191),A=o[6]+((T>>>14|L<<2)&8191),w=o[7]+((L>>>11|H<<5)&8191),E=o[8]+((H>>>8|O<<8)&8191),m=o[9]+(O>>>5|n),c=0,I=c+G*f+v*(5*_)+a*(5*x)+h*(5*C)+g*(5*S);c=I>>>13,I&=8191,I+=l*(5*B)+A*(5*y)+w*(5*u)+E*(5*p)+m*(5*d),c+=I>>>13,I&=8191;let M=c+G*d+v*f+a*(5*_)+h*(5*x)+g*(5*C);c=M>>>13,M&=8191,M+=l*(5*S)+A*(5*B)+w*(5*y)+E*(5*u)+m*(5*p),c+=M>>>13,M&=8191;let D=c+G*p+v*d+a*f+h*(5*_)+g*(5*x);c=D>>>13,D&=8191,D+=l*(5*C)+A*(5*S)+w*(5*B)+E*(5*y)+m*(5*u),c+=D>>>13,D&=8191;let P=c+G*u+v*p+a*d+h*f+g*(5*_);c=P>>>13,P&=8191,P+=l*(5*x)+A*(5*C)+w*(5*S)+E*(5*B)+m*(5*y),c+=P>>>13,P&=8191;let j=c+G*y+v*u+a*p+h*d+g*f;c=j>>>13,j&=8191,j+=l*(5*_)+A*(5*x)+w*(5*C)+E*(5*S)+m*(5*B),c+=j>>>13,j&=8191;let Y=c+G*B+v*y+a*u+h*p+g*d;c=Y>>>13,Y&=8191,Y+=l*f+A*(5*_)+w*(5*x)+E*(5*C)+m*(5*S),c+=Y>>>13,Y&=8191;let z=c+G*S+v*B+a*y+h*u+g*p;c=z>>>13,z&=8191,z+=l*d+A*f+w*(5*_)+E*(5*x)+m*(5*C),c+=z>>>13,z&=8191;let $=c+G*C+v*S+a*B+h*y+g*u;c=$>>>13,$&=8191,$+=l*p+A*d+w*f+E*(5*_)+m*(5*x),c+=$>>>13,$&=8191;let W=c+G*x+v*C+a*S+h*B+g*y;c=W>>>13,W&=8191,W+=l*u+A*p+w*d+E*f+m*(5*_),c+=W>>>13,W&=8191;let ee=c+G*_+v*x+a*C+h*S+g*B;c=ee>>>13,ee&=8191,ee+=l*y+A*u+w*p+E*d+m*f,c+=ee>>>13,ee&=8191,c=(c<<2)+c|0,c=c+I|0,I=c&8191,c=c>>>13,M+=c,o[0]=I,o[1]=M,o[2]=D,o[3]=P,o[4]=j,o[5]=Y,o[6]=z,o[7]=$,o[8]=W,o[9]=ee}finalize(){let{h:e,pad:r}=this,i=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let f=2;f<10;f++)e[f]+=n,n=e[f]>>>13,e[f]&=8191;e[0]+=n*5,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,i[0]=e[0]+5,n=i[0]>>>13,i[0]&=8191;for(let f=1;f<10;f++)i[f]=e[f]+n,n=i[f]>>>13,i[f]&=8191;i[9]-=8192;let o=(n^1)-1;for(let f=0;f<10;f++)i[f]&=o;o=~o;for(let f=0;f<10;f++)e[f]=e[f]&o|i[f];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+r[0];e[0]=s&65535;for(let f=1;f<8;f++)s=(e[f]+r[f]|0)+(s>>>16)|0,e[f]=s&65535}update(e){ga.exists(this);let{buffer:r,blockLen:i}=this;e=jk(e);let n=e.length;for(let o=0;o<n;){let s=Math.min(i-this.pos,n-o);if(s===i){for(;i<=n-o;o+=i)this.process(e,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){ga.exists(this),ga.output(e,this),this.finished=!0;let{buffer:r,h:i}=this,{pos:n}=this;if(n){for(r[n++]=1;n<16;n++)r[n]=0;this.process(r,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)e[o++]=i[s]>>>0,e[o++]=i[s]>>>8;return e}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let i=e.slice(0,r);return this.destroy(),i}};function odt(t){let e=(i,n)=>t(n).update(jk(i)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=i=>t(i),e}var ZEe=odt(t=>new qz(t));b();var sdt=Gk("expand 16-byte k"),adt=Gk("expand 32-byte k"),cdt=Wf(sdt),fdt=Wf(adt),$Ee=t=>!(t.byteOffset%4),mE=t=>{let{core:e,rounds:r,counterRight:i,counterLen:n,allow128bitKeys:o,extendNonceFn:s,blockLen:f}=JEe({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},t);ga.number(n),ga.number(r),ga.number(f),ga.bool(i),ga.bool(o);let d=f/4;if(f%4!==0)throw new Error("Salsa/ChaCha: blockLen should be aligned to 4 bytes");return(p,u,y,B,S=0)=>{if(ga.bytes(p),ga.bytes(u),ga.bytes(y),B||(B=new Uint8Array(y.length)),ga.bytes(B),ga.number(S),S<0||S>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(B.length<y.length)throw new Error(`Salsa/ChaCha: output (${B.length}) is shorter than data (${y.length})`);let C=[],x,_;if(p.length===32)x=p,_=fdt;else if(p.length===16&&o)x=new Uint8Array(32),x.set(p),x.set(p,16),_=cdt,C.push(x);else throw new Error(`Salsa/ChaCha: wrong key length=${p.length}, expected`);if(s){if(u.length<=16)throw new Error("Salsa/ChaCha: extended nonce should be bigger than 16 bytes");x=s(_,x,u.subarray(0,16),new Uint8Array(32)),C.push(x),u=u.subarray(16)}let Q=16-n;if(u.length!==Q)throw new Error(`Salsa/ChaCha: nonce should be ${Q} or 16 bytes`);if(Q!==12){let G=new Uint8Array(12);G.set(u,i?0:12-u.length),C.push(u=G)}let R=new Uint8Array(f),k=Wf(R),K=Wf(x),T=Wf(u),L=$Ee(y)&&Wf(y),H=$Ee(B)&&Wf(B);C.push(k);let O=y.length;for(let G=0,v=S;G<O;v++){if(e(_,K,T,k,v,r),v>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");let a=Math.min(f,O-G);if(a===f&&H&&L){let h=G/4;if(G%4!==0)throw new Error("Salsa/ChaCha: wrong block position");for(let g=0;g<d;g++)H[h+g]=L[h+g]^k[g];G+=f;continue}for(let h=0;h<a;h++)B[G+h]=y[G+h]^R[h];G+=a}for(let G=0;G<C.length;G++)C[G].fill(0);return B}};var yt=(t,e)=>t<<e|t>>>32-e;function A8(t,e,r,i,n,o=20){let s=t[0],f=t[1],d=t[2],p=t[3],u=e[0],y=e[1],B=e[2],S=e[3],C=e[4],x=e[5],_=e[6],Q=e[7],R=n,k=r[0],K=r[1],T=r[2],L=s,H=f,O=d,G=p,v=u,a=y,h=B,g=S,l=C,A=x,w=_,E=Q,m=R,c=k,I=K,M=T;for(let P=0;P<o;P+=2)L=L+v|0,m=yt(m^L,16),l=l+m|0,v=yt(v^l,12),L=L+v|0,m=yt(m^L,8),l=l+m|0,v=yt(v^l,7),H=H+a|0,c=yt(c^H,16),A=A+c|0,a=yt(a^A,12),H=H+a|0,c=yt(c^H,8),A=A+c|0,a=yt(a^A,7),O=O+h|0,I=yt(I^O,16),w=w+I|0,h=yt(h^w,12),O=O+h|0,I=yt(I^O,8),w=w+I|0,h=yt(h^w,7),G=G+g|0,M=yt(M^G,16),E=E+M|0,g=yt(g^E,12),G=G+g|0,M=yt(M^G,8),E=E+M|0,g=yt(g^E,7),L=L+a|0,M=yt(M^L,16),w=w+M|0,a=yt(a^w,12),L=L+a|0,M=yt(M^L,8),w=w+M|0,a=yt(a^w,7),H=H+h|0,m=yt(m^H,16),E=E+m|0,h=yt(h^E,12),H=H+h|0,m=yt(m^H,8),E=E+m|0,h=yt(h^E,7),O=O+g|0,c=yt(c^O,16),l=l+c|0,g=yt(g^l,12),O=O+g|0,c=yt(c^O,8),l=l+c|0,g=yt(g^l,7),G=G+v|0,I=yt(I^G,16),A=A+I|0,v=yt(v^A,12),G=G+v|0,I=yt(I^G,8),A=A+I|0,v=yt(v^A,7);let D=0;i[D++]=s+L|0,i[D++]=f+H|0,i[D++]=d+O|0,i[D++]=p+G|0,i[D++]=u+v|0,i[D++]=y+a|0,i[D++]=B+h|0,i[D++]=S+g|0,i[D++]=C+l|0,i[D++]=x+A|0,i[D++]=_+w|0,i[D++]=Q+E|0,i[D++]=R+m|0,i[D++]=k+c|0,i[D++]=K+I|0,i[D++]=T+M|0}function ddt(t,e,r,i){let n=Wf(e),o=Wf(r),s=Wf(i),f=t[0],d=t[1],p=t[2],u=t[3],y=n[0],B=n[1],S=n[2],C=n[3],x=n[4],_=n[5],Q=n[6],R=n[7],k=o[0],K=o[1],T=o[2],L=o[3];for(let H=0;H<20;H+=2)f=f+y|0,k=yt(k^f,16),x=x+k|0,y=yt(y^x,12),f=f+y|0,k=yt(k^f,8),x=x+k|0,y=yt(y^x,7),d=d+B|0,K=yt(K^d,16),_=_+K|0,B=yt(B^_,12),d=d+B|0,K=yt(K^d,8),_=_+K|0,B=yt(B^_,7),p=p+S|0,T=yt(T^p,16),Q=Q+T|0,S=yt(S^Q,12),p=p+S|0,T=yt(T^p,8),Q=Q+T|0,S=yt(S^Q,7),u=u+C|0,L=yt(L^u,16),R=R+L|0,C=yt(C^R,12),u=u+C|0,L=yt(L^u,8),R=R+L|0,C=yt(C^R,7),f=f+B|0,L=yt(L^f,16),Q=Q+L|0,B=yt(B^Q,12),f=f+B|0,L=yt(L^f,8),Q=Q+L|0,B=yt(B^Q,7),d=d+S|0,k=yt(k^d,16),R=R+k|0,S=yt(S^R,12),d=d+S|0,k=yt(k^d,8),R=R+k|0,S=yt(S^R,7),p=p+C|0,K=yt(K^p,16),x=x+K|0,C=yt(C^x,12),p=p+C|0,K=yt(K^p,8),x=x+K|0,C=yt(C^x,7),u=u+y|0,T=yt(T^u,16),_=_+T|0,y=yt(y^_,12),u=u+y|0,T=yt(T^u,8),_=_+T|0,y=yt(y^_,7);return s[0]=f,s[1]=d,s[2]=p,s[3]=u,s[4]=k,s[5]=K,s[6]=T,s[7]=L,i}var ccr=mE({core:A8,counterRight:!1,counterLen:8}),udt=mE({core:A8,counterRight:!1,counterLen:4,allow128bitKeys:!1}),t2e=mE({core:A8,counterRight:!1,counterLen:8,extendNonceFn:ddt,allow128bitKeys:!1}),fcr=mE({core:A8,counterRight:!1,counterLen:4,rounds:8}),dcr=mE({core:A8,counterRight:!1,counterLen:4,rounds:12}),hdt=new Uint8Array(16),XEe=(t,e)=>{t.update(e);let r=e.length%16;r&&t.update(hdt.subarray(r))},e2e=(t,e,r,i,n)=>{let o=t(e,r,new Uint8Array(32)),s=ZEe.create(o);n&&XEe(s,n),XEe(s,i);let f=new Uint8Array(16),d=YEe(f);Oz(d,0,BigInt(n?n.length:0),!0),Oz(d,8,BigInt(i.length),!0),s.update(f);let p=s.digest();return o.fill(0),p},r2e=t=>(e,r,i)=>(p8(e,32),p8(r),{tagLength:16,encrypt:o=>{let s=new Uint8Array(o.length+16);t(e,r,o,s,1);let f=e2e(t,e,r,s.subarray(0,-16),i);return s.set(f,o.length),s},decrypt:o=>{if(o.length<16)throw new Error("Encrypted data should be at least 16");let s=o.subarray(-16),f=o.subarray(0,-16),d=e2e(t,e,r,f,i);if(!VEe(s,d))throw new Error("Wrong tag");return t(e,r,f,void 0,1)}}),ucr=r2e(udt),ldt=r2e(t2e);b();b();b();var Lz=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},zk=class extends Qk{constructor(){super(...arguments),this.namedCurves=["Ed25519","Ed448"]}generateKey(e){return Lz(this,void 0,void 0,function*(){let{algorithm:r,extractable:i,keyUsages:n}=e;this.checkGenerateKey({algorithm:r,keyUsages:n});let o,s;switch(r.namedCurve){case"Ed25519":{o=yield kg.generateKeyPair();break}}if(!_k(o))throw new Error("Operation failed to generate key pair.");return s={privateKey:new Gf(r,i,o.privateKey,"private",this.keyUsages.privateKey),publicKey:new Gf(r,!0,o.publicKey,"public",this.keyUsages.publicKey)},s})}sign(e){return Lz(this,void 0,void 0,function*(){let{algorithm:r,key:i,data:n}=e;this.checkAlgorithmOptions({algorithm:r}),this.checkKeyAlgorithm({keyAlgorithmName:i.algorithm.name}),this.checkKeyType({keyType:i.type,allowedKeyType:"private"}),this.checkKeyUsages({keyUsages:["sign"],allowedKeyUsages:i.usages});let o,s=i.algorithm;switch(s.namedCurve){case"Ed25519":{o=yield kg.sign({key:i.material,data:n});break}default:throw new TypeError(`Out of range: '${s.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}return o})}verify(e){return Lz(this,void 0,void 0,function*(){let{algorithm:r,key:i,signature:n,data:o}=e;this.checkAlgorithmOptions({algorithm:r}),this.checkKeyAlgorithm({keyAlgorithmName:i.algorithm.name}),this.checkKeyType({keyType:i.type,allowedKeyType:"public"}),this.checkKeyUsages({keyUsages:["verify"],allowedKeyUsages:i.usages});let s,f=i.algorithm;switch(f.namedCurve){case"Ed25519":{s=yield kg.verify({key:i.material,signature:n,data:o});break}default:throw new TypeError(`Out of range: '${f.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}return s})}};b();b();b();var Wh=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},pdt=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r},Adt={Ed25519:{name:"EdDSA",namedCurve:"Ed25519"},Ed448:{name:"EdDSA",namedCurve:"Ed448"},X25519:{name:"ECDH",namedCurve:"X25519"},"secp256k1:ES256K":{name:"ECDSA",namedCurve:"secp256k1"},secp256k1:{name:"ECDH",namedCurve:"secp256k1"},"P-256":{name:"ECDSA",namedCurve:"P-256"},"P-384":{name:"ECDSA",namedCurve:"P-384"},"P-521":{name:"ECDSA",namedCurve:"P-521"},A128CBC:{name:"AES-CBC",length:128},A192CBC:{name:"AES-CBC",length:192},A256CBC:{name:"AES-CBC",length:256},A128CTR:{name:"AES-CTR",length:128},A192CTR:{name:"AES-CTR",length:192},A256CTR:{name:"AES-CTR",length:256},A128GCM:{name:"AES-GCM",length:128},A192GCM:{name:"AES-GCM",length:192},A256GCM:{name:"AES-GCM",length:256},HS256:{name:"HMAC",hash:{name:"SHA-256"}},HS384:{name:"HMAC",hash:{name:"SHA-384"}},HS512:{name:"HMAC",hash:{name:"SHA-512"}}},gdt={"EdDSA:Ed25519":{alg:"EdDSA",crv:"Ed25519",kty:"OKP"},"EdDSA:Ed448":{alg:"EdDSA",crv:"Ed448",kty:"OKP"},"ECDH:X25519":{crv:"X25519",kty:"OKP"},"ECDSA:secp256k1":{alg:"ES256K",crv:"secp256k1",kty:"EC"},"ECDH:secp256k1":{crv:"secp256k1",kty:"EC"},"ECDSA:P-256":{alg:"ES256",crv:"P-256",kty:"EC"},"ECDSA:P-384":{alg:"ES384",crv:"P-384",kty:"EC"},"ECDSA:P-521":{alg:"ES512",crv:"P-521",kty:"EC"},"AES-CBC:128":{alg:"A128CBC",kty:"oct"},"AES-CBC:192":{alg:"A192CBC",kty:"oct"},"AES-CBC:256":{alg:"A256CBC",kty:"oct"},"AES-CTR:128":{alg:"A128CTR",kty:"oct"},"AES-CTR:192":{alg:"A192CTR",kty:"oct"},"AES-CTR:256":{alg:"A256CTR",kty:"oct"},"AES-GCM:128":{alg:"A128GCM",kty:"oct"},"AES-GCM:192":{alg:"A192GCM",kty:"oct"},"AES-GCM:256":{alg:"A256GCM",kty:"oct"},"HMAC:SHA-256":{alg:"HS256",kty:"oct"},"HMAC:SHA-384":{alg:"HS384",kty:"oct"},"HMAC:SHA-512":{alg:"HS512",kty:"oct"}},ydt={"ed25519-pub":{alg:"EdDSA",crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{alg:"EdDSA",crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{alg:"ES256K",crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{alg:"ES256K",crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},mdt={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},Hz=class t{static cryptoKeyToJwk(e){return Wh(this,void 0,void 0,function*(){let{algorithm:r,extractable:i,material:n,type:o,usages:s}=e.key,f=t.webCryptoToJose(r);return f.ext=i?"true":"false",f.key_ops=s,f=yield t.keyToJwk(Object.assign({keyMaterial:n,keyType:o},f)),Object.assign({},f)})}static cryptoKeyToJwkPair(e){return Wh(this,void 0,void 0,function*(){let{keyPair:r}=e,i=yield t.cryptoKeyToJwk({key:r.privateKey}),n=yield t.cryptoKeyToJwk({key:r.publicKey});return Object.assign({},{privateKeyJwk:i,publicKeyJwk:n})})}static joseToMulticodec(e){return Wh(this,void 0,void 0,function*(){let r=e.key,i=[];"crv"in r&&(i.push(r.crv),"d"in r?i.push("private"):i.push("public"));let n=i.join(":"),o=mdt[n];if(o===void 0)throw new Error(`Unsupported JOSE to Multicodec conversion: '${n}'`);return{code:Aa.getCodeFromName({name:o}),name:o}})}static joseToWebCrypto(e){let r=[];if("crv"in e&&e.crv)r.push(e.crv),e.crv==="secp256k1"&&e.alg==="ES256K"&&r.push(e.alg);else if(e.alg!==void 0)r.push(e.alg);else throw new TypeError("One or more parameters missing: 'alg' or 'crv'");let i=r.join(":"),n=Adt[i];if(n===void 0)throw new Error(`Unsupported JOSE to WebCrypto conversion: '${i}'`);return Object.assign({},n)}static jwkThumbprint(e){return Wh(this,void 0,void 0,function*(){let{key:r}=e,i=r.kty,n;if(i==="EC")n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if(i==="oct")n={k:r.k,kty:r.kty};else if(i==="OKP")n={crv:r.crv,kty:r.kty,x:r.x};else if(i==="RSA")n={e:r.e,kty:r.kty,n:r.n};else throw new Error(`Unsupported key type: ${i}`);mz(n);let o=t.canonicalize(n),s=Xn.string(o).toUint8Array(),f=YI(s);return Xn.uint8Array(f).toBase64Url()})}static jwkToCryptoKey(e){return Wh(this,void 0,void 0,function*(){let r=e.key,{keyMaterial:i,keyType:n}=yield t.jwkToKey({key:r}),o=t.joseToWebCrypto(r),s;if("ext"in r&&r.ext!==void 0)s=r.ext==="true";else throw new Error("Conversion from JWK to CryptoKey failed. Required parameter missing: 'ext'");let f;if("key_ops"in r&&r.key_ops!==void 0)f=r.key_ops;else throw new Error("Conversion from JWK to CryptoKey failed. Required parameter missing: 'key_ops'");return new Gf(o,s,i,n,f)})}static jwkToKey(e){return Wh(this,void 0,void 0,function*(){let r=e.key,i,n;if("d"in r)i=Xn.base64Url(r.d).toUint8Array(),n="private";else if("y"in r&&r.y){let o=new Uint8Array([4]),s=Xn.base64Url(r.x).toUint8Array(),f=Xn.base64Url(r.y).toUint8Array();i=new Uint8Array([...o,...s,...f]),n="public"}else if("x"in r)i=Xn.base64Url(r.x).toUint8Array(),n="public";else if("k"in r)i=Xn.base64Url(r.k).toUint8Array(),n="private";else throw new Error("Jose: Unknown JSON Web Key format.");return{keyMaterial:i,keyType:n}})}static jwkToMultibaseId(e){return Wh(this,void 0,void 0,function*(){let r=e.key,{name:i}=yield t.joseToMulticodec({key:r}),{keyMaterial:n}=yield t.jwkToKey({key:r});if("crv"in r&&!("d"in r))switch(r.crv){case"secp256k1":{n=yield Ug.convertPublicKey({publicKey:n,compressedPublicKey:!0});break}}return mEe({key:n,multicodecName:i})})}static keyToJwk(e){var r,i,n;return Wh(this,void 0,void 0,function*(){let{keyMaterial:o,keyType:s}=e,f=pdt(e,["keyMaterial","keyType"]),d=Object.assign({},f);if("crv"in d){switch(d.crv){case"Ed25519":{let p=s==="private"?yield kg.getPublicKey({privateKey:o}):o;d.x=Xn.uint8Array(p).toBase64Url(),(r=d.kty)!==null&&r!==void 0||(d.kty="OKP");break}case"X25519":{let p=s==="private"?yield l8.getPublicKey({privateKey:o}):o;d.x=Xn.uint8Array(p).toBase64Url(),(i=d.kty)!==null&&i!==void 0||(d.kty="OKP");break}case"secp256k1":{let p=yield Ug.getCurvePoints({key:o});d.x=Xn.uint8Array(p.x).toBase64Url(),d.y=Xn.uint8Array(p.y).toBase64Url(),(n=d.kty)!==null&&n!==void 0||(d.kty="EC");break}default:throw new Error(`Unsupported key to JWK conversion: ${d.crv}`)}s==="private"&&(d=Object.assign({d:Xn.uint8Array(o).toBase64Url()},d))}return!("crv"in d)&&d.kty==="oct"&&(d.k=Xn.uint8Array(o).toBase64Url()),Object.assign({},d)})}static multicodecToJose(e){return Wh(this,void 0,void 0,function*(){let{code:r,name:i}=e;if(!(i?!r:r))throw new Error("Either 'name' or 'code' must be defined, but not both.");i=i===void 0?Aa.getNameFromCode({code:r}):i;let o=ydt[i];if(o===void 0)throw new Error(`Unsupported Multicodec to JOSE conversion: '${e.name}'`);return Object.assign({},o)})}static webCryptoToJose(e){let r=[];if(r.push(e.name),"namedCurve"in e)r.push(e.namedCurve);else if("length"in e&&e.length!==void 0)r.push(e.length.toString());else if("hash"in e)r.push(e.hash.name);else throw new TypeError("One or more parameters missing: 'name', 'namedCurve', 'length', or 'hash'");let i=r.join(":"),n=gdt[i];if(n===void 0)throw new Error(`Unsupported WebCrypto to JOSE conversion: '${i}'`);return Object.assign({},n)}static canonicalize(e){let i=Object.keys(e).sort().reduce((n,o)=>(n[o]=e[o],n),{});return JSON.stringify(i)}};function Idt(t){return class extends t{toJwk(){return Wh(this,void 0,void 0,function*(){return Hz.cryptoKeyToJwk({key:this})})}}}var Ifr=Idt(Gf);var Zh=function(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function f(u){try{p(i.next(u))}catch(y){s(y)}}function d(u){try{p(i.throw(u))}catch(y){s(y)}}function p(u){u.done?o(u.value):n(u.value).then(f,d)}p((i=i.apply(t,e||[])).next())})},Yk=class t{constructor(e){this.agentDid=e.agentDid,this.appData=e.appData,this.keyManager=e.keyManager,this.didManager=e.didManager,this.didResolver=e.didResolver,this.dwnManager=e.dwnManager,this.identityManager=e.identityManager,this.rpcClient=e.rpcClient,this.syncManager=e.syncManager,this.didManager.agent=this,this.dwnManager.agent=this,this.identityManager.agent=this,this.keyManager.agent=this,this.syncManager.agent=this}static create(e={}){return Zh(this,void 0,void 0,function*(){let{agentDid:r,appData:i,didManager:n,didResolver:o,dwnManager:s,identityManager:f,keyManager:d,rpcClient:p,syncManager:u}=e;if(r===void 0&&(r=""),i===void 0&&(i=new kC({store:new c2({location:"DATA/AGENT/APPDATA"})})),n===void 0&&(n=new UC({didMethods:[h0,l0],store:new TC})),o===void 0&&(o=new yC({cache:new ab,didResolvers:[h0,l0]})),s===void 0&&(s=yield j3.create({didResolver:o})),f===void 0&&(f=new J3({store:new z3})),d===void 0){let B=new Sg({kmsName:"local",keyStore:new dE({schema:"https://identity.foundation/schemas/web5/kms-key"}),privateKeyStore:new V3}),S=new Sg({kmsName:"memory"});d=new W3({kms:{local:B,memory:S},store:new dE({schema:"https://identity.foundation/schemas/web5/managed-key"})})}return p===void 0&&(p=new Z3),u===void 0&&(u=new $3),new t({agentDid:r,appData:i,didManager:n,didResolver:o,dwnManager:s,keyManager:d,identityManager:f,rpcClient:p,syncManager:u})})}firstLaunch(){return Zh(this,void 0,void 0,function*(){let{initialized:e}=yield this.appData.getStatus();return e===!1})}initialize(e){return Zh(this,void 0,void 0,function*(){let{passphrase:r}=e,i=yield new zk().generateKey({algorithm:{name:"EdDSA",namedCurve:"Ed25519"},extractable:!0,keyUsages:["sign","verify"]});yield this.appData.initialize({passphrase:r,keyPair:i})})}processDidRequest(e){return Zh(this,void 0,void 0,function*(){switch(e.messageType){case Hm.Resolve:{let{didUrl:r,resolutionOptions:i}=e.messageOptions;return{result:yield this.didResolver.resolve(r,i)}}default:return this.didManager.processRequest(e)}})}processDwnRequest(e){return Zh(this,void 0,void 0,function*(){return this.dwnManager.processRequest(e)})}processVcRequest(e){return Zh(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(e){return Zh(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(e){return Zh(this,void 0,void 0,function*(){return this.dwnManager.sendRequest(e)})}sendVcRequest(e){return Zh(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start(e){return Zh(this,void 0,void 0,function*(){let{passphrase:r}=e;(yield this.firstLaunch())?yield this.initialize({passphrase:r}):yield this.appData.unlock({passphrase:r}),this.agentDid=yield this.appData.getDid();let i=hz({cryptoKeyPair:{privateKey:yield this.appData.getPrivateKey(),publicKey:yield this.appData.getPublicKey()},keyData:{alias:yield this.didManager.getDefaultSigningKey({did:this.agentDid}),kms:"memory"}});yield this.keyManager.setDefaultSigningKey({key:i})})}};b();async function Gz(){let t;try{if(t=await fetch("https://dwn.tbddev.org/.well-known/did.json"),!t.ok)throw new Error(`HTTP Error: ${t.status} ${t.statusText}`)}catch(n){return console.warn("failed to get tech preview dwn endpoints:",n.message),[]}let e=await t.json(),[r]=Vs.getServices({didDocument:e,id:"#dwn",type:"DecentralizedWebNode"}),i=new Set;if("serviceEndpoint"in r&&!Array.isArray(r.serviceEndpoint)&&typeof r.serviceEndpoint!="string"&&Array.isArray(r.serviceEndpoint.nodes)){let n=r.serviceEndpoint.nodes,o=Math.min(n.length,2);for(let s=0;s<n.length&&i.size<o;s+=1){let f=wdt(0,n.length),d=n[f];try{(await fetch(`${d}/health`)).ok&&i.add(d)}catch{}}}return Array.from(i)}function wdt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}var jz=class t{constructor(e){let{agent:r,connectedDid:i}=e;this.agent=r,this.connectedDid=i,this.did=new X3({agent:r,connectedDid:i}),this.dwn=new t8({agent:r,connectedDid:i}),this.vc=new r8({agent:r,connectedDid:i})}static async connect(e={}){let{agent:r,appData:i,connectedDid:n,sync:o,techPreview:s}=e;if(r===void 0){let d=await Yk.create({appData:i});if(r=d,await d.start({passphrase:"insecure-static-phrase"}),!0){let u=await d.identityManager.list(),y=u.length;if(y===0){let B=s?.dwnEndpoints??await Gz(),S=await h0.generateDwnOptions({serviceEndpointNodes:B}),C=await d.identityManager.create({name:"Default",didMethod:"ion",didOptions:S,kms:"local"});await d.identityManager.import({identity:C,context:d.agentDid}),n=C.did}else if(y===1){let[B]=u;n=B.did}else throw new Error(`connect() failed due to unexpected state: ${y} stored identities`)}o!=="off"&&(await d.syncManager.registerIdentity({did:n}),o??="2m",d.syncManager.startSync({interval:(0,i2e.default)(o)}).catch(u=>{console.error(`Sync failed: ${u}`)}))}return{web5:new t({agent:r,connectedDid:n}),did:n}}};return _8(vdt);})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel-limit/index.js:
  (*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

hash-wasm/dist/index.umd.js:
  (*!
   * hash-wasm (https://www.npmjs.com/package/hash-wasm)
   * (c) Dani Biro
   * @license MIT
   *)
  (*! *****************************************************************************
      Copyright (c) Microsoft Corporation.

      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.

      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** *)

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

@noble/ciphers/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/montgomery.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/montgomery.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ciphers/esm/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)

uint8-util/util.js:
  (* Common package for dealing with hex/string/uint8 conversions (and sha1 hashing)
  *
  * @author   Jimmy Wärting <jimmy@warting.se> (https://jimmy.warting.se/opensource)
  * @license  MIT
  *)

@noble/ed25519/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/secp256k1/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/montgomery.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ciphers/esm/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/montgomery.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ciphers/esm/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=browser.js.map